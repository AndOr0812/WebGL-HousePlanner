<!DOCTYPE html>
<html>
<head>
  <title>Paper</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=1">
  <meta name="apple-mobile-web-app-capable" content="yes"/>

  <script src="../js/src/library/jquery.js"></script>
  <script src="../js/src/library/jszip.js"></script>
  <script src="../js/paper/paper.min.js"></script>

  <script src="../js/library/jquery.mousewheel.js"></script>
  <script src="../js/src/variables.js"></script>
  <script src="../js/src/2d/engine2d.js"></script>
  <script src="../js/src/2d/init.js"></script>
  <script src="../js/src/2d/zoom.js"></script>
  <script src="../js/src/2d/history.js"></script>
  <script src="../js/src/2d/draw.js"></script>
  <script src="../js/src/2d/wall.js"></script>
  <script src="../js/src/2d/floor.js"></script>
  <script src="../js/src/2d/window.js"></script>
  <script src="../js/src/2d/door.js"></script>

  <script type="text/javascript">
    $(document).ready(function() {

      engine2D.initialize();

      $.ajax("../scenes/scene1.zip",{
        contentType: "application/zip",
        beforeSend: function (req) {
          req.overrideMimeType('text/plain; charset=x-user-defined'); //important - set for binary!
        },
        success: function(data){
          var zip = new JSZip();
          engine2D.new();
          zip.loadAsync(data).then(function(zip) {
              engine2D.open(zip);
              engine2D.show();
          });
        },
        error: function(XMLHttpRequest, textStatus, errorThrown) { 
          alert("Status: " + textStatus); alert("Error: " + errorThrown); 
        }
      });
    });
    var engine3D = window.engine3D || {};
    var engineGUI = window.engineGUI || {};
    function animateStop()
    {}
    engine3D.freeMemory = function()
    {};
    engine2D.freeMemory = function()
    {};
    engineGUI.menuToggleRight = function()
    {}
    engineGUI.menuToggleLeft = function()
    {}
    engineGUI.menuSelect = function()
    {};
    engineGUI.menuCorrectHeight = function()
    {}
    engine3D.hide = function()
    {};
  </script>
</head>
<body>
<style type="text/css">
html,
body {
    margin: 0;
    overflow: hidden;
    height: 100%;
}

/* Scale canvas with resize attribute to full size */
canvas[resize] {
    width: 100%;
    height: 100%;
}
</style>
  <canvas id="engine2D" resize></canvas>
</body>
</html>