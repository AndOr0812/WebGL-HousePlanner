!function(c,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=c.document?b(c,!0):function(c){if(!c.document)throw Error("jQuery requires a window with a document");return b(c)}:b(c)}("undefined"!=typeof window?window:this,function(c,b){function e(c,b){b=b||I;var m=b.createElement("script");m.text=c;b.head.appendChild(m).parentNode.removeChild(m)}function f(c){var m=!!c&&"length"in c&&c.length,b=q.type(c);return"function"!==b&&!q.isWindow(c)&&("array"===b||0===m||"number"==
typeof m&&0<m&&m-1 in c)}function k(c,b,g){return q.isFunction(b)?q.grep(c,function(c,m){return!!b.call(c,m,c)!==g}):b.nodeType?q.grep(c,function(c){return c===b!==g}):"string"!=typeof b?q.grep(c,function(c){return-1<ea.call(b,c)!==g}):rb.test(b)?q.filter(b,c,g):(b=q.filter(b,c),q.grep(c,function(c){return-1<ea.call(b,c)!==g&&1===c.nodeType}))}function p(c,b){for(;(c=c[b])&&1!==c.nodeType;);return c}function n(c){var m={};return q.each(c.match(pa)||[],function(c,b){m[b]=!0}),m}function t(c){return c}
function h(c){throw c;}function r(c,b,g){var m;try{c&&q.isFunction(m=c.promise)?m.call(c).done(b).fail(g):c&&q.isFunction(m=c.then)?m.call(c,b,g):b.call(void 0,c)}catch(Ua){g.call(void 0,Ua)}}function g(){I.removeEventListener("DOMContentLoaded",g);c.removeEventListener("load",g);q.ready()}function y(){this.expando=q.expando+y.uid++}function z(c,b,g){var m;if(void 0===g&&1===c.nodeType)if(m="data-"+b.replace(sb,"-$&").toLowerCase(),g=c.getAttribute(m),"string"==typeof g){try{m=g,g="true"===m||"false"!==
m&&("null"===m?null:m===+m+""?+m:tb.test(m)?JSON.parse(m):m)}catch(Ua){}ma.set(c,b,g)}else g=void 0;return g}function u(c,b,g,e){var m,G=1,h=20,f=e?function(){return e.cur()}:function(){return q.css(c,b,"")},k=f(),r=g&&g[3]||(q.cssNumber[b]?"":"px"),n=(q.cssNumber[b]||"px"!==r&&+k)&&Ea.exec(q.css(c,b));if(n&&n[3]!==r){r=r||n[3];g=g||[];n=+k||1;do G=G||".5",n/=G,q.style(c,b,n+r);while(G!==(G=f()/k)&&1!==G&&--h)}return g&&(n=+n||+k||0,m=g[1]?n+(g[1]+1)*g[2]:+g[2],e&&(e.unit=r,e.start=n,e.end=m)),m}
function v(c,b){for(var m,g,e=[],G=0,h=c.length;G<h;G++)if(g=c[G],g.style)if(m=g.style.display,b){if("none"===m&&(e[G]=U.get(g,"display")||null,e[G]||(g.style.display="")),""===g.style.display&&Ja(g)){m=G;var f,k=void 0;f=g.ownerDocument;var r=g.nodeName;f=(g=Va[r])?g:(k=f.body.appendChild(f.createElement(r)),g=q.css(k,"display"),k.parentNode.removeChild(k),"none"===g&&(g="block"),Va[r]=g,g);e[m]=f}}else"none"!==m&&(e[G]="none",U.set(g,"display",m));for(G=0;G<h;G++)null!=e[G]&&(c[G].style.display=
e[G]);return c}function x(c,b){var m;return m="undefined"!=typeof c.getElementsByTagName?c.getElementsByTagName(b||"*"):"undefined"!=typeof c.querySelectorAll?c.querySelectorAll(b||"*"):[],void 0===b||b&&q.nodeName(c,b)?q.merge([c],m):m}function C(c,b){for(var m=0,g=c.length;m<g;m++)U.set(c[m],"globalEval",!b||U.get(b[m],"globalEval"))}function F(c,b,g,e,h){for(var m,G,f,k,r=b.createDocumentFragment(),n=[],u=0,Ca=c.length;u<Ca;u++)if(m=c[u],m||0===m)if("object"===q.type(m))q.merge(n,m.nodeType?[m]:
m);else if(wb.test(m)){G=G||r.appendChild(b.createElement("div"));f=(Wa.exec(m)||["",""])[1].toLowerCase();f=ka[f]||ka._default;G.innerHTML=f[1]+q.htmlPrefilter(m)+f[2];for(f=f[0];f--;)G=G.lastChild;q.merge(n,G.childNodes);G=r.firstChild;G.textContent=""}else n.push(b.createTextNode(m));r.textContent="";for(u=0;m=n[u++];)if(e&&-1<q.inArray(m,e))h&&h.push(m);else if(k=q.contains(m.ownerDocument,m),G=x(r.appendChild(m),"script"),k&&C(G),g)for(f=0;m=G[f++];)Xa.test(m.type||"")&&g.push(m);return r}function D(){return!0}
function H(){return!1}function J(){try{return I.activeElement}catch(m){}}function w(c,b,g,e,h,f){var m,G;if("object"==typeof b){"string"!=typeof g&&(e=e||g,g=void 0);for(G in b)w(c,G,g,e,b[G],f);return c}if(null==e&&null==h?(h=g,e=g=void 0):null==h&&("string"==typeof g?(h=e,e=void 0):(h=e,e=g,g=void 0)),!1===h)h=H;else if(!h)return c;return 1===f&&(m=h,h=function(c){return q().off(c),m.apply(this,arguments)},h.guid=m.guid||(m.guid=q.guid++)),c.each(function(){q.event.add(this,b,h,e,g)})}function R(c,
b){return q.nodeName(c,"table")&&q.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?c.getElementsByTagName("tbody")[0]||c:c}function M(c){return c.type=(null!==c.getAttribute("type"))+"/"+c.type,c}function E(c){var m=xb.exec(c.type);return m?c.type=m[1]:c.removeAttribute("type"),c}function B(c,b){var m,g,e,G,h,f;if(1===b.nodeType){if(U.hasData(c)&&(m=U.access(c),g=U.set(b,m),f=m.events))for(e in delete g.handle,g.events={},f)for(m=0,g=f[e].length;m<g;m++)q.event.add(b,e,f[e][m]);ma.hasData(c)&&(G=ma.access(c),
h=q.extend({},G),ma.set(b,h))}}function A(c,b,g,h){b=oa.apply([],b);var m,G,f,k,r=0,n=c.length,u=n-1,p=b[0],Ca=q.isFunction(p);if(Ca||1<n&&"string"==typeof p&&!aa.checkClone&&yb.test(p))return c.each(function(m){var e=c.eq(m);Ca&&(b[0]=p.call(this,m,e.html()));A(e,b,g,h)});if(n&&(m=F(b,c[0].ownerDocument,!1,c,h),G=m.firstChild,1===m.childNodes.length&&(m=G),G||h)){G=q.map(x(m,"script"),M);for(f=G.length;r<n;r++)k=m,r!==u&&(k=q.clone(k,!0,!0),f&&q.merge(G,x(k,"script"))),g.call(c[r],k,r);if(f)for(m=
G[G.length-1].ownerDocument,q.map(G,E),r=0;r<f;r++)k=G[r],Xa.test(k.type||"")&&!U.access(k,"globalEval")&&q.contains(m,k)&&(k.src?q._evalUrl&&q._evalUrl(k.src):e(k.textContent.replace(zb,""),m))}return c}function P(c,b,g){for(var m=b?q.filter(b,c):c,e=0;null!=(b=m[e]);e++)g||1!==b.nodeType||q.cleanData(x(b)),b.parentNode&&(g&&q.contains(b.ownerDocument,b)&&C(x(b,"script")),b.parentNode.removeChild(b));return c}function O(c,b,g){var m,e,G,h,f=c.style;return g=g||Ka(c),g&&(h=g.getPropertyValue(b)||
g[b],""!==h||q.contains(c.ownerDocument,c)||(h=q.style(c,b)),!aa.pixelMarginRight()&&Na.test(h)&&Ya.test(b)&&(m=f.width,e=f.minWidth,G=f.maxWidth,f.minWidth=f.maxWidth=f.width=h,h=g.width,f.width=m,f.minWidth=e,f.maxWidth=G)),void 0!==h?h+"":h}function Q(c,b){return{get:function(){return c()?void delete this.get:(this.get=b).apply(this,arguments)}}}function ha(c){if(c in Za)return c;for(var m=c[0].toUpperCase()+c.slice(1),b=$a.length;b--;)if(c=$a[b]+m,c in Za)return c}function ca(c,b,g){return(c=
Ea.exec(b))?Math.max(0,c[2]-(g||0))+(c[3]||"px"):b}function la(c,b,g,e,h){var m=0;for(b=g===(e?"border":"content")?4:"width"===b?1:0;4>b;b+=2)"margin"===g&&(m+=q.css(c,g+wa[b],!0,h)),e?("content"===g&&(m-=q.css(c,"padding"+wa[b],!0,h)),"margin"!==g&&(m-=q.css(c,"border"+wa[b]+"Width",!0,h))):(m+=q.css(c,"padding"+wa[b],!0,h),"padding"!==g&&(m+=q.css(c,"border"+wa[b]+"Width",!0,h)));return m}function ba(c,b,g){var m,e=!0,h=Ka(c),G="border-box"===q.css(c,"boxSizing",!1,h);if(c.getClientRects().length&&
(m=c.getBoundingClientRect()[b]),0>=m||null==m){if(m=O(c,b,h),(0>m||null==m)&&(m=c.style[b]),Na.test(m))return m;e=G&&(aa.boxSizingReliable()||m===c.style[b]);m=parseFloat(m)||0}return m+la(c,b,g||(G?"border":"content"),e,h)+"px"}function X(c,b,g,e,h){return new X.prototype.init(c,b,g,e,h)}function ta(){ya&&(c.requestAnimationFrame(ta),q.fx.tick())}function Y(){return c.setTimeout(function(){Aa=void 0}),Aa=q.now()}function N(c,b){var m,g=0,e={height:c};for(b=b?1:0;4>g;g+=2-b)m=wa[g],e["margin"+m]=
e["padding"+m]=c;return b&&(e.opacity=e.width=c),e}function na(c,b,g){for(var m,e=(K.tweeners[b]||[]).concat(K.tweeners["*"]),h=0,f=e.length;h<f;h++)if(m=e[h].call(g,b,c))return m}function T(c,b){var m,g,e,h,f;for(m in c)if(g=q.camelCase(m),e=b[g],h=c[m],q.isArray(h)&&(e=h[1],h=c[m]=h[0]),m!==g&&(c[g]=h,delete c[m]),f=q.cssHooks[g],f&&"expand"in f)for(m in h=f.expand(h),delete c[g],h)m in c||(c[m]=h[m],b[m]=e);else b[g]=e}function K(c,b,g){var m,e=0,h=K.prefilters.length,f=q.Deferred().always(function(){delete G.elem}),
G=function(){if(m)return!1;for(var b=Aa||Y(),b=Math.max(0,k.startTime+k.duration-b),g=1-(b/k.duration||0),e=0,h=k.tweens.length;e<h;e++)k.tweens[e].run(g);return f.notifyWith(c,[k,g,b]),1>g&&h?b:(f.resolveWith(c,[k]),!1)},k=f.promise({elem:c,props:q.extend({},b),opts:q.extend(!0,{specialEasing:{},easing:q.easing._default},g),originalProperties:b,originalOptions:g,startTime:Aa||Y(),duration:g.duration,tweens:[],createTween:function(b,m){var g=q.Tween(c,k.opts,b,m,k.opts.specialEasing[b]||k.opts.easing);
return k.tweens.push(g),g},stop:function(b){var g=0,e=b?k.tweens.length:0;if(m)return this;for(m=!0;g<e;g++)k.tweens[g].run(1);return b?(f.notifyWith(c,[k,1,0]),f.resolveWith(c,[k,b])):f.rejectWith(c,[k,b]),this}});g=k.props;for(T(g,k.opts.specialEasing);e<h;e++)if(b=K.prefilters[e].call(k,c,g,k.opts))return q.isFunction(b.stop)&&(q._queueHooks(k.elem,k.opts.queue).stop=q.proxy(b.stop,b)),b;return q.map(g,na,k),q.isFunction(k.opts.start)&&k.opts.start.call(c,k),q.fx.timer(q.extend(G,{elem:c,anim:k,
queue:k.opts.queue})),k.progress(k.opts.progress).done(k.opts.done,k.opts.complete).fail(k.opts.fail).always(k.opts.always)}function S(c){return(c.match(pa)||[]).join(" ")}function V(c){return c.getAttribute&&c.getAttribute("class")||""}function ia(c,b,g,e){var m;if(q.isArray(b))q.each(b,function(b,m){g||Ab.test(c)?e(c,m):ia(c+"["+("object"==typeof m&&null!=m?b:"")+"]",m,g,e)});else if(g||"object"!==q.type(b))e(c,b);else for(m in b)ia(c+"["+m+"]",b[m],g,e)}function ja(c){return function(b,m){"string"!=
typeof b&&(m=b,b="*");var g,e=0,h=b.toLowerCase().match(pa)||[];if(q.isFunction(m))for(;g=h[e++];)"+"===g[0]?(g=g.slice(1)||"*",(c[g]=c[g]||[]).unshift(m)):(c[g]=c[g]||[]).push(m)}}function W(c,b,g,e){function m(k){var G;return h[k]=!0,q.each(c[k]||[],function(c,k){var r=k(b,g,e);return"string"!=typeof r||f||h[r]?f?!(G=r):void 0:(b.dataTypes.unshift(r),m(r),!1)}),G}var h={},f=c===Oa;return m(b.dataTypes[0])||!h["*"]&&m("*")}function da(c,b){var m,g,e=q.ajaxSettings.flatOptions||{};for(m in b)void 0!==
b[m]&&((e[m]?c:g||(g={}))[m]=b[m]);return g&&q.extend(!0,c,g),c}function ga(c){return q.isWindow(c)?c:9===c.nodeType&&c.defaultView}var Z=[],I=c.document,ua=Object.getPrototypeOf,fa=Z.slice,oa=Z.concat,qa=Z.push,ea=Z.indexOf,xa={},sa=xa.toString,Ba=xa.hasOwnProperty,Fa=Ba.toString,Da=Fa.call(Object),aa={},q=function(c,b){return new q.fn.init(c,b)},Bb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Cb=/^-ms-/,Db=/-([a-z])/g,Eb=function(c,b){return b.toUpperCase()};q.fn=q.prototype={jquery:"3.1.1",constructor:q,
length:0,toArray:function(){return fa.call(this)},get:function(c){return null==c?fa.call(this):0>c?this[c+this.length]:this[c]},pushStack:function(c){c=q.merge(this.constructor(),c);return c.prevObject=this,c},each:function(c){return q.each(this,c)},map:function(c){return this.pushStack(q.map(this,function(b,m){return c.call(b,m,b)}))},slice:function(){return this.pushStack(fa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(c){var b=this.length;
c=+c+(0>c?b:0);return this.pushStack(0<=c&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:qa,sort:Z.sort,splice:Z.splice};q.extend=q.fn.extend=function(){var c,b,g,e,h,f,k=arguments[0]||{},r=1,n=arguments.length,u=!1;"boolean"==typeof k&&(u=k,k=arguments[r]||{},r++);"object"==typeof k||q.isFunction(k)||(k={});for(r===n&&(k=this,r--);r<n;r++)if(null!=(c=arguments[r]))for(b in c)g=k[b],e=c[b],k!==e&&(u&&e&&(q.isPlainObject(e)||(h=q.isArray(e)))?(h?(h=!1,f=g&&q.isArray(g)?
g:[]):f=g&&q.isPlainObject(g)?g:{},k[b]=q.extend(u,f,e)):void 0!==e&&(k[b]=e));return k};q.extend({expando:"jQuery"+("3.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(c){throw Error(c);},noop:function(){},isFunction:function(c){return"function"===q.type(c)},isArray:Array.isArray,isWindow:function(c){return null!=c&&c===c.window},isNumeric:function(c){var b=q.type(c);return("number"===b||"string"===b)&&!isNaN(c-parseFloat(c))},isPlainObject:function(c){var b,m;return!(!c||"[object Object]"!==
sa.call(c))&&(!(b=ua(c))||(m=Ba.call(b,"constructor")&&b.constructor,"function"==typeof m&&Fa.call(m)===Da))},isEmptyObject:function(c){for(var b in c)return!1;return!0},type:function(c){return null==c?c+"":"object"==typeof c||"function"==typeof c?xa[sa.call(c)]||"object":typeof c},globalEval:function(c){e(c)},camelCase:function(c){return c.replace(Cb,"ms-").replace(Db,Eb)},nodeName:function(c,b){return c.nodeName&&c.nodeName.toLowerCase()===b.toLowerCase()},each:function(c,b){var m,g=0;if(f(c))for(m=
c.length;g<m&&!1!==b.call(c[g],g,c[g]);g++);else for(g in c)if(!1===b.call(c[g],g,c[g]))break;return c},trim:function(c){return null==c?"":(c+"").replace(Bb,"")},makeArray:function(c,b){var m=b||[];return null!=c&&(f(Object(c))?q.merge(m,"string"==typeof c?[c]:c):qa.call(m,c)),m},inArray:function(c,b,g){return null==b?-1:ea.call(b,c,g)},merge:function(c,b){for(var m=+b.length,g=0,e=c.length;g<m;g++)c[e++]=b[g];return c.length=e,c},grep:function(c,b,g){for(var m=[],e=0,h=c.length,f=!g;e<h;e++)g=!b(c[e],
e),g!==f&&m.push(c[e]);return m},map:function(c,b,g){var m,e,h=0,k=[];if(f(c))for(m=c.length;h<m;h++)e=b(c[h],h,g),null!=e&&k.push(e);else for(h in c)e=b(c[h],h,g),null!=e&&k.push(e);return oa.apply([],k)},guid:1,proxy:function(c,b){var g,m,e;if("string"==typeof b&&(g=c[b],b=c,c=g),q.isFunction(c))return m=fa.call(arguments,2),e=function(){return c.apply(b||this,m.concat(fa.call(arguments)))},e.guid=c.guid=c.guid||q.guid++,e},now:Date.now,support:aa});"function"==typeof Symbol&&(q.fn[Symbol.iterator]=
Z[Symbol.iterator]);q.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(c,b){xa["[object "+b+"]"]=b.toLowerCase()});var za=function(c){function b(c,b,m,g){var e,h,f,k,r,G=b&&b.ownerDocument,n=b?b.nodeType:9;if(m=m||[],"string"!=typeof c||!c||1!==n&&9!==n&&11!==n)return m;if(!g&&((b?b.ownerDocument||b:sa)!==w&&R(b),b=b||w,qa)){if(11!==n&&(k=za.exec(c)))if(e=k[1])if(9===n){if(!(h=b.getElementById(e)))return m;if(h.id===e)return m.push(h),m}else{if(G&&(h=
G.getElementById(e))&&xa(b,h)&&h.id===e)return m.push(h),m}else{if(k[2])return U.apply(m,b.getElementsByTagName(c)),m;if((e=k[3])&&C.getElementsByClassName&&b.getElementsByClassName)return U.apply(m,b.getElementsByClassName(e)),m}if(!(!C.qsa||N[c+" "]||X&&X.test(c))){if(1!==n)G=b,r=c;else if("object"!==b.nodeName.toLowerCase()){(f=b.getAttribute("id"))?f=f.replace(va,wa):b.setAttribute("id",f=O);h=D(c);for(e=h.length;e--;)h[e]="#"+f+" "+y(h[e]);r=h.join(",");G=pa.test(c)&&q(b.parentNode)||b}if(r)try{return U.apply(m,
G.querySelectorAll(r)),m}catch(jc){}finally{f===O&&b.removeAttribute("id")}}}return H(c.replace(Z,"$1"),b,m,g)}function g(){function c(m,g){return b.push(m+" ")>z.cacheLength&&delete c[b.shift()],c[m+" "]=g}var b=[];return c}function m(c){return c[O]=!0,c}function e(c){var b=w.createElement("fieldset");try{return!!c(b)}catch(hc){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function h(c,b){for(var m=c.split("|"),g=m.length;g--;)z.attrHandle[m[g]]=b}function f(c,b){var m=b&&c,g=m&&1===
c.nodeType&&1===b.nodeType&&c.sourceIndex-b.sourceIndex;if(g)return g;if(m)for(;m=m.nextSibling;)if(m===b)return-1;return c?1:-1}function k(c){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===c}}function r(c){return function(b){var m=b.nodeName.toLowerCase();return("input"===m||"button"===m)&&b.type===c}}function n(c){return function(b){return"form"in b?b.parentNode&&!1===b.disabled?"label"in b?"label"in b.parentNode?b.parentNode.disabled===c:b.disabled===c:b.isDisabled===c||
b.isDisabled!==!c&&Aa(b)===c:b.disabled===c:"label"in b&&b.disabled===c}}function u(c){return m(function(b){return b=+b,m(function(m,g){for(var e,h=c([],m.length,b),f=h.length;f--;)m[e=h[f]]&&(m[e]=!(g[e]=m[e]))})})}function q(c){return c&&"undefined"!=typeof c.getElementsByTagName&&c}function p(){}function y(c){for(var b=0,m=c.length,g="";b<m;b++)g+=c[b].value;return g}function I(c,b,m){var g=b.dir,e=b.next,h=e||g,f=m&&"parentNode"===h,k=ca++;return b.first?function(b,m,e){for(;b=b[g];)if(1===b.nodeType||
f)return c(b,m,e);return!1}:function(b,m,r){var G,n,u,q=[Q,k];if(r)for(;b=b[g];){if((1===b.nodeType||f)&&c(b,m,r))return!0}else for(;b=b[g];)if(1===b.nodeType||f)if(u=b[O]||(b[O]={}),n=u[b.uniqueID]||(u[b.uniqueID]={}),e&&e===b.nodeName.toLowerCase())b=b[g]||b;else{if((G=n[h])&&G[0]===Q&&G[1]===k)return q[2]=G[2];if(n[h]=q,q[2]=c(b,m,r))return!0}return!1}}function v(c){return 1<c.length?function(b,m,g){for(var e=c.length;e--;)if(!c[e](b,m,g))return!1;return!0}:c[0]}function A(c,b,m,g,e){for(var h,
f=[],k=0,r=c.length,G=null!=b;k<r;k++)(h=c[k])&&(m&&!m(h,g,e)||(f.push(h),G&&b.push(k)));return f}function x(c,g,e,h,f,k){return h&&!h[O]&&(h=x(h)),f&&!f[O]&&(f=x(f,k)),m(function(m,k,r,G){var n,u,q=[],p=[],y=k.length,I;if(!(I=m)){I=g||"*";for(var v=r.nodeType?[r]:r,x=[],t=0,F=v.length;t<F;t++)b(I,v[t],x);I=x}I=!c||!m&&g?I:A(I,q,c,r,G);v=e?f||(m?c:y||h)?[]:k:I;if(e&&e(I,v,r,G),h)for(n=A(v,p),h(n,[],r,G),r=n.length;r--;)(u=n[r])&&(v[p[r]]=!(I[p[r]]=u));if(m){if(f||c){if(f){n=[];for(r=v.length;r--;)(u=
v[r])&&n.push(I[r]=u);f(null,v=[],n,G)}for(r=v.length;r--;)(u=v[r])&&-1<(n=f?V(m,u):q[r])&&(m[n]=!(k[n]=u))}}else v=A(v===k?v.splice(y,v.length):v),f?f(null,k,v,G):U.apply(k,v)})}function t(c){var b,m,g,e=c.length,h=z.relative[c[0].type];m=h||z.relative[" "];for(var f=h?1:0,k=I(function(c){return c===b},m,!0),r=I(function(c){return-1<V(b,c)},m,!0),G=[function(c,m,g){c=!h&&(g||m!==B)||((b=m).nodeType?k(c,m,g):r(c,m,g));return b=null,c}];f<e;f++)if(m=z.relative[c[f].type])G=[I(v(G),m)];else{if(m=z.filter[c[f].type].apply(null,
c[f].matches),m[O]){for(g=++f;g<e&&!z.relative[c[g].type];g++);return x(1<f&&v(G),1<f&&y(c.slice(0,f-1).concat({value:" "===c[f-2].type?"*":""})).replace(Z,"$1"),m,f<g&&t(c.slice(f,g)),g<e&&t(c=c.slice(g)),g<e&&y(c))}G.push(m)}return v(G)}function F(c,g){var e=0<g.length,h=0<c.length,f=function(m,f,k,r,G){var n,u,q,p=0,y="0",v=m&&[],I=[],x=B,t=m||h&&z.find.TAG("*",G),F=Q+=null==x?1:Math.random()||.1,Ca=t.length;for(G&&(B=f===w||f||G);y!==Ca&&null!=(n=t[y]);y++){if(h&&n){u=0;for(f||n.ownerDocument===
w||(R(n),k=!qa);q=c[u++];)if(q(n,f||w,k)){r.push(n);break}G&&(Q=F)}e&&((n=!q&&n)&&p--,m&&v.push(n))}if(p+=y,e&&y!==p){for(u=0;q=g[u++];)q(v,I,f,k);if(m){if(0<p)for(;y--;)v[y]||I[y]||(I[y]=T.call(r));I=A(I)}U.apply(r,I);G&&!m&&0<I.length&&1<p+g.length&&b.uniqueSort(r)}return G&&(Q=F,B=x),v};return e?m(f):f}var E,C,z,oa,fa,D,M,H,B,J,P,R,w,ea,qa,X,ba,ua,xa,O="sizzle"+1*new Date,sa=c.document,Q=0,ca=0,K=g(),Fa=g(),N=g(),Ba=function(c,b){return c===b&&(P=!0),0},S={}.hasOwnProperty,aa=[],T=aa.pop,W=aa.push,
U=aa.push,Y=aa.slice,V=function(c,b){for(var m=0,g=c.length;m<g;m++)if(c[m]===b)return m;return-1},la=RegExp("[\\x20\\t\\r\\n\\f]+","g"),Z=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),ha=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,da=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ga=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),ia=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
ja=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,Da={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},ta=/^(?:input|select|textarea|button)$/i,na=/^h\d$/i,ma=
/^[^{]+\{\s*\[native \w/,za=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,pa=/[+~]/,ka=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),ra=function(c,b,m){c="0x"+b-65536;return c!==c||m?b:0>c?String.fromCharCode(c+65536):String.fromCharCode(c>>10|55296,1023&c|56320)},va=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,wa=function(c,b){return b?"\x00"===c?"\ufffd":c.slice(0,-1)+"\\"+c.charCodeAt(c.length-1).toString(16)+" ":"\\"+c},ya=function(){R()},Aa=I(function(c){return!0===
c.disabled&&("form"in c||"label"in c)},{dir:"parentNode",next:"legend"});try{U.apply(aa=Y.call(sa.childNodes),sa.childNodes),aa[sa.childNodes.length].nodeType}catch(gc){U={apply:aa.length?function(c,b){W.apply(c,Y.call(b))}:function(c,b){for(var m=c.length,g=0;c[m++]=b[g++];);c.length=m-1}}}C=b.support={};fa=b.isXML=function(c){c=c&&(c.ownerDocument||c).documentElement;return!!c&&"HTML"!==c.nodeName};R=b.setDocument=function(c){var b,m;c=c?c.ownerDocument||c:sa;return c!==w&&9===c.nodeType&&c.documentElement?
(w=c,ea=w.documentElement,qa=!fa(w),sa!==w&&(m=w.defaultView)&&m.top!==m&&(m.addEventListener?m.addEventListener("unload",ya,!1):m.attachEvent&&m.attachEvent("onunload",ya)),C.attributes=e(function(c){return c.className="i",!c.getAttribute("className")}),C.getElementsByTagName=e(function(c){return c.appendChild(w.createComment("")),!c.getElementsByTagName("*").length}),C.getElementsByClassName=ma.test(w.getElementsByClassName),C.getById=e(function(c){return ea.appendChild(c).id=O,!w.getElementsByName||
!w.getElementsByName(O).length}),C.getById?(z.filter.ID=function(c){var b=c.replace(ka,ra);return function(c){return c.getAttribute("id")===b}},z.find.ID=function(c,b){if("undefined"!=typeof b.getElementById&&qa){var m=b.getElementById(c);return m?[m]:[]}}):(z.filter.ID=function(c){var b=c.replace(ka,ra);return function(c){return(c="undefined"!=typeof c.getAttributeNode&&c.getAttributeNode("id"))&&c.value===b}},z.find.ID=function(c,b){if("undefined"!=typeof b.getElementById&&qa){var m,g,e,h=b.getElementById(c);
if(h){if(m=h.getAttributeNode("id"),m&&m.value===c)return[h];e=b.getElementsByName(c);for(g=0;h=e[g++];)if(m=h.getAttributeNode("id"),m&&m.value===c)return[h]}return[]}}),z.find.TAG=C.getElementsByTagName?function(c,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(c):C.qsa?b.querySelectorAll(c):void 0}:function(c,b){var m,g=[],e=0,h=b.getElementsByTagName(c);if("*"===c){for(;m=h[e++];)1===m.nodeType&&g.push(m);return g}return h},z.find.CLASS=C.getElementsByClassName&&function(c,
b){if("undefined"!=typeof b.getElementsByClassName&&qa)return b.getElementsByClassName(c)},ba=[],X=[],(C.qsa=ma.test(w.querySelectorAll))&&(e(function(c){ea.appendChild(c).innerHTML="<a id='"+O+"'></a><select id='"+O+"-\r\\' msallowcapture=''><option selected=''></option></select>";c.querySelectorAll("[msallowcapture^='']").length&&X.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");c.querySelectorAll("[selected]").length||X.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
c.querySelectorAll("[id~="+O+"-]").length||X.push("~=");c.querySelectorAll(":checked").length||X.push(":checked");c.querySelectorAll("a#"+O+"+*").length||X.push(".#.+[+~]")}),e(function(c){c.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=w.createElement("input");b.setAttribute("type","hidden");c.appendChild(b).setAttribute("name","D");c.querySelectorAll("[name=d]").length&&X.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==c.querySelectorAll(":enabled").length&&
X.push(":enabled",":disabled");ea.appendChild(c).disabled=!0;2!==c.querySelectorAll(":disabled").length&&X.push(":enabled",":disabled");c.querySelectorAll("*,:x");X.push(",.*:")})),(C.matchesSelector=ma.test(ua=ea.matches||ea.webkitMatchesSelector||ea.mozMatchesSelector||ea.oMatchesSelector||ea.msMatchesSelector))&&e(function(c){C.disconnectedMatch=ua.call(c,"*");ua.call(c,"[s!='']:x");ba.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),
X=X.length&&new RegExp(X.join("|")),ba=ba.length&&new RegExp(ba.join("|")),b=ma.test(ea.compareDocumentPosition),xa=b||ma.test(ea.contains)?function(c,b){var m=9===c.nodeType?c.documentElement:c,g=b&&b.parentNode;return c===g||!(!g||1!==g.nodeType||!(m.contains?m.contains(g):c.compareDocumentPosition&&16&c.compareDocumentPosition(g)))}:function(c,b){if(b)for(;b=b.parentNode;)if(b===c)return!0;return!1},Ba=b?function(c,b){if(c===b)return P=!0,0;var m=!c.compareDocumentPosition-!b.compareDocumentPosition;
return m?m:(m=(c.ownerDocument||c)===(b.ownerDocument||b)?c.compareDocumentPosition(b):1,1&m||!C.sortDetached&&b.compareDocumentPosition(c)===m?c===w||c.ownerDocument===sa&&xa(sa,c)?-1:b===w||b.ownerDocument===sa&&xa(sa,b)?1:J?V(J,c)-V(J,b):0:4&m?-1:1)}:function(c,b){if(c===b)return P=!0,0;var m,g=0;m=c.parentNode;var e=b.parentNode,h=[c],k=[b];if(!m||!e)return c===w?-1:b===w?1:m?-1:e?1:J?V(J,c)-V(J,b):0;if(m===e)return f(c,b);for(m=c;m=m.parentNode;)h.unshift(m);for(m=b;m=m.parentNode;)k.unshift(m);
for(;h[g]===k[g];)g++;return g?f(h[g],k[g]):h[g]===sa?-1:k[g]===sa?1:0},w):w};b.matches=function(c,m){return b(c,null,null,m)};b.matchesSelector=function(c,m){if((c.ownerDocument||c)!==w&&R(c),m=m.replace(ga,"='$1']"),!(!C.matchesSelector||!qa||N[m+" "]||ba&&ba.test(m)||X&&X.test(m)))try{var g=ua.call(c,m);if(g||C.disconnectedMatch||c.document&&11!==c.document.nodeType)return g}catch(ic){}return 0<b(m,w,null,[c]).length};b.contains=function(c,b){return(c.ownerDocument||c)!==w&&R(c),xa(c,b)};b.attr=
function(c,b){(c.ownerDocument||c)!==w&&R(c);var m=z.attrHandle[b.toLowerCase()],m=m&&S.call(z.attrHandle,b.toLowerCase())?m(c,b,!qa):void 0;return void 0!==m?m:C.attributes||!qa?c.getAttribute(b):(m=c.getAttributeNode(b))&&m.specified?m.value:null};b.escape=function(c){return(c+"").replace(va,wa)};b.error=function(c){throw Error("Syntax error, unrecognized expression: "+c);};b.uniqueSort=function(c){var b,m=[],g=0,e=0;if(P=!C.detectDuplicates,J=!C.sortStable&&c.slice(0),c.sort(Ba),P){for(;b=c[e++];)b===
c[e]&&(g=m.push(e));for(;g--;)c.splice(m[g],1)}return J=null,c};oa=b.getText=function(c){var b,m="",g=0;if(b=c.nodeType)if(1===b||9===b||11===b){if("string"==typeof c.textContent)return c.textContent;for(c=c.firstChild;c;c=c.nextSibling)m+=oa(c)}else{if(3===b||4===b)return c.nodeValue}else for(;b=c[g++];)m+=oa(b);return m};z=b.selectors={cacheLength:50,createPseudo:m,match:Da,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},
"~":{dir:"previousSibling"}},preFilter:{ATTR:function(c){return c[1]=c[1].replace(ka,ra),c[3]=(c[3]||c[4]||c[5]||"").replace(ka,ra),"~="===c[2]&&(c[3]=" "+c[3]+" "),c.slice(0,4)},CHILD:function(c){return c[1]=c[1].toLowerCase(),"nth"===c[1].slice(0,3)?(c[3]||b.error(c[0]),c[4]=+(c[4]?c[5]+(c[6]||1):2*("even"===c[3]||"odd"===c[3])),c[5]=+(c[7]+c[8]||"odd"===c[3])):c[3]&&b.error(c[0]),c},PSEUDO:function(c){var b,m=!c[6]&&c[2];return Da.CHILD.test(c[0])?null:(c[3]?c[2]=c[4]||c[5]||"":m&&ia.test(m)&&
(b=D(m,!0))&&(b=m.indexOf(")",m.length-b)-m.length)&&(c[0]=c[0].slice(0,b),c[2]=m.slice(0,b)),c.slice(0,3))}},filter:{TAG:function(c){var b=c.replace(ka,ra).toLowerCase();return"*"===c?function(){return!0}:function(c){return c.nodeName&&c.nodeName.toLowerCase()===b}},CLASS:function(c){var b=K[c+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+c+"([\\x20\\t\\r\\n\\f]|$)"),K(c,function(c){return b.test("string"==typeof c.className&&c.className||"undefined"!=typeof c.getAttribute&&c.getAttribute("class")||
"")}))},ATTR:function(c,m,g){return function(e){e=b.attr(e,c);return null==e?"!="===m:!m||(e+="","="===m?e===g:"!="===m?e!==g:"^="===m?g&&0===e.indexOf(g):"*="===m?g&&-1<e.indexOf(g):"$="===m?g&&e.slice(-g.length)===g:"~="===m?-1<(" "+e.replace(la," ")+" ").indexOf(g):"|="===m&&(e===g||e.slice(0,g.length+1)===g+"-"))}},CHILD:function(c,b,m,g,e){var h="nth"!==c.slice(0,3),f="last"!==c.slice(-4),k="of-type"===b;return 1===g&&0===e?function(c){return!!c.parentNode}:function(b,m,r){var G,n,u,q,p,y;m=
h!==f?"nextSibling":"previousSibling";var v=b.parentNode,I=k&&b.nodeName.toLowerCase();r=!r&&!k;var A=!1;if(v){if(h){for(;m;){for(q=b;q=q[m];)if(k?q.nodeName.toLowerCase()===I:1===q.nodeType)return!1;y=m="only"===c&&!y&&"nextSibling"}return!0}if(y=[f?v.firstChild:v.lastChild],f&&r)for(q=v,u=q[O]||(q[O]={}),n=u[q.uniqueID]||(u[q.uniqueID]={}),G=n[c]||[],A=(p=G[0]===Q&&G[1])&&G[2],q=p&&v.childNodes[p];q=++p&&q&&q[m]||(A=p=0)||y.pop();){if(1===q.nodeType&&++A&&q===b){n[c]=[Q,p,A];break}}else if(r&&(q=
b,u=q[O]||(q[O]={}),n=u[q.uniqueID]||(u[q.uniqueID]={}),G=n[c]||[],p=G[0]===Q&&G[1],A=p),!1===A)for(;(q=++p&&q&&q[m]||(A=p=0)||y.pop())&&((k?q.nodeName.toLowerCase()!==I:1!==q.nodeType)||!++A||(r&&(u=q[O]||(q[O]={}),n=u[q.uniqueID]||(u[q.uniqueID]={}),n[c]=[Q,A]),q!==b)););return A-=e,A===g||0===A%g&&0<=A/g}}},PSEUDO:function(c,g){var e,h=z.pseudos[c]||z.setFilters[c.toLowerCase()]||b.error("unsupported pseudo: "+c);return h[O]?h(g):1<h.length?(e=[c,c,"",g],z.setFilters.hasOwnProperty(c.toLowerCase())?
m(function(c,b){for(var m,e=h(c,g),f=e.length;f--;)m=V(c,e[f]),c[m]=!(b[m]=e[f])}):function(c){return h(c,0,e)}):h}},pseudos:{not:m(function(c){var b=[],g=[],e=M(c.replace(Z,"$1"));return e[O]?m(function(c,b,m,g){var h;m=e(c,null,g,[]);for(g=c.length;g--;)(h=m[g])&&(c[g]=!(b[g]=h))}):function(c,m,h){return b[0]=c,e(b,null,h,g),b[0]=null,!g.pop()}}),has:m(function(c){return function(m){return 0<b(c,m).length}}),contains:m(function(c){return c=c.replace(ka,ra),function(b){return-1<(b.textContent||b.innerText||
oa(b)).indexOf(c)}}),lang:m(function(c){return ja.test(c||"")||b.error("unsupported lang: "+c),c=c.replace(ka,ra).toLowerCase(),function(b){var m;do if(m=qa?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return m=m.toLowerCase(),m===c||0===m.indexOf(c+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var m=c.location&&c.location.hash;return m&&m.slice(1)===b.id},root:function(c){return c===ea},focus:function(c){return c===w.activeElement&&(!w.hasFocus||w.hasFocus())&&
!!(c.type||c.href||~c.tabIndex)},enabled:n(!1),disabled:n(!0),checked:function(c){var b=c.nodeName.toLowerCase();return"input"===b&&!!c.checked||"option"===b&&!!c.selected},selected:function(c){return c.parentNode&&c.parentNode.selectedIndex,!0===c.selected},empty:function(c){for(c=c.firstChild;c;c=c.nextSibling)if(6>c.nodeType)return!1;return!0},parent:function(c){return!z.pseudos.empty(c)},header:function(c){return na.test(c.nodeName)},input:function(c){return ta.test(c.nodeName)},button:function(c){var b=
c.nodeName.toLowerCase();return"input"===b&&"button"===c.type||"button"===b},text:function(c){var b;return"input"===c.nodeName.toLowerCase()&&"text"===c.type&&(null==(b=c.getAttribute("type"))||"text"===b.toLowerCase())},first:u(function(){return[0]}),last:u(function(c,b){return[b-1]}),eq:u(function(c,b,m){return[0>m?m+b:m]}),even:u(function(c,b){for(var m=0;m<b;m+=2)c.push(m);return c}),odd:u(function(c,b){for(var m=1;m<b;m+=2)c.push(m);return c}),lt:u(function(c,b,m){for(b=0>m?m+b:m;0<=--b;)c.push(b);
return c}),gt:u(function(c,b,m){for(m=0>m?m+b:m;++m<b;)c.push(m);return c})}};z.pseudos.nth=z.pseudos.eq;for(E in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})z.pseudos[E]=k(E);for(E in{submit:!0,reset:!0})z.pseudos[E]=r(E);p.prototype=z.filters=z.pseudos;z.setFilters=new p;D=b.tokenize=function(c,m){var g,e,h,f,k,r,G;if(k=Fa[c+" "])return m?0:k.slice(0);k=c;r=[];for(G=z.preFilter;k;){g&&!(e=ha.exec(k))||(e&&(k=k.slice(e[0].length)||k),r.push(h=[]));g=!1;(e=da.exec(k))&&(g=e.shift(),h.push({value:g,
type:e[0].replace(Z," ")}),k=k.slice(g.length));for(f in z.filter)!(e=Da[f].exec(k))||G[f]&&!(e=G[f](e))||(g=e.shift(),h.push({value:g,type:f,matches:e}),k=k.slice(g.length));if(!g)break}return m?k.length:k?b.error(c):Fa(c,r).slice(0)};return M=b.compile=function(c,b){var m,g=[],e=[],h=N[c+" "];if(!h){b||(b=D(c));for(m=b.length;m--;)h=t(b[m]),h[O]?g.push(h):e.push(h);h=N(c,F(e,g));h.selector=c}return h},H=b.select=function(c,b,m,g){var e,h,f,k,r,G="function"==typeof c&&c,n=!g&&D(c=G.selector||c);
if(m=m||[],1===n.length){if(h=n[0]=n[0].slice(0),2<h.length&&"ID"===(f=h[0]).type&&9===b.nodeType&&qa&&z.relative[h[1].type]){if(b=(z.find.ID(f.matches[0].replace(ka,ra),b)||[])[0],!b)return m;G&&(b=b.parentNode);c=c.slice(h.shift().value.length)}for(e=Da.needsContext.test(c)?0:h.length;e--&&(f=h[e],!z.relative[k=f.type]);)if((r=z.find[k])&&(g=r(f.matches[0].replace(ka,ra),pa.test(h[0].type)&&q(b.parentNode)||b))){if(h.splice(e,1),c=g.length&&y(h),!c)return U.apply(m,g),m;break}}return(G||M(c,n))(g,
b,!qa,m,!b||pa.test(c)&&q(b.parentNode)||b),m},C.sortStable=O.split("").sort(Ba).join("")===O,C.detectDuplicates=!!P,R(),C.sortDetached=e(function(c){return 1&c.compareDocumentPosition(w.createElement("fieldset"))}),e(function(c){return c.innerHTML="<a href='#'></a>","#"===c.firstChild.getAttribute("href")})||h("type|href|height|width",function(c,b,m){if(!m)return c.getAttribute(b,"type"===b.toLowerCase()?1:2)}),C.attributes&&e(function(c){return c.innerHTML="<input/>",c.firstChild.setAttribute("value",
""),""===c.firstChild.getAttribute("value")})||h("value",function(c,b,m){if(!m&&"input"===c.nodeName.toLowerCase())return c.defaultValue}),e(function(c){return null==c.getAttribute("disabled")})||h("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(c,b,m){var g;if(!m)return!0===c[b]?b.toLowerCase():(g=c.getAttributeNode(b))&&g.specified?g.value:null}),b}(c);q.find=za;q.expr=za.selectors;q.expr[":"]=q.expr.pseudos;q.uniqueSort=
q.unique=za.uniqueSort;q.text=za.getText;q.isXMLDoc=za.isXML;q.contains=za.contains;q.escapeSelector=za.escape;var ra=function(c,b,g){for(var m=[],e=void 0!==g;(c=c[b])&&9!==c.nodeType;)if(1===c.nodeType){if(e&&q(c).is(g))break;m.push(c)}return m},bb=function(c,b){for(var m=[];c;c=c.nextSibling)1===c.nodeType&&c!==b&&m.push(c);return m},cb=q.expr.match.needsContext,db=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,rb=/^.[^:#\[\.,]*$/;q.filter=function(c,b,g){var m=b[0];return g&&
(c=":not("+c+")"),1===b.length&&1===m.nodeType?q.find.matchesSelector(m,c)?[m]:[]:q.find.matches(c,q.grep(b,function(c){return 1===c.nodeType}))};q.fn.extend({find:function(c){var b,m,g=this.length,e=this;if("string"!=typeof c)return this.pushStack(q(c).filter(function(){for(b=0;b<g;b++)if(q.contains(e[b],this))return!0}));m=this.pushStack([]);for(b=0;b<g;b++)q.find(c,e[b],m);return 1<g?q.uniqueSort(m):m},filter:function(c){return this.pushStack(k(this,c||[],!1))},not:function(c){return this.pushStack(k(this,
c||[],!0))},is:function(c){return!!k(this,"string"==typeof c&&cb.test(c)?q(c):c||[],!1).length}});var eb,Gb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(q.fn.init=function(c,b,g){var m,e;if(!c)return this;if(g=g||eb,"string"==typeof c){if(m="<"===c[0]&&">"===c[c.length-1]&&3<=c.length?[null,c,null]:Gb.exec(c),!m||!m[1]&&b)return!b||b.jquery?(b||g).find(c):this.constructor(b).find(c);if(m[1]){if(b=b instanceof q?b[0]:b,q.merge(this,q.parseHTML(m[1],b&&b.nodeType?b.ownerDocument||b:I,!0)),db.test(m[1])&&
q.isPlainObject(b))for(m in b)q.isFunction(this[m])?this[m](b[m]):this.attr(m,b[m]);return this}return e=I.getElementById(m[2]),e&&(this[0]=e,this.length=1),this}return c.nodeType?(this[0]=c,this.length=1,this):q.isFunction(c)?void 0!==g.ready?g.ready(c):c(q):q.makeArray(c,this)}).prototype=q.fn;eb=q(I);var Hb=/^(?:parents|prev(?:Until|All))/,Ib={children:!0,contents:!0,next:!0,prev:!0};q.fn.extend({has:function(c){var b=q(c,this),m=b.length;return this.filter(function(){for(var c=0;c<m;c++)if(q.contains(this,
b[c]))return!0})},closest:function(c,b){var m,g=0,e=this.length,h=[],f="string"!=typeof c&&q(c);if(!cb.test(c))for(;g<e;g++)for(m=this[g];m&&m!==b;m=m.parentNode)if(11>m.nodeType&&(f?-1<f.index(m):1===m.nodeType&&q.find.matchesSelector(m,c))){h.push(m);break}return this.pushStack(1<h.length?q.uniqueSort(h):h)},index:function(c){return c?"string"==typeof c?ea.call(q(c),this[0]):ea.call(this,c.jquery?c[0]:c):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(c,b){return this.pushStack(q.uniqueSort(q.merge(this.get(),
q(c,b))))},addBack:function(c){return this.add(null==c?this.prevObject:this.prevObject.filter(c))}});q.each({parent:function(c){return(c=c.parentNode)&&11!==c.nodeType?c:null},parents:function(c){return ra(c,"parentNode")},parentsUntil:function(c,b,g){return ra(c,"parentNode",g)},next:function(c){return p(c,"nextSibling")},prev:function(c){return p(c,"previousSibling")},nextAll:function(c){return ra(c,"nextSibling")},prevAll:function(c){return ra(c,"previousSibling")},nextUntil:function(c,b,g){return ra(c,
"nextSibling",g)},prevUntil:function(c,b,g){return ra(c,"previousSibling",g)},siblings:function(c){return bb((c.parentNode||{}).firstChild,c)},children:function(c){return bb(c.firstChild)},contents:function(c){return c.contentDocument||q.merge([],c.childNodes)}},function(c,b){q.fn[c]=function(m,g){var e=q.map(this,b,m);return"Until"!==c.slice(-5)&&(g=m),g&&"string"==typeof g&&(e=q.filter(g,e)),1<this.length&&(Ib[c]||q.uniqueSort(e),Hb.test(c)&&e.reverse()),this.pushStack(e)}});var pa=/[^\x20\t\r\n\f]+/g;
q.Callbacks=function(c){c="string"==typeof c?n(c):q.extend({},c);var b,m,g,e,h=[],f=[],k=-1,r=function(){e=c.once;for(g=b=!0;f.length;k=-1)for(m=f.shift();++k<h.length;)!1===h[k].apply(m[0],m[1])&&c.stopOnFalse&&(k=h.length,m=!1);c.memory||(m=!1);b=!1;e&&(h=m?[]:"")},u={add:function(){return h&&(m&&!b&&(k=h.length-1,f.push(m)),function vb(b){q.each(b,function(b,m){q.isFunction(m)?c.unique&&u.has(m)||h.push(m):m&&m.length&&"string"!==q.type(m)&&vb(m)})}(arguments),m&&!b&&r()),this},remove:function(){return q.each(arguments,
function(c,b){for(var m;-1<(m=q.inArray(b,h,m));)h.splice(m,1),m<=k&&k--}),this},has:function(c){return c?-1<q.inArray(c,h):0<h.length},empty:function(){return h&&(h=[]),this},disable:function(){return e=f=[],h=m="",this},disabled:function(){return!h},lock:function(){return e=f=[],m||b||(h=m=""),this},locked:function(){return!!e},fireWith:function(c,m){return e||(m=m||[],m=[c,m.slice?m.slice():m],f.push(m),b||r()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!g}};
return u};q.extend({Deferred:function(b){var m=[["notify","progress",q.Callbacks("memory"),q.Callbacks("memory"),2],["resolve","done",q.Callbacks("once memory"),q.Callbacks("once memory"),0,"resolved"],["reject","fail",q.Callbacks("once memory"),q.Callbacks("once memory"),1,"rejected"]],g="pending",e={state:function(){return g},always:function(){return f.done(arguments).fail(arguments),this},"catch":function(c){return e.then(null,c)},pipe:function(){var c=arguments;return q.Deferred(function(b){q.each(m,
function(m,g){var e=q.isFunction(c[g[4]])&&c[g[4]];f[g[1]](function(){var c=e&&e.apply(this,arguments);c&&q.isFunction(c.promise)?c.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[g[0]+"With"](this,e?[c]:arguments)})});c=null}).promise()},then:function(b,g,e){function f(b,m,g,e){return function(){var r=this,n=arguments,G=function(){var c,u;if(!(b<k)){if(c=g.apply(r,n),c===m.promise())throw new TypeError("Thenable self-resolution");u=c&&("object"==typeof c||"function"==typeof c)&&c.then;
q.isFunction(u)?e?u.call(c,f(k,m,t,e),f(k,m,h,e)):(k++,u.call(c,f(k,m,t,e),f(k,m,h,e),f(k,m,t,m.notifyWith))):(g!==t&&(r=void 0,n=[c]),(e||m.resolveWith)(r,n))}},u=e?G:function(){try{G()}catch(ab){q.Deferred.exceptionHook&&q.Deferred.exceptionHook(ab,u.stackTrace),b+1>=k&&(g!==h&&(r=void 0,n=[ab]),m.rejectWith(r,n))}};b?u():(q.Deferred.getStackHook&&(u.stackTrace=q.Deferred.getStackHook()),c.setTimeout(u))}}var k=0;return q.Deferred(function(c){m[0][3].add(f(0,c,q.isFunction(e)?e:t,c.notifyWith));
m[1][3].add(f(0,c,q.isFunction(b)?b:t));m[2][3].add(f(0,c,q.isFunction(g)?g:h))}).promise()},promise:function(c){return null!=c?q.extend(c,e):e}},f={};return q.each(m,function(c,b){var h=b[2],k=b[5];e[b[1]]=h.add;k&&h.add(function(){g=k},m[3-c][2].disable,m[0][2].lock);h.add(b[3].fire);f[b[0]]=function(){return f[b[0]+"With"](this===f?void 0:this,arguments),this};f[b[0]+"With"]=h.fireWith}),e.promise(f),b&&b.call(f,f),f},when:function(c){var b=arguments.length,m=b,g=Array(m),e=fa.call(arguments),
h=q.Deferred(),f=function(c){return function(m){g[c]=this;e[c]=1<arguments.length?fa.call(arguments):m;--b||h.resolveWith(g,e)}};if(1>=b&&(r(c,h.done(f(m)).resolve,h.reject),"pending"===h.state()||q.isFunction(e[m]&&e[m].then)))return h.then();for(;m--;)r(e[m],f(m),h.reject);return h.promise()}});var Jb=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;q.Deferred.exceptionHook=function(b,g){c.console&&c.console.warn&&b&&Jb.test(b.name)&&c.console.warn("jQuery.Deferred exception: "+b.message,
b.stack,g)};q.readyException=function(b){c.setTimeout(function(){throw b;})};var Qa=q.Deferred();q.fn.ready=function(c){return Qa.then(c)["catch"](function(c){q.readyException(c)}),this};q.extend({isReady:!1,readyWait:1,holdReady:function(c){c?q.readyWait++:q.ready(!0)},ready:function(c){(!0===c?--q.readyWait:q.isReady)||(q.isReady=!0,!0!==c&&0<--q.readyWait||Qa.resolveWith(I,[q]))}});q.ready.then=Qa.then;"complete"===I.readyState||"loading"!==I.readyState&&!I.documentElement.doScroll?c.setTimeout(q.ready):
(I.addEventListener("DOMContentLoaded",g),c.addEventListener("load",g));var va=function(c,b,g,e,h,f,k){var m=0,r=c.length,n=null==g;if("object"===q.type(g))for(m in h=!0,g)va(c,b,m,g[m],!0,f,k);else if(void 0!==e&&(h=!0,q.isFunction(e)||(k=!0),n&&(k?(b.call(c,e),b=null):(n=b,b=function(c,b,m){return n.call(q(c),m)})),b))for(;m<r;m++)b(c[m],g,k?e:e.call(c[m],m,b(c[m],g)));return h?c:n?b.call(c):r?b(c[0],g):f},La=function(c){return 1===c.nodeType||9===c.nodeType||!+c.nodeType};y.uid=1;y.prototype={cache:function(c){var b=
c[this.expando];return b||(b={},La(c)&&(c.nodeType?c[this.expando]=b:Object.defineProperty(c,this.expando,{value:b,configurable:!0}))),b},set:function(c,b,g){var m;c=this.cache(c);if("string"==typeof b)c[q.camelCase(b)]=g;else for(m in b)c[q.camelCase(m)]=b[m];return c},get:function(c,b){return void 0===b?this.cache(c):c[this.expando]&&c[this.expando][q.camelCase(b)]},access:function(c,b,g){return void 0===b||b&&"string"==typeof b&&void 0===g?this.get(c,b):(this.set(c,b,g),void 0!==g?g:b)},remove:function(c,
b){var m,g=c[this.expando];if(void 0!==g){if(void 0!==b)for(q.isArray(b)?b=b.map(q.camelCase):(b=q.camelCase(b),b=b in g?[b]:b.match(pa)||[]),m=b.length;m--;)delete g[b[m]];(void 0===b||q.isEmptyObject(g))&&(c.nodeType?c[this.expando]=void 0:delete c[this.expando])}},hasData:function(c){c=c[this.expando];return void 0!==c&&!q.isEmptyObject(c)}};var U=new y,ma=new y,tb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,sb=/[A-Z]/g;q.extend({hasData:function(c){return ma.hasData(c)||U.hasData(c)},data:function(c,b,g){return ma.access(c,
b,g)},removeData:function(c,b){ma.remove(c,b)},_data:function(c,b,g){return U.access(c,b,g)},_removeData:function(c,b){U.remove(c,b)}});q.fn.extend({data:function(c,b){var g,m,e,h=this[0],f=h&&h.attributes;if(void 0===c){if(this.length&&(e=ma.get(h),1===h.nodeType&&!U.get(h,"hasDataAttrs"))){for(g=f.length;g--;)f[g]&&(m=f[g].name,0===m.indexOf("data-")&&(m=q.camelCase(m.slice(5)),z(h,m,e[m])));U.set(h,"hasDataAttrs",!0)}return e}return"object"==typeof c?this.each(function(){ma.set(this,c)}):va(this,
function(b){var g;if(h&&void 0===b){if((g=ma.get(h,c),void 0!==g)||(g=z(h,c),void 0!==g))return g}else this.each(function(){ma.set(this,c,b)})},null,b,1<arguments.length,null,!0)},removeData:function(c){return this.each(function(){ma.remove(this,c)})}});q.extend({queue:function(c,b,g){var m;if(c)return b=(b||"fx")+"queue",m=U.get(c,b),g&&(!m||q.isArray(g)?m=U.access(c,b,q.makeArray(g)):m.push(g)),m||[]},dequeue:function(c,b){b=b||"fx";var g=q.queue(c,b),m=g.length,e=g.shift(),h=q._queueHooks(c,b),
f=function(){q.dequeue(c,b)};"inprogress"===e&&(e=g.shift(),m--);e&&("fx"===b&&g.unshift("inprogress"),delete h.stop,e.call(c,f,h));!m&&h&&h.empty.fire()},_queueHooks:function(c,b){var g=b+"queueHooks";return U.get(c,g)||U.access(c,g,{empty:q.Callbacks("once memory").add(function(){U.remove(c,[b+"queue",g])})})}});q.fn.extend({queue:function(c,b){var g=2;return"string"!=typeof c&&(b=c,c="fx",g--),arguments.length<g?q.queue(this[0],c):void 0===b?this:this.each(function(){var g=q.queue(this,c,b);q._queueHooks(this,
c);"fx"===c&&"inprogress"!==g[0]&&q.dequeue(this,c)})},dequeue:function(c){return this.each(function(){q.dequeue(this,c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,b){var g,m=1,e=q.Deferred(),h=this,f=this.length,k=function(){--m||e.resolveWith(h,[h])};"string"!=typeof c&&(b=c,c=void 0);for(c=c||"fx";f--;)(g=U.get(h[f],c+"queueHooks"))&&g.empty&&(m++,g.empty.add(k));return k(),e.promise(b)}});var fb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ea=new RegExp("^(?:([+-])=|)("+
fb+")([a-z%]*)$","i"),wa=["Top","Right","Bottom","Left"],Ja=function(c,b){return c=b||c,"none"===c.style.display||""===c.style.display&&q.contains(c.ownerDocument,c)&&"none"===q.css(c,"display")},gb=function(c,b,g,e){var m,h={};for(m in b)h[m]=c.style[m],c.style[m]=b[m];g=g.apply(c,e||[]);for(m in b)c.style[m]=h[m];return g},Va={};q.fn.extend({show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(c){return"boolean"==typeof c?c?this.show():this.hide():this.each(function(){Ja(this)?
q(this).show():q(this).hide()})}});var hb=/^(?:checkbox|radio)$/i,Wa=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Xa=/^$|\/(?:java|ecma)script/i,ka={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ka.optgroup=ka.option;ka.tbody=ka.tfoot=ka.colgroup=ka.caption=ka.thead;ka.th=ka.td;var wb=/<|&#?\w+;/;!function(){var c=
I.createDocumentFragment().appendChild(I.createElement("div")),b=I.createElement("input");b.setAttribute("type","radio");b.setAttribute("checked","checked");b.setAttribute("name","t");c.appendChild(b);aa.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;c.innerHTML="<textarea>x</textarea>";aa.noCloneChecked=!!c.cloneNode(!0).lastChild.defaultValue}();var Ma=I.documentElement,Kb=/^key/,Lb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ib=/^([^.]*)(?:\.(.+)|)/;q.event={global:{},add:function(c,
b,g,e,h){var m,f,k,r,n,u,p,y,G,v;if(n=U.get(c))for(g.handler&&(m=g,g=m.handler,h=m.selector),h&&q.find.matchesSelector(Ma,h),g.guid||(g.guid=q.guid++),(r=n.events)||(r=n.events={}),(f=n.handle)||(f=n.handle=function(b){return"undefined"!=typeof q&&q.event.triggered!==b.type?q.event.dispatch.apply(c,arguments):void 0}),b=(b||"").match(pa)||[""],n=b.length;n--;)k=ib.exec(b[n])||[],G=v=k[1],k=(k[2]||"").split(".").sort(),G&&(p=q.event.special[G]||{},G=(h?p.delegateType:p.bindType)||G,p=q.event.special[G]||
{},u=q.extend({type:G,origType:v,data:e,handler:g,guid:g.guid,selector:h,needsContext:h&&q.expr.match.needsContext.test(h),namespace:k.join(".")},m),(y=r[G])||(y=r[G]=[],y.delegateCount=0,p.setup&&!1!==p.setup.call(c,e,k,f)||c.addEventListener&&c.addEventListener(G,f)),p.add&&(p.add.call(c,u),u.handler.guid||(u.handler.guid=g.guid)),h?y.splice(y.delegateCount++,0,u):y.push(u),q.event.global[G]=!0)},remove:function(c,b,g,e,h){var m,f,k,r,n,u,p,y,G,v,I,A=U.hasData(c)&&U.get(c);if(A&&(r=A.events)){b=
(b||"").match(pa)||[""];for(n=b.length;n--;)if(k=ib.exec(b[n])||[],G=I=k[1],v=(k[2]||"").split(".").sort(),G){p=q.event.special[G]||{};G=(e?p.delegateType:p.bindType)||G;y=r[G]||[];k=k[2]&&new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)");for(f=m=y.length;m--;)u=y[m],!h&&I!==u.origType||g&&g.guid!==u.guid||k&&!k.test(u.namespace)||e&&e!==u.selector&&("**"!==e||!u.selector)||(y.splice(m,1),u.selector&&y.delegateCount--,p.remove&&p.remove.call(c,u));f&&!y.length&&(p.teardown&&!1!==p.teardown.call(c,
v,A.handle)||q.removeEvent(c,G,A.handle),delete r[G])}else for(G in r)q.event.remove(c,G+b[n],g,e,!0);q.isEmptyObject(r)&&U.remove(c,"handle events")}},dispatch:function(c){var b=q.event.fix(c),g,m,e,h,f,k,r=Array(arguments.length);m=(U.get(this,"events")||{})[b.type]||[];var n=q.event.special[b.type]||{};r[0]=b;for(g=1;g<arguments.length;g++)r[g]=arguments[g];if(b.delegateTarget=this,!n.preDispatch||!1!==n.preDispatch.call(this,b)){k=q.event.handlers.call(this,b,m);for(g=0;(h=k[g++])&&!b.isPropagationStopped();)for(b.currentTarget=
h.elem,m=0;(f=h.handlers[m++])&&!b.isImmediatePropagationStopped();)b.rnamespace&&!b.rnamespace.test(f.namespace)||(b.handleObj=f,b.data=f.data,e=((q.event.special[f.origType]||{}).handle||f.handler).apply(h.elem,r),void 0!==e&&!1===(b.result=e)&&(b.preventDefault(),b.stopPropagation()));return n.postDispatch&&n.postDispatch.call(this,b),b.result}},handlers:function(c,b){var g,m,e,h,f,k=[],r=b.delegateCount,n=c.target;if(r&&n.nodeType&&!("click"===c.type&&1<=c.button))for(;n!==this;n=n.parentNode||
this)if(1===n.nodeType&&("click"!==c.type||!0!==n.disabled)){h=[];f={};for(g=0;g<r;g++)m=b[g],e=m.selector+" ",void 0===f[e]&&(f[e]=m.needsContext?-1<q(e,this).index(n):q.find(e,this,null,[n]).length),f[e]&&h.push(m);h.length&&k.push({elem:n,handlers:h})}return n=this,r<b.length&&k.push({elem:n,handlers:b.slice(r)}),k},addProp:function(c,b){Object.defineProperty(q.Event.prototype,c,{enumerable:!0,configurable:!0,get:q.isFunction(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[c]},
set:function(b){Object.defineProperty(this,c,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(c){return c[q.expando]?c:new q.Event(c)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==J()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===J()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&q.nodeName(this,"input"))return this.click(),!1},_default:function(c){return q.nodeName(c.target,
"a")}},beforeunload:{postDispatch:function(c){void 0!==c.result&&c.originalEvent&&(c.originalEvent.returnValue=c.result)}}}};q.removeEvent=function(c,b,g){c.removeEventListener&&c.removeEventListener(b,g)};q.Event=function(c,b){return this instanceof q.Event?(c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||void 0===c.defaultPrevented&&!1===c.returnValue?D:H,this.target=c.target&&3===c.target.nodeType?c.target.parentNode:c.target,this.currentTarget=c.currentTarget,
this.relatedTarget=c.relatedTarget):this.type=c,b&&q.extend(this,b),this.timeStamp=c&&c.timeStamp||q.now(),void(this[q.expando]=!0)):new q.Event(c,b)};q.Event.prototype={constructor:q.Event,isDefaultPrevented:H,isPropagationStopped:H,isImmediatePropagationStopped:H,isSimulated:!1,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=D;c&&!this.isSimulated&&c.preventDefault()},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=D;c&&!this.isSimulated&&
c.stopPropagation()},stopImmediatePropagation:function(){var c=this.originalEvent;this.isImmediatePropagationStopped=D;c&&!this.isSimulated&&c.stopImmediatePropagation();this.stopPropagation()}};q.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,
toElement:!0,touches:!0,which:function(c){var b=c.button;return null==c.which&&Kb.test(c.type)?null!=c.charCode?c.charCode:c.keyCode:!c.which&&void 0!==b&&Lb.test(c.type)?1&b?1:2&b?3:4&b?2:0:c.which}},q.event.addProp);q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(c,b){q.event.special[c]={delegateType:b,bindType:b,handle:function(c){var g,e=c.relatedTarget,m=c.handleObj;return e&&(e===this||q.contains(this,e))||(c.type=m.origType,
g=m.handler.apply(this,arguments),c.type=b),g}}});q.fn.extend({on:function(c,b,g,e){return w(this,c,b,g,e)},one:function(c,b,g,e){return w(this,c,b,g,e,1)},off:function(c,b,g){var e,m;if(c&&c.preventDefault&&c.handleObj)return e=c.handleObj,q(c.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof c){for(m in c)this.off(m,b,c[m]);return this}return!1!==b&&"function"!=typeof b||(g=b,b=void 0),!1===g&&(g=H),this.each(function(){q.event.remove(this,
c,g,b)})}});var Mb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Nb=/<script|<style|<link/i,yb=/checked\s*(?:[^=]|=\s*.checked.)/i,xb=/^true\/(.*)/,zb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;q.extend({htmlPrefilter:function(c){return c.replace(Mb,"<$1></$2>")},clone:function(c,b,g){var e,m,h,f,k=c.cloneNode(!0),r=q.contains(c.ownerDocument,c);if(!(aa.noCloneChecked||1!==c.nodeType&&11!==c.nodeType||q.isXMLDoc(c)))for(f=x(k),h=x(c),e=0,m=h.length;e<
m;e++){var n=h[e],u=f[e],p=u.nodeName.toLowerCase();"input"===p&&hb.test(n.type)?u.checked=n.checked:"input"!==p&&"textarea"!==p||(u.defaultValue=n.defaultValue)}if(b)if(g)for(h=h||x(c),f=f||x(k),e=0,m=h.length;e<m;e++)B(h[e],f[e]);else B(c,k);return f=x(k,"script"),0<f.length&&C(f,!r&&x(c,"script")),k},cleanData:function(c){for(var b,g,e,m=q.event.special,h=0;void 0!==(g=c[h]);h++)if(La(g)){if(b=g[U.expando]){if(b.events)for(e in b.events)m[e]?q.event.remove(g,e):q.removeEvent(g,e,b.handle);g[U.expando]=
void 0}g[ma.expando]&&(g[ma.expando]=void 0)}}});q.fn.extend({detach:function(c){return P(this,c,!0)},remove:function(c){return P(this,c)},text:function(c){return va(this,function(c){return void 0===c?q.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=c)})},null,c,arguments.length)},append:function(){return A(this,arguments,function(c){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||R(this,c).appendChild(c)})},prepend:function(){return A(this,
arguments,function(c){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=R(this,c);b.insertBefore(c,b.firstChild)}})},before:function(){return A(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this)})},after:function(){return A(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this.nextSibling)})},empty:function(){for(var c,b=0;null!=(c=this[b]);b++)1===c.nodeType&&(q.cleanData(x(c,!1)),c.textContent="");return this},clone:function(c,
b){return c=null!=c&&c,b=null==b?c:b,this.map(function(){return q.clone(this,c,b)})},html:function(c){return va(this,function(c){var b=this[0]||{},g=0,e=this.length;if(void 0===c&&1===b.nodeType)return b.innerHTML;if("string"==typeof c&&!Nb.test(c)&&!ka[(Wa.exec(c)||["",""])[1].toLowerCase()]){c=q.htmlPrefilter(c);try{for(;g<e;g++)b=this[g]||{},1===b.nodeType&&(q.cleanData(x(b,!1)),b.innerHTML=c);b=0}catch(fc){}}b&&this.empty().append(c)},null,c,arguments.length)},replaceWith:function(){var c=[];
return A(this,arguments,function(b){var g=this.parentNode;0>q.inArray(this,c)&&(q.cleanData(x(this)),g&&g.replaceChild(b,this))},c)}});q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,b){q.fn[c]=function(c){for(var g=[],e=q(c),m=e.length-1,h=0;h<=m;h++)c=h===m?this:this.clone(!0),q(e[h])[b](c),qa.apply(g,c.get());return this.pushStack(g)}});var Ya=/^margin/,Na=new RegExp("^("+fb+")(?!px)[a-z%]+$","i"),Ka=function(b){var g=
b.ownerDocument.defaultView;return g&&g.opener||(g=c),g.getComputedStyle(b)};!function(){function b(){if(r){r.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";r.innerHTML="";Ma.appendChild(k);var b=c.getComputedStyle(r);g="1%"!==b.top;f="2px"===b.marginLeft;e="4px"===b.width;r.style.marginRight="50%";h="4px"===b.marginRight;Ma.removeChild(k);r=null}}var g,e,h,f,k=I.createElement("div"),r=I.createElement("div");r.style&&(r.style.backgroundClip=
"content-box",r.cloneNode(!0).style.backgroundClip="",aa.clearCloneStyle="content-box"===r.style.backgroundClip,k.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",k.appendChild(r),q.extend(aa,{pixelPosition:function(){return b(),g},boxSizingReliable:function(){return b(),e},pixelMarginRight:function(){return b(),h},reliableMarginLeft:function(){return b(),f}}))}();var Ob=/^(none|table(?!-c[ea]).+)/,Pb={position:"absolute",visibility:"hidden",
display:"block"},jb={letterSpacing:"0",fontWeight:"400"},$a=["Webkit","Moz","ms"],Za=I.createElement("div").style;q.extend({cssHooks:{opacity:{get:function(c,b){if(b){var g=O(c,"opacity");return""===g?"1":g}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(c,b,g,e){if(c&&3!==c.nodeType&&8!==c.nodeType&&c.style){var m,h,
f,k=q.camelCase(b),r=c.style;return b=q.cssProps[k]||(q.cssProps[k]=ha(k)||k),f=q.cssHooks[b]||q.cssHooks[k],void 0===g?f&&"get"in f&&void 0!==(m=f.get(c,!1,e))?m:r[b]:(h=typeof g,"string"===h&&(m=Ea.exec(g))&&m[1]&&(g=u(c,b,m),h="number"),null!=g&&g===g&&("number"===h&&(g+=m&&m[3]||(q.cssNumber[k]?"":"px")),aa.clearCloneStyle||""!==g||0!==b.indexOf("background")||(r[b]="inherit"),f&&"set"in f&&void 0===(g=f.set(c,g,e))||(r[b]=g)),void 0)}},css:function(c,b,g,e){var m,h,f,k=q.camelCase(b);return b=
q.cssProps[k]||(q.cssProps[k]=ha(k)||k),f=q.cssHooks[b]||q.cssHooks[k],f&&"get"in f&&(m=f.get(c,!0,g)),void 0===m&&(m=O(c,b,e)),"normal"===m&&b in jb&&(m=jb[b]),""===g||g?(h=parseFloat(m),!0===g||isFinite(h)?h||0:m):m}});q.each(["height","width"],function(c,b){q.cssHooks[b]={get:function(c,g,e){if(g)return!Ob.test(q.css(c,"display"))||c.getClientRects().length&&c.getBoundingClientRect().width?ba(c,b,e):gb(c,Pb,function(){return ba(c,b,e)})},set:function(c,g,e){var m,h=e&&Ka(c);e=e&&la(c,b,e,"border-box"===
q.css(c,"boxSizing",!1,h),h);return e&&(m=Ea.exec(g))&&"px"!==(m[3]||"px")&&(c.style[b]=g,g=q.css(c,b)),ca(c,g,e)}}});q.cssHooks.marginLeft=Q(aa.reliableMarginLeft,function(c,b){if(b)return(parseFloat(O(c,"marginLeft"))||c.getBoundingClientRect().left-gb(c,{marginLeft:0},function(){return c.getBoundingClientRect().left}))+"px"});q.each({margin:"",padding:"",border:"Width"},function(c,b){q.cssHooks[c+b]={expand:function(g){var e=0,m={};for(g="string"==typeof g?g.split(" "):[g];4>e;e++)m[c+wa[e]+b]=
g[e]||g[e-2]||g[0];return m}};Ya.test(c)||(q.cssHooks[c+b].set=ca)});q.fn.extend({css:function(c,b){return va(this,function(c,b,g){var e,m={},h=0;if(q.isArray(b)){g=Ka(c);for(e=b.length;h<e;h++)m[b[h]]=q.css(c,b[h],!1,g);return m}return void 0!==g?q.style(c,b,g):q.css(c,b)},c,b,1<arguments.length)}});q.Tween=X;X.prototype={constructor:X,init:function(c,b,g,e,h,f){this.elem=c;this.prop=g;this.easing=h||q.easing._default;this.options=b;this.start=this.now=this.cur();this.end=e;this.unit=f||(q.cssNumber[g]?
"":"px")},cur:function(){var c=X.propHooks[this.prop];return c&&c.get?c.get(this):X.propHooks._default.get(this)},run:function(c){var b,g=X.propHooks[this.prop];return this.options.duration?this.pos=b=q.easing[this.easing](c,this.options.duration*c,0,1,this.options.duration):this.pos=b=c,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),g&&g.set?g.set(this):X.propHooks._default.set(this),this}};X.prototype.init.prototype=X.prototype;X.propHooks=
{_default:{get:function(c){var b;return 1!==c.elem.nodeType||null!=c.elem[c.prop]&&null==c.elem.style[c.prop]?c.elem[c.prop]:(b=q.css(c.elem,c.prop,""),b&&"auto"!==b?b:0)},set:function(c){q.fx.step[c.prop]?q.fx.step[c.prop](c):1!==c.elem.nodeType||null==c.elem.style[q.cssProps[c.prop]]&&!q.cssHooks[c.prop]?c.elem[c.prop]=c.now:q.style(c.elem,c.prop,c.now+c.unit)}}};X.propHooks.scrollTop=X.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=c.now)}};q.easing={linear:function(c){return c},
swing:function(c){return.5-Math.cos(c*Math.PI)/2},_default:"swing"};q.fx=X.prototype.init;q.fx.step={};var Aa,ya,Qb=/^(?:toggle|show|hide)$/,Rb=/queueHooks$/;q.Animation=q.extend(K,{tweeners:{"*":[function(c,b){var g=this.createTween(c,b);return u(g.elem,c,Ea.exec(b),g),g}]},tweener:function(c,b){q.isFunction(c)?(b=c,c=["*"]):c=c.match(pa);for(var g,e=0,m=c.length;e<m;e++)g=c[e],K.tweeners[g]=K.tweeners[g]||[],K.tweeners[g].unshift(b)},prefilters:[function(c,b,g){var e,m,h,f,k,r,n,u,p="width"in b||
"height"in b,y=this,I={},A=c.style,x=c.nodeType&&Ja(c),t=U.get(c,"fxshow");g.queue||(f=q._queueHooks(c,"fx"),null==f.unqueued&&(f.unqueued=0,k=f.empty.fire,f.empty.fire=function(){f.unqueued||k()}),f.unqueued++,y.always(function(){y.always(function(){f.unqueued--;q.queue(c,"fx").length||f.empty.fire()})}));for(e in b)if(m=b[e],Qb.test(m)){if(delete b[e],h=h||"toggle"===m,m===(x?"hide":"show")){if("show"!==m||!t||void 0===t[e])continue;x=!0}I[e]=t&&t[e]||q.style(c,e)}if(r=!q.isEmptyObject(b),r||!q.isEmptyObject(I))for(e in p&&
1===c.nodeType&&(g.overflow=[A.overflow,A.overflowX,A.overflowY],n=t&&t.display,null==n&&(n=U.get(c,"display")),u=q.css(c,"display"),"none"===u&&(n?u=n:(v([c],!0),n=c.style.display||n,u=q.css(c,"display"),v([c]))),("inline"===u||"inline-block"===u&&null!=n)&&"none"===q.css(c,"float")&&(r||(y.done(function(){A.display=n}),null==n&&(u=A.display,n="none"===u?"":u)),A.display="inline-block")),g.overflow&&(A.overflow="hidden",y.always(function(){A.overflow=g.overflow[0];A.overflowX=g.overflow[1];A.overflowY=
g.overflow[2]})),r=!1,I)r||(t?"hidden"in t&&(x=t.hidden):t=U.access(c,"fxshow",{display:n}),h&&(t.hidden=!x),x&&v([c],!0),y.done(function(){x||v([c]);U.remove(c,"fxshow");for(e in I)q.style(c,e,I[e])})),r=na(x?t[e]:0,e,y),e in t||(t[e]=r.start,x&&(r.end=r.start,r.start=0))}],prefilter:function(c,b){b?K.prefilters.unshift(c):K.prefilters.push(c)}});q.speed=function(c,b,g){var e=c&&"object"==typeof c?q.extend({},c):{complete:g||!g&&b||q.isFunction(c)&&c,duration:c,easing:g&&b||b&&!q.isFunction(b)&&
b};return q.fx.off||I.hidden?e.duration=0:"number"!=typeof e.duration&&(e.duration in q.fx.speeds?e.duration=q.fx.speeds[e.duration]:e.duration=q.fx.speeds._default),null!=e.queue&&!0!==e.queue||(e.queue="fx"),e.old=e.complete,e.complete=function(){q.isFunction(e.old)&&e.old.call(this);e.queue&&q.dequeue(this,e.queue)},e};q.fn.extend({fadeTo:function(c,b,g,e){return this.filter(Ja).css("opacity",0).show().end().animate({opacity:b},c,g,e)},animate:function(c,b,g,e){var h=q.isEmptyObject(c),m=q.speed(b,
g,e);b=function(){var b=K(this,q.extend({},c),m);(h||U.get(this,"finish"))&&b.stop(!0)};return b.finish=b,h||!1===m.queue?this.each(b):this.queue(m.queue,b)},stop:function(c,b,g){var e=function(c){var b=c.stop;delete c.stop;b(g)};return"string"!=typeof c&&(g=b,b=c,c=void 0),b&&!1!==c&&this.queue(c||"fx",[]),this.each(function(){var b=!0,h=null!=c&&c+"queueHooks",m=q.timers,f=U.get(this);if(h)f[h]&&f[h].stop&&e(f[h]);else for(h in f)f[h]&&f[h].stop&&Rb.test(h)&&e(f[h]);for(h=m.length;h--;)m[h].elem!==
this||null!=c&&m[h].queue!==c||(m[h].anim.stop(g),b=!1,m.splice(h,1));!b&&g||q.dequeue(this,c)})},finish:function(c){return!1!==c&&(c=c||"fx"),this.each(function(){var b,g=U.get(this),e=g[c+"queue"];b=g[c+"queueHooks"];var h=q.timers,m=e?e.length:0;g.finish=!0;q.queue(this,c,[]);b&&b.stop&&b.stop.call(this,!0);for(b=h.length;b--;)h[b].elem===this&&h[b].queue===c&&(h[b].anim.stop(!0),h.splice(b,1));for(b=0;b<m;b++)e[b]&&e[b].finish&&e[b].finish.call(this);delete g.finish})}});q.each(["toggle","show",
"hide"],function(c,b){var g=q.fn[b];q.fn[b]=function(c,e,h){return null==c||"boolean"==typeof c?g.apply(this,arguments):this.animate(N(b,!0),c,e,h)}});q.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(c,b){q.fn[c]=function(c,g,e){return this.animate(b,c,g,e)}});q.timers=[];q.fx.tick=function(){var c,b=0,g=q.timers;for(Aa=q.now();b<g.length;b++)c=g[b],c()||g[b]!==c||g.splice(b--,1);g.length||
q.fx.stop();Aa=void 0};q.fx.timer=function(c){q.timers.push(c);c()?q.fx.start():q.timers.pop()};q.fx.interval=13;q.fx.start=function(){ya||(ya=c.requestAnimationFrame?c.requestAnimationFrame(ta):c.setInterval(q.fx.tick,q.fx.interval))};q.fx.stop=function(){c.cancelAnimationFrame?c.cancelAnimationFrame(ya):c.clearInterval(ya);ya=null};q.fx.speeds={slow:600,fast:200,_default:400};q.fn.delay=function(b,g){return b=q.fx?q.fx.speeds[b]||b:b,g=g||"fx",this.queue(g,function(g,e){var h=c.setTimeout(g,b);
e.stop=function(){c.clearTimeout(h)}})};(function(){var c=I.createElement("input"),b=I.createElement("select").appendChild(I.createElement("option"));c.type="checkbox";aa.checkOn=""!==c.value;aa.optSelected=b.selected;c=I.createElement("input");c.value="t";c.type="radio";aa.radioValue="t"===c.value})();var kb,Ga=q.expr.attrHandle;q.fn.extend({attr:function(c,b){return va(this,q.attr,c,b,1<arguments.length)},removeAttr:function(c){return this.each(function(){q.removeAttr(this,c)})}});q.extend({attr:function(c,
b,g){var e,h,m=c.nodeType;if(3!==m&&8!==m&&2!==m)return"undefined"==typeof c.getAttribute?q.prop(c,b,g):(1===m&&q.isXMLDoc(c)||(h=q.attrHooks[b.toLowerCase()]||(q.expr.match.bool.test(b)?kb:void 0)),void 0!==g?null===g?void q.removeAttr(c,b):h&&"set"in h&&void 0!==(e=h.set(c,g,b))?e:(c.setAttribute(b,g+""),g):h&&"get"in h&&null!==(e=h.get(c,b))?e:(e=q.find.attr(c,b),null==e?void 0:e))},attrHooks:{type:{set:function(c,b){if(!aa.radioValue&&"radio"===b&&q.nodeName(c,"input")){var g=c.value;return c.setAttribute("type",
b),g&&(c.value=g),b}}}},removeAttr:function(c,b){var g,e=0,h=b&&b.match(pa);if(h&&1===c.nodeType)for(;g=h[e++];)c.removeAttribute(g)}});kb={set:function(c,b,g){return!1===b?q.removeAttr(c,g):c.setAttribute(g,g),g}};q.each(q.expr.match.bool.source.match(/\w+/g),function(c,b){var g=Ga[b]||q.find.attr;Ga[b]=function(c,b,e){var h,m,f=b.toLowerCase();return e||(m=Ga[f],Ga[f]=h,h=null!=g(c,b,e)?f:null,Ga[f]=m),h}});var Sb=/^(?:input|select|textarea|button)$/i,Tb=/^(?:a|area)$/i;q.fn.extend({prop:function(c,
b){return va(this,q.prop,c,b,1<arguments.length)},removeProp:function(c){return this.each(function(){delete this[q.propFix[c]||c]})}});q.extend({prop:function(c,b,g){var e,h,m=c.nodeType;if(3!==m&&8!==m&&2!==m)return 1===m&&q.isXMLDoc(c)||(b=q.propFix[b]||b,h=q.propHooks[b]),void 0!==g?h&&"set"in h&&void 0!==(e=h.set(c,g,b))?e:c[b]=g:h&&"get"in h&&null!==(e=h.get(c,b))?e:c[b]},propHooks:{tabIndex:{get:function(c){var b=q.find.attr(c,"tabindex");return b?parseInt(b,10):Sb.test(c.nodeName)||Tb.test(c.nodeName)&&
c.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});aa.optSelected||(q.propHooks.selected={get:function(c){c=c.parentNode;return c&&c.parentNode&&c.parentNode.selectedIndex,null},set:function(c){c=c.parentNode;c&&(c.selectedIndex,c.parentNode&&c.parentNode.selectedIndex)}});q.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){q.propFix[this.toLowerCase()]=this});q.fn.extend({addClass:function(c){var b,g,e,
h,f,m,k=0;if(q.isFunction(c))return this.each(function(b){q(this).addClass(c.call(this,b,V(this)))});if("string"==typeof c&&c)for(b=c.match(pa)||[];g=this[k++];)if(h=V(g),e=1===g.nodeType&&" "+S(h)+" "){for(m=0;f=b[m++];)0>e.indexOf(" "+f+" ")&&(e+=f+" ");e=S(e);h!==e&&g.setAttribute("class",e)}return this},removeClass:function(c){var b,g,e,h,f,m,k=0;if(q.isFunction(c))return this.each(function(b){q(this).removeClass(c.call(this,b,V(this)))});if(!arguments.length)return this.attr("class","");if("string"==
typeof c&&c)for(b=c.match(pa)||[];g=this[k++];)if(h=V(g),e=1===g.nodeType&&" "+S(h)+" "){for(m=0;f=b[m++];)for(;-1<e.indexOf(" "+f+" ");)e=e.replace(" "+f+" "," ");e=S(e);h!==e&&g.setAttribute("class",e)}return this},toggleClass:function(c,b){var g=typeof c;return"boolean"==typeof b&&"string"===g?b?this.addClass(c):this.removeClass(c):q.isFunction(c)?this.each(function(g){q(this).toggleClass(c.call(this,g,V(this),b),b)}):this.each(function(){var b,e,h,f;if("string"===g)for(e=0,h=q(this),f=c.match(pa)||
[];b=f[e++];)h.hasClass(b)?h.removeClass(b):h.addClass(b);else void 0!==c&&"boolean"!==g||(b=V(this),b&&U.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===c?"":U.get(this,"__className__")||""))})},hasClass:function(c){var b,g=0;for(c=" "+c+" ";b=this[g++];)if(1===b.nodeType&&-1<(" "+S(V(b))+" ").indexOf(c))return!0;return!1}});var Ub=/\r/g;q.fn.extend({val:function(c){var b,g,e,h=this[0];if(arguments.length)return e=q.isFunction(c),this.each(function(g){var h;1===this.nodeType&&
(h=e?c.call(this,g,q(this).val()):c,null==h?h="":"number"==typeof h?h+="":q.isArray(h)&&(h=q.map(h,function(c){return null==c?"":c+""})),b=q.valHooks[this.type]||q.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,h,"value")||(this.value=h))});if(h)return b=q.valHooks[h.type]||q.valHooks[h.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(g=b.get(h,"value"))?g:(g=h.value,"string"==typeof g?g.replace(Ub,""):null==g?"":g)}});q.extend({valHooks:{option:{get:function(c){var b=q.find.attr(c,
"value");return null!=b?b:S(q.text(c))}},select:{get:function(c){var b,g,e=c.options,h=c.selectedIndex,f="select-one"===c.type,m=f?null:[],k=f?h+1:e.length;for(g=0>h?k:f?h:0;g<k;g++)if(b=e[g],!(!b.selected&&g!==h||b.disabled||b.parentNode.disabled&&q.nodeName(b.parentNode,"optgroup"))){if(c=q(b).val(),f)return c;m.push(c)}return m},set:function(c,b){for(var g,e,h=c.options,f=q.makeArray(b),m=h.length;m--;)e=h[m],(e.selected=-1<q.inArray(q.valHooks.option.get(e),f))&&(g=!0);return g||(c.selectedIndex=
-1),f}}}});q.each(["radio","checkbox"],function(){q.valHooks[this]={set:function(c,b){if(q.isArray(b))return c.checked=-1<q.inArray(q(c).val(),b)}};aa.checkOn||(q.valHooks[this].get=function(c){return null===c.getAttribute("value")?"on":c.value})});var lb=/^(?:focusinfocus|focusoutblur)$/;q.extend(q.event,{trigger:function(b,g,e,h){var f,k,m,r,n,u,p,y=[e||I],v=Ba.call(b,"type")?b.type:b;f=Ba.call(b,"namespace")?b.namespace.split("."):[];if(k=m=e=e||I,3!==e.nodeType&&8!==e.nodeType&&!lb.test(v+q.event.triggered)&&
(-1<v.indexOf(".")&&(f=v.split("."),v=f.shift(),f.sort()),n=0>v.indexOf(":")&&"on"+v,b=b[q.expando]?b:new q.Event(v,"object"==typeof b&&b),b.isTrigger=h?2:3,b.namespace=f.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),g=null==g?[b]:q.makeArray(g,[b]),p=q.event.special[v]||{},h||!p.trigger||!1!==p.trigger.apply(e,g))){if(!h&&!p.noBubble&&!q.isWindow(e)){r=p.delegateType||v;for(lb.test(r+v)||(k=k.parentNode);k;k=
k.parentNode)y.push(k),m=k;m===(e.ownerDocument||I)&&y.push(m.defaultView||m.parentWindow||c)}for(f=0;(k=y[f++])&&!b.isPropagationStopped();)b.type=1<f?r:p.bindType||v,(u=(U.get(k,"events")||{})[b.type]&&U.get(k,"handle"))&&u.apply(k,g),(u=n&&k[n])&&u.apply&&La(k)&&(b.result=u.apply(k,g),!1===b.result&&b.preventDefault());return b.type=v,h||b.isDefaultPrevented()||p._default&&!1!==p._default.apply(y.pop(),g)||!La(e)||n&&q.isFunction(e[v])&&!q.isWindow(e)&&(m=e[n],m&&(e[n]=null),q.event.triggered=
v,e[v](),q.event.triggered=void 0,m&&(e[n]=m)),b.result}},simulate:function(c,b,g){c=q.extend(new q.Event,g,{type:c,isSimulated:!0});q.event.trigger(c,null,b)}});q.fn.extend({trigger:function(c,b){return this.each(function(){q.event.trigger(c,b,this)})},triggerHandler:function(c,b){var g=this[0];if(g)return q.event.trigger(c,b,g,!0)}});q.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),
function(c,b){q.fn[b]=function(c,g){return 0<arguments.length?this.on(b,null,c,g):this.trigger(b)}});q.fn.extend({hover:function(c,b){return this.mouseenter(c).mouseleave(b||c)}});aa.focusin="onfocusin"in c;aa.focusin||q.each({focus:"focusin",blur:"focusout"},function(c,b){var g=function(c){q.event.simulate(b,c.target,q.event.fix(c))};q.event.special[b]={setup:function(){var e=this.ownerDocument||this,h=U.access(e,b);h||e.addEventListener(c,g,!0);U.access(e,b,(h||0)+1)},teardown:function(){var e=
this.ownerDocument||this,h=U.access(e,b)-1;h?U.access(e,b,h):(e.removeEventListener(c,g,!0),U.remove(e,b))}}});var Ha=c.location,mb=q.now(),Ra=/\?/;q.parseXML=function(b){var g;if(!b||"string"!=typeof b)return null;try{g=(new c.DOMParser).parseFromString(b,"text/xml")}catch(Ca){g=void 0}return g&&!g.getElementsByTagName("parsererror").length||q.error("Invalid XML: "+b),g};var Ab=/\[\]$/,nb=/\r?\n/g,Vb=/^(?:submit|button|image|reset|file)$/i,Wb=/^(?:input|select|textarea|keygen)/i;q.param=function(c,
b){var g,e=[],h=function(c,b){var g=q.isFunction(b)?b():b;e[e.length]=encodeURIComponent(c)+"="+encodeURIComponent(null==g?"":g)};if(q.isArray(c)||c.jquery&&!q.isPlainObject(c))q.each(c,function(){h(this.name,this.value)});else for(g in c)ia(g,c[g],b,h);return e.join("&")};q.fn.extend({serialize:function(){return q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var c=q.prop(this,"elements");return c?q.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&
!q(this).is(":disabled")&&Wb.test(this.nodeName)&&!Vb.test(c)&&(this.checked||!hb.test(c))}).map(function(c,b){var g=q(this).val();return null==g?null:q.isArray(g)?q.map(g,function(c){return{name:b.name,value:c.replace(nb,"\r\n")}}):{name:b.name,value:g.replace(nb,"\r\n")}}).get()}});var Xb=/%20/g,Yb=/#.*$/,Zb=/([?&])_=[^&]*/,$b=/^(.*?):[ \t]*([^\r\n]*)$/gm,ac=/^(?:GET|HEAD)$/,bc=/^\/\//,ob={},Oa={},pb="*/".concat("*"),Sa=I.createElement("a");Sa.href=Ha.href;q.extend({active:0,lastModified:{},etag:{},
ajaxSettings:{url:Ha.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ha.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":pb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,
"text html":!0,"text json":JSON.parse,"text xml":q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,b){return b?da(da(c,q.ajaxSettings),b):da(q.ajaxSettings,c)},ajaxPrefilter:ja(ob),ajaxTransport:ja(Oa),ajax:function(b,g){function e(b,g,e,m){var n,y,v,I,E=g;if(!u){u=!0;r&&c.clearTimeout(r);h=void 0;k=m||"";D.readyState=0<b?4:0;m=200<=b&&300>b||304===b;if(e){v=A;for(var oa=D,fa,M,H,B,J=v.contents,G=v.dataTypes;"*"===G[0];)G.shift(),void 0===fa&&(fa=v.mimeType||oa.getResponseHeader("Content-Type"));
if(fa)for(M in J)if(J[M]&&J[M].test(fa)){G.unshift(M);break}if(G[0]in e)H=G[0];else{for(M in e){if(!G[0]||v.converters[M+" "+G[0]]){H=M;break}B||(B=M)}H=H||B}e=H?(H!==G[0]&&G.unshift(H),e[H]):void 0;v=e}var P;a:{e=A;fa=v;M=D;H=m;var w,R,ea;v={};oa=e.dataTypes.slice();if(oa[1])for(w in e.converters)v[w.toLowerCase()]=e.converters[w];for(B=oa.shift();B;)if(e.responseFields[B]&&(M[e.responseFields[B]]=fa),!ea&&H&&e.dataFilter&&(fa=e.dataFilter(fa,e.dataType)),ea=B,B=oa.shift())if("*"===B)B=ea;else if("*"!==
ea&&ea!==B){if(w=v[ea+" "+B]||v["* "+B],!w)for(P in v)if(R=P.split(" "),R[1]===B&&(w=v[ea+" "+R[0]]||v["* "+R[0]])){!0===w?w=v[P]:!0!==v[P]&&(B=R[0],oa.unshift(R[1]));break}if(!0!==w)if(w&&e["throws"])fa=w(fa);else try{fa=w(fa)}catch(Fb){P={state:"parsererror",error:w?Fb:"No conversion from "+ea+" to "+B};break a}}P={state:"success",data:fa}}v=P;m?(A.ifModified&&(I=D.getResponseHeader("Last-Modified"),I&&(q.lastModified[f]=I),I=D.getResponseHeader("etag"),I&&(q.etag[f]=I)),204===b||"HEAD"===A.type?
E="nocontent":304===b?E="notmodified":(E=v.state,n=v.data,y=v.error,m=!y)):(y=E,!b&&E||(E="error",0>b&&(b=0)));D.status=b;D.statusText=(g||E)+"";m?F.resolveWith(t,[n,E,D]):F.rejectWith(t,[D,E,y]);D.statusCode(C);C=void 0;p&&x.trigger(m?"ajaxSuccess":"ajaxError",[D,A,m?n:y]);z.fireWith(t,[D,E]);p&&(x.trigger("ajaxComplete",[D,A]),--q.active||q.event.trigger("ajaxStop"))}}"object"==typeof b&&(g=b,b=void 0);g=g||{};var h,f,k,m,r,n,u,p,y,v,A=q.ajaxSetup({},g),t=A.context||A,x=A.context&&(t.nodeType||
t.jquery)?q(t):q.event,F=q.Deferred(),z=q.Callbacks("once memory"),C=A.statusCode||{},E={},oa={},fa="canceled",D={readyState:0,getResponseHeader:function(c){var b;if(u){if(!m)for(m={};b=$b.exec(k);)m[b[1].toLowerCase()]=b[2];b=m[c.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return u?k:null},setRequestHeader:function(c,b){return null==u&&(c=oa[c.toLowerCase()]=oa[c.toLowerCase()]||c,E[c]=b),this},overrideMimeType:function(c){return null==u&&(A.mimeType=c),this},statusCode:function(c){var b;
if(c)if(u)D.always(c[D.status]);else for(b in c)C[b]=[C[b],c[b]];return this},abort:function(c){c=c||fa;return h&&h.abort(c),e(0,c),this}};if(F.promise(D),A.url=((b||A.url||Ha.href)+"").replace(bc,Ha.protocol+"//"),A.type=g.method||g.type||A.method||A.type,A.dataTypes=(A.dataType||"*").toLowerCase().match(pa)||[""],null==A.crossDomain){n=I.createElement("a");try{n.href=A.url,n.href=n.href,A.crossDomain=Sa.protocol+"//"+Sa.host!=n.protocol+"//"+n.host}catch(Pa){A.crossDomain=!0}}if(A.data&&A.processData&&
"string"!=typeof A.data&&(A.data=q.param(A.data,A.traditional)),W(ob,A,g,D),u)return D;(p=q.event&&A.global)&&0===q.active++&&q.event.trigger("ajaxStart");A.type=A.type.toUpperCase();A.hasContent=!ac.test(A.type);f=A.url.replace(Yb,"");A.hasContent?A.data&&A.processData&&0===(A.contentType||"").indexOf("application/x-www-form-urlencoded")&&(A.data=A.data.replace(Xb,"+")):(v=A.url.slice(f.length),A.data&&(f+=(Ra.test(f)?"&":"?")+A.data,delete A.data),!1===A.cache&&(f=f.replace(Zb,"$1"),v=(Ra.test(f)?
"&":"?")+"_="+mb++ +v),A.url=f+v);A.ifModified&&(q.lastModified[f]&&D.setRequestHeader("If-Modified-Since",q.lastModified[f]),q.etag[f]&&D.setRequestHeader("If-None-Match",q.etag[f]));(A.data&&A.hasContent&&!1!==A.contentType||g.contentType)&&D.setRequestHeader("Content-Type",A.contentType);D.setRequestHeader("Accept",A.dataTypes[0]&&A.accepts[A.dataTypes[0]]?A.accepts[A.dataTypes[0]]+("*"!==A.dataTypes[0]?", "+pb+"; q=0.01":""):A.accepts["*"]);for(y in A.headers)D.setRequestHeader(y,A.headers[y]);
if(A.beforeSend&&(!1===A.beforeSend.call(t,D,A)||u))return D.abort();if(fa="abort",z.add(A.complete),D.done(A.success),D.fail(A.error),h=W(Oa,A,g,D)){if(D.readyState=1,p&&x.trigger("ajaxSend",[D,A]),u)return D;A.async&&0<A.timeout&&(r=c.setTimeout(function(){D.abort("timeout")},A.timeout));try{u=!1,h.send(E,e)}catch(Pa){if(u)throw Pa;e(-1,Pa)}}else e(-1,"No Transport");return D},getJSON:function(c,b,g){return q.get(c,b,g,"json")},getScript:function(c,b){return q.get(c,void 0,b,"script")}});q.each(["get",
"post"],function(c,b){q[b]=function(c,g,e,h){return q.isFunction(g)&&(h=h||e,e=g,g=void 0),q.ajax(q.extend({url:c,type:b,dataType:h,data:g,success:e},q.isPlainObject(c)&&c))}});q._evalUrl=function(c){return q.ajax({url:c,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})};q.fn.extend({wrapAll:function(c){var b;return this[0]&&(q.isFunction(c)&&(c=c.call(this[0])),b=q(c,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var c=
this;c.firstElementChild;)c=c.firstElementChild;return c}).append(this)),this},wrapInner:function(c){return q.isFunction(c)?this.each(function(b){q(this).wrapInner(c.call(this,b))}):this.each(function(){var b=q(this),g=b.contents();g.length?g.wrapAll(c):b.append(c)})},wrap:function(c){var b=q.isFunction(c);return this.each(function(g){q(this).wrapAll(b?c.call(this,g):c)})},unwrap:function(c){return this.parent(c).not("body").each(function(){q(this).replaceWith(this.childNodes)}),this}});q.expr.pseudos.hidden=
function(c){return!q.expr.pseudos.visible(c)};q.expr.pseudos.visible=function(c){return!!(c.offsetWidth||c.offsetHeight||c.getClientRects().length)};q.ajaxSettings.xhr=function(){try{return new c.XMLHttpRequest}catch(m){}};var cc={0:200,1223:204},Ia=q.ajaxSettings.xhr();aa.cors=!!Ia&&"withCredentials"in Ia;aa.ajax=Ia=!!Ia;q.ajaxTransport(function(b){var g,e;if(aa.cors||Ia&&!b.crossDomain)return{send:function(h,f){var k,m=b.xhr();if(m.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(k in b.xhrFields)m[k]=
b.xhrFields[k];b.mimeType&&m.overrideMimeType&&m.overrideMimeType(b.mimeType);b.crossDomain||h["X-Requested-With"]||(h["X-Requested-With"]="XMLHttpRequest");for(k in h)m.setRequestHeader(k,h[k]);g=function(c){return function(){g&&(g=e=m.onload=m.onerror=m.onabort=m.onreadystatechange=null,"abort"===c?m.abort():"error"===c?"number"!=typeof m.status?f(0,"error"):f(m.status,m.statusText):f(cc[m.status]||m.status,m.statusText,"text"!==(m.responseType||"text")||"string"!=typeof m.responseText?{binary:m.response}:
{text:m.responseText},m.getAllResponseHeaders()))}};m.onload=g();e=m.onerror=g("error");void 0!==m.onabort?m.onabort=e:m.onreadystatechange=function(){4===m.readyState&&c.setTimeout(function(){g&&e()})};g=g("abort");try{m.send(b.hasContent&&b.data||null)}catch(ub){if(g)throw ub;}},abort:function(){g&&g()}}});q.ajaxPrefilter(function(c){c.crossDomain&&(c.contents.script=!1)});q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},
converters:{"text script":function(c){return q.globalEval(c),c}}});q.ajaxPrefilter("script",function(c){void 0===c.cache&&(c.cache=!1);c.crossDomain&&(c.type="GET")});q.ajaxTransport("script",function(c){if(c.crossDomain){var b,g;return{send:function(e,h){b=q("<script>").prop({charset:c.scriptCharset,src:c.url}).on("load error",g=function(c){b.remove();g=null;c&&h("error"===c.type?404:200,c.type)});I.head.appendChild(b[0])},abort:function(){g&&g()}}}});var qb=[],Ta=/(=)\?(?=&|$)|\?\?/;q.ajaxSetup({jsonp:"callback",
jsonpCallback:function(){var c=qb.pop()||q.expando+"_"+mb++;return this[c]=!0,c}});q.ajaxPrefilter("json jsonp",function(b,g,e){var h,f,k,m=!1!==b.jsonp&&(Ta.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ta.test(b.data)&&"data");if(m||"jsonp"===b.dataTypes[0])return h=b.jsonpCallback=q.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,m?b[m]=b[m].replace(Ta,"$1"+h):!1!==b.jsonp&&(b.url+=(Ra.test(b.url)?"&":"?")+b.jsonp+
"="+h),b.converters["script json"]=function(){return k||q.error(h+" was not called"),k[0]},b.dataTypes[0]="json",f=c[h],c[h]=function(){k=arguments},e.always(function(){void 0===f?q(c).removeProp(h):c[h]=f;b[h]&&(b.jsonpCallback=g.jsonpCallback,qb.push(h));k&&q.isFunction(f)&&f(k[0]);k=f=void 0}),"script"});aa.createHTMLDocument=function(){var c=I.implementation.createHTMLDocument("").body;return c.innerHTML="<form></form><form></form>",2===c.childNodes.length}();q.parseHTML=function(c,b,g){if("string"!=
typeof c)return[];"boolean"==typeof b&&(g=b,b=!1);var e,h,f;return b||(aa.createHTMLDocument?(b=I.implementation.createHTMLDocument(""),e=b.createElement("base"),e.href=I.location.href,b.head.appendChild(e)):b=I),h=db.exec(c),f=!g&&[],h?[b.createElement(h[1])]:(h=F([c],b,f),f&&f.length&&q(f).remove(),q.merge([],h.childNodes))};q.fn.load=function(c,b,g){var e,h,f,k=this,m=c.indexOf(" ");return-1<m&&(e=S(c.slice(m)),c=c.slice(0,m)),q.isFunction(b)?(g=b,b=void 0):b&&"object"==typeof b&&(h="POST"),0<
k.length&&q.ajax({url:c,type:h||"GET",dataType:"html",data:b}).done(function(c){f=arguments;k.html(e?q("<div>").append(q.parseHTML(c)).find(e):c)}).always(g&&function(c,b){k.each(function(){g.apply(this,f||[c.responseText,b,c])})}),this};q.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(c,b){q.fn[b]=function(c){return this.on(b,c)}});q.expr.pseudos.animated=function(c){return q.grep(q.timers,function(b){return c===b.elem}).length};q.offset={setOffset:function(c,
b,g){var e,h,f,k,m,r,n=q.css(c,"position"),u=q(c),p={};"static"===n&&(c.style.position="relative");m=u.offset();f=q.css(c,"top");r=q.css(c,"left");("absolute"===n||"fixed"===n)&&-1<(f+r).indexOf("auto")?(e=u.position(),k=e.top,h=e.left):(k=parseFloat(f)||0,h=parseFloat(r)||0);q.isFunction(b)&&(b=b.call(c,g,q.extend({},m)));null!=b.top&&(p.top=b.top-m.top+k);null!=b.left&&(p.left=b.left-m.left+h);"using"in b?b.using.call(c,p):u.css(p)}};q.fn.extend({offset:function(c){if(arguments.length)return void 0===
c?this:this.each(function(b){q.offset.setOffset(this,c,b)});var b,g,e,h,f=this[0];if(f)return f.getClientRects().length?(e=f.getBoundingClientRect(),e.width||e.height?(h=f.ownerDocument,g=ga(h),b=h.documentElement,{top:e.top+g.pageYOffset-b.clientTop,left:e.left+g.pageXOffset-b.clientLeft}):e):{top:0,left:0}},position:function(){if(this[0]){var c,b,g=this[0],e={top:0,left:0};return"fixed"===q.css(g,"position")?b=g.getBoundingClientRect():(c=this.offsetParent(),b=this.offset(),q.nodeName(c[0],"html")||
(e=c.offset()),e={top:e.top+q.css(c[0],"borderTopWidth",!0),left:e.left+q.css(c[0],"borderLeftWidth",!0)}),{top:b.top-e.top-q.css(g,"marginTop",!0),left:b.left-e.left-q.css(g,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent;c&&"static"===q.css(c,"position");)c=c.offsetParent;return c||Ma})}});q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,b){var g="pageYOffset"===b;q.fn[c]=function(e){return va(this,function(c,e,h){var f=ga(c);
return void 0===h?f?f[b]:c[e]:void(f?f.scrollTo(g?f.pageXOffset:h,g?h:f.pageYOffset):c[e]=h)},c,e,arguments.length)}});q.each(["top","left"],function(c,b){q.cssHooks[b]=Q(aa.pixelPosition,function(c,g){if(g)return g=O(c,b),Na.test(g)?q(c).position()[b]+"px":g})});q.each({Height:"height",Width:"width"},function(c,b){q.each({padding:"inner"+c,content:b,"":"outer"+c},function(g,e){q.fn[e]=function(h,f){var k=arguments.length&&(g||"boolean"!=typeof h),r=g||(!0===h||!0===f?"margin":"border");return va(this,
function(b,g,h){var f;return q.isWindow(b)?0===e.indexOf("outer")?b["inner"+c]:b.document.documentElement["client"+c]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+c],f["scroll"+c],b.body["offset"+c],f["offset"+c],f["client"+c])):void 0===h?q.css(b,g,r):q.style(b,g,h,r)},b,k?h:void 0,k)}})});q.fn.extend({bind:function(c,b,g){return this.on(c,null,b,g)},unbind:function(c,b){return this.off(c,null,b)},delegate:function(c,b,g,e){return this.on(b,c,g,e)},undelegate:function(c,b,g){return 1===
arguments.length?this.off(c,"**"):this.off(b,c||"**",g)}});q.parseJSON=JSON.parse;"function"==typeof define&&define.amd&&define("jquery",[],function(){return q});var dc=c.jQuery,ec=c.$;return q.noConflict=function(b){return c.$===q&&(c.$=ec),b&&c.jQuery===q&&(c.jQuery=dc),q},b||(c.jQuery=c.$=q),q});var engine2D=window.engine2D||{};engine2D.drawDoor=function(c){void 0!==scene2DDoorGroup[c].children[0]&&(scene2DDoorGroup[c].visible=!0,paper.project.layers.push(scene2DDoorGroup[c]))};
engine2D.makeDoor=function(c,b,e,f,k,p,n,t){k="hinge.single";c=new paper.Group;f=new paper.Path;t=new paper.Path;var h=new paper.Group,r=new paper.Group,g=new paper.Path,y=new paper.Path;f.moveTo(new paper.Point(0,0));f.lineTo(new paper.Point(b,0));t.moveTo(new paper.Point(0,0));t.lineTo(new paper.Point(b,0));t.strokeColor="#ffff";t.strokeWidth=22;f.strokeColor="#000000";f.strokeWidth=10;g.moveTo(new paper.Point(10,-12));g.lineTo(new paper.Point(10,12));y.moveTo(new paper.Point(f.length-10,-12));
y.lineTo(new paper.Point(f.length-10,12));g.strokeColor=y.strokeColor="#00CC33";g.strokeWidth=y.strokeWidth=3;h.opacity=r.opacity=0;b=new paper.Path.RegularPolygon(new paper.Point(0,0),3,12);var z=new paper.Path.RegularPolygon(new paper.Point(f.length,0),3,12);b.rotate(30);z.rotate(-30);b.fillColor=z.fillColor="#00CC33";h.addChild(g);h.addChild(b);r.addChild(y);r.addChild(z);c.addChild(t);c.addChild(f);c.addChild(h);c.addChild(r);f.group=c;"fold.single"===k?engine2D.makeFoldSingleDoor(c,f,h,r,p,n):
"fold.double"===k?engine2D.makeFoldDoubleDoor(c,f,h,r,p,n):"hinge.single"===k?engine2D.makeHingeSingleDoor(c,f,h,r,p,n):"hinge.double"===k&&engine2D.makeHingeDoubleDoor(c,f,h,r,p,n);c.position=new paper.Point(e.x,e.y);return c};
engine2D.makeFoldSingleDoor=function(c,b,e,f,k,p){var n,t,h,r=new paper.Path,g=new paper.Path;r.strokeColor="#000000";r.strokeWidth=4;"right"===k?(t=new paper.Point(0,0),h=new paper.Point(b.length,0)):"left"===k&&(t=new paper.Point(b.length,0),h=new paper.Point(0,0));r.moveTo(h);"in"===p?(r.lineTo(new paper.Point(h.x,h.y+b.length/2)),k=-45):(r.lineTo(new paper.Point(h.x,h.y-b.length/2)),k=45);g=r.clone();g.rotate(k,g.segments[1].point);t=new paper.Path.Line(t,void 0);c.addChild(t);c.addChild(r);c.addChild(g);
e.attach("mousedrag",function(c){});f.attach("mousedrag",function(c){});b.attach("mouseenter",function(){e.opacity=1;f.opacity=1;e.drag=!1;f.drag=!1});b.attach("mousemove",function(){clearTimeout(n);n=setTimeout(function(){e.opacity=0;f.opacity=0},400)});c.attach("mousedrag",function(b){!0!==e.drag&&!0!==f.drag&&(c.position=b.point,e.opacity=0,f.opacity=0)})};engine2D.makeFoldDoubleDoor=function(c,b,e,f,k,p){};engine2D.makeHingeDoubleDoor=function(c,b,e,f,k,p){};
engine2D.makeHingeSingleDoor=function(c,b,e,f,k,p){function n(g,e,h){g.drag=!0;g.position.x=e.point.x;g.opacity=1;f.opacity=1;b.segments[h].point.x=e.point.x;guide.segments[h].point.x=e.point.x;x.segments[1].point.y="in"===p?x.segments[0].point.y+b.length:x.segments[0].point.y-b.length;F.clear();D.clear();J.clear();H.clear();w.clear();"right"===k&&(0===h?F=new Path.Arc(e.point,new Point(x.segments[0].point.x-b.length*u,x.segments[0].point.y-b.length*v),new Point(x.segments[1].point.x,x.segments[1].point.y)):
(x.segments[0].point.x=e.point.x,x.segments[1].point.x=e.point.x,y=x.segments[0].point.x-b.length*u,z=x.segments[0].point.y-b.length*v,F=new Path.Arc(new Point(b.segments[0].point.x,b.segments[0].point.y),new Point(y,z),new Point(x.segments[1].point.x,x.segments[1].point.y))),F.strokeColor="#000000",F.strokeWidth=1,D=new Path.Arc(new Point(b.segments[1].point.x,b.segments[1].point.y-b.length),new Point(b.segments[0].point.x,b.segments[0].point.y),new Point(b.segments[1].point.x,b.segments[1].point.y+
b.length)),J=new Path.Arc(new Point(b.segments[0].point.x,b.segments[0].point.y-b.length),new Point(b.segments[1].point.x,b.segments[1].point.y),new Point(b.segments[0].point.x,b.segments[0].point.y+b.length)),H=D.clone(),w=J.clone(),D.strokeColor=J.strokeColor="#000000",D.strokeWidth=J.strokeWidth=1,D.dashArray=J.dashArray=[10,10],D.opacity=J.opacity=0,H.strokeColor=w.strokeColor="#000000",H.strokeWidth=w.strokeWidth=20,H.opacity=w.opacity=0,c.appendBottom(F),c.appendBottom(H),c.appendBottom(D),
c.appendBottom(w),c.appendBottom(J))}var t,h,r,g,y,z;r=Math.PI/180*45;var u=Math.sin(r),v=Math.cos(r),x=new paper.Path;x.strokeColor="#000000";x.strokeWidth=4;var C=new paper.Path.Circle(new paper.Point(0,0),10);C.fillColor="#FFCC00";C.opacity=0;"right"===k?(h=new paper.Point(0,0),g=new paper.Point(b.length,0)):"left"===k&&(h=new paper.Point(b.length,0),g=new paper.Point(0,0));x.moveTo(g);"in"===p?(x.lineTo(new paper.Point(g.x,g.y+b.length)),r=new paper.Point(g.x,g.y+b.length),y=g.x+b.length*u,z=
g.y+b.length*v):(x.lineTo(new paper.Point(g.x,g.y-b.length)),r=new paper.Point(g.x,g.y-b.length),y=g.x-b.length*u,z=g.y-b.length*v);var F=new paper.Path.Arc(h,new paper.Point(y,z),r);F.strokeColor="#000000";F.strokeWidth=1;h=new paper.Point(b.length,0-b.length);r=new paper.Point(b.length,0+b.length);mp=new paper.Point(0,0);var D=new paper.Path.Arc(h,mp,r),H=new paper.Path.Arc(h,mp,r);h=new paper.Point(0,0-b.length);r=new paper.Point(0,0+b.length);mp=new paper.Point(0,b.length);var J=new paper.Path.Arc(h,
mp,r),w=new paper.Path.Arc(h,mp,r);D.strokeColor=J.strokeColor="#000000";D.strokeWidth=J.strokeWidth=1;D.dashArray=J.dashArray=[10,10];D.opacity=J.opacity=0;H.strokeColor=w.strokeColor="#000000";H.strokeWidth=w.strokeWidth=20;H.opacity=w.opacity=0;c.addChild(x);c.addChild(F);c.addChild(H);c.addChild(D);c.addChild(w);c.addChild(J);c.addChild(C);b.attach("mouseenter",function(){e.opacity=1;f.opacity=1;e.drag=!1;f.drag=!1;C.opacity=0;D.opacity=0;J.opacity=0});b.attach("mousemove",function(){clearTimeout(t);
t=setTimeout(function(){e.opacity=0;f.opacity=0},400)});e.attach("mousedrag",function(c){n(this,c,0)});f.attach("mousedrag",function(c){n(this,c,1)});H.on("mouseenter",function(){e.opacity=0;f.opacity=0;C.opacity=1;D.opacity=1;J.opacity=0;F.opacity=.1;x.opacity=.1});H.attach("mousemove",function(c){clearTimeout(t);C.position=c.point;t=setTimeout(function(){C.opacity=0;D.opacity=0;F.opacity=1;x.opacity=1},400)});w.attach("mouseenter",function(){e.opacity=0;f.opacity=0;C.opacity=1;D.opacity=0;J.opacity=
1;F.opacity=.1;x.opacity=.1});w.attach("mousemove",function(c){clearTimeout(t);C.position=c.point;t=setTimeout(function(){C.opacity=0;J.opacity=0;F.opacity=1;x.opacity=1},400)});c.attach("mousedrag",function(b){!0!==e.drag&&!0!==f.drag&&(c.position=b.point,e.opacity=0,f.opacity=0,C.opacity=0,D.opacity=0,J.opacity=0)})};engine2D=window.engine2D||{};
engine2D.show=function(){console.log("engine2d.show()");engineGUI.scene="2d";engine3D.freeMemory();engine2D.freeMemory();engine3D.hide();engine2D.makeGrid();$("#engine2D").show();engineGUI.menuToggleRight("menuRight",!0);engineGUI.menuToggleLeft("menuLeft2D",!0);$("#menuFloorSelector").show();$("#menuBottomPlan").show();var c=document.getElementById("zoom2DProgress");c&&(zoom2Dimg=new Image,zoom2DCTX=c.getContext("2d"),zoom2DSlider=document.getElementById("zoom2DSlider"),zoom2Dimg.onload=drawImage,
zoom2Dimg.src="images/progress-tiles.jpg");$("#zoom2DLevel").show();engineGUI.menuSelect(6,"menuTopItem","#ff3700");engineGUI.menuCorrectHeight();engine2D.showFloor(engineGUI.floor)};
engine2D.showFloor=function(c){engineGUI.floor=c;void 0!==scene2DFloorShape[c]&&(engine2D.clear(),engine2D.drawFloor(engineGUI.floor),engine2D.drawWall(engineGUI.floor),engine2D.drawDoor(engineGUI.floor),engine2D.drawWindow(engineGUI.floor),engine2D.attachObjectsToWalls(engineGUI.floor,scene2DDoorGroup),engine2D.attachObjectsToWalls(engineGUI.floor,scene2DWindowGroup))};engine2D.addFloor=function(c){};
engine2D.clear=function(){for(var c=0;c<scene2DWallGroup.length;c++){for(var b=0;b<scene2DWallGroup[c].children.length;b++)scene2DWallGroup[c].children[b].visible=!1;scene2DFloorShape[c].visible=!1;scene2DLabelGroup[c].visible=!1;scene2DDoorGroup[c].visible=!1;scene2DWindowGroup[c].visible=!1}};
engine2D.hide=function(){$("#engine2D").hide();engineGUI.mousedrag=!1;if(void 0!==engine2D.canvas)for(var c=0;c<scene2DWallGroup.length;c++)engine2D.clear(c,!1);try{$("#menu2DTools").tooltipster("hide")}catch(b){}$("#menuLeft2D").hide();$("#menuRight2D").hide();$("#menuBottomPlan").hide()};
engine2D.drawGrid=function(c,b){for(var e=0;e<=paper.view.size.width;e+=c){var f=new paper.Path.Line(new paper.Point(e,0),new paper.Point(e,paper.view.size.width)),k=new paper.Path.Line(new paper.Point(0,e),new paper.Point(paper.view.size.width,e));f.strokeColor=k.strokeColor=b;engine2D.canvas.addChild(f);engine2D.canvas.addChild(k)}};
engine2D.makeGrid=function(){engine2D.canvas=new paper.Group;var c=new paper.Path.Circle(new paper.Point(0,0),450);c.fillColor="#CCCCCC";c.opacity=.2;c.position.x=paper.view.center.x+40;c.position.y=paper.view.center.y+80;var b=new paper.Path.Rectangle(new paper.Point(0,0),paper.view.viewSize);b.fillColor="#ffffff";engine2D.canvas.addChild(b);engine2D.canvas.addChild(c);engine2D.drawGrid(40,"#6dcff6");engine2D.drawGrid(20,"#E0E0E0")};
engine2D.lockObject=function(c){var b=scene2D.getObjects().filter(function(b){return b.id===c});!0===b[0].lockMovementX?(b[0].item(2).set({visible:!1}),b[0].set({lockMovementX:!1,lockMovementY:!1})):(b[0].item(2).set({visible:!0}),b[0].set({lockMovementX:!0,lockMovementY:!0}));return!1};
engine2D.collectArrayFromContainer=function(c){var b=[],e,f;for(f in scene2DWallMesh[c])"wall"===f.name&&(e={wall:"standard",interior:"",exterior:""},e.id=f.id,e.locked=f.lockMovementX,e.position.x1=f.item(0).path[0][1],e.position.y1=f.item(0).path[0][2],e.position.x2=f.item(0).path[1][3],e.position.y2=f.item(0).path[1][4],e.curve.x=f.item(0).path[1][1],e.curve.y=f.item(0).path[1][2],b.push(e));for(f in scene2DDoorMesh[c])"door"===f.name&&(e={},e.door=f.name,e.id=f.id,e.locked=f.lockMovementX,e.open=
f.open,e.direction=f.direction,e.position.x1=f.get("x1"),e.position.y1=f.get("y1"),e.position.x2=f.get("x2"),e.position.y2=f.get("y2"),e.position.z=f.z,e.curve.x=0,e.curve.y=0,b.push(e));return b};engine2D.freeMemory=function(){for(var c=paper.project.activeLayer.children,b=0;b<c.length-1;b++)c[b].remove()};engine2D=window.engine2D||{};engine2D.drawFloor=function(c){void 0!==scene2DFloorShape[c].children[0]&&(scene2DFloorShape[c].visible=!0,scene2DLabelGroup[c].visible=!0,paper.project.layers.push(scene2DFloorShape[c]),paper.project.layers.push(scene2DLabelGroup[c]),scene2DFloorShape[c].on("mousedown",engine2D.drawWall_onMouseDown),engine2D.calculateWallMeasureColor(c))};
engine2D.makeFloor=function(c){if(void 0!==scene2DWallGroup[c].children[0]){console.log("2D Floor Generate ["+c+"] "+scene2DWallGroup[c].children.length);var b=new paper.Path;b.closed=!0;var e=scene2DWallGroup[c].children[0].children[0].children[0],f=e.segments[0].point;b.moveTo(f);for(var k=0;k<scene2DWallGroup[c].children.length;k++)for(var e=scene2DWallGroup[c].children[k].children[4].children[0],p=0;p<scene2DWallGroup[c].children.length;p++){var n=scene2DWallGroup[c].children[p].children[4].children[0];
if(e.id!=n.id&&e.hitTest(n.segments[0].point)){b.quadraticCurveTo(f,n.segments[1].point);f=n.segments[1].point;break}}b.fillColor="#D8D8D8";b.remove();scene2DFloorShape[c]=new paper.Group([b]);var t=document.createElement("canvas");t.width=b.bounds.width;t.height=b.bounds.height;var h=t.getContext("2d"),e=new Image;e.src="objects/FloorPlan/Default/4.png";e.onload=function(){h.fillStyle=h.createPattern(this,"repeat");h.fillRect(0,0,b.bounds.width,b.bounds.height);h.fill();var e=new paper.Raster(t,
new paper.Point(b.bounds.x,b.bounds.y));e.fitBounds(b.bounds,!0);scene2DFloorShape[c]=new paper.Group([b,e]);scene2DFloorShape[c].clipped=!0};scene2DFloorShape[c].visible=!1}};engine2D.makeLabel=function(c,b,e,f,k){c=new paper.PointText;c.content=b+"\n"+e;c.justification="center";c.fontSize=28;c.position=new paper.Point(f,k);return c};
engine2D.fillFloor=function(c,b){for(var e=1,f={x:0,y:0},k=0;k<scene2DWallMesh[c].length;k++){var p=scene2DWallMesh[c][k],n={x:p.item(0).path[0][1],y:p.item(0).path[0][2]},t={x:p.item(0).path[1][3],y:p.item(0).path[1][4]};1==e&&(b.path[0][1]=n.x,b.path[0][2]=n.y);b.path[e][1]=p.item(0).path[1][1];b.path[e][2]=p.item(0).path[1][2];t.x==f.x&&t.y==f.y&&(t=n);b.path[e][3]=t.x;b.path[e][4]=t.y;f=t;e++}};engine2D=window.engine2D||{};engine2D.HistoryForward=function(){};engine2D.HistoryBack=function(){};engine2D.HistoryAdd=function(){};var engine2D=window.engine2D||{},panAndZoom;engine2D.initialize=function(){engine2D.canvas=document.getElementById("engine2D");paper.setup(engine2D.canvas);paper.view.setViewSize(window.innerWidth,window.innerHeight);panAndZoom=new SimplePanAndZoom;$("#engine2D").bind("mousewheel",function(c){if(c.shiftKey)paper.view.center=panAndZoom.changeCenter(paper.view.center,c.deltaX,c.deltaY,c.deltaFactor);else{var b=panAndZoom.changeZoom(paper.view.zoom,-c.deltaY);5>=b&&1<=b&&(paper.view.zoom=b)}return c.preventDefault()})};
engine2D["new"]=function(){};engine2D.newFloor=function(c){console.log("engine2D.newFloor "+c);scene2DWallMesh[c]=[];scene2DWallDimentions[c]=[];scene2DInteriorMesh[c]=[];scene2DExteriorMesh[c]=[];scene2DFloorShape[c]=new paper.Group;scene2DDoorGroup[c]=new paper.Group;scene2DWindowGroup[c]=new paper.Group;scene2DWallGroup[c]=new paper.Group;scene2DWallPointGroup[c]=new paper.Group;scene2DLabelGroup[c]=new paper.Group};
engine2D.open=function(){for(var c=0;c<json.plan.length;c++)engine2D.newFloor(c),$.each(json.plan[c],function(){void 0!==this.name&&console.log(this.name);void 0!==this.door&&scene2DDoorGroup[c].addChild(engine2D.makeDoor(c,this.length,{x:this.x,y:this.y},this.z,this.type,this.open,this.direction,this.door));void 0!==this.window&&scene2DWindowGroup[c].addChild(engine2D.makeWindow(c,this.length,{x:this.x,y:this.y},this.z,this.open,this.direction,this.window));void 0!==this.wall&&scene2DWallGroup[c].addChild(engine2D.makeWall(c,
{x:this.x1,y:this.y1},{x:this.x2,y:this.y2},{x:this.cx,y:this.cy},this.h));void 0!==this.label&&scene2DLabelGroup[c].addChild(engine2D.makeLabel(c,this.label,this.size,this.x,this.y))}),engine2D.makeFloor(c)};engine2D=window.engine2D||{};engine2D.makeStairs=function(c,b,e){c=new paper.Group;new paper.Path;return c};var engine2D=window.engine2D||{},drawWall={radius:4,tolerance:20,handle:null,path:null,curPoint:null,prevPoint:null,curHandleSeg:null};engine2D.drawWall=function(c){if(void 0!==scene2DWallGroup[c].children[0]){for(var b=0;b<scene2DWallGroup[c].children.length;b++)scene2DWallGroup[c].children[b].visible=!0;engine2D.calculateWallCorners(c);paper.project.layers.push(scene2DWallGroup[c]);paper.project.layers.push(scene2DWallPointGroup[c]);engine2D.canvas.on("mousedown",engine2D.drawWall_onMouseDown)}};
engine2D.drawWall_onMouseDown=function(c){this.on("mouseup",engine2D.drawWall_onMouseUp);this.on("mousedrag",engine2D.drawWall_onMouseDrag);drawWall.path=new paper.Path({segments:[c.point,c.point],strokeColor:"#ff5733",strokeWidth:10,strokeCap:"round"});drawWall.prevPoint=drawWall.path.firstSegment.point;drawWall.curPoint=drawWall.path.lastSegment.point;drawWall.curHandleSeg=null;drawWall.path.on("mouseup",engine2D.drawWall_onMouseUp);paper.project.layers.push(drawWall.path)};
engine2D.drawWall_onMouseUp=function(c){this.off("mouseup",engine2D.drawWall_onMouseUp);this.off("mousedrag",engine2D.drawWall_onMouseDrag);drawWall.path.off("mouseup",engine2D.drawWall_onMouseUp);for(c=0;c<drawWall.path.segments.length;c+=2){var b=drawWall.path.segments[c].point,e=drawWall.path.segments[c+1].point;console.log("Wall draw Segment "+b+":"+e);for(var b=new paper.Path({segments:[b,e]}),f,k,e=0;e<scene2DWallGroup[engineGUI.floor].children.length&&!(f=scene2DWallGroup[engineGUI.floor].children[e],
k=f.children[4].children[0].getIntersections(b),0<k.length);e++);if(0<k.length)for(b=0;b<k.length;b++)console.log("Convert to wall Path + Attach "+k[b].intersection.point),engine2D.splitWall(f,k[b]);else console.log("Convert to wall Path")}drawWall.path.visible=!1;drawWall.path.remove()};
engine2D.drawWall_onMouseDrag=function(c){var b=c.point;c=b.x-drawWall.prevPoint.x;var e=b.y-drawWall.prevPoint.y,f=(new paper.Point(c,e)).abs();f.x<f.y?(drawWall.curPoint.x=drawWall.prevPoint.x,drawWall.curPoint.y=b.y):(drawWall.curPoint.x=b.x,drawWall.curPoint.y=drawWall.prevPoint.y);c=drawWall.curPoint.x-drawWall.prevPoint.x;e=drawWall.curPoint.y-drawWall.prevPoint.y;b=new paper.Point(c,e);b.length=1;drawWall.curHandleSeg&&(c=drawWall.prevPoint.x+b.x*drawWall.radius,e=drawWall.prevPoint.y+b.y*
drawWall.radius,drawWall.curHandleSeg.point=new paper.Point(c,e),c=b.x*-drawWall.handle,e=b.y*-drawWall.handle,drawWall.curHandleSeg.handleIn=new paper.Point(c,e));Math.min(f.x,f.y)>drawWall.tolerance&&(c=drawWall.curPoint.x-b.x*drawWall.radius,e=drawWall.curPoint.y-b.y*drawWall.radius,c=new paper.Point(c,e),c=new paper.Segment(c,null,b*drawWall.handle),drawWall.path.insert(drawWall.path.segments.length-1,c),drawWall.curHandleSeg=drawWall.path.lastSegment,drawWall.prevPoint=drawWall.curHandleSeg.point.clone(),
drawWall.path.add(drawWall.curHandleSeg),drawWall.curPoint=drawWall.path.lastSegment.point)};
engine2D.makeWall=function(c,b,e,f,k){console.log("Wall "+b.x+":"+b.y+"-"+e.x+":"+e.y);c=new paper.Group;var p=new paper.Path;p.doors=[];p.windows=[];var n=new paper.Path.Circle(new paper.Point(f.x,f.y),10);n.fillColor="#33CCFF";n.opacity=.5;var t=new paper.Path.Circle(new paper.Point(0,0),8);t.fillColor="#FFCC00";t.visible=!1;p.moveTo(new paper.Point(b.x,b.y));p.quadraticCurveTo(new paper.Point(f.x,f.y),e.x,e.y);b=p.clone();b.strokeColor="#00FF00";b.strokeWidth=1;b.visible=!1;e=new paper.Path;f=
new paper.Path;var h=new paper.PointText,r=new paper.Path.Rectangle(new paper.Rectangle(0,0,50,18)),g=new paper.Group,y=new paper.Group;g.fontSize=y.fontSize=14;r.fillColor="#ffffff";var z=p.segments[0].point.subtract(p.segments[1].point).angle;e=engine2D.pathOffset(p,-20,1);f=engine2D.pathOffset(p,20,1);h.rotation=z;r.rotation=z;h.content=(e.children[0].length/100).toFixed(1)+"m";r.position=e.position;h.position=e.position;g.addChild(r.clone());g.addChild(h.clone());h.content=(f.children[0].length/
100).toFixed(1)+"m";r.position=f.position;h.position=f.position;y.addChild(r);y.addChild(h.clone());h.remove();p.strokeColor="black";p.strokeWidth=20;120>p.length&&(n.visible=!1,t.visible=!1);80>p.length&&(e.visible=!1,f.visible=!1,g.visible=!1,y.visible=!1);h=new paper.Group([p]);c.addChild(e);c.addChild(f);c.addChild(g);c.addChild(y);c.addChild(h);c.addChild(b);c.addChild(t);c.addChild(n);c.addChild(engine2D.calculatePathOffset(p,-10,1,1.5));c.addChild(engine2D.calculatePathOffset(p,10,1,1.5));
paper.project.layers.push(c);n.attach("mouseenter",function(){this.opacity=1});n.attach("mouseleave",function(){this.opacity=.5});n.attach("doubleclick",function(c){c=new paper.Path;c.moveTo(p.segments[0].point);c.lineTo(p.segments[1].point);onPathDrag(this.parent,c.getLocationAt(c.length/2))});n.attach("mousedrag",function(c){onPathDrag(this.parent,c)});h.on("mouseenter",engine2D.wall_onMouseEnter);h.on("mousemove",engine2D.wall_onMouseMove);h.on("mouseleave",engine2D.wall_onMouseLeave);onPathDrag=
function(c,b){c.children[7].position=b.point;var g=c.children[4].children[0],e=c.children[5],h=g.segments[0].point,f=g.segments[1].point;g.clear();g.moveTo(h);g.quadraticCurveTo(b.point,f);e.clear();e.moveTo(h);e.quadraticCurveTo(b.point,f)};onPathTouchDrag=function(c){c=c.originalEvent.changedTouches[0];onPathDrag({clientX:c.pageX,clientY:c.pageY});return!1};c.h=k;return c};
engine2D.wall_onMouseEnter=function(c){this.children[0].parent.parent.children[5].visible=!0;this.children[0].parent.parent.children[6].visible=!0};engine2D.wall_onMouseLeave=function(c){this.children[0].parent.parent.children[5].visible=!1;this.children[0].parent.parent.children[6].visible=!1};engine2D.wall_onMouseMove=function(c){this.children[0].parent.parent.children[6].position=this.children[0].getNearestPoint(c.point)};
engine2D.edge_onMouseEnter=function(c){this.children[2].opacity=1;this.children[3].opacity=1;this.on("mousedown",engine2D.edge_onMouseDown);this.on("mouseleave",engine2D.edge_onMouseLeave)};engine2D.edge_onMouseLeave=function(c){this.children[2].opacity=0;this.children[3].opacity=0};engine2D.wallRelativePoints=function(c,b,e){var f=c.point,k=e[1].point;b.hitTest(k)&&(f=e[0].point,k=c.point);return{start:f,end:k}};
engine2D.edge_onMouseDrag=function(c){!1===this.dragging&&(this.dragging=!0,this.off("mouseenter",engine2D.edge_onMouseEnter),this.off("mouseleave",engine2D.edge_onMouseLeave));for(i=0;i<this.attachments.length;i++){var b=this.attachments[i];b.parent.parent.children[7].visible=120<b.length?!0:!1;var e=engine2D.wallRelativePoints(c,this.children[2],b.segments),f=b.segments[0].point.x+b.segments[1].point.x,k=b.segments[0].point.y+b.segments[1].point.y,p=b.segments[0].point.subtract(b.segments[1].point).angle,
n=e.start.subtract(e.end).angle,f=new paper.Point(f/2,k/2),k=b.doors.length;if(0<k)for(d=0;d<k;d++)b.doors[d].rotate(n-p),b.doors[d].position=f;else b.parent.parent.children[7].position=f;b.clear();b.moveTo(e.start);b.quadraticCurveTo(f,e.end);b.parent.parent.children[0].clear();b.parent.parent.children[1].clear();b.parent.parent.children[0]=engine2D.pathOffset(b,-20,1,b.parent.parent.children[0].strokeColor);b.parent.parent.children[1]=engine2D.pathOffset(b,20,1,b.parent.parent.children[1].strokeColor);
b.parent.parent.children[2].position=b.parent.parent.children[0].children[0].getLocationAt(b.parent.parent.children[0].children[0].length/2).point;b.parent.parent.children[3].position=b.parent.parent.children[1].children[0].getLocationAt(b.parent.parent.children[1].children[0].length/2).point;b.parent.parent.children[2].children[0].rotation=n-p;b.parent.parent.children[3].children[0].rotation=n-p;b.parent.parent.children[2].children[1].rotation=p;b.parent.parent.children[3].children[1].rotation=p;
b.parent.parent.children[2].children[1].content=(b.parent.parent.children[0].children[0].length/100).toFixed(2)+"m";b.parent.parent.children[3].children[1].content=(b.parent.parent.children[1].children[0].length/100).toFixed(2)+"m";b.parent.parent.children[8]=engine2D.calculatePathOffset(b,-10,1,1.5);b.parent.parent.children[9]=engine2D.calculatePathOffset(b,10,1,1.5)}this.position=c.point;engine2D.edgeSmashCorner(this)};
engine2D.edgeSmashCorner=function(c){if(2<=c.attachments.length)for(var b=0;b<c.attachments.length;b+=2)if(void 0!==c.attachments[b+1]){var e=engine2D.calculateWallAngle(c.attachments[b],c.attachments[b+1]),e=Math.abs(e)+180,e=Math.abs(e-360);c.children[4].children[3].content=Math.round(e)+"\u00b0";c.children[4].children[0].clear();c.children[4].children[1].clear();var e=c.attachments[b].parent.parent.children[9].getIntersections(c.attachments[b+1].parent.parent.children[9]),f=c.attachments[b].parent.parent.children[8].getIntersections(c.attachments[b+
1].parent.parent.children[8]),k=c.attachments[b].parent.parent.children[9].getIntersections(c.attachments[b+1].parent.parent.children[8]),p=c.attachments[b].parent.parent.children[8].getIntersections(c.attachments[b+1].parent.parent.children[9]);c.children[1].clear();e[0]&&(c.children[1].moveTo(e[0].point),k[0]&&p[0]&&(c.children[1].lineTo(k[0].point),c.children[1].lineTo(p[0].point)));f[0]&&(e[0]?c.children[1].lineTo(f[0].point):c.children[1].moveTo(f[0].point),k[0]&&p[0]&&(c.children[1].lineTo(k[0].point),
c.children[1].lineTo(p[0].point)))}};engine2D.edge_onMouseDown=function(c){this.on("mouseup",engine2D.edge_onMouseUp);this.on("mousedrag",engine2D.edge_onMouseDrag)};
engine2D.edge_onMouseUp=function(c){this.dragging=!1;this.off("mousedrag",engine2D.edge_onMouseDrag);for(i=0;i<this.attachments.length;i++){c=this.attachments[i];var b=c.parent.parent.children[5],e=this.attachments[i].getLocationAt(this.attachments[i].length/2).point;b.clear();b.moveTo(this.attachments[i].segments[0].point);b.quadraticCurveTo(e,this.attachments[i].segments[1].point);engine2D.calculateWallMeasureWidth(this,c.parent.parent.children[0]);engine2D.calculateWallMeasureWidth(this,c.parent.parent.children[1])}this.children[2].opacity=
0;this.children[3].opacity=0;this.off("mouseleave",engine2D.edge_onMouseLeave);this.off("mousedown",engine2D.edge_onMouseDown);this.on("mouseenter",engine2D.edge_onMouseEnter);engine2D.makeFloor(engineGUI.floor)};
paper.Shape.ArrowLine=function(c,b,e,f,k){function p(c,b,g,e){var h=[],f=Math.sqrt(Math.pow(g-c,2)+Math.pow(e-b,2));h[0]=g-10*((g-c)*Math.cos(.5)-(e-b)*Math.sin(.5))/f;h[1]=e-10*((e-b)*Math.cos(.5)+(g-c)*Math.sin(.5))/f;h[2]=g-10*((g-c)*Math.cos(.5)+(e-b)*Math.sin(.5))/f;h[3]=e-10*((e-b)*Math.cos(.5)-(g-c)*Math.sin(.5))/f;return h}var n=p(c,b,e,f),t=p(e,f,c,b),h=n[0],r=n[1],g=n[2],y=n[3],n=t[0],z=t[1],u=t[2],t=t[3],v=new paper.Path({segments:[new paper.Point(c,b),new paper.Point(e,f)],strokeWidth:1});
e=new paper.Path({segments:[new paper.Point(h,r),new paper.Point(e,f),new paper.Point(g,y)]});e=new paper.CompoundPath([v,e]);!0===k&&(c=new paper.Path({segments:[new paper.Point(n,z),new paper.Point(c,b),new paper.Point(u,t)]}),e.addChild(c));return e};engine2D.calculatePathOffset=function(c,b,e,f){for(var k=new paper.Path,p=0;p<e+1;p++){var n=p/e*c.length,t=c.getPointAt(n),n=c.getNormalAt(n);n.length=b;k.add(t.add(n))}k.scale(f);k.smooth();k.remove();return k};
engine2D.pathOffset=function(c,b,e,f){c=engine2D.calculatePathOffset(c,b,e,1);c=new paper.Shape.ArrowLine(c.segments[0].point.x,c.segments[0].point.y,c.segments[1].point.x,c.segments[1].point.y,!0);c.strokeColor=f;c.strokeWidth=1;return c};engine2D.calculateWallMeasureWidth=function(c,b){for(i=0;i<c.attachments.length;i++)for(l=0;2>l;l++)if(c.attachments[i].hitTest(b.children[0].segments[l].point)){b.scale(.8);break}};
engine2D.calculateWallMeasureColor=function(c,b){for(a=0;a<scene2DWallGroup[c].children.length;a++)for(l=0;2>l;l++){var e=scene2DWallGroup[c].children[a].children[l];scene2DFloorShape[c].hitTest(e.children[0].segments[0].point)?e.strokeColor="#606060":e.strokeColor="#000000"}};
engine2D.addWallCorner=function(c,b,e){b=new paper.Path.Circle(e,60);var f=new paper.Path.Circle(e,8);e=new paper.Path.Circle(e,17);e.strokeColor=f.fillColor="#00CC33";e.strokeWidth=3;e.opacity=f.opacity=0;var k=new paper.Path;k.fillColor="#000000";b=new paper.Group([b,k,f,e]);b.dragging=!1;b.attachments=[];b.on("mouseenter",engine2D.edge_onMouseEnter);scene2DWallPointGroup[c].addChild(b)};
engine2D.calculateWallCorners=function(c){console.log("Fix Wall Corner Geometry "+scene2DWallGroup[c].children.length);scene2DWallPointGroup[c]=new paper.Group;for(var b,e=0;e<scene2DWallGroup[c].children.length;e++)for(var f=scene2DWallGroup[c].children[e].children[4].children[0].segments,k=0;k<f.length;k++){var p=scene2DWallPointGroup[c].hitTest(f[k].point);if(p)for(var n=0;n<scene2DWallGroup[c].children.length;n++){b=p.item.parent;var t=scene2DWallGroup[c].children[n].children[4].children[0];t.hitTest(b.position)&&
b.attachments.push(t)}else engine2D.addWallCorner(c,f,f[k].point)}for(e=0;e<scene2DWallPointGroup[c].children.length;e++)b=scene2DWallPointGroup[c].children[e],engine2D.calculateWallEdge(b),engine2D.edgeSmashCorner(b)};
engine2D.calculateWallEdge=function(c){for(a=0;a<c.attachments.length&&void 0!==c.attachments[a+1];a+=2){var b=c.bounds.width/2,e=new paper.Path,f=new paper.Path,k=new paper.Path,p=new paper.Path.Arc,n=new paper.PointText;if(c.attachments[a].length>b&&c.attachments[a+1].length>b){p=new paper.Point(c.bounds.center.x,c.bounds.center.y);e=c.attachments[a].getLocationAt(b).point;f=c.attachments[a+1].getLocationAt(b).point;Math.round(p.subtract(e).length)>b&&(e=c.attachments[a].getLocationAt(c.attachments[a].length-
b).point);Math.round(p.subtract(f).length)>b&&(f=c.attachments[a+1].getLocationAt(c.attachments[a+1].length-b).point);e=new paper.Path.Line(p,e);f=new paper.Path.Line(p,f);e.strokeColor="#ffffff";e.strokeWidth=1;f.style=e.style;b=engine2D.calculateWallAngle(c.attachments[a],c.attachments[a+1]);k.add(e.segments[1].point);k.add(f.segments[1].point);var t=k.getLocationAt(k.length/2).point;n.position=t;k.clear();k.add(t);k.add(p);k.scale(2);t=k.segments[0].point;k.remove();p=new paper.Path.Arc(e.segments[1].point,
t,f.segments[1].point);p.strokeColor="#000000";p.strokeWidth=1;n.content=Math.abs(b)+"\u00b0";n.justification="center";n.fontSize=14}k=new paper.Group([e,f,p,n]);c.addChild(k)}};engine2D.calculateWallAngle=function(c,b){var e=c.segments[0].point.subtract(c.segments[1].point).angle,f=b.segments[0].point.subtract(b.segments[1].point).angle;return e-f};engine2D.joinWall=function(c){};engine2D.splitWall=function(c,b){console.log(c)};engine2D.joinWallEdgeCircle=function(c){return!1};
engine2D.splitWallEdgeCircle=function(c){return!1};engine2D.snapObjectToWall=function(c,b){var e=c.segments[0].point.subtract(c.segments[1].point).angle;b.rotation=e};
engine2D.attachObjectsToWalls=function(c,b){if(void 0!==scene2DWallGroup[c].children[0]){console.log("2D Attach Objects to Walls ["+c+"] "+b[c].children.length);console.log(b[c].children);for(var e=0;e<b[c].children.length;e++)for(var f=b[c].children[e],k=0;k<scene2DWallGroup[c].children.length;k++){var p=scene2DWallGroup[c].children[k],n=p.children[4].children[0].getIntersections(f.children[1]);if(n[0]){k=p.children[4].children[0].hitTest(n[0].point);b===scene2DDoorGroup?k.item.doors.push(b[c].children[e]):
b===scene2DWindowGroup&&k.item.windows.push(b[c].children[e]);engine2D.snapObjectToWall(k.item,f);p.children[7].visible=!1;break}}}};engine2D=window.engine2D||{};engine2D.drawWindow=function(c){void 0!==scene2DWindowGroup[c].children&&(scene2DWindowGroup[c].visible=!0,paper.project.layers.push(scene2DWindowGroup[c]))};
engine2D.makeWindow=function(c,b,e,f,k,p,n){var t=new paper.Group;c=new paper.Path;f=new paper.Path;var h=new paper.Group,r=new paper.Group;c.moveTo(new paper.Point(0,0));c.lineTo(new paper.Point(b,0));c.strokeColor="#000000";c.strokeWidth=10;f.moveTo(new paper.Point(0,0));f.lineTo(new paper.Point(b,0));f.strokeColor="#ffff";f.strokeWidth=22;t.addChild(f);t.addChild(c);c.group=t;t.position=new paper.Point(e.x,e.y);t.attach("mousedrag",function(c){1!=h.drag&&1!=r.drag&&(t.position=c.point,h.opacity=
0,r.opacity=0)});return t};var SimplePanAndZoom,StableZoom;SimplePanAndZoom=function(){function c(){}c.prototype.changeZoom=function(c,e){return 0>e?1.05*c:0<e?c/1.05:c};c.prototype.changeCenter=function(c,e,f,k){e=new paper.Point(e,-f);e=e.multiply(k);return c.add(e)};return c}();function zoom2DdrawBase(c){zoom2DCTX.drawImage(zoom2Dimg,0,0,zoom2Dwidth,zoom2Dheight,0,0,zoom2Dwidth,zoom2Dheight)}
function zoom2DdrawProgress(c){c=zoom2DSlider.value;var b;b=65+1.55*c;zoom2DCTX.drawImage(zoom2Dimg,0,zoom2Dheight,b,zoom2Dheight,0,0,b,zoom2Dheight);c=Math.round(c/10);zoom2DCTX.fillStyle="grey";zoom2DCTX.font="12pt Arial";zoom2DCTX.fillText(c,20,35)}function drawImage(){zoom2DdrawBase(zoom2DCTX);zoom2DdrawProgress(zoom2DCTX)};var engine3D=window.engine3D||{};engine3D.makeCeiling=function(){scene3DCeilingShapeContainer[i]=new THREE.Object3D};engine3D=window.engine3D||{};function camera3DFloorFlyIn(c){(new TWEEN.Tween(engine3D.camera.position)).to({x:0,y:10,z:0},2E3).easing(TWEEN.Easing.Quadratic.InOut).start();(new TWEEN.Tween(engine3D.controls.target)).to({x:0,y:0,z:0},2E3).easing(TWEEN.Easing.Quadratic.InOut).onComplete(function(){engine3D.showFloor(c)}).start()}function camera3DNoteAdd(){}engine3D.scene3DFloorInsertAR=function(){};
engine3D.scene3DFloorInsertPicture=function(){camera3DPositionCache=engine3D.camera.position.clone();camera3DPivotCache=engine3D.controls.target.clone();camera3DInsertPictureEnter()};function camera3DInsertPictureEnter(){(new TWEEN.Tween(engine3D.camera.position)).to({x:0,y:10,z:0},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}
function camera3DInsertPictureExit(){(new TWEEN.Tween(engine3D.camera.position)).to({x:camera3DPositionCache.x,y:camera3DPositionCache.y,z:camera3DPositionCache.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}
function camera3DPictureEnter(){var c=(new THREE.Vector3(0,-1.75,-.4)).applyMatrix4(engine3D.camera.matrixWorld);(new TWEEN.Tween(SelectedPicture.position)).to(c,2E3).easing(TWEEN.Easing.Quadratic.InOut).onComplete(function(){engine3D.initPanorama("#WebGLPanorama","3428",.7,.64)}).start();(new TWEEN.Tween(SelectedPicture.rotation)).to({x:engine3D.camera.rotation.x,y:engine3D.camera.rotation.y,z:engine3D.camera.rotation.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}
function camera3DPictureExit(){(new TWEEN.Tween(SelectedPicture.position)).to({x:camera3DPositionCache.x,y:camera3DPositionCache.y,z:camera3DPositionCache.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start();(new TWEEN.Tween(SelectedPicture.rotation)).to({x:camera3DPivotCache.x,y:camera3DPivotCache.y,z:camera3DPivotCache.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}
function camera3DNoteEnter(){if(""!==SelectedNote.name){var c=(new THREE.Vector3(0,-.5,-.6)).applyMatrix4(engine3D.camera.matrixWorld);(new TWEEN.Tween(SelectedNote.position)).to(c,2E3).easing(TWEEN.Easing.Quadratic.InOut).onComplete(function(){$("#WebGLNote").show()}).start();(new TWEEN.Tween(SelectedNote.rotation)).to({x:engine3D.camera.rotation.x,y:engine3D.camera.rotation.y,z:engine3D.camera.rotation.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}}
function camera3DNoteExit(){$("#WebGLNote").hide();(new TWEEN.Tween(SelectedNote.position)).to({x:camera3DPositionCache.x,y:camera3DPositionCache.y,z:camera3DPositionCache.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start();(new TWEEN.Tween(SelectedNote.rotation)).to({x:camera3DPivotCache.x,y:camera3DPivotCache.y,z:camera3DPivotCache.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}
engine3D.cameraAnimate=function(c,b,e,f){scene3DAnimateRotate||((new TWEEN.Tween(engine3D.camera.position)).to({x:c,y:b,z:e},f).easing(TWEEN.Easing.Quadratic.InOut).start(),(new TWEEN.Tween(engine3D.controls.target)).to({x:0,y:0,z:0},f).easing(TWEEN.Easing.Quadratic.InOut).start())};
engine3D.cameraWalkViewToggle=function(){if(engine3D.controls instanceof THREE.FirstPersonControls)camera3DPositionCache=new THREE.Vector3(0,6,20),camera3DPivotCache=new THREE.Vector3(0,0,0),engine3D.cameraAnimateResetView(),engine3D.enableOrbitControls(engine3D.camera,engine3D.renderer.domElement);else if(engine3D.controls instanceof THREE.OrbitControls){var c=alertify.confirm("");c.ok=function(){camera3DPositionCache=engine3D.camera.position.clone();camera3DPivotCache=engine3D.controls.target.clone();
scene3DAnimateRotate=!1;(new TWEEN.Tween(engine3D.camera.position)).to({x:0,y:1.5,z:18},2E3).easing(TWEEN.Easing.Quadratic.InOut).start();(new TWEEN.Tween(engine3D.controls.target)).to({x:0,y:1.5,z:0},2E3).easing(TWEEN.Easing.Quadratic.InOut).onComplete(function(){engine3D.enableFirstPersonControls()}).start()};c.show();$(".alertify-title").append($.parseHTML("<img src='images/help/wasd-keyboard.jpg' /><br/><br/>Use (W,A,S,D) or arrow keys to move."))}else alertify.alert("Not Available in Edit Mode").show()};
engine3D.cameraAnimateResetView=function(){};engine3D.enableTransformControls=function(c){engine3D.controls=new THREE.TransformControls(engine3D.camera,engine3D.renderer.domElement);engine3D.controls.attach(SelectedObject);engine3D.controls.setMode(c);$("#WebGLInteractiveMenu").hide();$("#WebGLTextureSelect").hide()};
engine3D.enableOrbitControls=function(c,b){engine3D.controls instanceof THREE.OrbitControls||(engine3D.controls=new THREE.OrbitControls(c,b),engine3D.controls.minDistance=3,engine3D.controls.maxDistance=25,engine3D.controls.maxPolarAngle=Math.PI/2);engine3D.controls.enabled=!0};
engine3D.enableFirstPersonControls=function(){engine3D.controls.enabled=!1;engine3D.controls=new THREE.FirstPersonControls(engine3D.camera,engine3D.renderer.domElement);engine3D.controls.movementSpeed=5;engine3D.controls.lookSpeed=.15;engine3D.controls.noFly=!0;engine3D.controls.lookVertical=!1;engine3D.controls.activeLook=!0;engine3D.controls.lon=-90;engine3D.controls.lat=0;engine3D.controls.enabled=!0};
engine3D.open3DModel=function(c,b,e,f,k,p,n,t,h,r){try{c.split(".").pop();var g=c.substring(0,c.lastIndexOf("/")+1)+"Textures/",y=function(g){g.name=c;g.boundingBox=[];g.boundingBox.max=[];g.boundingBox.max.x=0;g.boundingBox.max.y=0;g.boundingBox.max.z=0;g.traverse(function(c){c instanceof THREE.Mesh?(c.geometry.computeFaceNormals(),c.geometry.computeVertexNormals(),c.geometry.computeBoundingBox(),g.boundingBox.max.x<c.geometry.boundingBox.max.x&&(g.boundingBox.max.x=c.geometry.boundingBox.max.x),
g.boundingBox.max.y<c.geometry.boundingBox.max.y&&(g.boundingBox.max.y=c.geometry.boundingBox.max.y),g.boundingBox.max.z<c.geometry.boundingBox.max.z&&(g.boundingBox.max.z=c.geometry.boundingBox.max.z),c.castShadow=!0,h&&(c.receiveShadow=!0),null!==c.material&&(c.material.side=THREE.DoubleSide,1<c.material.shininess-10?c.material.shininess-=10:0===c.material.shininess&&(c.material.shininess=.1),c.material.transparent=1>c.material.opacity?!0:!1)):c instanceof THREE.PointLight&&console.log("light found!")});
g.position.x=e;g.position.y=f;g.position.z=k;g.rotation.x=p;g.rotation.y=n+Math.PI;console.log("ObjectLoader add model to scene "+g.name);b.add(g);var u,y;if(r){u=new THREE.MeshBasicMaterial({color:0});engine3D.fontLoader.load("fonts/helvetiker_regular.typeface.json",function(c){y=new THREE.TextGeometry(r,{font:c,weight:"normal",size:.05,height:.01})});var t=new THREE.Mesh(y,u);t.position.x=1.25;t.position.y=.5;t.position.z=.05;t.rotation.y=1.5;t.name=r;engine3D.open3DModel("objects/Platform/note.jsz",
g,1.25,.1,-.3,0,1.5,1,!1,null);g.add(t);console.log(c+" Add Note: '"+r+"'")}if(b==scene3DFloorFurnitureContainer[engineGUI.floor]){u=new THREE.LineBasicMaterial({color:0,linewidth:2});y=new THREE.Geometry;var F=e-3*g.boundingBox.max.x,z=k-3*g.boundingBox.max.z,t=e+3*g.boundingBox.max.x,H=k+3*g.boundingBox.max.z;y.vertices.push(new THREE.Vector3(F,0,z));y.vertices.push(new THREE.Vector3(t,0,z));y.vertices.push(new THREE.Vector3(F,0,z));y.vertices.push(new THREE.Vector3(F,0,H));var J=new THREE.Line(y,
u,THREE.LineSegments);J.position.y=.01;var w=[],R=[];w[0]=400*g.boundingBox.max.z;w[1]=400*g.boundingBox.max.x;engine3D.fontLoader.load("font/helvetiker_regular.typeface.json",function(c){for(var b=0;1>=b;b++){var g;g=100<w[b]?(w[b]/100).toFixed(2)+" m":Math.round(w[b])+" cm";R[b]=new THREE.TextGeometry(g,{font:c,weight:"normal",size:.2,height:.01});R[b].computeBoundingBox()}c=new THREE.Mesh(R[0],u);c.position.x=e-R[0].boundingBox.max.x/2;c.position.y=.01;c.position.z=z-.1;c.rotation.x=-1.5;b=new THREE.Mesh(R[1],
u);b.position.x=F-.1;b.position.y=.01;b.position.z=k+R[1].boundingBox.max.x/2;b.rotation.x=-1.55;b.rotation.z=1.6;J.add(c);J.add(b)});g.add(J);J.visible=!1}};if("jsz"===c.split(".").pop()){var z=c.split("/").pop().slice(0,-4)+".json";$.ajax(c,{contentType:"application/zip",beforeSend:function(c){c.overrideMimeType("text/plain; charset=x-user-defined")},success:function(c){(new JSZip).loadAsync(c).then(function(c){c.file(z).async("string").then(function(c){c=JSON.parse(c);var b=new THREE.ObjectLoader(engine3D.jsonLoader);
b.setTexturePath(g);if("BufferGeometry"===c.geometries[0].type)b.parse(c,y,{useWorker:!0,useBuffers:!0});else{for(var e=0;e<c.textures.length;e++)c.textures[e].mapping&&(c.textures[e].mapping=THREE[c.textures[e].mapping]),c.textures[e].minFilter&&(c.textures[e].minFilter=THREE[c.textures[e].minFilter]),c.textures[e].magFilter&&(c.textures[e].magFilter=THREE[c.textures[e].magFilter]),c.textures[e].wrap&&(c.textures[e].wrap=[THREE.RepeatWrapping,THREE.RepeatWrapping]);for(e=0;e<c.object.children.length;e++){for(var h=
1,f=0;f<c.geometries.length;f++)if(c.geometries[f].uuid==c.object.children[e].geometry){h=c.geometries[f].materials[0].opacity;break}0===h&&(h=.99);for(f=0;f<c.materials.length;f++){for(var k=0;k<c.textures.length;k++)if(c.textures[k].uuid==c.materials[f].map){c.textures[k].uuid=THREE.Math.generateUUID();c.materials[f].map=c.textures[k].uuid;break}if(c.materials[f].uuid==c.object.children[e].material){c.materials[f].opacity=h;h=THREE.Math.generateUUID();for(k=0;k<c.object.children.length;k++)c.object.children[k].material==
c.materials[f].uuid&&(c.object.children[k].material=h);c.materials[f].uuid=h;break}}}b.parse(c,y)}})})},error:function(b,g,e){alertify.alert("3D Model ("+c+") Loading Error").show()}})}else"obj"==c.split(".").pop()&&(loader=new THREE.OBJLoader,loader.load(c,function(g){g.name=c;g.position.x=e;g.position.y=f;g.position.z=k;g.rotation.x=p;g.rotation.y=n;console.log("OBJMTL add model to scene"+c.slice(0,-4));console.log(g);b.add(g)},onProgress,onError))}catch(u){console.log("open3DModel Error "+u)}};
engine3D.showHouse=function(){console.log("showHouse()");engine3D.freeMemory();engine3D.hide();engine2D.hide();engineGUI.scene="house";engineGUI.initMenu("menuRight3DHouse","Exterior/index.json");engine3D.enableOrbitControls(engine3D.camera,engine3D.renderer.domElement);engine3D.SSAOProcessing.enabled=!1;engine3D.FXAAProcessing.enabled=!1;$(engine3D.renderer.domElement).bind("mousedown",on3DHouseMouseDown);$(engine3D.renderer.domElement).bind("mouseup",on3DHouseMouseUp);$(engine3D.renderer.domElement).bind("mousemove",
on3DHouseMouseMove);$(engine3D.renderer.domElement).bind("dblclick",onDocumentDoubleClick);"moveXY"==TOOL3DINTERACTIVE?engineGUI.menuSelect(0,"menuInteractiveItem","#ff3700"):"moveZ"==TOOL3DINTERACTIVE?engineGUI.menuSelect(1,"menuInteractiveItem","#ff3700"):"rotate"==TOOL3DINTERACTIVE&&engineGUI.menuSelect(2,"menuInteractiveItem","#ff3700");$("#menuBottomHouse").show();engineGUI.menuToggleRight("menuRight",!0);engineGUI.menuToggleLeft("menuLeft3DHouse",!0);engineGUI.menuSelect(1,"menuTopItem","#ff3700");
engineGUI.menuCorrectHeight();engine3D.setDay();engine3D.setLights();engine3D.setWeather();engine3D.scene.add(skyMesh);engine3D.makeFloor();engine3D.scene.add(scene3DHouseGroundContainer);engine3D.scene.add(scene3DHouseContainer);engine3D.scene.add(scene3DRoofContainer);if(void 0!=scene2DWallGroup[engineGUI.floor]){for(var c=[-1,0,1,2,3,4],b=0;b<scene2DFloorShape.length;b++){var e=.1+c[b]*scene2DWallGroup[engineGUI.floor].children[0].h;scene3DFloorShapeContainer[b].position.y=e;scene3DCeilingShapeContainer[b].position.y=
e+scene2DWallGroup[engineGUI.floor].children[0].h;engine3D.scene.add(scene3DFloorShapeContainer[b]);engine3D.scene.add(scene3DCeilingShapeContainer[b])}for(var b=0;b<scene3DFloorFurnitureContainer.length;b++)engine3D.scene.add(scene3DFloorFurnitureContainer[b])}json.settings.showcube&&engine3D.sceneCube.add(scene3DCubeMesh);$("#engine3D").show();$("#WebGLCanvas").show();setTimeout(function(){engine3D.cameraAnimate(0,6,18,1E3)},1E3);engine3D.animate()};
engine3D.showLandscape=function(){scene3DAnimateRotate=!1;engine3D.freeMemory();engine3D.hide();engine2D.hide();engineGUI.scene="landscape";engine3D.setDay(!0);engine3D.setLights();engine3D.enableOrbitControls(engine3D.camera,engine3D.renderer.domElement);engine3D.camera.position.set(10,10,15);engine3D.camera.lookAt(engine3D.scene.position);TOOL3DLANDSCAPE="rotate";engine3D.scene.add(skyMesh);engine3D.scene.add(engine3D.terrain);$(engine3D.renderer.domElement).bind("mousedown",on3DLandscapeMouseDown);
$(engine3D.renderer.domElement).bind("mouseup",on3DLandscapeMouseUp);$(engine3D.renderer.domElement).bind("mousemove",on3DLandscapeMouseMove);engineGUI.menuToggleLeft("menuLeft3DLandscape",!0);engineGUI.menuSelect(0,"menuLeft3DLandscapeItem","#ff3700");engineGUI.menuSelect(2,"menuTopItem","#ff3700");engineGUI.menuCorrectHeight();$("#engine3D").show();$("#WebGLCanvas").show();engine3D.animate()};
engine3D.showFloor=function(c){console.log("showFloor()");engineGUI.floor=c;scene3DAnimateRotate=!1;engine3D.freeMemory();engine3D.hide();engine2D.hide();engineGUI.scene="floor";engineGUI.initMenu("menuRight3DFloor","Interior/index.json");engine3D.enableOrbitControls(engine3D.camera,engine3D.renderer.domElement);engine3D.SSAOProcessing.enabled=!0;engine3D.FXAAProcessing.enabled=!1;engine3D.buildPanorama(skyFloorMesh,"0000",75,75,75,"",null);engine3D.scene.add(skyFloorMesh);engine3D.setLights();engine3D.makeFloor();
engine3D.makeWalls();engine3D.scene.add(scene3DFloorFurnitureContainer[engineGUI.floor]);engine3D.scene.add(scene3DFloorShapeContainer[engineGUI.floor]);engine3D.scene.add(scene3DFloorGroundContainer);scene3DFloorShapeContainer[engineGUI.floor].position.y=.1;if("measure"===TOOL3DFLOOR)for(scene3DFloorMeasurementsGenerate(),c=0;c<scene3DFloorFurnitureContainer[engineGUI.floor].children.length;c++)scene3DFloorFurnitureContainer[engineGUI.floor].children[c].children[1]&&(scene3DFloorFurnitureContainer[engineGUI.floor].children[c].children[1].visible=
!0);engine3D.scene.add(scene3DFloorWallContainer[engineGUI.floor]);engine3D.scene.add(scene3DFloorShapeContainer[engineGUI.floor]);$(engine3D.renderer.domElement).bind("mousedown",on3DFloorMouseDown);$(engine3D.renderer.domElement).bind("mouseup",on3DFloorMouseUp);$(engine3D.renderer.domElement).bind("mousemove",on3DFloorMouseMove);$(engine3D.renderer.domElement).bind("dblclick",onDocumentDoubleClick);$("#menuFloorSelectorText").html(scene3DFloorFurnitureContainer[engineGUI.floor].name);$("#menuFloorSelector").show();
$("#menuBottomFloor").show();engineGUI.menuToggleRight("menuRight",!0);engineGUI.menuToggleLeft("menuLeft3DFloor",!0);engineGUI.menuSelect(5,"menuTopItem","#ff3700");engineGUI.menuSelect(0,"menuLeft3DFloorItem","#ff3700");engineGUI.menuCorrectHeight();json.settings.showCube&&engine3D.sceneCube.add(scene3DCubeMesh);$("#engine3D").show();$("#WebGLCanvas").show();setTimeout(function(){engine3D.cameraAnimate(0,10,12,1E3)},500);engine3D.animate()};
engine3D.showFloorLevel=function(){scene3DAnimateRotate=!1;engine3D.freeMemory();engine3D.hide();engine2D.hide();engineGUI.scene="floorlevel";engine3D.setDay(!0);engine3D.setLights();engine3D.enableOrbitControls(engine3D.camera,engine3D.renderer.domElement);engine3D.camera.position.set(10,10,15);engine3D.camera.lookAt(engine3D.scene.position);engine3D.generateLevelWalls();engine3D.scene.add(skyMesh);engine3D.scene.add(scene3DHouseGroundContainer);engineGUI.menuSelect(3,"menuTopItem","#ff3700");engineGUI.menuCorrectHeight();
json.settings.showCube&&engine3D.sceneCube.add(scene3DCubeMesh);$("#engine3D").show();$("#WebGLCanvas").show();engine3D.animate()};
engine3D.showRoofDesign=function(){scene3DAnimateRotate=!1;engine3D.freeMemory();engine3D.hide();engine2D.hide();engineGUI.scene="roof";engineGUI.initMenu("menuRight3DRoof","Roof/index.json");engine3D.setLights();engine3D.initRendererQuad();engine3D.scene.add(camera3DQuadGrid);engine3D.scene.add(scene3DRoofContainer);$("#WebGLSplitCanvas-0").bind("mousemove",on3DRoofSplit0MouseMove);$("#WebGLSplitCanvas").bind("mouseup",on3DRoofVDividerMouseUp);engineGUI.menuToggleRight("menuRight",!0);engineGUI.menuSelect(4,
"menuTopItem","#ff3700");engineGUI.menuCorrectHeight();json.settings.showCube&&engine3D.sceneCube.add(scene3DCubeMesh);$("#engine3D").show();$("#WebGLSplitCanvas").show();engine3D.animate()};
engine3D.hide=function(){$("#engine3D").hide();engineGUI.mousedrag=!1;engineGUI.mouseleft=!1;engineGUI.mouseright=!1;if(void 0!==engine3D.renderer){json.settings.showCube&&engine3D.sceneCube.remove(scene3DCubeMesh);for(i=0;i<scene2DFloorShape.length;i++)engine3D.scene.remove(scene3DFloorShapeContainer[i]),engine3D.scene.remove(scene3DCeilingShapeContainer[i]);$(engine3D.renderer.domElement).unbind("mousedown",on3DHouseMouseDown);$(engine3D.renderer.domElement).unbind("mouseup",on3DHouseMouseUp);$(engine3D.renderer.domElement).unbind("mousemove",
on3DHouseMouseMove);$(engine3D.renderer.domElement).unbind("dblclick",onDocumentDoubleClick);$("#WebGLSplitCanvas-0").unbind("mousemove",on3DRoofSplit0MouseMove);$("#WebGLSplitCanvas").unbind("mouseup",on3DRoofVDividerMouseUp);$(engine3D.renderer.domElement).unbind("mousedown",on3DFloorMouseDown);$(engine3D.renderer.domElement).unbind("mouseup",on3DFloorMouseUp);$(engine3D.renderer.domElement).unbind("mousemove",on3DFloorMouseMove);$(engine3D.renderer.domElement).unbind("mousedown",on3DLandscapeMouseDown);
$(engine3D.renderer.domElement).unbind("mouseup",on3DLandscapeMouseUp);$(engine3D.renderer.domElement).unbind("mousemove",on3DLandscapeMouseMove);engine3D.disposePanorama("#WebGLPanorama");$("#WebGLCanvas").hide();$("#WebGLSplitCanvas").hide();$("#menuLeft3DHouse").hide();$("#menuLeft3DLandscape").hide();$("#menuLeft3DFloor").hide();$("#menuRight3DHouse").hide();$("#menuRight3DFloor").hide();$("#menuRight3DRoof").hide();$("#menuRightObjects").hide();$("#menuRight").hide();$("#menuFloorSelector").hide();
$("#menuWallInput").hide();$("#menuBottomHouse").hide();$("#menuBottomFloor").hide()}};
engine3D.addFloor=function(c){var b=scene3DFloorFurnitureContainer.length;null===c&&(c="Floor "+b);scene3DFloorFurnitureContainer[b]=new THREE.Object3D;scene3DFloorFurnitureContainer[b].name=c;scene3DFloorMeasurementsContainer[b]=new THREE.Object3D;scene3DFloorWallContainer[b]=new THREE.Object3D;scene3DFloorShapeContainer[b]=new THREE.Object3D;scene3DCeilingShapeContainer[b]=new THREE.Object3D;scene2DWallMesh[b]=[];scene2DWallDimentions[b]=[]};
function selectDayNight(){engine3D.scene.remove(skyMesh);!0===json.weather.day?engine3D.setDay(!1):!1===json.weather.day&&engine3D.setDay(!0);engine3D.setLights();engine3D.setWeather();engine3D.scene.add(skyMesh)}function scene3DObjectSelectRemove(){"house"===engineGUI.scene?scene3DHouseContainer.remove(SelectedObject):"floor"===engineGUI.scene&&scene3DFloorFurnitureContainer[engineGUI.floor].remove(SelectedObject);scene3DObjectUnselect()}
function scene3DObjectSelectMenuPosition(c,b){var e=new THREE.Vector3(c,b,.1),f,k;null!==SelectedObject?e=e.setFromMatrixPosition(SelectedObject.matrixWorld):null!==SelectedWall&&(e=e.setFromMatrixPosition(SelectedWall.matrixWorld));e.project(engine3D.camera);f=(e.x+1)/2;k=(-e.y+1)/2;e.x=f*window.innerWidth;e.y=k*window.innerHeight;return e}
function scene3DObjectSelectMenu(c,b,e){c=scene3DObjectSelectMenuPosition(c,b);$(e).css("top",c.y-60).css("left",c.x);$(e).show();null===SelectedObject&&null!==SelectedWall&&($("#WebGLTextureSelect").css("top",c.y+$(e).height()).css("left",c.x-$("#WebGLTextureSelect").width()/2),$("#WebGLColorWheelSelect").css("top",c.y-$("#WebGLColorWheelSelect").height()-32).css("left",c.x-$("#WebGLColorWheelSelect").width()/2))}
function scene3DObjectSelect(c,b,e,f){if(engine3D.controls instanceof THREE.OrbitControls)if(c=new THREE.Vector3(c,b,.5),c.unproject(e),e=(new THREE.Raycaster(e.position,c.sub(e.position).normalize())).intersectObjects(f.children,!0),0<e.length){if(SelectedObject!==e[0].object){scene3DObjectUnselect();engine3D.controls.enabled=!1;SelectedObject=scene3DObjectSelectedRoot(f,e[0].object.uuid);if(0<=e[0].object.name.indexOf("Platform/note.jsz"))SelectedNote=e[0].object,camera3DPositionCache=SelectedNote.position.clone(),
camera3DPivotCache=SelectedNote.rotation.clone(),camera3DNoteEnter();else if(!(0<=SelectedObject.name.indexOf("Platform/camera.jsz")))if(SelectedObject.children===scene3DFloorWallContainer[engineGUI.floor].children)SelectedWall=e[0].object,scene3DObjectSelectMenu(mouse.x,mouse.y,"#WebGLWallPaintMenu");else{if(-1!=SelectedObject.name.indexOf("house"))return scene3DObjectUnselect(),!1;f=SelectedObject.children[SelectedObject.children.length-1];c=65280;engineGUI.mouseright&&(c=16776960);c=new THREE.MeshBasicMaterial({color:c,
side:THREE.BackSide,opacity:.5,transparent:!0});"{highlighteMesh}"!==f.name?(f=SelectedObject.clone(),f.name="{highlighteMesh}",f.position.set(0,0,0),f.rotation.set(0,0,0),f.scale.multiplyScalar(1.06),SelectedObject.add(f)):f.visible=!0;for(b=0;b<f.children.length;b++)"Mesh"===f.children[b].type?(f.children[b].material=c,f.children[b].material.depthWrite=!0,f.children[b].material.depthTest=!0):f.remove(f.children[b]);if("house"!==SCENE){var k=$("#WebGLSelectMenu");k.tooltipster("content",'<a href="#item" onclick="" class="lo-icon icon-info" style="color:#606060"></a><a href="#" onclick="" class="lo-icon icon-settings" style="color:#606060"></a>')}SelectedObject.boundingBox&&
8<e[0].distance&&4>SelectedObject.boundingBox.max.x&&(camera3DPositionCache=engine3D.camera.position.clone(),camera3DPivotCache=engine3D.controls.target.clone(),(new TWEEN.Tween(engine3D.camera.position)).to({x:SelectedObject.position.x,y:SelectedObject.position.y+4,z:SelectedObject.position.z+5},1E3).easing(TWEEN.Easing.Quadratic.InOut).onComplete(function(){}).start(),(new TWEEN.Tween(engine3D.controls.target)).to({x:SelectedObject.position.x,y:SelectedObject.position.y,z:SelectedObject.position.z},
1E3).easing(TWEEN.Easing.Quadratic.InOut).start());void 0!==k&&(console.log(engineGUI.scene),f=scene3DObjectSelectMenuPosition(mouse.x,mouse.y),k.css({position:"absolute",left:f.x,top:f.y-50,"z-index":0}),k.tooltipster("open"));engineGUI.toggleSideMenus(!1)}return!0}}else scene3DObjectUnselect();return!1}function scene3DObjectSelectedRoot(c,b){for(var e=0;e<c.children.length;e++)for(var f=0;f<c.children[e].children.length;f++)if(c.children[e].children[f].uuid===b)return c.children[e];return c}
function scene3DObjectUnselect(){if(engine3D.controls instanceof THREE.OrbitControls){if(null!==SelectedObject){var c=SelectedObject.children[SelectedObject.children.length-1];"{highlighteMesh}"===c.name&&(c.visible=!1);SelectedWall=SelectedObject=null;$("#WebGLSelectMenu").tooltipster("hide");$("#WebGLInteractiveMenu").hide();$("#WebGLWallPaintMenu").hide();$("#WebGLColorWheelSelect").hide();$("#WebGLTextureSelect").hide()}else null!==SelectedNote?(SelectedNote=null,camera3DNoteExit()):null!==SelectedPicture&&
(SelectedPicture=null,camera3DPictureExit());engine3D.controls.enabled=!0;camera3DPivotCache=camera3DPositionCache=null}}
engine3D.collectArrayFromContainer=function(c){for(var b=[],e=0;e<c.children.length;e++){var f={};f.file=c.children[e].children[0].name;try{f.note=c.children[e].children[2].name}catch(k){}f.textures="Textures";f.position.x=c.children[e].children[0].position.x;f.position.y=c.children[e].children[0].position.y;f.position.z=c.children[e].children[0].position.z;f.rotation.x=c.children[e].children[0].rotation.x;f.rotation.y=c.children[e].children[0].rotation.y;f.rotation.z=c.children[e].children[0].rotation.z;
b.push(f)}return b};function scene3DFloorMeasurementsGenerate(){material=new THREE.LineBasicMaterial({color:0,linewidth:2})}
function scene3DFloorMeasurementShow(){for(var c=!0,b=0;b<scene3DFloorFurnitureContainer[engineGUI.floor].children.length;b++).8>scene3DFloorFurnitureContainer[engineGUI.floor].children[b].position.y&&(scene3DFloorFurnitureContainer[engineGUI.floor].children[b].children[1].visible=!scene3DFloorFurnitureContainer[engineGUI.floor].children[b].children[1].visible),c=scene3DFloorFurnitureContainer[engineGUI.floor].children[b].children[1].visible;c?(engineGUI.menuSelect(0,"menuLeft3DFloorItem","#ff3700"),
TOOL3DFLOOR="measure"):(engineGUI.menuSelect(0,"menuLeft3DFloorItem","black"),TOOL3DFLOOR="")}
engine3D.setBackground=function(c){var b=document.createElement("canvas");b.width=window.innerWidth;b.height=window.innerHeight;var e=b.getContext("2d");"blue"===c?(c=e.createLinearGradient(0,0,0,b.height),c.addColorStop(0,"#1e4877"),c.addColorStop(.5,"#4584b4"),e.fillStyle=c,e.fillRect(0,0,b.width,b.height),document.getElementById("engine3D").style.background="url("+b.toDataURL("image/png")+")"):"split"===c?(e.lineWidth=1,e.beginPath(),e.moveTo(.5*window.innerWidth,0),e.lineTo(.5*window.innerWidth,
window.innerHeight),e.stroke(),e.beginPath(),e.moveTo(0,.5*window.innerHeight),e.lineTo(window.innerWidth,.5*window.innerHeight),e.stroke(),document.getElementById("engine3D").style.background="url("+b.toDataURL("image/png")+")"):document.body.style.background="#fff"};
engine3D.setLights=function(){engine3D.scene.remove(sceneAmbientLight);engine3D.scene.remove(sceneDirectionalLight);engine3D.scene.remove(sceneSpotLight);"house"===engineGUI.scene?!1===json.weather.day?(sceneSpotLight.intensity=.8,sceneSpotLight.castShadow=!1,engine3D.scene.add(sceneSpotLight)):json.weather.sunlight?(sceneAmbientLight=new THREE.AmbientLight,engine3D.scene.add(sceneAmbientLight),engine3D.scene.add(sceneDirectionalLight),sceneSpotLight.intensity=1,sceneSpotLight.castShadow=!1,engine3D.scene.add(sceneSpotLight)):
(sceneAmbientLight=new THREE.AmbientLight(16777215,.7),engine3D.scene.add(sceneAmbientLight),engine3D.scene.add(sceneDirectionalLight)):"landscape"===engineGUI.scene?(sceneAmbientLight=new THREE.AmbientLight(16777215,.5),engine3D.scene.add(sceneAmbientLight),engine3D.scene.add(sceneDirectionalLight)):"roof"===engineGUI.scene?(sceneAmbientLight=new THREE.AmbientLight(16777215,.1),engine3D.scene.add(sceneAmbientLight),sceneSpotLight.intensity=.6,sceneSpotLight.castShadow=!1,engine3D.scene.add(sceneSpotLight)):
"floorlevel"===engineGUI.scene?(sceneAmbientLight=new THREE.AmbientLight(16777215,.5),engine3D.scene.add(sceneAmbientLight),engine3D.scene.add(sceneDirectionalLight)):"floor"===engineGUI.scene&&(sceneAmbientLight=new THREE.AmbientLight,engine3D.scene.add(sceneAmbientLight),sceneDirectionalLight.intensity=.6,engine3D.scene.add(sceneDirectionalLight))};
engine3D.insert3DModel=function(c){"database"===RUNMODE&&(c="php/objects.php?id="+c,$.ajax({type:"GET",dataType:"json",url:c,async:!1,success:function(b){c=b.file},error:function(c,b,e){alertify.alert("Database Error - 3D Object Not Found").show()}}));var b=0,e=0,f=0;if("house"===engineGUI.scene){f=scene3DHouseContainer.children.length-1;e=b=0;try{b=scene3DHouseContainer.children[f].position.x+scene3DHouseContainer.children[f].geometry.boundingBox.max.x,e=scene3DHouseContainer.children[f].position.z+
scene3DHouseContainer.children[f].geometry.boundingBox.max.z}catch(k){}engine3D.open3DModel(c,scene3DHouseContainer,b,0,e,0,0,1,!0,null)}else"floor"===engineGUI.scene&&(f=scene3DFloorFurnitureContainer[engineGUI.floor].children.length-1,b=scene3DFloorFurnitureContainer[engineGUI.floor].children[f].position.x+scene3DFloorFurnitureContainer[engineGUI.floor].children[f].geometry.boundingBox.max.x,e=scene3DFloorFurnitureContainer[engineGUI.floor].children[f].position.z+scene3DFloorFurnitureContainer[engineGUI.floor].children[f].geometry.boundingBox.max.z,
engine3D.open3DModel(c,scene3DFloorFurnitureContainer[engineGUI.floor],b,0,e,0,0,1,!0,null))};
engine3D.calculateCutawayGeometry=function(){var c=alertify.confirm("This feature is experimental and may not work properly. Continue?");c.ok=function(){var c=new THREE.BoxGeometry(20,16,6),c=new THREE.Mesh(c);c.position.z=scene3DRoofContainer.children[0].position.z+scene3DRoofContainer.children[0].boundingBox.max.z/2;for(var c=new ThreeBSP(c),e=0;e<scene3DRoofContainer.children.length;e++)for(var f=0;f<scene3DRoofContainer.children[e].children.length;f++){var k=(new ThreeBSP(scene3DRoofContainer.children[e].children[f].geometry)).subtract(c),
k=new THREE.Mesh(k.toGeometry(),new THREE.MeshNormalMaterial({shading:THREE.SmoothShading}));k.geometry.computeVertexNormals();k.geometry.computeFaceNormals();scene3DRoofContainer.children[e].children[f].geometry=k.geometry}};c.show()};
function animateHouseRotate(){requestAnimationID=window.requestAnimationFrame(animateHouseRotate);if(scene3DAnimateRotate){var c=.19*clock.getDelta(),b=engine3D.camera.position.x,e=engine3D.camera.position.z,f=Math.cos(c),c=Math.sin(c);engine3D.camera.position.x=b*f+e*c;engine3D.camera.position.z=e*f-b*c;engine3D.camera.lookAt(engine3D.scene.position);animateClouds();engine3D.renderer.render(engine3D.scene,engine3D.camera)}else engine3D.animate()}
function animateFloor(){requestAnimationID=window.requestAnimationFrame(animateFloor);sceneSpotLight.visible=!1;engine3D.controls.update();engineGUI.mouseleft?engine3D.renderer.render(engine3D.scene,engine3D.camera):(engine3D.SSAOProcessing.enabled&&(engine3D.scene.overrideMaterial=engine3D.depthMaterial,engine3D.renderer.render(engine3D.scene,engine3D.camera,engine3D.depthRenderTarget,!0),engine3D.scene.overrideMaterial=null),engine3D.effectComposer.render());TWEEN.update()}
function animateLandscape(){requestAnimationID=window.requestAnimationFrame(animateLandscape);engineGUI.mouseleft&&"rotate"==TOOL3DLANDSCAPE&&engine3D.controls.update();engine3D.terrain.water.material.uniforms.time.value=(new Date).getTime()%1E4;engine3D.renderer.render(engine3D.scene,engine3D.camera)}
function renderSunlight(){if(json.weather.sunlight){var c=new THREE.Vector3(0,10,-10),b=new THREE.MeshDepthMaterial,e=new THREE.Vector3;e.copy(c).project(engine3D.camera);e.x+=1;e.y+=1;sunlight.godrayGenUniforms.vSunPositionScreenSpace.value.x=e.x;sunlight.godrayGenUniforms.vSunPositionScreenSpace.value.y=e.y;sunlight.godraysFakeSunUniforms.vSunPositionScreenSpace.value.x=e.x;sunlight.godraysFakeSunUniforms.vSunPositionScreenSpace.value.y=e.y;engine3D.renderer.clearTarget(sunlight.rtTextureColors,
!0,!0,!1);var c=.74*window.innerHeight,f=.74*window.innerHeight;e.x*=window.innerWidth;e.y*=window.innerHeight;engine3D.renderer.setScissor(e.x-f/2,e.y-c/2,f,c);engine3D.renderer.enableScissorTest(!0);sunlight.godraysFakeSunUniforms.fAspect.value=window.innerWidth/window.innerHeight;sunlight.scene.overrideMaterial=sunlight.materialGodraysFakeSun;engine3D.renderer.render(sunlight.scene,sunlight.camera,sunlight.rtTextureColors);engine3D.renderer.enableScissorTest(!1);engine3D.scene.overrideMaterial=
null;engine3D.renderer.render(scene3D,engine3D.camera,sunlight.rtTextureColors);engine3D.scene.overrideMaterial=b;engine3D.renderer.render(scene3D,engine3D.camera,sunlight.rtTextureDepth,!0);b=1*Math.pow(6,-1);sunlight.godrayGenUniforms.fStepSize.value=b;sunlight.godrayGenUniforms.tInput.value=sunlight.rtTextureDepth;sunlight.scene.overrideMaterial=sunlight.materialGodraysGenerate;engine3D.renderer.render(sunlight.scene,sunlight.camera,sunlight.rtTextureGodRays2);b=1*Math.pow(6,-2);sunlight.godrayGenUniforms.fStepSize.value=
b;sunlight.godrayGenUniforms.tInput.value=sunlight.rtTextureGodRays2;engine3D.renderer.render(sunlight.scene,sunlight.camera,sunlight.rtTextureGodRays1);b=1*Math.pow(6,-3);sunlight.godrayGenUniforms.fStepSize.value=b;sunlight.godrayGenUniforms.tInput.value=sunlight.rtTextureGodRays1;engine3D.renderer.render(sunlight.scene,sunlight.camera,sunlight.rtTextureGodRays2);sunlight.godrayCombineUniforms.tColors.value=sunlight.rtTextureColors;sunlight.godrayCombineUniforms.tGodRays.value=sunlight.rtTextureGodRays2;
sunlight.scene.overrideMaterial=sunlight.materialGodraysCombine;engine3D.renderer.render(sunlight.scene,sunlight.camera);sunlight.scene.overrideMaterial=null}else engine3D.renderer.render(scene3D,engine3D.camera)}function animateClouds(){weatherSkyCloudsMesh.rotation.y=engine3D.camera.rotation.y;weatherSkyCloudsMesh.rotation.z=engine3D.camera.rotation.z;weatherSkyCloudsMesh.rotation.x=engine3D.camera.rotation.x;weatherSkyCloudsMesh.position.x=engine3D.camera.position.x/1.5}
function animateHouse(){requestAnimationID=window.requestAnimationFrame(animateHouse);scene3DAnimateRotate?engine3D.animate():(animateClouds(),engine3D.controls.enabled&&(engine3D.controls.update(),json.settings.showCube&&engine3D.rendererCube.render(engine3D.sceneCube,engine3D.cameraCube)),engineGUI.mouseleft?engine3D.renderer.render(engine3D.scene,engine3D.camera):(engine3D.SSAOProcessing.enabled&&(engine3D.scene.overrideMaterial=engine3D.depthMaterial,engine3D.renderer.render(engine3D.scene,engine3D.camera,
engine3D.depthRenderTarget,!0),engine3D.scene.overrideMaterial=null),engine3D.effectComposer.render()),TWEEN.update())}function animateRoof(){requestAnimationID=window.requestAnimationFrame(animateRoof);for(i=0;4>i;i++)rendererQuad[i].render(engine3D.scene,camera3DQuad[i])}function animateRoof0(){requestAnimationID=window.requestAnimationFrame(animateRoof);rendererQuad[0].render(engine3D.scene,camera3DQuad[0])}
engine3D.animateStop=function(){requestAnimationID&&(window.cancelAnimationFrame(requestAnimationID),requestId=void 0)};engine3D.animate=function(){engine3D.animateStop();"house"==engineGUI.scene?scene3DAnimateRotate?animateHouseRotate():animateHouse():"floor"==engineGUI.scene?animateFloor():"landscape"==engineGUI.scene||"floorlevel"==engineGUI.scene?animateLandscape():"roof"==engineGUI.scene&&animateRoof()};
function fileSelect(c){window.File&&window.FileReader&&window.FileList&&window.Blob?($("#fileInput").click(),"2ddraftplan"==c?$("#fileInput").bind("change",handleFile2DImageSelect):"2dautocad"==c?$("#fileInput").bind("change",handleFile2DAutoCADConvert):"3dobject"==c&&$("#fileInput").bind("change",handleFile3DObjectSelect)):alert("The File APIs are not fully supported in this browser.")}
function errorHandler(c){switch(c.target.error.code){case c.target.error.NOT_FOUND_ERR:alert("File Not Found!");break;case c.target.error.NOT_READABLE_ERR:alert("File is not readable");break;case c.target.error.ABORT_ERR:break;default:alert("An error occurred reading this file.")}}
function ajaxBeforeSubmit(){var c=$("#fileInput")[0].files[0].size,b=$("#fileInput")[0].files[0].type;switch(b){case "application/zip":case "application/octet-stream":break;default:return alert(b+" is unsupported file type!"),!1}if(10485760<c)return alert("<b>"+c+"</b> Too big file! <br />File is too big, it should be less than 5 MB."),!1}
function handleFile3DObjectSelect(c){switch(c.target.files[0].type){case "application/zip":case "application/octet-stream":var b={beforeSubmit:ajaxBeforeSubmit,resetForm:!0};$("#uploadForm").submit(function(){$(this).ajaxSubmit(b);return!1});break;case "application/x-javascript":fileReader=new FileReader;fileReader.onerror=errorHandler;fileReader.onloadstart=function(c){};fileReader.onload=function(b){console.log("Load File: "+$("#fileInput").value+":"+c.target.files[0].name);engine3D.open(b.target.result);
engine2D.open(b.target.result)};fileReader.readAsText(file);break;default:return alert("file type should be .js, .json or .zip"),!1}}function handleFile2DAutoCADConvert(c){fileReader=new FileReader;fileReader.onerror=errorHandler;fileReader.onload=function(c){c=new DXFParser(c.target.result);console.log(c)};fileReader.readAsText(c.target.files[0]);$("#fileInput").unbind("change",handleFile2DAutoCADConvert)}
function handleFile2DImageSelect(c){c.target.files[0].type.match("image.*")?(fileReader=new FileReader,fileReader.onerror=errorHandler,fileReader.onabort=function(c){alert("File read cancelled")},fileReader.onload=function(c){var b=new Image;b.src=c.target.result;scene2DFloorDraftPlanImage[engineGUI.floor]=new fabric.Image(b,{top:1,left:1,width:window.innerWidth,height:window.innerHeight,opacity:.6,selectable:!1});scene2D.add(scene2DFloorDraftPlanImage[engineGUI.floor]);scene2D.sendToBack(scene2DFloorDraftPlanImage[engineGUI.floor]);
scene2D.renderAll()},fileReader.readAsDataURL(c.target.files[0]),$("#fileInput").unbind("change",handleFile2DImageSelect)):alert("Currently only photos are supported")}
function toggleTextureSelect(){if($("#WebGLTextureSelect").is(":visible"))$("#WebGLTextureSelect").hide(),$("#WebGLColorWheelSelect").hide();else{$("#WebGLTextureSelect").empty();if(null!==SelectedWall){var c=$("<div>",{"class":"scroll","data-ui":"jscroll-default",style:"width:100%;height:80px"}),b=$("<div>",{"class":"objectItem",style:"width:100px;height:64px"}),e=$("<a>",{href:"#"}).append($("<img>",{id:"test",src:"objects/Wall/Textures/W2367.jpg"}));b.append(e);e=$("<a>",{href:"#"}).append($("<img>",
{id:"test",src:"objects/Wall/Textures/W3465.jpg"}));b.append(e);$("#WebGLTextureSelect").append(c.append(b))}$("#WebGLTextureSelect").show();null!==SelectedWall&&$("#WebGLColorWheelSelect").show()}}
engine3D.freeMemory=function(){if(void 0!==engine3D.scene){for(;0<engine3D.scene.children.length;){var c=engine3D.scene.children[engine3D.scene.children.length-1];c.geometry&&c.geometry.dispose();c.material&&(c.material.map&&c.material.map.dispose(),c.material.dispose());engine3D.scene.remove(c)}scene3DObjectUnselect()}if(camera3DQuad[0]instanceof THREE.OrthographicCamera)for(i=0;4>i;i++)camera3DQuad[i]=null,rendererQuad[i]=null};engine3D=window.engine3D||{};
function onWindowResize(){var c=window.devicePixelRatio|1;engine3D.camera.aspect=window.innerWidth/window.innerHeight;engine3D.camera.updateProjectionMatrix();void 0!==engine3D.SSAOPass&&engine3D.SSAOPass.uniforms.resolution.value.set(1/(window.innerWidth*c),1/(window.innerHeight*c));void 0!==engine3D.FXAAPass&&engine3D.FXAAPass.uniforms.resolution.value.set(1/(window.innerWidth*c),1/(window.innerHeight*c));engine3D.effectComposer.setSize(window.innerWidth*c,window.innerHeight*c);engine3D.renderer.setSize(window.innerWidth,
window.innerHeight);engine3D.initRendererQuadSize();engineGUI.menuCorrectHeight()}function onCubeMouseMove(c){}
function onDocumentDoubleClick(c){engine3D.controls instanceof THREE.OrbitControls&&null===SelectedObject&&(vector=new THREE.Vector3(c.clientX/window.innerWidth*2-1,2*-(c.clientY/window.innerHeight)+1,.5),vector.unproject(engine3D.camera),c=(new THREE.Raycaster(engine3D.camera.position,vector.sub(engine3D.camera.position).normalize())).intersectObjects(scene3DHouseGroundContainer.children,!0),0<c.length&&(clearTimeout(doubleClickTime),engine3D.pivot.position.set(c[0].point.x,0,c[0].point.z),(new TWEEN.Tween(engine3D.controls.target)).to({x:c[0].point.x,
y:0,z:c[0].point.z},800).easing(TWEEN.Easing.Quadratic.InOut).start(),doubleClickTime=setTimeout(function(){engine3D.scene.remove(engine3D.pivot)},4E3)))}
function on3DLandscapeMouseMove(c){if("angle"===TOOL3DLANDSCAPE)engineGUI.mouseleft&&(engine3D.terrain.rotation.y=c.clientX>window.innerWidth/2?engine3D.terrain.rotation.y+.015:engine3D.terrain.rotation.y-.015);else if(c=new THREE.Vector3(c.clientX/window.innerWidth*2-1,2*-(c.clientY/window.innerHeight)+1,.5),c.unproject(engine3D.camera),c=(new THREE.Raycaster(engine3D.camera.position,c.sub(engine3D.camera.position).normalize())).intersectObjects(engine3D.terrain.children),0<c.length&&(terrain3DMouse.vertex.x=
Math.floor(c[0].point.x*plot_vertices-map_left*plot_vertices),terrain3DMouse.vertex.y=Math.floor(c[0].point.z*plot_vertices-map_top*plot_vertices),engine3D.terrain.material.uniforms.ring_center.value.x=c[0].point.x,engine3D.terrain.material.uniforms.ring_center.value.y=-c[0].point.z),engineGUI.mouseleft)landscape.onmousemove()}
function on3DLandscapeMouseDown(c){1===c.which&&(engineGUI.mouseleft=!0);engine3D.controls.enabled=!1;if("rotate"===TOOL3DLANDSCAPE)engine3D.controls.enabled=!0;else if("hill"===TOOL3DLANDSCAPE||"valley"===TOOL3DLANDSCAPE)terrain3DMouse.x=c.clientX,terrain3DMouse.y=c.clientY}function on3DLandscapeMouseUp(c){engineGUI.mouseleft=!1;engine3D.controls.enabled=!1;if("hill"===TOOL3DLANDSCAPE||"valley"===TOOL3DLANDSCAPE)terrain3DMouse.x=c.clientX,terrain3DMouse.y=c.clientY}
$(document).on("keyup",function(c){c.preventDefault();"house"===engineGUI.scene&&27===c.which&&(camera3DPositionCache=new THREE.Vector3(0,6,20),camera3DPivotCache=new THREE.Vector3(0,0,0),engine3D.cameraAnimateResetView())});function on3DRoofVDividerMouseUp(c){engine3D.initRendererQuadSize()}function on3DRoofSplit0MouseMove(c){}function on3DRoofSplit1MouseMove(c){}function on3DRoofSplit2MouseMove(c){}function on3DRoofSplit3MouseMove(c){}function on3DHouseMouseUp(c){on3DMouseUp(c)}
function on3DHouseMouseDown(c){on3DMouseDown(c);scene3DObjectSelect(mouse.x,mouse.y,engine3D.camera,scene3DHouseContainer)||engine3D.scene.add(engine3D.pivot)}function on3DHouseMouseMove(c){engineGUI.mousedrag&&(null!==SelectedObject?on3DObjectMove(scene3DHouseGroundContainer,c):on3DCubeMove())}function on3DFloorMouseDown(c){on3DMouseDown(c);scene3DObjectSelect(mouse.x,mouse.y,engine3D.camera,scene3DFloorFurnitureContainer[FLOOR])||engine3D.scene.add(engine3D.pivot)}
function on3DFloorMouseUp(c){on3DMouseUp(c);c=.1;null===SelectedObject&&(c=.5);for(var b=0;b<scene3DFloorWallContainer[FLOOR].children.length;b++)tween=(new TWEEN.Tween(scene3DFloorWallContainer[FLOOR].children[b].material)).to({opacity:c},500).start()}
function on3DCubeMove(){!1!==json.settings.showcube&&(engine3D.cameraCube.position.copy(engine3D.camera.position),engine3D.cameraCube.position.sub(engine3D.controls.center),engine3D.cameraCube.position.setLength(18),engine3D.cameraCube.lookAt(scene3DCube.position),engine3D.cameraCube.updateMatrixWorld())}
function on3DObjectMove(c,b){var e=new THREE.Vector3(b.clientX/window.innerWidth*2-1,2*-(b.clientY/window.innerHeight)+1,-2);e.unproject(engine3D.camera);e=(new THREE.Raycaster(engine3D.camera.position,e.sub(engine3D.camera.position).normalize())).intersectObjects(c.children,!0);if(0<e.length){var f=$("#WebGLSelectMenu");engineGUI.mouseleft?(f.tooltipster("close"),SelectedObject.position.x=e[0].point.x,SelectedObject.position.z=e[0].point.z):engineGUI.mouseright&&(f.tooltipster("close"),SelectedObject.rotation.y=
e[0].point.x)}}
function on3DFloorMouseMove(c){if(0===TWEEN.getAll().length)if(null!==SelectedObject)on3DObjectMove(scene3DFloorGroundContainer,c);else{c=new THREE.Vector3(0,0,8);c.applyQuaternion(engine3D.camera.quaternion);scene3DCutawayPlaneMesh.position.copy(c);scene3DCutawayPlaneMesh.lookAt(engine3D.camera.position);c=[];for(var b=scene3DCutawayPlaneMesh.position.clone(),e=0;e<scene3DCutawayPlaneMesh.geometry.vertices.length;e++){var f=scene3DCutawayPlaneMesh.geometry.vertices[e].clone().applyMatrix4(scene3DCutawayPlaneMesh.matrix).sub(scene3DCutawayPlaneMesh.position),k=
(new THREE.Raycaster(b,f.clone().normalize())).intersectObjects(scene3DFloorWallContainer[FLOOR].children);0<k.length&&k[0].distance<f.length()&&((new TWEEN.Tween(k[0].object.material)).to({opacity:.1},800).start(),c.push(k[0].object.id))}on3DCubeMove()}}
function on3DMouseMove(c){!engineGUI.mouseleft||!engineGUI.mouseright||engine3D.controls instanceof THREE.TransformControls||engine3D.controls instanceof THREE.FirstPersonControls||(clearTimeout(clickMenuTime),engine3D.cameraCube.position.copy(engine3D.camera.position),engine3D.cameraCube.position.sub(engine3D.controls.center),engine3D.cameraCube.position.setLength(18),engine3D.cameraCube.lookAt(scene3DCube.position))}
function on3DMouseDown(c){1===c.which&&(engineGUI.mouseleft=!0);3===c.which&&(engineGUI.mouseright=!0);mouse.x=c.clientX/window.innerWidth*2-1;mouse.y=2*-(c.clientY/window.innerHeight)+1;scene3DObjectUnselect();scene3DAnimateRotate=!1;clearTimeout(clickTime);clickTime=setTimeout(function(){engineGUI.mousedrag=!0;0<=document.getElementById("arrow-right").src.indexOf("images/arrowright.png")&&engineGUI.toggleSideMenus(!1)},500)}
function on3DMouseUp(c){clearTimeout(clickTime);engineGUI.mousedrag=!1;1==c.which&&(engineGUI.mouseleft=!1);3==c.which&&(engineGUI.mouseright=!1);engine3D.controls instanceof THREE.TransformControls||engine3D.controls instanceof THREE.FirstPersonControls||(engine3D.scene.remove(engine3D.pivot),null===SelectedObject&&(clickTime=setTimeout(function(){0<=document.getElementById("arrow-right").src.indexOf("images/arrowleft.png")&&engineGUI.toggleSideMenus(!0)},1E3)))};engine3D=window.engine3D||{};
engine3D.makeFloor=function(){for(var c=Math.PI/180,b=0;b<scene2DFloorShape.length;b++)if(void 0!==scene2DFloorShape[b].children[0]){console.log("3D Floor Generate ["+b+"] "+scene2DWallGroup[b].children.length);scene3DFloorShapeContainer[b]=new THREE.Object3D;scene3DCeilingShapeContainer[b]=new THREE.Object3D;var e=new THREE.Shape;for(a=0;a<scene2DFloorShape[b].children[0].segments.length;a++){var f=scene2DFloorShape[b].children[0].segments[a].point,k=f.x/100*2-1,f=2*-(f.y/100)+1,k=k-13,f=f+7;0===
a?e.moveTo(k,f):e.lineTo(k,f)}var k=new THREE.ShapeGeometry(e),f=new THREE.MeshBasicMaterial,p=engine3D.textureLoader.load(json.floor[b].texture);p.wrapS=THREE.RepeatWrapping;p.wrapT=THREE.RepeatWrapping;f.map=p;f=new THREE.Mesh(k,f);f.rotation.x=-(90*c);scene3DFloorShapeContainer[b].add(f);p=engine3D.textureLoader.load(json.ceiling[b].texture);p.wrapS=THREE.RepeatWrapping;p.wrapT=THREE.RepeatWrapping;k=new THREE.MeshBasicMaterial;k.map=p;k.side=THREE.BackSide;f=f.clone();f.material=k;scene3DCeilingShapeContainer[b].add(f);
if(0==b){k=new THREE.Mesh(new THREE.ExtrudeGeometry(e,{amount:-2,bevelEnabled:!1}));k.rotation.x=-(90*c);var n=new ThreeBSP(k);scene3DFloorShapeContainer[b].add(k);_scene3DHouseGroundContainer.traverse(function(c){if(c instanceof THREE.Mesh){var b=new ThreeBSP(c),b=n.subtract(b).toMesh();b.geometry.computeVertexNormals();c.geometry=b.geometry}});scene3DHouseGroundContainer.visible=!1;_scene3DHouseGroundContainer.position.z=-10;engine3D.scene.add(_scene3DHouseGroundContainer)}}};engine3D=window.engine3D||{};engine3D.historyForward=function(){};engine3D.historyBack=function(){};engine3D.historyAdd=function(){};engine3D.initialize=function(){if(Detector.webgl){"local"===RUNMODE&&($("#menuTopItem12").hide(),$("#menuTopItem15").hide());$("#menuTop").show();$("#menuBottomHouse").show();0===window.innerWidth&&(window.innerWidth=parent.innerWidth,window.innerHeight=parent.innerHeight);engine3D.scene=new THREE.Scene;projector=new THREE.Projector;clock=new THREE.Clock;mouse=new THREE.Vector2;touch=new THREE.Vector2;target=new THREE.Vector3;engine3D.jsonLoader=new THREE.LoadingManager;engine3D.fontLoader=new THREE.FontLoader;
engine3D.textureLoader=new THREE.TextureLoader;scene3DFloorGroundContainer=new THREE.Object3D;engine3D.pivot=new THREE.Object3D;var c=new THREE.BoxGeometry(15,15,3);c.computeBoundingBox();material=new THREE.MeshBasicMaterial({color:16776960,side:THREE.DoubleSide});scene3DCutawayPlaneMesh=new THREE.Mesh(c,material);!0===engine3D.showCube&&(c=[new THREE.MeshBasicMaterial({color:3385941,transparent:!0,opacity:.9,shading:THREE.FlatShading,vertexColors:THREE.VertexColors}),new THREE.MeshBasicMaterial({color:5622784,
transparent:!0,opacity:.9,shading:THREE.FlatShading,vertexColors:THREE.VertexColors}),new THREE.MeshBasicMaterial({color:0,transparent:!0,opacity:.9,shading:THREE.FlatShading,vertexColors:THREE.VertexColors}),new THREE.MeshBasicMaterial({color:0,transparent:!0,opacity:.9,shading:THREE.FlatShading,vertexColors:THREE.VertexColors}),new THREE.MeshBasicMaterial({color:255,transparent:!0,opacity:.9,shading:THREE.FlatShading,vertexColors:THREE.VertexColors}),new THREE.MeshBasicMaterial({color:5592490,transparent:!0,
opacity:.9,shading:THREE.FlatShading,vertexColors:THREE.VertexColors})],material=new THREE.MultiMaterial(c),material.vertexColors=THREE.FaceColors,c=engine3D.initCube(8),c.computeLineDistances(),scene3DCubeMesh=new THREE.Line(c,new THREE.LineDashedMaterial({color:16725760,dashSize:3,gapSize:1,linewidth:2}),THREE.LineSegments),scene3DCubeMesh.geometry.dynamic=!0);engine3D.initRenderer();engine3D.initPhysics();engine3D.initTerrainGround();engine3D.initTerrainWater();engine2D.initialize();engine3D["new"]();
engine3D.showHouse();$(window).bind("resize",onWindowResize);$(window).bind("beforeunload",function(){return"Are you sure you want to leave?"})}else/MSIE (\d+\.\d+);/.test(navigator.userAgent)?$("body").append("<br/><br/><br/><div><center><img src='images/webgl.gif' /><h1>Looks like you broke the Internet!</h1><br/><h2>...your WebGL not enabled?</h2><br/><br/>You are running Internet Explorer, the browser does not support WebGL, please install one of these popular browsers<br/><br/><a href='http://www.mozilla.org/en-US/firefox'><img src='images/firefox.png'/></a> <a href='http://www.google.ca/chrome'><img src='images/chrome.png'/></a></center></div>"):
/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&$("body").append("<br/><br/><br/><div><center><img src='images/webgl.gif' /><h1>Looks like you broke the Internet!</h1><br/><h2>...your WebGL not enabled?</h2><img src='images/firefox-webgl.png'/></center></div>"),document.getElementsByTagName("body")[0].style.overflow="auto",document.getElementsByTagName("html")[0].style.overflow="auto"};
engine3D.initRenderer=function(){engine3D.camera=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,.1,80);var c=window.devicePixelRatio|1;engine3D.renderer=new THREE.WebGLRenderer({devicePixelRatio:c,antialias:!1});engine3D.renderer.shadowMap.enabled=!0;engine3D.renderer.shadowMapSoft=!0;engine3D.renderer.shadowMapAutoUpdate=!0;engine3D.renderer.setSize(window.innerWidth,window.innerHeight);document.getElementById("WebGLCanvas").appendChild(engine3D.renderer.domElement);json.settings.showcube&&
(engine3D.sceneCube=new THREE.Scene,engine3D.cameraCube=new THREE.PerspectiveCamera(60,1,1,50),engine3D.cameraCube.up=engine3D.camera.up,engine3D.sceneCube.add(scene3DCubeMesh),engine3D.rendererCube=new THREE.WebGLRenderer({devicePixelRatio:c,antialias:!1,alpha:!0}),engine3D.rendererCube.setSize(100,100),document.getElementById("WebGLCubeCanvas").appendChild(engine3D.rendererCube.domElement))};
engine3D.initRendererQuad=function(){$("div.split-pane").splitPane();for(i=0;4>i;i++)rendererQuad[i]=new THREE.WebGLRenderer({devicePixelRatio:window.devicePixelRatio|1,antialias:!1}),rendererQuad[i].setClearColor(16777215),$("#WebGLSplitCanvas-"+i).append(rendererQuad[i].domElement);camera3DQuad[0]=new THREE.OrthographicCamera($("#WebGLSplitCanvas-0").parent().parent().width()/-60,$("#WebGLSplitCanvas-0").parent().parent().width()/60,$("#WebGLSplitCanvas-0").parent().parent().height()/10,$("#WebGLSplitCanvas-0").parent().parent().height()/
-10,-30,30);camera3DQuad[0].up=new THREE.Vector3(0,0,-1);camera3DQuad[0].lookAt(new THREE.Vector3(0,-1,0));camera3DQuad[1]=new THREE.OrthographicCamera($("#WebGLSplitCanvas-1").parent().parent().width()/-60,$("#WebGLSplitCanvas-1").parent().parent().width()/60,$("#WebGLSplitCanvas-1").parent().parent().height()/10,$("#WebGLSplitCanvas-1").parent().parent().height()/-10,-30,30);camera3DQuad[1].lookAt(new THREE.Vector3(1,0,0));camera3DQuad[1].position.set(0,0,0);camera3DQuad[2]=new THREE.OrthographicCamera($("#WebGLSplitCanvas-2").parent().parent().width()/
-60,$("#WebGLSplitCanvas-2").parent().parent().width()/60,$("#WebGLSplitCanvas-2").parent().parent().height()/10,$("#WebGLSplitCanvas-2").parent().parent().height()/-40,-30,30);camera3DQuad[2].lookAt(new THREE.Vector3(1,0,0));camera3DQuad[2].position.set(0,0,0);camera3DQuad[3]=new THREE.PerspectiveCamera(70,$("#WebGLSplitCanvas-3").parent().width()/$("#WebGLSplitCanvas-3").parent().height(),1,50);camera3DQuad[3].position.set(0,14,8);camera3DQuad[3].lookAt(new THREE.Vector3(0,0,0));camera3DQuadGrid=
new THREE.GridHelper(15,1,new THREE.Color(102),new THREE.Color(7196662));engine3D.initRendererQuadSize()};engine3D.initRendererQuadSize=function(){if(camera3DQuad[0]instanceof THREE.OrthographicCamera)for(i=0;4>i;i++){var c=$("#WebGLSplitCanvas-"+i).parent().parent().width(),b=$("#WebGLSplitCanvas-"+i).parent().parent().height();camera3DQuad[i].aspect=c/b;camera3DQuad[i].updateProjectionMatrix();rendererQuad[i].setSize(c,b)}};
engine3D.initPostprocessing=function(){var c=window.devicePixelRatio|1;console.log("init EffectComposer");engine3D.effectComposer=new THREE.EffectComposer(engine3D.renderer);engine3D.effectComposer.setSize(window.innerWidth*c,window.innerHeight*c);engine3D.renderPass=new THREE.RenderPass(engine3D.scene,engine3D.camera);engine3D.effectComposer.addPass(engine3D.renderPass);engine3D.SSAOProcessing.enabled&&(console.log("init SSAOShader"),engine3D.depthMaterial=new THREE.MeshDepthMaterial,engine3D.depthMaterial.depthPacking=
THREE.RGBADepthPacking,engine3D.depthMaterial.blending=THREE.NoBlending,engine3D.depthRenderTarget=new THREE.WebGLRenderTarget(window.innerWidth,window.innerHeight,{minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter}),engine3D.SSAOPass=new THREE.ShaderPass(THREE.SSAOShader),engine3D.SSAOPass.renderToScreen=!0,engine3D.SSAOPass.uniforms.tDepth.value=engine3D.depthRenderTarget,engine3D.SSAOPass.uniforms.size.value.set(1/(window.innerWidth*c),1/(window.innerHeight*c)),engine3D.SSAOPass.uniforms.cameraNear.value=
engine3D.camera.near,engine3D.SSAOPass.uniforms.cameraFar.value=engine3D.camera.far,engine3D.SSAOPass.uniforms.onlyAO.value=1==engine3D.SSAOProcessing.renderMode,engine3D.SSAOPass.uniforms.aoClamp.value=.3,engine3D.SSAOPass.uniforms.lumInfluence.value=.5,engine3D.effectComposer.addPass(engine3D.SSAOPass));engine3D.FXAAProcessing.enabled&&(console.log("init FXAAShader"),engine3D.FXAAPass=new THREE.ShaderPass(THREE.FXAAShader),engine3D.FXAAPass.uniforms.resolution.value.set(1/(window.innerWidth*c),
1/(window.innerHeight*c)),engine3D.FXAAPass.renderToScreen=!0,engine3D.effectComposer.addPass(engine3D.FXAAPass))};
engine3D.initLights=function(){sceneDirectionalLight=new THREE.DirectionalLight;sceneDirectionalLight.color.setHSL(.1,1,.95);sceneDirectionalLight.position.set(1,1.8,.8).normalize();sceneDirectionalLight.target.position.set(0,0,0);sceneDirectionalLight.position.multiplyScalar(50);sceneDirectionalLight.castShadow=!0;sceneDirectionalLight.shadow.mapSize.width=2048;sceneDirectionalLight.shadow.mapSize.height=2048;sceneDirectionalLight.shadow.camera.left=-15;sceneDirectionalLight.shadow.camera.left=15;
sceneDirectionalLight.shadow.camera.top=15;sceneDirectionalLight.shadow.camera.bottom=-15;sceneDirectionalLight.shadow.camera.far=2E3;sceneDirectionalLight.shadow.bias=-1E-4;sceneSpotLight=new THREE.SpotLight;sceneSpotLight.shadow.camera.near=1;sceneSpotLight.shadow.camera.far=38;sceneSpotLight.castShadow=!0;sceneSpotLight.intensity=.8;sceneSpotLight.position.set(-4,35,4)};engine3D.initPhysics=function(){};
engine3D.initCube=function(c){c*=.5;geometry=new THREE.Geometry;geometry.vertices.push(new THREE.Vector3(-c,-c,-c),new THREE.Vector3(-c,c,-c),new THREE.Vector3(-c,c,-c),new THREE.Vector3(c,c,-c),new THREE.Vector3(c,c,-c),new THREE.Vector3(c,-c,-c),new THREE.Vector3(c,-c,-c),new THREE.Vector3(-c,-c,-c),new THREE.Vector3(-c,-c,c),new THREE.Vector3(-c,c,c),new THREE.Vector3(-c,c,c),new THREE.Vector3(c,c,c),new THREE.Vector3(c,c,c),new THREE.Vector3(c,-c,c),new THREE.Vector3(c,-c,c),new THREE.Vector3(-c,
-c,c),new THREE.Vector3(-c,-c,-c),new THREE.Vector3(-c,-c,c),new THREE.Vector3(-c,c,-c),new THREE.Vector3(-c,c,c),new THREE.Vector3(c,c,-c),new THREE.Vector3(c,c,c),new THREE.Vector3(c,-c,-c),new THREE.Vector3(c,-c,c));return geometry};
engine3D.newFloor=function(c){scene3DFloorFurnitureContainer[c]=new THREE.Object3D;scene3DFloorMeasurementsContainer[c]=new THREE.Object3D;scene3DFloorWallContainer[c]=new THREE.Object3D;scene3DFloorShapeContainer[c]=new THREE.Object3D;scene3DCeilingShapeContainer[c]=new THREE.Object3D;scene3DWallInteriorTextures[c]=[];scene3DWallExteriorTextures[c]=[]};
engine3D["new"]=function(c){scene3DRoofContainer=new THREE.Object3D;scene3DHouseContainer=new THREE.Object3D;scene3DHouseGroundContainer=new THREE.Object3D;scene3DHouseFXContainer=new THREE.Object3D;scene3DLevelGroundContainer=new THREE.Object3D;scene3DLevelWallContainer=new THREE.Object3D;skyMesh=new THREE.Object3D;skyFloorMesh=new THREE.Object3D;engine3D.enableOrbitControls(engine3D.camera,engine3D.renderer.domElement);engine3D.initPostprocessing();engine3D.initLights();engine3D.open3DModel("objects/Platform/floor.jsz",
scene3DFloorGroundContainer,0,0,0,0,0,1,!1,null);engine3D.open3DModel("objects/Landscape/round.jsz",scene3DHouseGroundContainer,0,0,0,0,0,1,!0,null);engine3D.open3DModel("objects/Platform/pivotpoint.jsz",engine3D.pivot,0,0,.1,0,0,1,!1,null)};
engine3D.open=function(){scene3DHouseGroundContainer=new THREE.Object3D;$.each(json.terrain,function(){engine3D.open3DModel(this.file,scene3DHouseGroundContainer,this["position.x"],this["position.y"],this["position.z"],this["rotation.x"],this["rotation.y"],1,!0,null)});$.each(json.roof,function(){engine3D.open3DModel(this.file,scene3DRoofContainer,this["position.x"],this["position.y"],this["position.z"],this["rotation.x"],this["rotation.y"],1,!0,null)});$.each(json.house,function(){engine3D.open3DModel(this.file,
scene3DHouseContainer,this["position.x"],this["position.y"],this["position.z"],this["rotation.x"],this["rotation.y"],1,!0,null)});for(var c=0;c<json.furniture.length;c++)engine3D.newFloor(c),$.each(json.furniture[c],function(){var b=null;void 0!==this.note&&(b=this.note);void 0!==this.file&&engine3D.open3DModel(this.file,scene3DFloorFurnitureContainer[c],this["position.x"],this["position.y"],this["position.z"],this["rotation.x"],this["rotation.y"],1,!0,b)})};var engine3D=window.engine3D||{},rendererPanorama,scene3DPanorama,camera3DPanorama,controls3DPanorama;
engine3D.initPanorama=function(c,b,e,f){$(c).show();$(c).append(engineGUI.spinner);scene3DPanorama=new THREE.Scene;camera3DPanorama=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,1,1E3);rendererPanorama=new THREE.WebGLRenderer({antialias:!1});rendererPanorama.setSize(window.innerWidth*e,window.innerHeight*f);$(c).append(rendererPanorama.domElement);controls3DPanorama=new THREE.OrbitControls(camera3DPanorama,rendererPanorama.domElement);controls3DPanorama.enableDamping=!0;controls3DPanorama.dampingFactor=
.25;controls3DPanorama.enableZoom=!1;controls3DPanorama.movementSpeed=5;controls3DPanorama.lookSpeed=.15;controls3DPanorama.noFly=!0;controls3DPanorama.lookVertical=!1;controls3DPanorama.activeLook=!0;controls3DPanorama.lon=-90;controls3DPanorama.lat=0;controls3DPanorama.enabled=!1;$(c).mousedown(function(){controls3DPanorama.enabled=!0});$(c).mouseup(function(){controls3DPanorama.enabled=!1});engine3D.buildPanorama(scene3DPanorama,b,1024,1024,1024,"_",null);engine3D.animatePanorama()};
engine3D.animatePanorama=function(){if(rendererPanorama instanceof THREE.WebGLRenderer){requestAnimationID=window.requestAnimationFrame(engine3D.animatePanorama);if(controls3DPanorama.enabled)controls3DPanorama.update();else{clock.getDelta();mouse.x+=.1;mouse.y=Math.max(-85,Math.min(85,mouse.y));var c=THREE.Math.degToRad(90-mouse.y),b=THREE.Math.degToRad(mouse.x);target.x=Math.sin(c)*Math.cos(b);target.y=Math.cos(c);target.z=Math.sin(c)*Math.sin(b);camera3DPanorama.lookAt(target)}rendererPanorama.render(scene3DPanorama,
camera3DPanorama)}else engine3D.animate()};engine3D.cubePanoramaImages=function(c,b){return["panoramas/"+c+"/"+b+"right.jpg","panoramas/"+c+"/"+b+"left.jpg","panoramas/"+c+"/"+b+"top.jpg","panoramas/"+c+"/"+b+"bottom.jpg","panoramas/"+c+"/"+b+"front.jpg","panoramas/"+c+"/"+b+"back.jpg"]};
engine3D.buildPanorama=function(c,b,e,f,k,p,n){console.log("Build Panorama :"+b);var t=engine3D.cubePanoramaImages(b,p),h=[new THREE.MeshBasicMaterial({map:engine3D.textureLoader.load(t[0]),side:THREE.BackSide}),new THREE.MeshBasicMaterial({map:engine3D.textureLoader.load(t[1]),side:THREE.BackSide}),new THREE.MeshBasicMaterial({map:engine3D.textureLoader.load(t[2]),side:THREE.BackSide}),new THREE.MeshBasicMaterial({map:engine3D.textureLoader.load(t[3]),side:THREE.BackSide}),new THREE.MeshBasicMaterial({map:engine3D.textureLoader.load(t[4]),
side:THREE.BackSide}),new THREE.MeshBasicMaterial({map:engine3D.textureLoader.load(t[5]),side:THREE.BackSide})];e=new THREE.BoxGeometry(e,f,k);n=new THREE.Mesh(e,new THREE.MultiMaterial(h));""!==p&&(engineGUI.spinner.remove(),t=engine3D.cubePanoramaImages(b,""),engine3D.textureLoader.load(t[0],function(c){h[0].map=c}),engine3D.textureLoader.load(t[1],function(c){h[1].map=c}),engine3D.textureLoader.load(t[2],function(c){h[2].map=c}),engine3D.textureLoader.load(t[3],function(c){h[3].map=c}),engine3D.textureLoader.load(t[4],
function(c){h[4].map=c}),engine3D.textureLoader.load(t[5],function(c){h[5].map=c}));c.add(n)};function onPanoramaWindowResize(){camera3DPanorama.aspect=window.innerWidth/window.innerHeight;camera3DPanorama.updateProjectionMatrix();rendererPanorama.setSize(window.innerWidth,window.innerHeight)}engine3D.disposePanorama=function(c){$(c).hide();$(c).empty();controls3DPanorama=scene3DPanorama=rendererPanorama=null};var engine3D=window.engine3D||{},plots_x=20,plots_y=20,plot_vertices=2,map_left=plots_x/-2,map_top=plots_y/-2,terrain3DMouse={x:0,y:0,vertex:{x:null,y:null}},verticeIndex=function(c){return c.x+c.y*(plots_x*plot_vertices+1)},findLattices=function(){return function(c,b){var e=[],f,k,p;f=[0];k=0;p=[];for(var n,t,h;k<=c;){for(yieldable=[];;){n=[];for(t=0;t<k+1;t++)h=f[t],Math.pow(t,2)+Math.pow(h,2)<=Math.pow(k,2)&&(n.push({x:t,y:h}),f[t]+=1);if(0===n.length)break;p=p.concat(n)}k+=1;f.push(0)}for(f=0;f<
p.length;f++)k=p[f],e.push(k),0!==k.x&&e.push({x:-k.x,y:k.y}),0!==k.y&&e.push({x:k.x,y:-k.y}),k.x&&k.y&&e.push({x:-k.x,y:-k.y});for(f=0;f<e.length;f++)e[f].x+=b.x,e[f].y+=b.y;return e}}(),landscape=new function(){var c=null;this.select=function(b){c=b};this.onmousemove=function(){if(!engine3D.controls.enabled){var b=findLattices(3*plot_vertices,terrain3DMouse.vertex);this.tools[c](3*plot_vertices,b);for(var e,f=0;f<b.length;f++)e=verticeIndex(b[f]),6<engine3D.terrain.displacement.array[e]&&(engine3D.terrain.displacement.array[e]=
6),-5>engine3D.terrain.displacement.array[e]&&(engine3D.terrain.displacement.array[e]=-5),engine3D.terrain.water.displacement.array[e]=engine3D.terrain.displacement.array[e];engine3D.terrain.water.displacement.needsUpdate=!0}};this.tools={hill:function(c,e){var b,k,p;for(b=0;b<e.length;b++)k=e[b],0>k.x||0>k.y||k.x>=plots_x*plot_vertices+1||k.y>=plots_y*plot_vertices+1||(p=verticeIndex(k),k=Math.sqrt(Math.pow(terrain3DMouse.vertex.x-k.x,2)+Math.pow(terrain3DMouse.vertex.y-k.y,2)),engine3D.terrain.displacement.array[p]+=
.03*Math.pow(c-k,.5),engine3D.terrain.displacement.needsUpdate=!0)},valley:function(c,e){var b,k,p;for(b=0;b<e.length;b++)k=e[b],0>k.x||0>k.y||k.x>=plots_x*plot_vertices+1||k.y>=plots_y*plot_vertices+1||(p=verticeIndex(k),k=Math.sqrt(Math.pow(terrain3DMouse.vertex.x-k.x,2)+Math.pow(terrain3DMouse.vertex.y-k.y,2)),engine3D.terrain.displacement.array[p]-=.03*Math.pow(c-k,.5),engine3D.terrain.displacement.needsUpdate=!0)}}};function Degrees2Radians(c){return Math.PI/180*c}
function scene3DLandscapeGetHeightData(c,b){void 0===b&&(b=1);var e=document.createElement("canvas");e.width=c.width;e.height=c.height;var f=e.getContext("2d"),k=c.width*c.height,e=new Float32Array(k);f.drawImage(c,0,0);for(var p=0;p<k;p++)e[p]=0;f=f.getImageData(0,0,c.width,c.height).data;for(p=k=0;p<f.length;p+=4){var n=f[p]+f[p+1]+f[p+2];e[k++]=n/(12*b)}return e}
engine3D.initTerrainGround=function(){if(void 0===engine3D.terrainMaterial){var c=$.ajax({url:"shaders/ground.vertex.fx",dataType:"text",async:!1}).responseText,b=$.ajax({url:"shaders/ground.fragment.fx",dataType:"text",async:!1}).responseText;engine3D.terrainMaterial=new THREE.ShaderMaterial({uniforms:{texture_grass:{type:"t",value:engine3D.textureLoader.load("objects/Landscape/Textures/G36096.jpg")},texture_bare:{type:"t",value:engine3D.textureLoader.load("objects/Landscape/Textures/F46734.jpg")},
texture_snow:{type:"t",value:engine3D.textureLoader.load("objects/Landscape/Textures/F46734.jpg")},show_ring:{type:"i",value:!0},ring_width:{type:"f",value:.15},ring_color:{type:"v4",value:new THREE.Vector4(1,0,0,1)},ring_center:{type:"v3",value:new THREE.Vector3},ring_radius:{type:"f",value:1.6}},vertexShader:c,fragmentShader:b});c=new THREE.PlaneBufferGeometry(plots_x,plots_y,plots_x*plot_vertices,plots_y*plot_vertices);b=new THREE.Float32BufferAttribute(1*c.attributes.position.count,1);c.addAttribute("displacement",
b);engine3D.terrain=new THREE.Mesh(c,engine3D.terrainMaterial);engine3D.terrain.displacement=c.attributes.displacement;engine3D.terrain.displacement.dynamic=!0;engine3D.terrain.rotation.x=-Math.PI/2;var b=$.ajax({url:"shaders/water.vertex.fx",dataType:"text",async:!1}).responseText,e=$.ajax({url:"shaders/water.fragment.fx",dataType:"text",async:!1}).responseText;engine3D.terrain.water=new THREE.Mesh(c,new THREE.ShaderMaterial({uniforms:{water_level:{type:"f",value:-1},time:{type:"f",value:0}},vertexShader:b,
fragmentShader:e,transparent:!0}));engine3D.terrain.water.displacement=c.attributes.displacement;engine3D.terrain.water.displacement.dynamic=!0;engine3D.terrain.water.position.z=-1;engine3D.terrain.add(engine3D.terrain.water)}};function getRandomInt(c,b){return Math.floor(Math.random()*(b-c+1))+c}engine3D.initTerrainWater=function(){};engine3D=window.engine3D||{};
engine3D.makeWalls=function(){for(var c=Math.PI/180,b=0;b<scene2DWallGroup.length;b++)if(scene3DFloorWallContainer[b]=new THREE.Object3D,void 0!==scene2DWallGroup[b].children[0]){console.log("3D Wall Generate ["+b+"] "+scene2DWallGroup[b].children.length);for(var e=0;e<scene2DWallGroup[b].children.length;e++){var f=scene2DWallGroup[b].children[e].children[0].children[0],k=f.segments[0].point.x/100*2-1,p=2*-(f.segments[0].point.y/100)+1,n=(f.segments[0].point.x+f.segments[1].point.x)/2/100*2-1,t=-((f.segments[0].point.y+
f.segments[1].point.y)/2)/100*2+1,h=f.segments[1].point.x/100*2-1,f=2*-(f.segments[1].point.y/100)+1,k=Math.round(k-13),p=Math.round(p+7),n=Math.round(n-13),t=Math.round(t+7),h=Math.round(h-13),f=Math.round(f+7);console.log("x1:"+k+" y1:"+p+" x2:"+h+" y2:"+f+" cx:"+n+" cy:"+t);var r=new THREE.Shape;r.moveTo(k,p);r.quadraticCurveTo(n,t,h,f);r.moveTo(h,f);r.quadraticCurveTo(n,t,k,p);k=new THREE.ExtrudeGeometry(r,{amount:4,bevelEnabled:!1});k.computeBoundingBox();p=new THREE.MeshLambertMaterial({map:scene3DWallInteriorTextureDefault,
transparent:!0,opacity:.6});k=new THREE.Mesh(k,p);k.rotation.x=-(90*c);k.position.y=0;scene3DFloorWallContainer[b].add(k)}}};
engine3D.generateLevelWalls=function(){scene3DLevelWallContainer=new THREE.Object3D;var c=new THREE.BoxGeometry(15,4,13),b=new THREE.MeshBasicMaterial({color:14737632}),c=new THREE.Mesh(c,b);c.position.y=2;scene3DLevelWallContainer.add(c);c=new THREE.BoxGeometry(10,4,9);b=new THREE.MeshBasicMaterial({color:11579568});c=new THREE.Mesh(c,b);c.position.x=2.5;c.position.z=-2;c.position.y=6;scene3DLevelWallContainer.add(c);engine3D.scene.add(scene3DLevelWallContainer)};
function scene3DFloorObjectWallMeasurementAjust(){};engine3D=window.engine3D||{};
engine3D.initSunlight=function(){if(json.weather.sunlight){new THREE.Vector3(0,10,-10);new THREE.MeshDepthMaterial;new THREE.Vector3;sunlight.scene=new THREE.Scene;sunlight.camera=new THREE.OrthographicCamera(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,-1E4,1E4);sunlight.camera.position.z=50;sunlight.scene.add(sunlight.camera);var c={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat};sunlight.rtTextureColors=new THREE.WebGLRenderTarget(window.innerWidth,
window.innerHeight,c);sunlight.rtTextureDepth=new THREE.WebGLRenderTarget(window.innerWidth,window.innerHeight,c);var b=window.innerWidth/4,e=window.innerHeight/4;sunlight.rtTextureGodRays1=new THREE.WebGLRenderTarget(b,e,c);sunlight.rtTextureGodRays2=new THREE.WebGLRenderTarget(b,e,c);c=THREE.ShaderGodRays.godrays_generate;sunlight.godrayGenUniforms=Object.assign({},c.uniforms);sunlight.materialGodraysGenerate=new THREE.ShaderMaterial({uniforms:sunlight.godrayGenUniforms,vertexShader:c.vertexShader,
fragmentShader:c.fragmentShader});c=THREE.ShaderGodRays.godrays_combine;sunlight.godrayCombineUniforms=Object.assign({},c.uniforms);sunlight.materialGodraysCombine=new THREE.ShaderMaterial({uniforms:sunlight.godrayCombineUniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader});c=THREE.ShaderGodRays.godrays_fake_sun;sunlight.godraysFakeSunUniforms=Object.assign({},c.uniforms);sunlight.materialGodraysFakeSun=new THREE.ShaderMaterial({uniforms:sunlight.godraysFakeSunUniforms,vertexShader:c.vertexShader,
fragmentShader:c.fragmentShader});sunlight.godraysFakeSunUniforms.bgColor.value.setHex(1297);sunlight.godraysFakeSunUniforms.sunColor.value.setHex(16772608);sunlight.godrayCombineUniforms.fGodRayIntensity.value=.4;sunlight.quad=new THREE.Mesh(new THREE.PlaneBufferGeometry(window.innerWidth,window.innerHeight),sunlight.materialGodraysGenerate);sunlight.quad.position.z=-9900;sunlight.scene.add(sunlight.quad)}};
engine3D.selectWeather=function(){"sunny"===json.weather.atmosphere?json.weather.atmosphere="snowy":"snowy"===json.weather.atmosphere?json.weather.atmosphere="rainy":"rainy"===json.weather.atmosphere&&(json.weather.atmosphere="sunny");engine3D.setWeather()};
engine3D.setWeather=function(){engine3D.initWeatherClouds();engine3D.scene.remove(weatherSkyCloudsMesh);engine3D.scene.remove(weatherSkyRainbowMesh);if(json.weather.day){if(json.weather.clouds&&(texture=engine3D.textureLoader.load("images/cloud.png"),weatherSkyMaterial.uniforms.map.value=texture,weatherSkyCloudsMesh=new THREE.Mesh(weatherSkyGeometry,weatherSkyMaterial),engine3D.scene.add(weatherSkyCloudsMesh)),json.weather.rainbow){texture=engine3D.textureLoader.load("images/rainbow.png");var c=weatherSkyMaterial.clone();
c.uniforms=THREE.UniformsUtils.clone(weatherSkyMaterial.uniforms);c.uniforms.map.value=texture;geometry=new THREE.Geometry;var b=new THREE.Mesh(new THREE.PlaneGeometry(18,18));b.position.x=getRandomInt(1,15);b.position.y=getRandomInt(5,8);b.position.z=-2;b.updateMatrix();geometry.merge(b.geometry,b.matrix);weatherSkyRainbowMesh=new THREE.Mesh(geometry,c);engine3D.scene.add(weatherSkyRainbowMesh)}}else json.weather.clouds&&(texture=engine3D.textureLoader.load("images/cloud2.png"),texture.magFilter=
THREE.LinearFilter,texture.minFilter=THREE.LinearFilter,weatherSkyMaterial.uniforms.map.value=texture,weatherSkyCloudsMesh=new THREE.Mesh(weatherSkyGeometry,weatherSkyMaterial),engine3D.scene.add(weatherSkyCloudsMesh))};
engine3D.initWeatherClouds=function(){if(void 0===weatherSkyMaterial){weatherSkyCloudsMesh=new THREE.Mesh;weatherSkyRainbowMesh=new THREE.Mesh;var c=$.ajax({url:"shaders/clouds.vertex.fx",async:!1}).responseText,b=$.ajax({url:"shaders/clouds.fragment.fx",async:!1}).responseText,e=new THREE.Fog(4555956,-100,1E3);weatherSkyMaterial=new THREE.ShaderMaterial({uniforms:{map:{type:"t"},fogColor:{type:"c",value:e.color},fogNear:{type:"f",value:e.near},fogFar:{type:"f",value:e.far}},vertexShader:c,fragmentShader:b,
depthWrite:!1,depthTest:!1,transparent:!0});weatherSkyGeometry=new THREE.Geometry;c=new THREE.Mesh(new THREE.PlaneGeometry(4,4));for(b=0;20>b;b++)c.position.x=getRandomInt(-20,20),c.position.y=getRandomInt(5.5,10),c.position.z=b,c.rotation.z=getRandomInt(5,10),c.scale.x=c.scale.y=getRandomInt(.5,1),c.updateMatrix(),weatherSkyGeometry.merge(c.geometry,c.matrix)}};
engine3D.setDay=function(c){void 0!==c&&(json.weather.day=c);c="2056";!0===json.weather.day?c=json.settings.panorama_day:!1===json.weather.day&&(c=json.settings.panorama_night);skyMesh.name!=c&&(engine3D.buildPanorama(skyMesh,c,75,75,75,"",null),skyMesh.position.y=5,skyMesh.name=c)};engine3D.setSkyEffects=function(){};var engineGUI=window.engineGUI||{};
engineGUI.initialize=function(){window.location.href="#list";$("#menuTop").hide();$("#menuAgent").hide();$("#menuBottomHouse").hide();$("#menuBottomFloor").hide();$("#menuBottomPlan").hide();$("#WebGLInteractiveMenu").hide();$("#WebGLSelectMenu").hide();$("#menuLeft3DHouse").hide();$("#menuLeft3DLandscape").hide();$("#menuLeft3DFloor").hide();$("#menuLeft2D").hide();$("#menuFloorSelector").hide();engineGUI.spinner=$("<div>",{"class":"cssload-container",style:"position:absolute;top:32%;left:40%;"}).append($("<ul>",{"class":"cssload-flex-container"}).append($("<li>").append($("<span>",
{"class":"cssload-loading"}))));engineGUI.initList()};
engineGUI.initHousePlanner=function(c,b){$(".tooltip").tooltipster({animation:"fade",delay:200,theme:"tooltipster-default",touchDevices:!1,trigger:"hover",position:"bottom",contentAsHTML:!0});$("#menu2DTools").tooltipster({theme:"tooltipster-light",trigger:"custom",touchDevices:!0,interactive:!0,contentAsHTML:!0,content:""});$("#WebGLSelectMenu").tooltipster({theme:"tooltipster-light",trigger:"custom",touchDevices:!0,delay:0,interactive:!0,position:"top",contentAsHTML:!0,content:""});$(".tooltip-right").tooltipster({animation:"fade",
delay:200,theme:"tooltipster-default",touchDevices:!1,trigger:"hover",position:"right"});$(".tooltip-top").tooltipster({animation:"fade",delay:200,theme:"tooltipster-default",touchDevices:!1,trigger:"hover",position:"top",contentAsHTML:!0});$(".cssmenu ul ul li:odd").addClass("odd");$(".cssmenu ul ul li:even").addClass("even");$(".cssmenu > ul > li > a").click(function(c){engineGUI.menuItemClick(this)});$("#menuTop p").click(function(){$(this).hide().after('<input type="text" class="editP" value="'+
$(this).html()+'" size="10" />');$(".editP").focus()});$(".editP").bind("blur",function(){$(this).hide().prev("#menuTop p").html($(this).val()).show()});stroll.bind(".cssmenu ul");engine3D.initialize()};
engineGUI.initMenuTop=function(c){var b=$(".menuTop").empty(),e=$("<div>",{"class":"hi-icon-wrap hi-icon-effect-1 hi-icon-effect-1a"});1===c[0]&&(e.append($("<a>",{href:"#",onclick:"engine3D.showHouse()","class":"hi-icon icon-house tooltip",title:"Home Exterior"})),e.append($("<a>",{href:"#",onclick:"engine3D.showLandscape()","class":"hi-icon icon-terrain tooltip",title:"Landscape Editor"})),e.append($("<a>",{href:"#",onclick:"engine3D.showFloorLevel()","class":"hi-icon icon-floors tooltip",title:"Floor Arrangements"})),
e.append($("<a>",{href:"#",onclick:"engine3D.showRoofDesign()","class":"hi-icon icon-roof tooltip",title:"Roof Design"})));2!==c[0]&&2!==c[1]||e.append($("<a>",{href:"#",onclick:"engine3D.showFloor(1)","class":"hi-icon icon-armchair tooltip",title:"Floor Furnishings"}));3!==c[1]&&3!==c[2]||e.append($("<a>",{href:"#",onclick:"engine2D.show()","class":"hi-icon icon-draftplan tooltip",title:"Floor Plans"}));e.append($("<div>",{style:"display:inline-block;width:1px;height:28px;background:black;"}));e.append($("<a>",
{href:"#",onclick:"sceneNew()","class":"hi-icon icon-new tooltip",title:"New"}));e.append($("<a>",{href:"#",onclick:"fileSelect('opendesign')","class":"hi-icon icon-open tooltip",title:"Open"}));e.append($("<a>",{href:"#",onclick:"engineGUI.save(false)","class":"hi-icon icon-save tooltip",title:"Save"}));e.append($("<div>",{style:"display: inline-block;width:1px;height:28px;background:black;"}));e.append($("<a>",{href:"#",onclick:"engineGUI.makeScreenshot()","class":"hi-icon icon-screenshot tooltip",
title:"Screenshot"}));e.append($("<a>",{href:"#",onclick:"screenfull.request(document.documentElement)","class":"hi-icon icon-expand tooltip",title:"Full Screen"}));e.append($("<a>",{href:"#","class":"hi-icon icon-settings tooltip",title:"Settings"}));b.append(e)};
engineGUI.initList=function(){$.ajax("scenes/index.json",{contentType:"application/json",dataType:"json",success:function(c){jsonindex=c;var b=$("#menuIndexList").empty();$.each(jsonindex.menu,function(){var c=$("<div>",{width:"300px",style:"padding:20px;display:inline-block;text-align:center;"}),f=$("<img>",{width:"300px",height:"150px","class":"lazy indexImage",id:this.name,"data-original":"scenes/"+this.id+"/index.jpg"}),f=$("<a>",{href:"javascript:engineGUI.initParallaxSlider('"+this.id+"')"}).append(f),
k=$("<p>").append(this.name),c=c.append(f).append(k);b.append(c)});new LazyLoad}})};
engineGUI.initMenu=function(c,b){b="database"==RUNMODE?"php/objects.php?menu="+b.split("/").shift():"objects/"+b;$.ajax(b,{dataType:"json",success:function(b){var e=$("#"+c+" .scroll");e.empty();$.each(b.menu,function(){e.append(engineGUI.menuGetItem(this))});$("#"+c+" .cssmenu > ul > li > a").click(function(c){engineGUI.menuItemClick(this)})},error:function(c,f,k){alertify.alert("Menu ("+b+") Loading Error").show()}});engineGUI.menuCorrectHeight();$("#"+c).show()};
engineGUI.menuSelect=function(c,b,e){if(null===c)for(c=0;6>=c;c++)$("#"+b+c).css("color","black");else engineGUI.menuSelect(null,b,e),$("#"+b+c).css("color",e)};
engineGUI.showRightObjectMenu=function(c){c="database"==RUNMODE?"php/objects.php?objects="+c:"objects/"+c+"/index.json";var b=$("#menuRightObjects .scroll");$("#menuRight3DHouse").hide();$("#menuRight3DFloor").hide();$("#menuRight3DRoof").hide();$("#menuRight2D").hide();$("#menuRightObjects").show();$.ajax(c,{dataType:"json",success:function(c){b.empty();try{$.each(c.menu,function(){0<Object.keys(c.menu).length?getMenuObjectItem(b,this):b.append("<li><span style='margin-let:auto;text-align:center;padding:20px'>No Objects In This Category</span></li>")})}catch(f){b.append("<li><span style='margin-let:auto;text-align:center;padding:20px'>No Objects In This Category</span></li>")}}})};
engineGUI.showRightCatalogMenu=function(){"house"===engineGUI.scene?$("#menuRight3DHouse").show():"floor"===engineGUI.scene&&$("#menuRight3DFloor").show();$("#menuRightObjects").hide();$("#menuRightObjects .scroll").empty()};engineGUI.toggleSideMenus=function(c){engineGUI.menuToggleRight("menuRight",c);"house"==engineGUI.scene?engineGUI.menuToggleLeft("menuLeft3DHouse",c):"floor"==engineGUI.scene&&engineGUI.menuToggleLeft("menuLeft3DFloor",c)};
engineGUI.menuToggleRight=function(c,b){var e=document.getElementById(c),f=document.getElementById("arrow-right");e.getAttribute("class");0<=f.src.indexOf("images/arrowleft.png")||b?(e.style.display="block",e.setAttribute("class","show-right"),engineGUI.menuDelay(f,"images/arrowright.png",400)):b||(e.setAttribute("class","hide-right"),engineGUI.menuDelay(f,"images/arrowleft.png",400))};
engineGUI.menuToggleLeft=function(c,b){var e=document.getElementById(c),f=document.getElementById("arrow-left");e.getAttribute("class");0<=f.src.indexOf("images/arrowright.png")||b?(e.style.display="block",e.setAttribute("class",c+"-show-left"),engineGUI.menuDelay(f,"images/arrowleft.png",400)):b||(e.setAttribute("class","hide-left"),engineGUI.menuDelay(f,"images/arrowright.png",400))};engineGUI.menuDelay=function(c,b,e){window.setTimeout(function(){c.setAttribute("src",b)},e)};
engineGUI.menuItemClick=function(c){$(".cssmenu > ul > li").removeClass("active");$(c).closest("li").addClass("active");var b=$(c).next();b.is("ul")&&b.is(":visible")&&($(c).closest("li").removeClass("active"),b.slideUp("normal"));b.is("ul")&&!b.is(":visible")&&($(".cssmenu ul ul:visible").slideUp("normal"),b.slideDown("normal"));return 0==$(c).closest("li").find("ul").children().length?!0:!1};
engineGUI.menuGetItem=function(c,b){var e="<li";c.sub?e+=" class='has-sub'":b&&(e+=" class='last-child'");var f="<a",f=null!=c.link?f+(" href=\"javascript:engineGUI.showRightObjectMenu('"+c.link+"');\""):f+' href="#"',f=f+(">"+c.name+"</a>"),e=$(e+">").append(f);if(c.sub){var k=$("<ul>");$.each(c.sub,function(b){b==c.sub.length-1?k.append(engineGUI.menuGetItem(this,!0)):k.append(engineGUI.menuGetItem(this,!1))});e.append(k)}return e};
engineGUI.initParallaxSlider=function(c){getCookie("firstTimer")?(createCookie("firstTimer","1",15),window.location.href="#start"):window.location.href="#scene";engineGUI.initHousePlanner();var b=$(".pxs_slider").empty(),e=$(".pxs_thumbnails").empty();$.each(jsonindex.menu,function(f){if(this.id===c){for(f=this.plan[0];f<=this.plan[this.plan.length-1];f++){var k=$("<img>",{src:"scenes/"+c+"/"+f+".jpg"}),k=$("<li>").append($("<a>",{href:"javascript:engineGUI.open("+f+",'"+c+"')"}).append(k));b.append(k)}for(f=
this.plan[0];f<=this.plan[this.plan.length-1];f++)k=$("<img>",{src:"scenes/"+c+"/_"+f+".jpg"}),k=$("<li>").append(k),e.append(k);engineGUI.initMenuTop(this.plan);return!0}});$("#pxs_container").parallaxSlider();$(".pxs_bg1").css("background-image","images/bg1.jpg")};
function getMenuObjectItem(c,b){var e=$("<img>",{id:b.name,src:"images/loader.gif","data-src":b.image,"data-src-retina":b.image.slice(0,-4)+"@2x."+b.image.split(".").pop(),style:"opacity: 0;transition: opacity .3s ease-in;height:100%"}),f=$("<a>",{href:"javascript:engine3D.insert3DModel('"+b.file+"')"}).append(e),f=$("<li style='border:1px solid #aaa;text-align:center'>").append($("<div style='background-color:#fff;height:120px'>").append(f).append("<span class='objectItemInfo' style='height:40px'>"));
c.append(f);$(e).unveil(200,function(){$(this).load(function(){this.style.opacity=1})})}
engineGUI.menuCorrectHeight=function(){var c=window.innerHeight-250,b;if("house"==engineGUI.scene)$("#menuRight3DHouse .cssmenu").height(),b=$("#menuRight2D .cssmenu");else if("floor"==engineGUI.scene)$("#menuRight3DFloor .cssmenu").height(),b=$("#menuRight2D .cssmenu");else if("roof"==engineGUI.scene)$("#menuRight3DRoof .cssmenu").height(),b=$("#menuRight2D .cssmenu");else if("2d"==engineGUI.scene)$("#menuRight2D .cssmenu").height(),b=$("#menuRight2D .cssmenu");else return;$("#menuRightObjects .scroll").css("height",
c);b.height()<c?b.css("height","100%"):b.css("height",c)};engineGUI.selectFloor=function(c){c=engineGUI.floor+c;c<engineGUI.floor?"floor"==engineGUI.scene?engine3D.showFloor(c):"2d"==engineGUI.scene&&engine2D.showFloor(c):alertify.confirm("Add New Floor?",function(c){c&&("floor"==engineGUI.scene?engine3D.addFloor("New Floor"):"2d"==engineGUI.scene&&engine2D.addFloor("New Floor"))})};function selectMeasurement(){engine3D.measurements=1.8311874==engine3D.measurements?1:1.8311874}
engineGUI.sceneMapBox=function(){};engineGUI.makeScreenshot=function(){window.open(engine3D.renderer.domElement.toDataURL("image/png"),"Final")};engineGUI.addNewFloor=function(){if($("#addNewFloor").val()){engine3D.newFloor($("#addNewFloor").val());var c="<a href='#' onclick='camera3DFloorFlyIn("+scene3DFloorFurnitureContainer.length+")'><span>"+$("#addNewFloor").val()+"</span></a>",c=$("<li>").append(c);$("#menuLeft3DHouseFloorList").append(c)}};
engineGUI.generateItemList=function(){$("#generateItemList").empty();for(var c=0;c<scene3DFloorFurnitureContainer.length;c++){console.log(scene3DFloorFurnitureContainer[c].name);for(var b=0;b<scene3DFloorFurnitureContainer[c].children.length;b++)console.log(scene3DFloorFurnitureContainer[c].children[b].children[0].name)}for(c=0;c<scene3DHouseContainer.children.length;c++)console.log(scene3DHouseContainer.children[c].children[0].name)};engineGUI.exportPDF=function(){};
function scene3DSplitViewTop(){var c=window.innerWidth/1.4,b=.2*window.innerHeight;$("#left-component-1").css({width:c});$("#right-component-1").css({left:c});$("#vertical-divider-1").css({left:c});$("#bottom-component").css({height:b});$("#top-component").css({bottom:b});$("#horizontal-divider").css({bottom:b});engine3D.initRendererQuadSize()}
function scene3DSplitViewFront(){var c=.3*window.innerWidth,b=.2*window.innerHeight;$("#left-component-1").css({width:c});$("#right-component-1").css({left:c});$("#vertical-divider-1").css({left:c});$("#bottom-component").css({height:b});$("#top-component").css({bottom:b});$("#horizontal-divider").css({bottom:b});engine3D.initRendererQuadSize()}
function scene3DSplitViewSide(){var c=.15*window.innerWidth,b=window.innerHeight/1.4;$("#left-component-1").css({width:c});$("#right-component-1").css({left:c});$("#vertical-divider-1").css({left:c});$("#bottom-component").css({height:b});$("#top-component").css({bottom:b});$("#horizontal-divider").css({bottom:b});engine3D.initRendererQuadSize()}function scene3DSplitView3D(){}function getCookie(c){c=("; "+document.cookie).split("; "+c+"=");if(2==c.length)return c.pop().split(";").shift()}
function createCookie(c,b,e){if(e){var f=new Date;f.setTime(f.getTime()+864E5*e);e="; expires="+f.toGMTString()}else e="";document.cookie=c+"="+b+e+"; path=/"};window.onload=function(){!function(c){function b(c){c&&(c.preventDefault?c.preventDefault():c.returnValue=!1)}function e(c){this.message=c;this.type="alert"}function f(c){this.message=c;this.type="confirm"}function k(c,b){this.message=c;this.value=b;this.type="prompt"}function p(){return{settings:r.settings,alert:function(c){return new e(c)},confirm:function(c){return new f(c)},prompt:function(c,b){return new k(c,b)}}}var n=function(){return document.addEventListener?function(c,b,e){c.addEventListener(b,
e,!1)}:document.attachEvent?function(c,b,e){c.attachEvent("on"+b,e)}:void 0}(),t=function(){return document.removeEventListener?function(c,b,e){c.removeEventListener(b,e,!1)}:document.detachEvent?function(c,b,e){c.detachEvent("on"+b,e)}:void 0}(),h=function(){var c,b,e=!1,h=document.createElement("fakeelement"),f={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(c in f)if(void 0!==h.style[c]){b=f[c];e=!0;break}return{type:b,
supported:e}}(),r=function(){function c(g){b(g);clearTimeout(F);e();"function"==typeof C.onfocus&&C.onfocus();t(C.el,h.type,c)}function e(c){if(n(document.body,"keyup",x),"prompt"===C.type)w.focus(),w.select();else if(c)"alert"===C.type?D.focus():E.children[0].focus();else switch(C.settings.focus){case "ok":D.focus();break;case "cancel":H.focus();break;default:D.focus()}}function f(c){b(c);e(!0)}function k(c){b(c);C.close();"function"==typeof C.ok&&C.ok(w.value)}function p(c){b(c);C.close();"function"==
typeof C.cancel&&C.cancel()}function x(c){var b=c.keyCode;b===A.ENTER&&k(c);b===A.ESC&&/prompt|confirm/.test(C.type)&&p(c)}var C,F,D=document.getElementById("alertifyButtonOk"),H=document.getElementById("alertifyButtonCancel"),J=document.getElementById("alertifyFocusReset"),w=document.getElementById("alertifyInput"),R=document.getElementById("alertifyTitle"),M=document.getElementById("alertifyCover"),E=document.getElementById("alertifyButtons"),B=!1,A={ENTER:13,ESC:27};return document.body.setAttribute("tabindex",
"0"),{el:document.getElementById("alertifyDialog"),activeElement:document.body,settings:{ok:"OK",cancel:"Cancel",focus:"ok"},isOpen:function(){return B},show:function(){var b;B?b=!1:(B=!0,C=this,R.innerHTML=C.message,D.innerHTML=C.settings.ok,H.innerHTML=C.settings.cancel,w.value=C.value||"",b=(r.activeElement=document.activeElement,n(D,"click",k),n(H,"click",p),n(J,"focus",f),h.supported&&(n(this.el,h.type,c),clearTimeout(F),F=setTimeout(c,1E3)),M.className="alertify-cover",this.el.className="alertify alertify--"+
this.type,h.supported||e(),"function"==typeof this.onshow&&this.onshow(),!0));return b},close:function(){t(D,"click",k);t(H,"click",p);t(document.body,"keyup",x);t(J,"focus",f);M.className="alertify-cover alertify-hidden";this.el.className+=" alertify-close";r.activeElement.focus();B=!1;"function"==typeof this.onclose&&this.onclose()}}}();e.prototype=r;f.prototype=r;k.prototype=r;"function"==typeof define?define([],function(){return new p}):c.alertify||(c.alertify=new p)}(this)};$(function(){var c=!0,b=document.getElementById("picker"),e=b.getContext("2d"),f=new Image;f.onload=function(){e.drawImage(f,0,0,f.width,f.height)};var k="images/colorwheel1.png";switch($(b).attr("var")){case "2":k="images/colorwheel2.png";break;case "3":k="images/colorwheel3.png";break;case "4":k="images/colorwheel4.png";break;case "5":k="images/colorwheel5.png"}f.src=k;$("#picker").mousemove(function(f){if(c){var k=$(b).offset();f=e.getImageData(Math.floor(f.pageX-k.left),Math.floor(f.pageY-k.top),
1,1).data;k="rgb("+f[0]+", "+f[1]+", "+f[2]+")";$(".preview").css("backgroundColor",k);$("#rVal").val(f[0]);$("#gVal").val(f[1]);$("#bVal").val(f[2]);$("#rgbVal").val(f[0]+","+f[1]+","+f[2]);f=f[2]+256*f[1]+65536*f[0];$("#hexVal").val("#"+("0000"+f.toString(16)).substr(-6))}});$("#picker").click(function(b){c=!c});$(".preview").click(function(b){$(".colorpicker").fadeToggle("slow","linear");c=!0})});var saveAs=saveAs||function(c){if(!("undefined"===typeof c||"undefined"!==typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var b=c.document.createElementNS("http://www.w3.org/1999/xhtml","a"),e="download"in b,f=/constructor/i.test(c.HTMLElement)||c.safari,k=/CriOS\/[\d]+/.test(navigator.userAgent),p=function(b){(c.setImmediate||c.setTimeout)(function(){throw b;},0)},n=function(b){setTimeout(function(){"string"===typeof b?(c.URL||c.webkitURL||c).revokeObjectURL(b):b.remove()},4E4)},t=function(c){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?
new Blob([String.fromCharCode(65279),c],{type:c.type}):c},h=function(g,h,r){r||(g=t(g));var u=this,y="application/octet-stream"===g.type,z,C=function(){for(var c=["writestart","progress","write","writeend"],c=[].concat(c),b=c.length;b--;){var g=u["on"+c[b]];if("function"===typeof g)try{g.call(u,u)}catch(J){p(J)}}};u.readyState=u.INIT;e?(z=(c.URL||c.webkitURL||c).createObjectURL(g),setTimeout(function(){b.href=z;b.download=h;var c=new MouseEvent("click");b.dispatchEvent(c);C();n(z);u.readyState=u.DONE})):
function(){if((k||y&&f)&&c.FileReader){var b=new FileReader;b.onloadend=function(){var g=k?b.result:b.result.replace(/^data:[^;]*;/,"data:attachment/file;");c.open(g,"_blank")||(c.location.href=g);u.readyState=u.DONE;C()};b.readAsDataURL(g);u.readyState=u.INIT}else z||(z=(c.URL||c.webkitURL||c).createObjectURL(g)),y?c.location.href=z:c.open(z,"_blank")||(c.location.href=z),u.readyState=u.DONE,C(),n(z)}()},r=h.prototype;if("undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob)return function(c,
b,e){b=b||c.name||"download";e||(c=t(c));return navigator.msSaveOrOpenBlob(c,b)};r.abort=function(){};r.readyState=r.INIT=0;r.WRITING=1;r.DONE=2;r.error=r.onwritestart=r.onprogress=r.onwrite=r.onabort=r.onerror=r.onwriteend=null;return function(c,b,e){return new h(c,b||c.name||"download",e)}}}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||this.content);
"undefined"!==typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!==typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return saveAs});(function(c){c.easing.jswing=c.easing.swing;c.extend(c.easing,{def:"easeOutQuad",swing:function(b,e,f,k,p){return c.easing[c.easing.def](b,e,f,k,p)},easeInQuad:function(c,e,f,k,p){return k*(e/=p)*e+f},easeOutQuad:function(c,e,f,k,p){return-k*(e/=p)*(e-2)+f},easeInOutQuad:function(c,e,f,k,p){return 1>(e/=p/2)?k/2*e*e+f:-k/2*(--e*(e-2)-1)+f},easeInCubic:function(c,e,f,k,p){return k*(e/=p)*e*e+f},easeOutCubic:function(c,e,f,k,p){return k*((e=e/p-1)*e*e+1)+f},easeInOutCubic:function(c,e,f,k,p){return 1>
(e/=p/2)?k/2*e*e*e+f:k/2*((e-=2)*e*e+2)+f},easeInQuart:function(c,e,f,k,p){return k*(e/=p)*e*e*e+f},easeOutQuart:function(c,e,f,k,p){return-k*((e=e/p-1)*e*e*e-1)+f},easeInOutQuart:function(c,e,f,k,p){return 1>(e/=p/2)?k/2*e*e*e*e+f:-k/2*((e-=2)*e*e*e-2)+f},easeInQuint:function(c,e,f,k,p){return k*(e/=p)*e*e*e*e+f},easeOutQuint:function(c,e,f,k,p){return k*((e=e/p-1)*e*e*e*e+1)+f},easeInOutQuint:function(c,e,f,k,p){return 1>(e/=p/2)?k/2*e*e*e*e*e+f:k/2*((e-=2)*e*e*e*e+2)+f},easeInSine:function(c,e,
f,k,p){return-k*Math.cos(e/p*(Math.PI/2))+k+f},easeOutSine:function(c,e,f,k,p){return k*Math.sin(e/p*(Math.PI/2))+f},easeInOutSine:function(c,e,f,k,p){return-k/2*(Math.cos(Math.PI*e/p)-1)+f},easeInExpo:function(c,e,f,k,p){return 0==e?f:k*Math.pow(2,10*(e/p-1))+f},easeOutExpo:function(c,e,f,k,p){return e==p?f+k:k*(-Math.pow(2,-10*e/p)+1)+f},easeInOutExpo:function(c,e,f,k,p){return 0==e?f:e==p?f+k:1>(e/=p/2)?k/2*Math.pow(2,10*(e-1))+f:k/2*(-Math.pow(2,-10*--e)+2)+f},easeInCirc:function(c,e,f,k,p){return-k*
(Math.sqrt(1-(e/=p)*e)-1)+f},easeOutCirc:function(c,e,f,k,p){return k*Math.sqrt(1-(e=e/p-1)*e)+f},easeInOutCirc:function(c,e,f,k,p){return 1>(e/=p/2)?-k/2*(Math.sqrt(1-e*e)-1)+f:k/2*(Math.sqrt(1-(e-=2)*e)+1)+f},easeInElastic:function(c,e,f,k,p){c=1.70158;var b=0,t=k;if(0==e)return f;if(1==(e/=p))return f+k;b||(b=.3*p);t<Math.abs(k)?(t=k,c=b/4):c=b/(2*Math.PI)*Math.asin(k/t);return-(t*Math.pow(2,10*--e)*Math.sin(2*(e*p-c)*Math.PI/b))+f},easeOutElastic:function(c,e,f,k,p){c=1.70158;var b=0,t=k;if(0==
e)return f;if(1==(e/=p))return f+k;b||(b=.3*p);t<Math.abs(k)?(t=k,c=b/4):c=b/(2*Math.PI)*Math.asin(k/t);return t*Math.pow(2,-10*e)*Math.sin(2*(e*p-c)*Math.PI/b)+k+f},easeInOutElastic:function(c,e,f,k,p){c=1.70158;var b=0,t=k;if(0==e)return f;if(2==(e/=p/2))return f+k;b||(b=.3*p*1.5);t<Math.abs(k)?(t=k,c=b/4):c=b/(2*Math.PI)*Math.asin(k/t);return 1>e?-.5*t*Math.pow(2,10*--e)*Math.sin(2*(e*p-c)*Math.PI/b)+f:t*Math.pow(2,-10*--e)*Math.sin(2*(e*p-c)*Math.PI/b)*.5+k+f},easeInBack:function(c,e,f,k,p,n){void 0==
n&&(n=1.70158);return k*(e/=p)*e*((n+1)*e-n)+f},easeOutBack:function(c,e,f,k,p,n){void 0==n&&(n=1.70158);return k*((e=e/p-1)*e*((n+1)*e+n)+1)+f},easeInOutBack:function(c,e,f,k,p,n){void 0==n&&(n=1.70158);return 1>(e/=p/2)?k/2*e*e*(((n*=1.525)+1)*e-n)+f:k/2*((e-=2)*e*(((n*=1.525)+1)*e+n)+2)+f},easeInBounce:function(b,e,f,k,p){return k-c.easing.easeOutBounce(b,p-e,0,k,p)+f},easeOutBounce:function(c,e,f,k,p){return(e/=p)<1/2.75?7.5625*k*e*e+f:e<2/2.75?k*(7.5625*(e-=1.5/2.75)*e+.75)+f:e<2.5/2.75?k*(7.5625*
(e-=2.25/2.75)*e+.9375)+f:k*(7.5625*(e-=2.625/2.75)*e+.984375)+f},easeInOutBounce:function(b,e,f,k,p){return e<p/2?.5*c.easing.easeInBounce(b,2*e,0,k,p)+f:.5*c.easing.easeOutBounce(b,2*e-p,0,k,p)+.5*k+f}})})(jQuery);!function(c){"function"==typeof define&&define.amd?define(["jquery"],c):"object"==typeof exports?module.exports=c:c(jQuery)}(function(c){function b(b){var g=b||window.event,h=t.call(arguments,1),n,p=0,x=0,C=0,F=0,D=0;if(b=c.event.fix(g),b.type="mousewheel","detail"in g&&(x=-1*g.detail),"wheelDelta"in g&&(x=g.wheelDelta),"wheelDeltaY"in g&&(x=g.wheelDeltaY),"wheelDeltaX"in g&&(p=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(p=-1*x,x=0),n=0===x?p:x,"deltaY"in g&&(x=-1*g.deltaY,n=x),"deltaX"in
g&&(p=g.deltaX,0===x&&(n=-1*p)),0!==x||0!==p){if(1===g.deltaMode){var H=c.data(this,"mousewheel-line-height");n*=H;x*=H;p*=H}else 2===g.deltaMode&&(H=c.data(this,"mousewheel-page-height"),n*=H,x*=H,p*=H);if(C=Math.max(Math.abs(x),Math.abs(p)),(!k||k>C)&&(k=C,r.settings.adjustOldDeltas&&"mousewheel"===g.type&&0===C%120&&(k/=40)),r.settings.adjustOldDeltas&&"mousewheel"===g.type&&0===C%120&&(n/=40,p/=40,x/=40),n=Math[1<=n?"floor":"ceil"](n/k),p=Math[1<=p?"floor":"ceil"](p/k),x=Math[1<=x?"floor":"ceil"](x/
k),r.settings.normalizeOffset&&this.getBoundingClientRect)g=this.getBoundingClientRect(),F=b.clientX-g.left,D=b.clientY-g.top;return b.deltaX=p,b.deltaY=x,b.deltaFactor=k,b.offsetX=F,b.offsetY=D,b.deltaMode=0,h.unshift(b,n,p,x),f&&clearTimeout(f),f=setTimeout(e,200),(c.event.dispatch||c.event.handle).apply(this,h)}}function e(){k=null}var f,k,p=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],n="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],
t=Array.prototype.slice;if(c.event.fixHooks)for(var h=p.length;h;)c.event.fixHooks[p[--h]]=c.event.mouseHooks;var r=c.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var g=n.length;g;)this.addEventListener(n[--g],b,!1);else this.onmousewheel=b;c.data(this,"mousewheel-line-height",r.getLineHeight(this));c.data(this,"mousewheel-page-height",r.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var g=n.length;g;)this.removeEventListener(n[--g],
b,!1);else this.onmousewheel=null;c.removeData(this,"mousewheel-line-height");c.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){b=c(b);var g=b["offsetParent"in c.fn?"offsetParent":"parent"]();return g.length||(g=c("body")),parseInt(g.css("fontSize"),10)||parseInt(b.css("fontSize"),10)||16},getPageHeight:function(b){return c(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};c.fn.extend({mousewheel:function(c){return c?this.bind("mousewheel",c):this.trigger("mousewheel")},
unmousewheel:function(c){return this.unbind("mousewheel",c)}})});!function(c){"object"==typeof exports&&"undefined"!=typeof module?module.exports=c():"function"==typeof define&&define.amd?define([],c):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).JSZip=c()}(function(){return function b(e,f,k){function p(h,r){if(!f[h]){if(!e[h]){var g="function"==typeof require&&require;if(!r&&g)return g(h,!0);if(n)return n(h,!0);g=Error("Cannot find module '"+h+"'");throw g.code="MODULE_NOT_FOUND",g;}g=f[h]={exports:{}};
e[h][0].call(g.exports,function(b){var g=e[h][1][b];return p(g?g:b)},g,g.exports,b,e,f,k)}return f[h].exports}for(var n="function"==typeof require&&require,t=0;t<k.length;t++)p(k[t]);return p}({1:[function(b,e,f){var k=b("./utils"),p=b("./support");f.encode=function(b){for(var e,h,f,g,n,p,u,v=[],x=0,C=b.length,F="string"!==k.getTypeOf(b);x<b.length;)u=C-x,F?(e=b[x++],h=x<C?b[x++]:0,f=x<C?b[x++]:0):(e=b.charCodeAt(x++),h=x<C?b.charCodeAt(x++):0,f=x<C?b.charCodeAt(x++):0),g=e>>2,n=(3&e)<<4|h>>4,p=1<
u?(15&h)<<2|f>>6:64,u=2<u?63&f:64,v.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(g)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(p)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(u));return v.join("")};f.decode=function(b){var e,h,f,g,k,n=0,u=0;if("data:"===b.substr(0,5))throw Error("Invalid base64 input, it looks like a data url.");
b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");g=3*b.length/4;if("="===b.charAt(b.length-1)&&g--,"="===b.charAt(b.length-2)&&g--,0!==g%1)throw Error("Invalid base64 input, bad content length.");var v;for(v=p.uint8array?new Uint8Array(0|g):Array(0|g);n<b.length;)e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(n++)),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(n++)),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(n++)),
k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(n++)),e=e<<2|h>>4,h=(15&h)<<4|g>>2,f=(3&g)<<6|k,v[u++]=e,64!==g&&(v[u++]=h),64!==k&&(v[u++]=f);return v}},{"./support":30,"./utils":32}],2:[function(b,e,f){function k(b,g,e,h,f){this.compressedSize=b;this.uncompressedSize=g;this.crc32=e;this.compression=h;this.compressedContent=f}var p=b("./external"),n=b("./stream/DataWorker"),t=b("./stream/DataLengthProbe"),h=b("./stream/Crc32Probe"),t=b("./stream/DataLengthProbe");
k.prototype={getContentWorker:function(){var b=(new n(p.Promise.resolve(this.compressedContent))).pipe(this.compression.uncompressWorker()).pipe(new t("data_length")),g=this;return b.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw Error("Bug : uncompressed data size mismatch");}),b},getCompressedWorker:function(){return(new n(p.Promise.resolve(this.compressedContent))).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",
this.crc32).withStreamInfo("compression",this.compression)}};k.createWorkerFrom=function(b,g,e){return b.pipe(new h).pipe(new t("uncompressedSize")).pipe(g.compressWorker(e)).pipe(new t("compressedSize")).withStreamInfo("compression",g)};e.exports=k},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(b,e,f){var k=b("./stream/GenericWorker");f.STORE={magic:"\x00\x00",compressWorker:function(b){return new k("STORE compression")},uncompressWorker:function(){return new k("STORE decompression")}};
f.DEFLATE=b("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(b,e,f){var k=b("./utils"),p=function(){for(var b,e=[],h=0;256>h;h++){b=h;for(var f=0;8>f;f++)b=1&b?3988292384^b>>>1:b>>>1;e[h]=b}return e}();e.exports=function(b,e){if("undefined"==typeof b||!b.length)return 0;var h;if("string"!==k.getTypeOf(b)){var f=0+b.length;h=(0|e)^-1;for(var g=0;g<f;g++)h=h>>>8^p[255&(h^b[g])]}else for(f=0+b.length,h=(0|e)^-1,g=0;g<f;g++)h=h>>>8^p[255&(h^b.charCodeAt(g))];return h^=-1}},{"./utils":32}],
5:[function(b,e,f){f.base64=!1;f.binary=!1;f.dir=!1;f.createFolders=!0;f.date=null;f.compression=null;f.compressionOptions=null;f.comment=null;f.unixPermissions=null;f.dosPermissions=null},{}],6:[function(b,e,f){b="undefined"!=typeof Promise?Promise:b("lie");e.exports={Promise:b}},{lie:58}],7:[function(b,e,f){function k(b,g){t.call(this,"FlateWorker/"+b);this._pako=new p[b]({raw:!0,level:g.level||-1});this.meta={};var e=this;this._pako.onData=function(b){e.push({data:b,meta:e.meta})}}e="undefined"!=
typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array;var p=b("pako"),n=b("./utils"),t=b("./stream/GenericWorker"),h=e?"uint8array":"array";f.magic="\b\x00";n.inherits(k,t);k.prototype.processChunk=function(b){this.meta=b.meta;this._pako.push(n.transformTo(h,b.data),!1)};k.prototype.flush=function(){t.prototype.flush.call(this);this._pako.push([],!0)};k.prototype.cleanUp=function(){t.prototype.cleanUp.call(this);this._pako=null};f.compressWorker=function(b){return new k("Deflate",
b)};f.uncompressWorker=function(){return new k("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:59}],8:[function(b,e,f){function k(b,g,e,h){n.call(this,"ZipFileWorker");this.bytesWritten=0;this.zipComment=g;this.zipPlatform=e;this.encodeFileName=h;this.streamFiles=b;this.accumulate=!1;this.contentBuffer=[];this.dirRecords=[];this.entriesCount=this.currentSourceOffset=0;this.currentFile=null;this._sources=[]}var p=b("../utils"),n=b("../stream/GenericWorker"),t=b("../utf8"),h=b("../crc32"),
r=b("../signature"),g=function(b,g){var e,h="";for(e=0;e<g;e++)h+=String.fromCharCode(255&b),b>>>=8;return h},y=function(b,e,f,k,n,y){var u,v;u=b.file;var z=b.compression,F=y!==t.utf8encode,C=p.transformTo("string",y(u.name)),E=p.transformTo("string",t.utf8encode(u.name)),x=u.comment;y=p.transformTo("string",y(x));var A=p.transformTo("string",t.utf8encode(x)),D=E.length!==u.name.length,O=A.length!==x.length,Q=x="",ha="";v=u.dir;var ca=u.date,la=0,ba=0,X=0;e&&!f||(la=b.crc32,ba=b.compressedSize,X=
b.uncompressedSize);b=0;e&&(b|=8);F||!D&&!O||(b|=2048);e=0;v&&(e|=16);"UNIX"===n?(n=798,u=F=u.unixPermissions,v=(F||(u=v?16893:33204),(65535&u)<<16),e|=v):(n=20,e|=63&(u.dosPermissions||0));u=ca.getUTCHours();u=u<<6|ca.getUTCMinutes();u=u<<5|ca.getUTCSeconds()/2;v=ca.getUTCFullYear()-1980;v=v<<4|ca.getUTCMonth()+1;v=v<<5|ca.getUTCDate();D&&(Q=g(1,1)+g(h(C),4)+E,x+="up"+g(Q.length,2)+Q);O&&(ha=g(1,1)+g(h(y),4)+A,x+="uc"+g(ha.length,2)+ha);E="\n\x00"+g(b,2);E+=z.magic;E+=g(u,2);E+=g(v,2);E+=g(la,4);
E+=g(ba,4);E+=g(X,4);E+=g(C.length,2);E+=g(x.length,2);z=r.LOCAL_FILE_HEADER+E+C+x;k=r.CENTRAL_FILE_HEADER+g(n,2)+E+g(y.length,2)+"\x00\x00\x00\x00"+g(e,4)+g(k,4)+C+x+y;return{fileRecord:z,dirRecord:k}},z=function(b){return r.DATA_DESCRIPTOR+g(b.crc32,4)+g(b.compressedSize,4)+g(b.uncompressedSize,4)};p.inherits(k,n);k.prototype.push=function(b){var g=b.meta.percent||0,e=this.entriesCount,h=this._sources.length;this.accumulate?this.contentBuffer.push(b):(this.bytesWritten+=b.data.length,n.prototype.push.call(this,
{data:b.data,meta:{currentFile:this.currentFile,percent:e?(g+100*(e-h-1))/e:100}}))};k.prototype.openedSource=function(b){this.currentSourceOffset=this.bytesWritten;this.currentFile=b.file.name;var g=this.streamFiles&&!b.file.dir;g?(b=y(b,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName),this.push({data:b.fileRecord,meta:{percent:0}})):this.accumulate=!0};k.prototype.closedSource=function(b){this.accumulate=!1;var g=this.streamFiles&&!b.file.dir,e=y(b,g,!0,this.currentSourceOffset,
this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(e.dirRecord),g)this.push({data:z(b),meta:{percent:100}});else for(this.push({data:e.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null};k.prototype.flush=function(){for(var b=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var e=this.dirRecords.length,h=this.bytesWritten-b,f=p.transformTo("string",(0,this.encodeFileName)(this.zipComment)),
b=r.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+g(e,2)+g(e,2)+g(h,4)+g(b,4)+g(f.length,2)+f;this.push({data:b,meta:{percent:100}})};k.prototype.prepareNextSource=function(){this.previous=this._sources.shift();this.openedSource(this.previous.streamInfo);this.isPaused?this.previous.pause():this.previous.resume()};k.prototype.registerPrevious=function(b){this._sources.push(b);var g=this;return b.on("data",function(b){g.processChunk(b)}),b.on("end",function(){g.closedSource(g.previous.streamInfo);g._sources.length?
g.prepareNextSource():g.end()}),b.on("error",function(b){g.error(b)}),this};k.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))};k.prototype.error=function(b){var g=this._sources;if(!n.prototype.error.call(this,b))return!1;for(var e=0;e<g.length;e++)try{g[e].error(b)}catch(C){}return!0};k.prototype.lock=function(){n.prototype.lock.call(this);
for(var b=this._sources,g=0;g<b.length;g++)b[g].lock()};e.exports=k},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(b,e,f){var k=b("../compressions"),p=b("./ZipFileWorker");f.generateWorker=function(b,e,h){var f=new p(e.streamFiles,h,e.platform,e.encodeFileName),g=0;try{b.forEach(function(b,h){g++;var r=h.options.compression||e.compression,n=k[r];if(!n)throw Error(r+" is not a valid compression method !");var r=h.dir,p=h.date;h._compressWorker(n,
h.options.compressionOptions||e.compressionOptions||{}).withStreamInfo("file",{name:b,dir:r,date:p,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(f)}),f.entriesCount=g}catch(y){f.error(y)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(b,e,f){function k(){if(!(this instanceof k))return new k;if(arguments.length)throw Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=
{};this.comment=null;this.root="";this.clone=function(){var b=new k,e;for(e in this)"function"!=typeof this[e]&&(b[e]=this[e]);return b}}k.prototype=b("./object");k.prototype.loadAsync=b("./load");k.support=b("./support");k.defaults=b("./defaults");k.version="3.1.3";k.loadAsync=function(b,e){return(new k).loadAsync(b,e)};k.external=b("./external");e.exports=k},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(b,e,f){function k(b){return new n.Promise(function(g,
e){var h=b.decompressed.getContentWorker().pipe(new r);h.on("error",function(b){e(b)}).on("end",function(){h.streamInfo.crc32!==b.decompressed.crc32?e(Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}var p=b("./utils"),n=b("./external"),t=b("./utf8"),p=b("./utils"),h=b("./zipEntries"),r=b("./stream/Crc32Probe"),g=b("./nodejsUtils");e.exports=function(b,e){var f=this;return e=p.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:t.utf8decode}),g.isNode&&
g.isStream(b)?n.Promise.reject(Error("JSZip can't accept a stream when loading a zip file.")):p.prepareContent("the loaded zip file",b,!0,e.optimizedBinaryString,e.base64).then(function(b){var g=new h(e);return g.load(b),g}).then(function(b){var g=[n.Promise.resolve(b)];b=b.files;if(e.checkCRC32)for(var h=0;h<b.length;h++)g.push(k(b[h]));return n.Promise.all(g)}).then(function(b){b=b.shift();for(var g=b.files,h=0;h<g.length;h++){var k=g[h];f.file(k.fileNameStr,k.decompressed,{binary:!0,optimizedBinaryString:!0,
date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:e.createFolders})}return b.zipComment.length&&(f.comment=b.zipComment),f})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(b,e,f){function k(b,e){p.call(this,"Nodejs stream input adapter for "+b);this._upstreamEnded=!1;this._bindStream(e)}f=b("../utils");var p=b("../stream/GenericWorker");
f.inherits(k,p);k.prototype._bindStream=function(b){var e=this;this._stream=b;b.pause();b.on("data",function(b){e.push({data:b,meta:{percent:0}})}).on("error",function(b){e.isPaused?this.generatedError=b:e.error(b)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})};k.prototype.pause=function(){return!!p.prototype.pause.call(this)&&(this._stream.pause(),!0)};k.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)};
e.exports=k},{"../stream/GenericWorker":28,"../utils":32}],13:[function(b,e,f){function k(b,e,h){p.call(this,e);this._helper=b;var f=this;b.on("data",function(b,e){f.push(b)||f._helper.pause();h&&h(e)}).on("error",function(b){f.emit("error",b)}).on("end",function(){f.push(null)})}var p=b("readable-stream").Readable;b("util").inherits(k,p);k.prototype._read=function(){this._helper.resume()};e.exports=k},{"readable-stream":16,util:void 0}],14:[function(b,e,f){e.exports={isNode:"undefined"!=typeof Buffer,
newBuffer:function(b,e){return new Buffer(b,e)},isBuffer:function(b){return Buffer.isBuffer(b)},isStream:function(b){return b&&"function"==typeof b.on&&"function"==typeof b.pause&&"function"==typeof b.resume}}},{}],15:[function(b,e,f){var k=b("./utf8"),p=b("./utils"),n=b("./stream/GenericWorker"),t=b("./stream/StreamHelper"),h=b("./defaults"),r=b("./compressedObject"),g=b("./zipObject"),y=b("./generate"),z=b("./nodejsUtils"),u=b("./nodejs/NodejsStreamInputAdapter"),v=function(b,e,f){var k,y=p.getTypeOf(e),
v=p.extend(f||{},h);v.date=v.date||new Date;null!==v.compression&&(v.compression=v.compression.toUpperCase());"string"==typeof v.unixPermissions&&(v.unixPermissions=parseInt(v.unixPermissions,8));v.unixPermissions&&16384&v.unixPermissions&&(v.dir=!0);v.dosPermissions&&16&v.dosPermissions&&(v.dir=!0);v.dir&&(b=x(b));var t;if(t=v.createFolders)k=b,"/"===k.slice(-1)&&(k=k.substring(0,k.length-1)),t=k.lastIndexOf("/"),t=k=0<t?k.substring(0,t):"";t&&C.call(this,k,!0);y="string"===y&&!1===v.binary&&!1===
v.base64;f&&"undefined"!=typeof f.binary||(v.binary=!y);(e instanceof r&&0===e.uncompressedSize||v.dir||!e||0===e.length)&&(v.base64=!1,v.binary=!0,e="",v.compression="STORE");e=e instanceof r||e instanceof n?e:z.isNode&&z.isStream(e)?new u(b,e):p.prepareContent(b,e,v.binary,v.optimizedBinaryString,v.base64);v=new g(b,e,v);this.files[b]=v},x=function(b){return"/"!==b.slice(-1)&&(b+="/"),b},C=function(b,g){return g="undefined"!=typeof g?g:h.createFolders,b=x(b),this.files[b]||v.call(this,b,null,{dir:!0,
createFolders:g}),this.files[b]};e.exports={load:function(){throw Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");},forEach:function(b){var g,e,h;for(g in this.files)this.files.hasOwnProperty(g)&&(h=this.files[g],e=g.slice(this.root.length,g.length),e&&g.slice(0,this.root.length)===this.root&&b(e,h))},filter:function(b){var g=[];return this.forEach(function(e,h){b(e,h)&&g.push(h)}),g},file:function(b,g,e){if(1===arguments.length){if("[object RegExp]"===Object.prototype.toString.call(b)){var h=
b;return this.filter(function(b,g){return!g.dir&&h.test(b)})}var f=this.files[this.root+b];return f&&!f.dir?f:null}return b=this.root+b,v.call(this,b,g,e),this},folder:function(b){if(!b)return this;if("[object RegExp]"===Object.prototype.toString.call(b))return this.filter(function(g,e){return e.dir&&b.test(g)});var g=C.call(this,this.root+b),e=this.clone();return e.root=g.name,e},remove:function(b){b=this.root+b;var g=this.files[b];if(g||("/"!==b.slice(-1)&&(b+="/"),g=this.files[b]),g&&!g.dir)delete this.files[b];
else for(var g=this.filter(function(g,e){return e.name.slice(0,b.length)===b}),e=0;e<g.length;e++)delete this.files[g[e].name];return this},generate:function(b){throw Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");},generateInternalStream:function(b){var g,e={};try{if(e=p.extend(b||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:k.utf8encode}),e.type=e.type.toLowerCase(),
e.compression=e.compression.toUpperCase(),"binarystring"===e.type&&(e.type="string"),!e.type)throw Error("No output type specified.");p.checkSupport(e.type);"darwin"!==e.platform&&"freebsd"!==e.platform&&"linux"!==e.platform&&"sunos"!==e.platform||(e.platform="UNIX");"win32"===e.platform&&(e.platform="DOS");g=y.generateWorker(this,e,e.comment||this.comment||"")}catch(J){g=new n("error"),g.error(J)}return new t(g,e.type||"string",e.mimeType)},generateAsync:function(b,g){return this.generateInternalStream(b).accumulate(g)},
generateNodeStream:function(b,g){return b=b||{},b.type||(b.type="nodebuffer"),this.generateInternalStream(b).toNodejsStream(g)}}},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(b,e,f){e.exports=b("stream")},{stream:void 0}],17:[function(b,e,f){function k(b){p.call(this,b);for(var e=0;e<this.data.length;e++)b[e]&=255}var p=
b("./DataReader");b("../utils").inherits(k,p);k.prototype.byteAt=function(b){return this.data[this.zero+b]};k.prototype.lastIndexOfSignature=function(b){var e=b.charCodeAt(0),h=b.charCodeAt(1),f=b.charCodeAt(2);b=b.charCodeAt(3);for(var g=this.length-4;0<=g;--g)if(this.data[g]===e&&this.data[g+1]===h&&this.data[g+2]===f&&this.data[g+3]===b)return g-this.zero;return-1};k.prototype.readAndCheckSignature=function(b){var e=b.charCodeAt(0),h=b.charCodeAt(1),f=b.charCodeAt(2);b=b.charCodeAt(3);var g=this.readData(4);
return e===g[0]&&h===g[1]&&f===g[2]&&b===g[3]};k.prototype.readData=function(b){if(this.checkOffset(b),0===b)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,e};e.exports=k},{"../utils":32,"./DataReader":18}],18:[function(b,e,f){function k(b){this.data=b;this.length=b.length;this.zero=this.index=0}var p=b("../utils");k.prototype={checkOffset:function(b){this.checkIndex(this.index+b)},checkIndex:function(b){if(this.length<this.zero+b||0>b)throw Error("End of data reached (data length = "+
this.length+", asked index = "+b+"). Corrupted zip ?");},setIndex:function(b){this.checkIndex(b);this.index=b},skip:function(b){this.setIndex(this.index+b)},byteAt:function(b){},readInt:function(b){var e,h=0;this.checkOffset(b);for(e=this.index+b-1;e>=this.index;e--)h=(h<<8)+this.byteAt(e);return this.index+=b,h},readString:function(b){return p.transformTo("string",this.readData(b))},readData:function(b){},lastIndexOfSignature:function(b){},readAndCheckSignature:function(b){},readDate:function(){var b=
this.readInt(4);return new Date(Date.UTC((b>>25&127)+1980,(b>>21&15)-1,b>>16&31,b>>11&31,b>>5&63,(31&b)<<1))}};e.exports=k},{"../utils":32}],19:[function(b,e,f){function k(b){p.call(this,b)}var p=b("./Uint8ArrayReader");b("../utils").inherits(k,p);k.prototype.readData=function(b){this.checkOffset(b);var e=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,e};e.exports=k},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(b,e,f){function k(b){p.call(this,b)}var p=
b("./DataReader");b("../utils").inherits(k,p);k.prototype.byteAt=function(b){return this.data.charCodeAt(this.zero+b)};k.prototype.lastIndexOfSignature=function(b){return this.data.lastIndexOf(b)-this.zero};k.prototype.readAndCheckSignature=function(b){var e=this.readData(4);return b===e};k.prototype.readData=function(b){this.checkOffset(b);var e=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,e};e.exports=k},{"../utils":32,"./DataReader":18}],21:[function(b,e,f){function k(b){p.call(this,
b)}var p=b("./ArrayReader");b("../utils").inherits(k,p);k.prototype.readData=function(b){if(this.checkOffset(b),0===b)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+b);return this.index+=b,e};e.exports=k},{"../utils":32,"./ArrayReader":17}],22:[function(b,e,f){var k=b("../utils"),p=b("../support"),n=b("./ArrayReader"),t=b("./StringReader"),h=b("./NodeBufferReader"),r=b("./Uint8ArrayReader");e.exports=function(b){var g=k.getTypeOf(b);return k.checkSupport(g),
"string"!==g||p.uint8array?"nodebuffer"===g?new h(b):p.uint8array?new r(k.transformTo("uint8array",b)):new n(k.transformTo("array",b)):new t(b)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(b,e,f){f.LOCAL_FILE_HEADER="PK\u0003\u0004";f.CENTRAL_FILE_HEADER="PK\u0001\u0002";f.CENTRAL_DIRECTORY_END="PK\u0005\u0006";f.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\u0006\u0007";f.ZIP64_CENTRAL_DIRECTORY_END="PK\u0006\u0006";
f.DATA_DESCRIPTOR="PK\u0007\b"},{}],24:[function(b,e,f){function k(b){p.call(this,"ConvertWorker to "+b);this.destType=b}var p=b("./GenericWorker"),n=b("../utils");n.inherits(k,p);k.prototype.processChunk=function(b){this.push({data:n.transformTo(this.destType,b.data),meta:b.meta})};e.exports=k},{"../utils":32,"./GenericWorker":28}],25:[function(b,e,f){function k(){p.call(this,"Crc32Probe");this.withStreamInfo("crc32",0)}var p=b("./GenericWorker"),n=b("../crc32");b("../utils").inherits(k,p);k.prototype.processChunk=
function(b){this.streamInfo.crc32=n(b.data,this.streamInfo.crc32||0);this.push(b)};e.exports=k},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(b,e,f){function k(b){p.call(this,"DataLengthProbe for "+b);this.propName=b;this.withStreamInfo(b,0)}f=b("../utils");var p=b("./GenericWorker");f.inherits(k,p);k.prototype.processChunk=function(b){b&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+b.data.length);p.prototype.processChunk.call(this,b)};e.exports=k},{"../utils":32,
"./GenericWorker":28}],27:[function(b,e,f){function k(b){n.call(this,"DataWorker");var e=this;this.dataIsReady=!1;this.max=this.index=0;this.data=null;this.type="";this._tickScheduled=!1;b.then(function(b){e.dataIsReady=!0;e.data=b;e.max=b&&b.length||0;e.type=p.getTypeOf(b);e.isPaused||e._tickAndRepeat()},function(b){e.error(b)})}var p=b("../utils"),n=b("./GenericWorker");p.inherits(k,n);k.prototype.cleanUp=function(){n.prototype.cleanUp.call(this);this.data=null};k.prototype.resume=function(){return!!n.prototype.resume.call(this)&&
(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,p.delay(this._tickAndRepeat,[],this)),!0)};k.prototype._tickAndRepeat=function(){this._tickScheduled=!1;this.isPaused||this.isFinished||(this._tick(),this.isFinished||(p.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))};k.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var b=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case "string":b=this.data.substring(this.index,
e);break;case "uint8array":b=this.data.subarray(this.index,e);break;case "array":case "nodebuffer":b=this.data.slice(this.index,e)}return this.index=e,this.push({data:b,meta:{percent:this.max?this.index/this.max*100:0}})};e.exports=k},{"../utils":32,"./GenericWorker":28}],28:[function(b,e,f){function k(b){this.name=b||"default";this.streamInfo={};this.generatedError=null;this.extraStreamInfo={};this.isPaused=!0;this.isLocked=this.isFinished=!1;this._listeners={data:[],end:[],error:[]};this.previous=
null}k.prototype={push:function(b){this.emit("data",b)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(p){this.emit("error",p)}return!0},error:function(b){return!this.isFinished&&(this.isPaused?this.generatedError=b:(this.isFinished=!0,this.emit("error",b),this.previous&&this.previous.error(b),this.cleanUp()),!0)},on:function(b,e){return this._listeners[b].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=
null;this._listeners=[]},emit:function(b,e){if(this._listeners[b])for(var f=0;f<this._listeners[b].length;f++)this._listeners[b][f].call(this,e)},pipe:function(b){return b.registerPrevious(this)},registerPrevious:function(b){if(this.isLocked)throw Error("The stream '"+this+"' has already been used.");this.streamInfo=b.streamInfo;this.mergeStreamInfo();this.previous=b;var e=this;return b.on("data",function(b){e.processChunk(b)}),b.on("end",function(){e.end()}),b.on("error",function(b){e.error(b)}),
this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var b=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),b=!0),this.previous&&this.previous.resume(),!b},flush:function(){},processChunk:function(b){this.push(b)},withStreamInfo:function(b,e){return this.extraStreamInfo[b]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var b in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(b)&&
(this.streamInfo[b]=this.extraStreamInfo[b])},lock:function(){if(this.isLocked)throw Error("The stream '"+this+"' has already been used.");this.isLocked=!0;this.previous&&this.previous.lock()},toString:function(){var b="Worker "+this.name;return this.previous?this.previous+" -> "+b:b}};e.exports=k},{}],29:[function(b,e,f){function k(b,g){var e,h=0,f;for(e=f=0;e<g.length;e++)f+=g[e].length;switch(b){case "string":return g.join("");case "array":return Array.prototype.concat.apply([],g);case "uint8array":f=
new Uint8Array(f);for(e=0;e<g.length;e++)f.set(g[e],h),h+=g[e].length;return f;case "nodebuffer":return Buffer.concat(g);default:throw Error("concat : unsupported type '"+b+"'");}}function p(b,e){return new y.Promise(function(h,f){var r=[],n=b._internalType,p=b._outputType,u=b._mimeType;b.on("data",function(b,g){r.push(b);e&&e(g)}).on("error",function(b){r=[];f(b)}).on("end",function(){try{var b;a:{var e=r,y=null;switch(p){case "blob":b=t.newBlob(e,u);break a;case "base64":b=(y=k(n,e),g.encode(y));
break a;default:b=(y=k(n,e),t.transformTo(p,y))}}h(b)}catch(E){f(E)}r=[]}).resume()})}function n(b,g,e){var f=g;switch(g){case "blob":f="arraybuffer";break;case "arraybuffer":f="uint8array";break;case "base64":f="string"}try{this._internalType=f,this._outputType=g,this._mimeType=e,t.checkSupport(f),this._worker=b.pipe(new h(f)),b.lock()}catch(F){this._worker=new r("error"),this._worker.error(F)}}var t=b("../utils"),h=b("./ConvertWorker"),r=b("./GenericWorker"),g=b("../base64");f=b("../support");var y=
b("../external"),z=null;if(f.nodestream)try{z=b("../nodejs/NodejsStreamOutputAdapter")}catch(u){}n.prototype={accumulate:function(b){return p(this,b)},on:function(b,g){var e=this;return"data"===b?this._worker.on(b,function(b){g.call(e,b.data,b.meta)}):this._worker.on(b,function(){t.delay(g,arguments,e)}),this},resume:function(){return t.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(t.checkSupport("nodestream"),"nodebuffer"!==
this._outputType)throw Error(this._outputType+" is not supported by this method");return new z(this,{objectMode:"nodebuffer"!==this._outputType},b)}};e.exports=n},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(b,e,f){if(f.base64=!0,f.array=!0,f.string=!0,f.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,f.nodebuffer="undefined"!=typeof Buffer,f.uint8array="undefined"!=
typeof Uint8Array,"undefined"==typeof ArrayBuffer)f.blob=!1;else{e=new ArrayBuffer(0);try{f.blob=0===(new Blob([e],{type:"application/zip"})).size}catch(p){try{var k=new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);k.append(e);f.blob=0===k.getBlob("application/zip").size}catch(n){f.blob=!1}}}try{f.nodestream=!!b("readable-stream").Readable}catch(p){f.nodestream=!1}},{"readable-stream":16}],31:[function(b,e,f){function k(){r.call(this,"utf-8 decode");
this.leftOver=null}function p(){r.call(this,"utf-8 encode")}var n=b("./utils"),t=b("./support"),h=b("./nodejsUtils"),r=b("./stream/GenericWorker"),g=Array(256);for(b=0;256>b;b++)g[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;g[254]=g[254]=1;f.utf8encode=function(b){if(t.nodebuffer)b=h.newBuffer(b,"utf-8");else{var g,e,f,k,r,n=b.length,p=0;for(k=0;k<n;k++)e=b.charCodeAt(k),55296===(64512&e)&&k+1<n&&(f=b.charCodeAt(k+1),56320===(64512&f)&&(e=65536+(e-55296<<10)+(f-56320),k++)),p+=128>e?1:2048>
e?2:65536>e?3:4;g=t.uint8array?new Uint8Array(p):Array(p);for(k=r=0;r<p;k++)e=b.charCodeAt(k),55296===(64512&e)&&k+1<n&&(f=b.charCodeAt(k+1),56320===(64512&f)&&(e=65536+(e-55296<<10)+(f-56320),k++)),128>e?g[r++]=e:2048>e?(g[r++]=192|e>>>6,g[r++]=128|63&e):65536>e?(g[r++]=224|e>>>12,g[r++]=128|e>>>6&63,g[r++]=128|63&e):(g[r++]=240|e>>>18,g[r++]=128|e>>>12&63,g[r++]=128|e>>>6&63,g[r++]=128|63&e);b=g}return b};f.utf8decode=function(b){var e;if(t.nodebuffer)e=n.transformTo("nodebuffer",b).toString("utf-8");
else{var h=b=n.transformTo(t.uint8array?"uint8array":"array",b),f,k,r,p=h.length;b=Array(2*p);for(f=k=0;f<p;)if(e=h[f++],128>e)b[k++]=e;else if(r=g[e],4<r)b[k++]=65533,f+=r-1;else{for(e&=2===r?31:3===r?15:7;1<r&&f<p;)e=e<<6|63&h[f++],r--;1<r?b[k++]=65533:65536>e?b[k++]=e:(e-=65536,b[k++]=55296|e>>10&1023,b[k++]=56320|1023&e)}e=(b.length!==k&&(b.subarray?b=b.subarray(0,k):b.length=k),n.applyFromCharCode(b))}return e};n.inherits(k,r);k.prototype.processChunk=function(b){var e=n.transformTo(t.uint8array?
"uint8array":"array",b.data);if(this.leftOver&&this.leftOver.length){if(t.uint8array){var h=e,e=new Uint8Array(h.length+this.leftOver.length);e.set(this.leftOver,0);e.set(h,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var k,h=e.length;h>e.length&&(h=e.length);for(k=h-1;0<=k&&128===(192&e[k]);)k--;h=0>k?h:0===k?h:k+g[e[k]]>h?k:h;k=e;h!==e.length&&(t.uint8array?(k=e.subarray(0,h),this.leftOver=e.subarray(h,e.length)):(k=e.slice(0,h),this.leftOver=e.slice(h,e.length)));this.push({data:f.utf8decode(k),
meta:b.meta})};k.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:f.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)};f.Utf8DecodeWorker=k;n.inherits(p,r);p.prototype.processChunk=function(b){this.push({data:f.utf8encode(b.data),meta:b.meta})};f.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(b,e,f){function k(b){return b}function p(b,g){for(var e=0;e<b.length;++e)g[e]=255&b.charCodeAt(e);return g}
function n(b){var g=65536,e=f.getTypeOf(b),h=!0;if("uint8array"===e?h=x.applyCanBeUsed.uint8array:"nodebuffer"===e&&(h=x.applyCanBeUsed.nodebuffer),h)for(;1<g;)try{return x.stringifyByChunk(b,e,g)}catch(w){g=Math.floor(g/2)}return x.stringifyByChar(b)}function t(b,g){for(var e=0;e<b.length;e++)g[e]=b[e];return g}var h=b("./support"),r=b("./base64"),g=b("./nodejsUtils"),y=b("core-js/library/fn/set-immediate"),z=b("./external");f.newBlob=function(b,g){f.checkSupport("blob");try{return new Blob(b,{type:g})}catch(w){try{for(var e=
new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder),h=0;h<b.length;h++)e.append(b[h]);return e.getBlob(g)}catch(R){throw Error("Bug : can't construct the Blob.");}}};var u;try{u=h.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(F){u=!1}b=u;var v;try{v=h.nodebuffer&&1===String.fromCharCode.apply(null,g.newBuffer(1)).length}catch(F){v=!1}var x={stringifyByChunk:function(b,g,e){var h=[],f=0,k=b.length;if(k<=e)return String.fromCharCode.apply(null,
b);for(;f<k;)"array"===g||"nodebuffer"===g?h.push(String.fromCharCode.apply(null,b.slice(f,Math.min(f+e,k)))):h.push(String.fromCharCode.apply(null,b.subarray(f,Math.min(f+e,k)))),f+=e;return h.join("")},stringifyByChar:function(b){for(var e="",g=0;g<b.length;g++)e+=String.fromCharCode(b[g]);return e},applyCanBeUsed:{uint8array:b,nodebuffer:v}};f.applyFromCharCode=n;var C={};C.string={string:k,array:function(b){return p(b,Array(b.length))},arraybuffer:function(b){return C.string.uint8array(b).buffer},
uint8array:function(b){return p(b,new Uint8Array(b.length))},nodebuffer:function(b){return p(b,g.newBuffer(b.length))}};C.array={string:n,array:k,arraybuffer:function(b){return(new Uint8Array(b)).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return g.newBuffer(b)}};C.arraybuffer={string:function(b){return n(new Uint8Array(b))},array:function(b){return t(new Uint8Array(b),Array(b.byteLength))},arraybuffer:k,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return g.newBuffer(new Uint8Array(b))}};
C.uint8array={string:n,array:function(b){return t(b,Array(b.length))},arraybuffer:function(b){var e=new Uint8Array(b.length);return b.length&&e.set(b,0),e.buffer},uint8array:k,nodebuffer:function(b){return g.newBuffer(b)}};C.nodebuffer={string:n,array:function(b){return t(b,Array(b.length))},arraybuffer:function(b){return C.nodebuffer.uint8array(b).buffer},uint8array:function(b){return t(b,new Uint8Array(b.length))},nodebuffer:k};f.transformTo=function(b,e){if(e||(e=""),!b)return e;f.checkSupport(b);
var g=f.getTypeOf(e);return C[g][b](e)};f.getTypeOf=function(b){return"string"==typeof b?"string":"[object Array]"===Object.prototype.toString.call(b)?"array":h.nodebuffer&&g.isBuffer(b)?"nodebuffer":h.uint8array&&b instanceof Uint8Array?"uint8array":h.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0};f.checkSupport=function(b){if(!h[b.toLowerCase()])throw Error(b+" is not supported by this platform");};f.MAX_VALUE_16BITS=65535;f.MAX_VALUE_32BITS=-1;f.pretty=function(b){var e,g,h="";for(g=
0;g<(b||"").length;g++)e=b.charCodeAt(g),h+="\\x"+(16>e?"0":"")+e.toString(16).toUpperCase();return h};f.delay=function(b,e,g){y(function(){b.apply(g||null,e||[])})};f.inherits=function(b,e){var g=function(){};g.prototype=e.prototype;b.prototype=new g};f.extend=function(){var b,e,g={};for(b=0;b<arguments.length;b++)for(e in arguments[b])arguments[b].hasOwnProperty(e)&&"undefined"==typeof g[e]&&(g[e]=arguments[b][e]);return g};f.prepareContent=function(b,e,g,k,n){return z.Promise.resolve(e).then(function(b){return h.blob&&
(b instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(b)))&&"undefined"!=typeof FileReader?new z.Promise(function(e,g){var h=new FileReader;h.onload=function(b){e(b.target.result)};h.onerror=function(b){g(b.target.error)};h.readAsArrayBuffer(b)}):b}).then(function(e){var u=f.getTypeOf(e);u?"arraybuffer"===u?e=f.transformTo("uint8array",e):"string"===u&&(n?e=r.decode(e):g&&!0!==k&&(u=null,e=(u=h.uint8array?new Uint8Array(e.length):Array(e.length),p(e,u)))):
e=z.Promise.reject(Error("The data of '"+b+"' is in an unsupported format !"));return e})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"core-js/library/fn/set-immediate":36}],33:[function(b,e,f){function k(b){this.files=[];this.loadOptions=b}var p=b("./reader/readerFor"),n=b("./utils"),t=b("./signature"),h=b("./zipEntry"),r=(b("./utf8"),b("./support"));k.prototype={checkSignature:function(b){if(!this.reader.readAndCheckSignature(b)){this.reader.index-=4;var e=this.reader.readString(4);
throw Error("Corrupted zip or bug : unexpected signature ("+n.pretty(e)+", expected "+n.pretty(b)+")");}},isSignature:function(b,e){var g=this.reader.index;this.reader.setIndex(b);var h=this.reader.readString(4)===e;return this.reader.setIndex(g),h},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2);this.diskWithCentralDirStart=this.reader.readInt(2);this.centralDirRecordsOnThisDisk=this.reader.readInt(2);this.centralDirRecords=this.reader.readInt(2);this.centralDirSize=this.reader.readInt(4);
this.centralDirOffset=this.reader.readInt(4);this.zipCommentLength=this.reader.readInt(2);var b=this.reader.readData(this.zipCommentLength),b=n.transformTo(r.uint8array?"uint8array":"array",b);this.zipComment=this.loadOptions.decodeFileName(b)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8);this.reader.skip(4);this.diskNumber=this.reader.readInt(4);this.diskWithCentralDirStart=this.reader.readInt(4);this.centralDirRecordsOnThisDisk=this.reader.readInt(8);this.centralDirRecords=
this.reader.readInt(8);this.centralDirSize=this.reader.readInt(8);this.centralDirOffset=this.reader.readInt(8);this.zip64ExtensibleData={};for(var b,e,h,f=this.zip64EndOfCentralSize-44;0<f;)b=this.reader.readInt(2),e=this.reader.readInt(4),h=this.reader.readData(e),this.zip64ExtensibleData[b]={id:b,length:e,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=
this.reader.readInt(4),1<this.disksCount)throw Error("Multi-volumes zip are not supported");},readLocalFiles:function(){var b,e;for(b=0;b<this.files.length;b++)e=this.files[b],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(t.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var b;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(t.CENTRAL_FILE_HEADER);)b=new h({zip64:this.zip64},this.loadOptions),
b.readCentralPart(this.reader),this.files.push(b);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length);},readEndOfCentral:function(){var b=this.reader.lastIndexOfSignature(t.CENTRAL_DIRECTORY_END);if(0>b)throw this.isSignature(0,t.LOCAL_FILE_HEADER)?Error("Corrupted zip : can't find end of central directory"):Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html");
this.reader.setIndex(b);var e=b;if(this.checkSignature(t.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,b=this.reader.lastIndexOfSignature(t.ZIP64_CENTRAL_DIRECTORY_LOCATOR),0>b)throw Error("Corrupted zip : can't find the ZIP64 end of central directory locator");
if(this.reader.setIndex(b),this.checkSignature(t.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,t.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(t.ZIP64_CENTRAL_DIRECTORY_END),0>this.relativeOffsetEndOfZip64CentralDir))throw Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir);this.checkSignature(t.ZIP64_CENTRAL_DIRECTORY_END);
this.readBlockZip64EndOfCentral()}b=this.centralDirOffset+this.centralDirSize;this.zip64&&(b+=20,b+=12+this.zip64EndOfCentralSize);b=e-b;if(0<b)this.isSignature(e,t.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(0>b)throw Error("Corrupted zip: missing "+Math.abs(b)+" bytes.");},prepareReader:function(b){this.reader=p(b)},load:function(b){this.prepareReader(b);this.readEndOfCentral();this.readCentralDir();this.readLocalFiles()}};e.exports=k},{"./reader/readerFor":22,"./signature":23,"./support":30,
"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(b,e,f){function k(b,e){this.options=b;this.loadOptions=e}var p=b("./reader/readerFor"),n=b("./utils"),t=b("./compressedObject"),h=b("./crc32"),r=b("./utf8"),g=b("./compressions"),y=b("./support");k.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},readLocalPart:function(b){var e,h;if(b.skip(22),this.fileNameLength=b.readInt(2),h=b.readInt(2),this.fileName=b.readData(this.fileNameLength),
b.skip(h),-1===this.compressedSize||-1===this.uncompressedSize)throw Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");var f;a:{h=this.compressionMethod;for(f in g)if(g.hasOwnProperty(f)&&g[f].magic===h){f=g[f];break a}f=null}if(e=f,null===e)throw Error("Corrupted zip : compression "+n.pretty(this.compressionMethod)+" unknown (inner file : "+n.transformTo("string",this.fileName)+")");this.decompressed=new t(this.compressedSize,
this.uncompressedSize,this.crc32,e,b.readData(this.compressedSize))},readCentralPart:function(b){this.versionMadeBy=b.readInt(2);b.skip(2);this.bitFlag=b.readInt(2);this.compressionMethod=b.readString(2);this.date=b.readDate();this.crc32=b.readInt(4);this.compressedSize=b.readInt(4);this.uncompressedSize=b.readInt(4);var e=b.readInt(2);if(this.extraFieldsLength=b.readInt(2),this.fileCommentLength=b.readInt(2),this.diskNumberStart=b.readInt(2),this.internalFileAttributes=b.readInt(2),this.externalFileAttributes=
b.readInt(4),this.localHeaderOffset=b.readInt(4),this.isEncrypted())throw Error("Encrypted zip are not supported");b.skip(e);this.readExtraFields(b);this.parseZIP64ExtraField(b);this.fileComment=b.readData(this.fileCommentLength)},processAttributes:function(){this.dosPermissions=this.unixPermissions=null;var b=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes);0===b&&(this.dosPermissions=63&this.externalFileAttributes);3===b&&(this.unixPermissions=this.externalFileAttributes>>16&65535);
this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(b){this.extraFields[1]&&(b=p(this.extraFields[1].value),this.uncompressedSize===n.MAX_VALUE_32BITS&&(this.uncompressedSize=b.readInt(8)),this.compressedSize===n.MAX_VALUE_32BITS&&(this.compressedSize=b.readInt(8)),this.localHeaderOffset===n.MAX_VALUE_32BITS&&(this.localHeaderOffset=b.readInt(8)),this.diskNumberStart===n.MAX_VALUE_32BITS&&(this.diskNumberStart=b.readInt(4)))},readExtraFields:function(b){var e,
g,h,f=b.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});b.index<f;)e=b.readInt(2),g=b.readInt(2),h=b.readData(g),this.extraFields[e]={id:e,length:g,value:h}},handleUTF8:function(){var b=y.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=r.utf8decode(this.fileName),this.fileCommentStr=r.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();null!==e?this.fileNameStr=e:(e=n.transformTo(b,this.fileName),this.fileNameStr=this.loadOptions.decodeFileName(e));
e=this.findExtraFieldUnicodeComment();null!==e?this.fileCommentStr=e:(b=n.transformTo(b,this.fileComment),this.fileCommentStr=this.loadOptions.decodeFileName(b))}},findExtraFieldUnicodePath:function(){var b=this.extraFields[28789];if(b){var e=p(b.value);return 1!==e.readInt(1)?null:h(this.fileName)!==e.readInt(4)?null:r.utf8decode(e.readData(b.length-5))}return null},findExtraFieldUnicodeComment:function(){var b=this.extraFields[25461];if(b){var e=p(b.value);return 1!==e.readInt(1)?null:h(this.fileComment)!==
e.readInt(4)?null:r.utf8decode(e.readData(b.length-5))}return null}};e.exports=k},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(b,e,f){var k=b("./stream/StreamHelper"),p=b("./stream/DataWorker"),n=b("./utf8"),t=b("./compressedObject"),h=b("./stream/GenericWorker");b=function(b,e,g){this.name=b;this.dir=g.dir;this.date=g.date;this.comment=g.comment;this.unixPermissions=g.unixPermissions;this.dosPermissions=g.dosPermissions;
this._data=e;this._dataBinary=g.binary;this.options={compression:g.compression,compressionOptions:g.compressionOptions}};b.prototype={internalStream:function(b){b=b.toLowerCase();var e="string"===b||"text"===b;"binarystring"!==b&&"text"!==b||(b="string");var g=this._decompressWorker(),h=!this._dataBinary;return h&&!e&&(g=g.pipe(new n.Utf8EncodeWorker)),!h&&e&&(g=g.pipe(new n.Utf8DecodeWorker)),new k(g,b,"")},async:function(b,e){return this.internalStream(b).accumulate(e)},nodeStream:function(b,e){return this.internalStream(b||
"nodebuffer").toNodejsStream(e)},_compressWorker:function(b,e){if(this._data instanceof t&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new n.Utf8EncodeWorker)),t.createWorkerFrom(g,b,e)},_decompressWorker:function(){return this._data instanceof t?this._data.getContentWorker():this._data instanceof h?this._data:new p(this._data)}};f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"];
for(var r=function(){throw Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");},g=0;g<f.length;g++)b.prototype[f[g]]=r;e.exports=b},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(b,e,f){b("../modules/web.immediate");e.exports=b("../modules/_core").setImmediate},{"../modules/_core":40,"../modules/web.immediate":56}],37:[function(b,e,f){e.exports=function(b){if("function"!=typeof b)throw TypeError(b+
" is not a function!");return b}},{}],38:[function(b,e,f){var k=b("./_is-object");e.exports=function(b){if(!k(b))throw TypeError(b+" is not an object!");return b}},{"./_is-object":51}],39:[function(b,e,f){var k={}.toString;e.exports=function(b){return k.call(b).slice(8,-1)}},{}],40:[function(b,e,f){b=e.exports={version:"2.3.0"};"number"==typeof __e&&(__e=b)},{}],41:[function(b,e,f){var k=b("./_a-function");e.exports=function(b,e,f){if(k(b),void 0===e)return b;switch(f){case 1:return function(h){return b.call(e,
h)};case 2:return function(h,f){return b.call(e,h,f)};case 3:return function(h,f,g){return b.call(e,h,f,g)}}return function(){return b.apply(e,arguments)}}},{"./_a-function":37}],42:[function(b,e,f){e.exports=!b("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":45}],43:[function(b,e,f){f=b("./_is-object");var k=b("./_global").document,p=f(k)&&f(k.createElement);e.exports=function(b){return p?k.createElement(b):{}}},{"./_global":46,"./_is-object":51}],
44:[function(b,e,f){var k=b("./_global"),p=b("./_core"),n=b("./_ctx"),t=b("./_hide"),h=function(b,e,f){var g,r,y=b&h.F,x=b&h.G,C=b&h.S,F=b&h.P,D=b&h.B,H=b&h.W,J=x?p:p[e]||(p[e]={}),w=J.prototype,C=x?k:C?k[e]:(k[e]||{}).prototype;x&&(f=e);for(g in f)(e=!y&&C&&void 0!==C[g])&&g in J||(r=e?C[g]:f[g],J[g]=x&&"function"!=typeof C[g]?f[g]:D&&e?n(r,k):H&&C[g]==r?function(b){var e=function(e,g,h){if(this instanceof b){switch(arguments.length){case 0:return new b;case 1:return new b(e);case 2:return new b(e,
g)}return new b(e,g,h)}return b.apply(this,arguments)};return e.prototype=b.prototype,e}(r):F&&"function"==typeof r?n(Function.call,r):r,F&&((J.virtual||(J.virtual={}))[g]=r,b&h.R&&w&&!w[g]&&t(w,g,r)))};h.F=1;h.G=2;h.S=4;h.P=8;h.B=16;h.W=32;h.U=64;h.R=128;e.exports=h},{"./_core":40,"./_ctx":41,"./_global":46,"./_hide":47}],45:[function(b,e,f){e.exports=function(b){try{return!!b()}catch(p){return!0}}},{}],46:[function(b,e,f){b=e.exports="undefined"!=typeof window&&Math==Math?window:"undefined"!=typeof self&&
self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=b)},{}],47:[function(b,e,f){var k=b("./_object-dp"),p=b("./_property-desc");e.exports=b("./_descriptors")?function(b,e,h){return k.f(b,e,p(1,h))}:function(b,e,h){return b[e]=h,b}},{"./_descriptors":42,"./_object-dp":52,"./_property-desc":53}],48:[function(b,e,f){e.exports=b("./_global").document&&document.documentElement},{"./_global":46}],49:[function(b,e,f){e.exports=!b("./_descriptors")&&!b("./_fails")(function(){return 7!=
Object.defineProperty(b("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":42,"./_dom-create":43,"./_fails":45}],50:[function(b,e,f){e.exports=function(b,e,f){var k=void 0===f;switch(e.length){case 0:return k?b():b.call(f);case 1:return k?b(e[0]):b.call(f,e[0]);case 2:return k?b(e[0],e[1]):b.call(f,e[0],e[1]);case 3:return k?b(e[0],e[1],e[2]):b.call(f,e[0],e[1],e[2]);case 4:return k?b(e[0],e[1],e[2],e[3]):b.call(f,e[0],e[1],e[2],e[3])}return b.apply(f,e)}},{}],51:[function(b,
e,f){e.exports=function(b){return"object"==typeof b?null!==b:"function"==typeof b}},{}],52:[function(b,e,f){var k=b("./_an-object"),p=b("./_ie8-dom-define"),n=b("./_to-primitive"),t=Object.defineProperty;f.f=b("./_descriptors")?Object.defineProperty:function(b,e,g){if(k(b),e=n(e,!0),k(g),p)try{return t(b,e,g)}catch(y){}if("get"in g||"set"in g)throw TypeError("Accessors not supported!");return"value"in g&&(b[e]=g.value),b}},{"./_an-object":38,"./_descriptors":42,"./_ie8-dom-define":49,"./_to-primitive":55}],
53:[function(b,e,f){e.exports=function(b,e){return{enumerable:!(1&b),configurable:!(2&b),writable:!(4&b),value:e}}},{}],54:[function(b,e,f){var k,p,n,t=b("./_ctx"),h=b("./_invoke"),r=b("./_html"),g=b("./_dom-create"),y=b("./_global"),z=y.process;f=y.setImmediate;var u=y.clearImmediate,v=y.MessageChannel,x=0,C={},F=function(){var b=+this;if(C.hasOwnProperty(b)){var e=C[b];delete C[b];e()}},D=function(b){F.call(b.data)};f&&u||(f=function(b){for(var e=[],g=1;arguments.length>g;)e.push(arguments[g++]);
return C[++x]=function(){h("function"==typeof b?b:Function(b),e)},k(x),x},u=function(b){delete C[b]},"process"==b("./_cof")(z)?k=function(b){z.nextTick(t(F,b,1))}:v?(p=new v,n=p.port2,p.port1.onmessage=D,k=t(n.postMessage,n,1)):y.addEventListener&&"function"==typeof postMessage&&!y.importScripts?(k=function(b){y.postMessage(b+"","*")},y.addEventListener("message",D,!1)):k="onreadystatechange"in g("script")?function(b){r.appendChild(g("script")).onreadystatechange=function(){r.removeChild(this);F.call(b)}}:
function(b){setTimeout(t(F,b,1),0)});e.exports={set:f,clear:u}},{"./_cof":39,"./_ctx":41,"./_dom-create":43,"./_global":46,"./_html":48,"./_invoke":50}],55:[function(b,e,f){var k=b("./_is-object");e.exports=function(b,e){if(!k(b))return b;var f,h;if(e&&"function"==typeof(f=b.toString)&&!k(h=f.call(b))||"function"==typeof(f=b.valueOf)&&!k(h=f.call(b))||!e&&"function"==typeof(f=b.toString)&&!k(h=f.call(b)))return h;throw TypeError("Can't convert object to primitive value");}},{"./_is-object":51}],56:[function(b,
e,f){e=b("./_export");b=b("./_task");e(e.G+e.B,{setImmediate:b.set,clearImmediate:b.clear})},{"./_export":44,"./_task":54}],57:[function(b,e,f){(function(b){function f(){y=!0;for(var b,e,g=z.length;g;){e=z;z=[];for(b=-1;++b<g;)e[b]();g=z.length}y=!1}var k,t=b.MutationObserver||b.WebKitMutationObserver;if(t){var h=0,t=new t(f),r=b.document.createTextNode("");t.observe(r,{characterData:!0});k=function(){r.data=h=++h%2}}else if(b.setImmediate||"undefined"==typeof b.MessageChannel)k="document"in b&&"onreadystatechange"in
b.document.createElement("script")?function(){var e=b.document.createElement("script");e.onreadystatechange=function(){f();e.onreadystatechange=null;e.parentNode.removeChild(e);e=null};b.document.documentElement.appendChild(e)}:function(){setTimeout(f,0)};else{var g=new b.MessageChannel;g.port1.onmessage=f;k=function(){g.port2.postMessage(0)}}var y,z=[];e.exports=function(b){1!==z.push(b)||y||k()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?
window:{})},{}],58:[function(b,e,f){function k(){}function p(b){if("function"!=typeof b)throw new TypeError("resolver must be a function");this.state=x;this.queue=[];this.outcome=void 0;b!==k&&r(this,b)}function n(b,e,g){this.promise=b;"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled);"function"==typeof g&&(this.onRejected=g,this.callRejected=this.otherCallRejected)}function t(b,e,g){y(function(){var h;try{h=e(g)}catch(J){return z.reject(b,J)}h===b?z.reject(b,new TypeError("Cannot resolve promise with itself")):
z.resolve(b,h)})}function h(b){var e=b&&b.then;if(b&&"object"==typeof b&&"function"==typeof e)return function(){e.apply(b,arguments)}}function r(b,e){function h(e){k||(k=!0,z.reject(b,e))}function f(e){k||(k=!0,z.resolve(b,e))}var k=!1,r=g(function(){e(f,h)});"error"===r.status&&h(r.value)}function g(b,e){var g={};try{g.value=b(e),g.status="success"}catch(H){g.status="error",g.value=H}return g}var y=b("immediate"),z={},u=["REJECTED"],v=["FULFILLED"],x=["PENDING"];e.exports=p;p.prototype["catch"]=
function(b){return this.then(null,b)};p.prototype.then=function(b,e){if("function"!=typeof b&&this.state===v||"function"!=typeof e&&this.state===u)return this;var g=new this.constructor(k);this.state!==x?t(g,this.state===v?b:e,this.outcome):this.queue.push(new n(g,b,e));return g};n.prototype.callFulfilled=function(b){z.resolve(this.promise,b)};n.prototype.otherCallFulfilled=function(b){t(this.promise,this.onFulfilled,b)};n.prototype.callRejected=function(b){z.reject(this.promise,b)};n.prototype.otherCallRejected=
function(b){t(this.promise,this.onRejected,b)};z.resolve=function(b,e){var f=g(h,e);if("error"===f.status)return z.reject(b,f.value);if(f=f.value)r(b,f);else{b.state=v;b.outcome=e;for(var f=-1,k=b.queue.length;++f<k;)b.queue[f].callFulfilled(e)}return b};z.reject=function(b,e){b.state=u;b.outcome=e;for(var g=-1,h=b.queue.length;++g<h;)b.queue[g].callRejected(e);return b};p.resolve=function(b){return b instanceof this?b:z.resolve(new this(k),b)};p.reject=function(b){var e=new this(k);return z.reject(e,
b)};p.all=function(b){function e(b,e){g.resolve(b).then(function(b){r[e]=b;++n!==h||f||(f=!0,z.resolve(y,r))},function(b){f||(f=!0,z.reject(y,b))})}var g=this;if("[object Array]"!==Object.prototype.toString.call(b))return this.reject(new TypeError("must be an array"));var h=b.length,f=!1;if(!h)return this.resolve([]);for(var r=Array(h),n=0,p=-1,y=new this(k);++p<h;)e(b[p],p);return y};p.race=function(b){function e(b){g.resolve(b).then(function(b){f||(f=!0,z.resolve(n,b))},function(b){f||(f=!0,z.reject(n,
b))})}var g=this;if("[object Array]"!==Object.prototype.toString.call(b))return this.reject(new TypeError("must be an array"));var h=b.length,f=!1;if(!h)return this.resolve([]);for(var r=-1,n=new this(k);++r<h;)e(b[r]);return n}},{immediate:57}],59:[function(b,e,f){f=b("./lib/utils/common").assign;var k=b("./lib/deflate"),p=b("./lib/inflate");b=b("./lib/zlib/constants");var n={};f(n,k,p,b);e.exports=n},{"./lib/deflate":60,"./lib/inflate":61,"./lib/utils/common":62,"./lib/zlib/constants":65}],60:[function(b,
e,f){function k(b){if(!(this instanceof k))return new k(b);b=this.options=t.assign({level:u,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},b||{});b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&16>b.windowBits&&(b.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new g;this.strm.avail_out=0;var e=n.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(e!==z)throw Error(r[e]);if(b.header&&n.deflateSetHeader(this.strm,
b.header),b.dictionary){var f;if(f="string"==typeof b.dictionary?h.string2buf(b.dictionary):"[object ArrayBuffer]"===y.call(b.dictionary)?new Uint8Array(b.dictionary):b.dictionary,e=n.deflateSetDictionary(this.strm,f),e!==z)throw Error(r[e]);this._dict_set=!0}}function p(b,e){var g=new k(e);if(g.push(b,!0),g.err)throw g.msg;return g.result}var n=b("./zlib/deflate"),t=b("./utils/common"),h=b("./utils/strings"),r=b("./zlib/messages"),g=b("./zlib/zstream"),y=Object.prototype.toString,z=0,u=-1,v=0,x=
8;k.prototype.push=function(b,e){var g,f,k=this.strm,r=this.options.chunkSize;if(this.ended)return!1;f=e===~~e?e:!0===e?4:0;"string"==typeof b?k.input=h.string2buf(b):"[object ArrayBuffer]"===y.call(b)?k.input=new Uint8Array(b):k.input=b;k.next_in=0;k.avail_in=k.input.length;do{if(0===k.avail_out&&(k.output=new t.Buf8(r),k.next_out=0,k.avail_out=r),g=n.deflate(k,f),1!==g&&g!==z)return this.onEnd(g),this.ended=!0,!1;0!==k.avail_out&&(0!==k.avail_in||4!==f&&2!==f)||("string"===this.options.to?this.onData(h.buf2binstring(t.shrinkBuf(k.output,
k.next_out))):this.onData(t.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||0===k.avail_out)&&1!==g);return 4===f?(g=n.deflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===z):2!==f||(this.onEnd(z),k.avail_out=0,!0)};k.prototype.onData=function(b){this.chunks.push(b)};k.prototype.onEnd=function(b){b===z&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks));this.chunks=[];this.err=b;this.msg=this.strm.msg};f.Deflate=k;f.deflate=p;f.deflateRaw=
function(b,e){return e=e||{},e.raw=!0,p(b,e)};f.gzip=function(b,e){return e=e||{},e.gzip=!0,p(b,e)}},{"./utils/common":62,"./utils/strings":63,"./zlib/deflate":67,"./zlib/messages":72,"./zlib/zstream":74}],61:[function(b,e,f){function k(b){if(!(this instanceof k))return new k(b);var e=this.options=t.assign({chunkSize:16384,windowBits:0,to:""},b||{});e.raw&&0<=e.windowBits&&16>e.windowBits&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15));!(0<=e.windowBits&&16>e.windowBits)||b&&b.windowBits||
(e.windowBits+=32);15<e.windowBits&&48>e.windowBits&&0===(15&e.windowBits)&&(e.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new y;this.strm.avail_out=0;b=n.inflateInit2(this.strm,e.windowBits);if(b!==r.Z_OK)throw Error(g[b]);this.header=new z;n.inflateGetHeader(this.strm,this.header)}function p(b,e){var g=new k(e);if(g.push(b,!0),g.err)throw g.msg;return g.result}var n=b("./zlib/inflate"),t=b("./utils/common"),h=b("./utils/strings"),r=b("./zlib/constants"),g=b("./zlib/messages"),
y=b("./zlib/zstream"),z=b("./zlib/gzheader"),u=Object.prototype.toString;k.prototype.push=function(b,e){var g,f,k,p,y,v,x=this.strm,z=this.options.chunkSize,E=this.options.dictionary,B=!1;if(this.ended)return!1;f=e===~~e?e:!0===e?r.Z_FINISH:r.Z_NO_FLUSH;"string"==typeof b?x.input=h.binstring2buf(b):"[object ArrayBuffer]"===u.call(b)?x.input=new Uint8Array(b):x.input=b;x.next_in=0;x.avail_in=x.input.length;do{if(0===x.avail_out&&(x.output=new t.Buf8(z),x.next_out=0,x.avail_out=z),g=n.inflate(x,r.Z_NO_FLUSH),
g===r.Z_NEED_DICT&&E&&(v="string"==typeof E?h.string2buf(E):"[object ArrayBuffer]"===u.call(E)?new Uint8Array(E):E,g=n.inflateSetDictionary(this.strm,v)),g===r.Z_BUF_ERROR&&!0===B&&(g=r.Z_OK,B=!1),g!==r.Z_STREAM_END&&g!==r.Z_OK)return this.onEnd(g),this.ended=!0,!1;x.next_out&&(0!==x.avail_out&&g!==r.Z_STREAM_END&&(0!==x.avail_in||f!==r.Z_FINISH&&f!==r.Z_SYNC_FLUSH)||("string"===this.options.to?(k=h.utf8border(x.output,x.next_out),p=x.next_out-k,y=h.buf2string(x.output,k),x.next_out=p,x.avail_out=
z-p,p&&t.arraySet(x.output,x.output,k,p,0),this.onData(y)):this.onData(t.shrinkBuf(x.output,x.next_out))));0===x.avail_in&&0===x.avail_out&&(B=!0)}while((0<x.avail_in||0===x.avail_out)&&g!==r.Z_STREAM_END);return g===r.Z_STREAM_END&&(f=r.Z_FINISH),f===r.Z_FINISH?(g=n.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===r.Z_OK):f!==r.Z_SYNC_FLUSH||(this.onEnd(r.Z_OK),x.avail_out=0,!0)};k.prototype.onData=function(b){this.chunks.push(b)};k.prototype.onEnd=function(b){b===r.Z_OK&&("string"===this.options.to?
this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks));this.chunks=[];this.err=b;this.msg=this.strm.msg};f.Inflate=k;f.inflate=p;f.inflateRaw=function(b,e){return e=e||{},e.raw=!0,p(b,e)};f.ungzip=p},{"./utils/common":62,"./utils/strings":63,"./zlib/constants":65,"./zlib/gzheader":68,"./zlib/inflate":70,"./zlib/messages":72,"./zlib/zstream":74}],62:[function(b,e,f){b="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;f.assign=function(b){for(var e=
Array.prototype.slice.call(arguments,1);e.length;){var h=e.shift();if(h){if("object"!=typeof h)throw new TypeError(h+"must be non-object");for(var f in h)h.hasOwnProperty(f)&&(b[f]=h[f])}}return b};f.shrinkBuf=function(b,e){return b.length===e?b:b.subarray?b.subarray(0,e):(b.length=e,b)};var k={arraySet:function(b,e,h,f,g){if(e.subarray&&b.subarray)return void b.set(e.subarray(h,h+f),g);for(var k=0;k<f;k++)b[g+k]=e[h+k]},flattenChunks:function(b){var e,h,f,g,k;e=f=0;for(h=b.length;e<h;e++)f+=b[e].length;
k=new Uint8Array(f);e=f=0;for(h=b.length;e<h;e++)g=b[e],k.set(g,f),f+=g.length;return k}},p={arraySet:function(b,e,h,f,g){for(var k=0;k<f;k++)b[g+k]=e[h+k]},flattenChunks:function(b){return[].concat.apply([],b)}};f.setTyped=function(b){b?(f.Buf8=Uint8Array,f.Buf16=Uint16Array,f.Buf32=Int32Array,f.assign(f,k)):(f.Buf8=Array,f.Buf16=Array,f.Buf32=Array,f.assign(f,p))};f.setTyped(b)},{}],63:[function(b,e,f){function k(b,e){if(65537>e&&(b.subarray&&t||!b.subarray&&n))return String.fromCharCode.apply(null,
p.shrinkBuf(b,e));for(var g="",h=0;h<e;h++)g+=String.fromCharCode(b[h]);return g}var p=b("./common"),n=!0,t=!0;try{String.fromCharCode.apply(null,[0])}catch(r){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(r){t=!1}var h=new p.Buf8(256);for(b=0;256>b;b++)h[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;h[254]=h[254]=1;f.string2buf=function(b){var e,h,f,k,r,n=b.length,t=0;for(k=0;k<n;k++)h=b.charCodeAt(k),55296===(64512&h)&&k+1<n&&(f=b.charCodeAt(k+1),56320===(64512&f)&&(h=65536+
(h-55296<<10)+(f-56320),k++)),t+=128>h?1:2048>h?2:65536>h?3:4;e=new p.Buf8(t);for(k=r=0;r<t;k++)h=b.charCodeAt(k),55296===(64512&h)&&k+1<n&&(f=b.charCodeAt(k+1),56320===(64512&f)&&(h=65536+(h-55296<<10)+(f-56320),k++)),128>h?e[r++]=h:2048>h?(e[r++]=192|h>>>6,e[r++]=128|63&h):65536>h?(e[r++]=224|h>>>12,e[r++]=128|h>>>6&63,e[r++]=128|63&h):(e[r++]=240|h>>>18,e[r++]=128|h>>>12&63,e[r++]=128|h>>>6&63,e[r++]=128|63&h);return e};f.buf2binstring=function(b){return k(b,b.length)};f.binstring2buf=function(b){for(var e=
new p.Buf8(b.length),h=0,f=e.length;h<f;h++)e[h]=b.charCodeAt(h);return e};f.buf2string=function(b,e){var g,f,r,p,n=e||b.length,t=Array(2*n);for(g=f=0;g<n;)if(r=b[g++],128>r)t[f++]=r;else if(p=h[r],4<p)t[f++]=65533,g+=p-1;else{for(r&=2===p?31:3===p?15:7;1<p&&g<n;)r=r<<6|63&b[g++],p--;1<p?t[f++]=65533:65536>r?t[f++]=r:(r-=65536,t[f++]=55296|r>>10&1023,t[f++]=56320|1023&r)}return k(t,f)};f.utf8border=function(b,e){var g;e=e||b.length;e>b.length&&(e=b.length);for(g=e-1;0<=g&&128===(192&b[g]);)g--;return 0>
g?e:0===g?e:g+h[b[g]]>e?g:e}},{"./common":62}],64:[function(b,e,f){e.exports=function(b,e,f,t){var h=65535&b|0;b=b>>>16&65535|0;for(var k;0!==f;){k=2E3<f?2E3:f;f-=k;do h=h+e[t++]|0,b=b+h|0;while(--k);h%=65521;b%=65521}return h|b<<16|0}},{}],65:[function(b,e,f){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,
Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],66:[function(b,e,f){var k=function(){for(var b,e=[],f=0;256>f;f++){b=f;for(var h=0;8>h;h++)b=1&b?3988292384^b>>>1:b>>>1;e[f]=b}return e}();e.exports=function(b,e,f,h){f=h+f;for(b^=-1;h<f;h++)b=b>>>8^k[255&(b^e[h])];return b^-1}},{}],67:[function(b,e,f){function k(b,e){return b.msg=E[e],e}function p(b){for(var e=b.length;0<=--e;)b[e]=0}function n(b){var e=
b.state,g=e.pending;g>b.avail_out&&(g=b.avail_out);0!==g&&(J.arraySet(b.output,e.pending_buf,e.pending_out,g,b.next_out),b.next_out+=g,e.pending_out+=g,b.total_out+=g,b.avail_out-=g,e.pending-=g,0===e.pending&&(e.pending_out=0))}function t(b,e){w._tr_flush_block(b,0<=b.block_start?b.block_start:-1,b.strstart-b.block_start,e);b.block_start=b.strstart;n(b.strm)}function h(b,e){b.pending_buf[b.pending++]=e}function r(b,e){b.pending_buf[b.pending++]=e>>>8&255;b.pending_buf[b.pending++]=255&e}function g(b,
e){var g,h,f=b.max_chain_length,k=b.strstart,r=b.prev_length,A=b.nice_match,p=b.strstart>b.w_size-V?b.strstart-(b.w_size-V):0,n=b.window,I=b.w_mask,u=b.prev,q=b.strstart+S,E=n[k+r-1],y=n[k+r];b.prev_length>=b.good_match&&(f>>=2);A>b.lookahead&&(A=b.lookahead);do if(g=e,n[g+r]===y&&n[g+r-1]===E&&n[g]===n[k]&&n[++g]===n[k+1]){k+=2;for(g++;n[++k]===n[++g]&&n[++k]===n[++g]&&n[++k]===n[++g]&&n[++k]===n[++g]&&n[++k]===n[++g]&&n[++k]===n[++g]&&n[++k]===n[++g]&&n[++k]===n[++g]&&k<q;);if(h=S-(q-k),k=q-S,h>
r){if(b.match_start=e,r=h,h>=A)break;E=n[k+r-1];y=n[k+r]}}while((e=u[e&I])>p&&0!==--f);return r<=b.lookahead?r:b.lookahead}function y(b){var e,g,h,f,k=b.w_size;do{if(f=b.window_size-b.lookahead-b.strstart,b.strstart>=k+(k-V)){J.arraySet(b.window,b.window,k,k,0);b.match_start-=k;b.strstart-=k;b.block_start-=k;e=g=b.hash_size;do h=b.head[--e],b.head[e]=h>=k?h-k:0;while(--g);e=g=k;do h=b.prev[--e],b.prev[e]=h>=k?h-k:0;while(--g);f+=k}if(0===b.strm.avail_in)break;e=b.strm;h=b.window;var r=b.strstart+
b.lookahead,A=e.avail_in;if(g=(A>f&&(A=f),0===A?0:(e.avail_in-=A,J.arraySet(h,e.input,e.next_in,A,r),1===e.state.wrap?e.adler=R(e.adler,h,A,r):2===e.state.wrap&&(e.adler=M(e.adler,h,A,r)),e.next_in+=A,e.total_in+=A,A)),b.lookahead+=g,b.lookahead+b.insert>=K)for(f=b.strstart-b.insert,b.ins_h=b.window[f],b.ins_h=(b.ins_h<<b.hash_shift^b.window[f+1])&b.hash_mask;b.insert&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[f+K-1])&b.hash_mask,b.prev[f&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=f,f++,b.insert--,
!(b.lookahead+b.insert<K)););}while(b.lookahead<V&&0!==b.strm.avail_in)}function z(b,e){for(var h,f;;){if(b.lookahead<V){if(y(b),b.lookahead<V&&e===B)return W;if(0===b.lookahead)break}if(h=0,b.lookahead>=K&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+K-1])&b.hash_mask,h=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),0!==h&&b.strstart-h<=b.w_size-V&&(b.match_length=g(b,h)),b.match_length>=K)if(f=w._tr_tally(b,b.strstart-b.match_start,b.match_length-K),b.lookahead-=
b.match_length,b.match_length<=b.max_lazy_match&&b.lookahead>=K){b.match_length--;do b.strstart++,b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+K-1])&b.hash_mask,h=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart;while(0!==--b.match_length);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+1])&b.hash_mask;else f=w._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(f&&
(t(b,!1),0===b.strm.avail_out))return W}return b.insert=b.strstart<K-1?b.strstart:K-1,e===A?(t(b,!0),0===b.strm.avail_out?ga:Z):b.last_lit&&(t(b,!1),0===b.strm.avail_out)?W:da}function u(b,e){for(var h,f,k;;){if(b.lookahead<V){if(y(b),b.lookahead<V&&e===B)return W;if(0===b.lookahead)break}if(h=0,b.lookahead>=K&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+K-1])&b.hash_mask,h=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),b.prev_length=b.match_length,b.prev_match=b.match_start,
b.match_length=K-1,0!==h&&b.prev_length<b.max_lazy_match&&b.strstart-h<=b.w_size-V&&(b.match_length=g(b,h),5>=b.match_length&&(b.strategy===ha||b.match_length===K&&4096<b.strstart-b.match_start)&&(b.match_length=K-1)),b.prev_length>=K&&b.match_length<=b.prev_length){k=b.strstart+b.lookahead-K;f=w._tr_tally(b,b.strstart-1-b.prev_match,b.prev_length-K);b.lookahead-=b.prev_length-1;b.prev_length-=2;do++b.strstart<=k&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+K-1])&b.hash_mask,h=b.prev[b.strstart&
b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart);while(0!==--b.prev_length);if(b.match_available=0,b.match_length=K-1,b.strstart++,f&&(t(b,!1),0===b.strm.avail_out))return W}else if(b.match_available){if(f=w._tr_tally(b,0,b.window[b.strstart-1]),f&&t(b,!1),b.strstart++,b.lookahead--,0===b.strm.avail_out)return W}else b.match_available=1,b.strstart++,b.lookahead--}return b.match_available&&(w._tr_tally(b,0,b.window[b.strstart-1]),b.match_available=0),b.insert=b.strstart<K-1?b.strstart:K-1,e===
A?(t(b,!0),0===b.strm.avail_out?ga:Z):b.last_lit&&(t(b,!1),0===b.strm.avail_out)?W:da}function v(b,e,g,h,f){this.good_length=b;this.max_lazy=e;this.nice_length=g;this.max_chain=h;this.func=f}function x(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=ba;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=
this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new J.Buf16(2*na);this.dyn_dtree=new J.Buf16(2*(2*Y+1));this.bl_tree=new J.Buf16(2*(2*N+1));p(this.dyn_ltree);p(this.dyn_dtree);p(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new J.Buf16(T+
1);this.heap=new J.Buf16(2*ta+1);p(this.heap);this.heap_max=this.heap_len=0;this.depth=new J.Buf16(2*ta+1);p(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function C(b){var e;return b&&b.state?(b.total_in=b.total_out=0,b.data_type=la,e=b.state,e.pending=0,e.pending_out=0,0>e.wrap&&(e.wrap=-e.wrap),e.status=e.wrap?ia:ja,b.adler=2===e.wrap?0:1,e.last_flush=B,w._tr_init(e),P):k(b,O)}function F(b){var e=
C(b);e===P&&(b=b.state,b.window_size=2*b.w_size,p(b.head),b.max_lazy_match=H[b.level].max_lazy,b.good_match=H[b.level].good_length,b.nice_match=H[b.level].nice_length,b.max_chain_length=H[b.level].max_chain,b.strstart=0,b.block_start=0,b.lookahead=0,b.insert=0,b.match_length=b.prev_length=K-1,b.match_available=0,b.ins_h=0);return e}function D(b,e,g,h,f,r){if(!b)return O;var A=1;if(e===Q&&(e=6),0>h?(A=0,h=-h):15<h&&(A=2,h-=16),1>f||f>X||g!==ba||8>h||15<h||0>e||9<e||0>r||r>ca)return k(b,O);8===h&&(h=
9);var n=new x;return b.state=n,n.strm=b,n.wrap=A,n.gzhead=null,n.w_bits=h,n.w_size=1<<n.w_bits,n.w_mask=n.w_size-1,n.hash_bits=f+7,n.hash_size=1<<n.hash_bits,n.hash_mask=n.hash_size-1,n.hash_shift=~~((n.hash_bits+K-1)/K),n.window=new J.Buf8(2*n.w_size),n.head=new J.Buf16(n.hash_size),n.prev=new J.Buf16(n.w_size),n.lit_bufsize=1<<f+6,n.pending_buf_size=4*n.lit_bufsize,n.pending_buf=new J.Buf8(n.pending_buf_size),n.d_buf=1*n.lit_bufsize,n.l_buf=3*n.lit_bufsize,n.level=e,n.strategy=r,n.method=g,F(b)}
var H,J=b("../utils/common"),w=b("./trees"),R=b("./adler32"),M=b("./crc32"),E=b("./messages"),B=0,A=4,P=0,O=-2,Q=-1,ha=1,ca=4,la=2,ba=8,X=9,ta=286,Y=30,N=19,na=2*ta+1,T=15,K=3,S=258,V=S+K+1,ia=42,ja=113,W=1,da=2,ga=3,Z=4;H=[new v(0,0,0,0,function(b,e){var g=65535;for(g>b.pending_buf_size-5&&(g=b.pending_buf_size-5);;){if(1>=b.lookahead){if(y(b),0===b.lookahead&&e===B)return W;if(0===b.lookahead)break}b.strstart+=b.lookahead;b.lookahead=0;var h=b.block_start+g;if((0===b.strstart||b.strstart>=h)&&(b.lookahead=
b.strstart-h,b.strstart=h,t(b,!1),0===b.strm.avail_out)||b.strstart-b.block_start>=b.w_size-V&&(t(b,!1),0===b.strm.avail_out))return W}return b.insert=0,e===A?(t(b,!0),0===b.strm.avail_out?ga:Z):(b.strstart>b.block_start&&t(b,!1),W)}),new v(4,4,8,4,z),new v(4,5,16,8,z),new v(4,6,32,32,z),new v(4,4,16,16,u),new v(8,16,32,32,u),new v(8,16,128,128,u),new v(8,32,128,256,u),new v(32,128,258,1024,u),new v(32,258,258,4096,u)];f.deflateInit=function(b,e){return D(b,e,ba,15,8,0)};f.deflateInit2=D;f.deflateReset=
F;f.deflateResetKeep=C;f.deflateSetHeader=function(b,e){return b&&b.state?2!==b.state.wrap?O:(b.state.gzhead=e,P):O};f.deflate=function(b,e){var g,f,u,E;if(!b||!b.state||5<e||0>e)return b?k(b,O):O;if(f=b.state,!b.output||!b.input&&0!==b.avail_in||666===f.status&&e!==A)return k(b,0===b.avail_out?-5:O);if(f.strm=b,g=f.last_flush,f.last_flush=e,f.status===ia)2===f.wrap?(b.adler=0,h(f,31),h(f,139),h(f,8),f.gzhead?(h(f,(f.gzhead.text?1:0)+(f.gzhead.hcrc?2:0)+(f.gzhead.extra?4:0)+(f.gzhead.name?8:0)+(f.gzhead.comment?
16:0)),h(f,255&f.gzhead.time),h(f,f.gzhead.time>>8&255),h(f,f.gzhead.time>>16&255),h(f,f.gzhead.time>>24&255),h(f,9===f.level?2:2<=f.strategy||2>f.level?4:0),h(f,255&f.gzhead.os),f.gzhead.extra&&f.gzhead.extra.length&&(h(f,255&f.gzhead.extra.length),h(f,f.gzhead.extra.length>>8&255)),f.gzhead.hcrc&&(b.adler=M(b.adler,f.pending_buf,f.pending,0)),f.gzindex=0,f.status=69):(h(f,0),h(f,0),h(f,0),h(f,0),h(f,0),h(f,9===f.level?2:2<=f.strategy||2>f.level?4:0),h(f,3),f.status=ja)):(u=ba+(f.w_bits-8<<4)<<8,
u|=(2<=f.strategy||2>f.level?0:6>f.level?1:6===f.level?2:3)<<6,0!==f.strstart&&(u|=32),f.status=ja,r(f,u+(31-u%31)),0!==f.strstart&&(r(f,b.adler>>>16),r(f,65535&b.adler)),b.adler=1);if(69===f.status)if(f.gzhead.extra){for(u=f.pending;f.gzindex<(65535&f.gzhead.extra.length)&&(f.pending!==f.pending_buf_size||(f.gzhead.hcrc&&f.pending>u&&(b.adler=M(b.adler,f.pending_buf,f.pending-u,u)),n(b),u=f.pending,f.pending!==f.pending_buf_size));)h(f,255&f.gzhead.extra[f.gzindex]),f.gzindex++;f.gzhead.hcrc&&f.pending>
u&&(b.adler=M(b.adler,f.pending_buf,f.pending-u,u));f.gzindex===f.gzhead.extra.length&&(f.gzindex=0,f.status=73)}else f.status=73;if(73===f.status)if(f.gzhead.name){u=f.pending;do{if(f.pending===f.pending_buf_size&&(f.gzhead.hcrc&&f.pending>u&&(b.adler=M(b.adler,f.pending_buf,f.pending-u,u)),n(b),u=f.pending,f.pending===f.pending_buf_size)){E=1;break}E=f.gzindex<f.gzhead.name.length?255&f.gzhead.name.charCodeAt(f.gzindex++):0;h(f,E)}while(0!==E);f.gzhead.hcrc&&f.pending>u&&(b.adler=M(b.adler,f.pending_buf,
f.pending-u,u));0===E&&(f.gzindex=0,f.status=91)}else f.status=91;if(91===f.status)if(f.gzhead.comment){u=f.pending;do{if(f.pending===f.pending_buf_size&&(f.gzhead.hcrc&&f.pending>u&&(b.adler=M(b.adler,f.pending_buf,f.pending-u,u)),n(b),u=f.pending,f.pending===f.pending_buf_size)){E=1;break}E=f.gzindex<f.gzhead.comment.length?255&f.gzhead.comment.charCodeAt(f.gzindex++):0;h(f,E)}while(0!==E);f.gzhead.hcrc&&f.pending>u&&(b.adler=M(b.adler,f.pending_buf,f.pending-u,u));0===E&&(f.status=103)}else f.status=
103;if(103===f.status&&(f.gzhead.hcrc?(f.pending+2>f.pending_buf_size&&n(b),f.pending+2<=f.pending_buf_size&&(h(f,255&b.adler),h(f,b.adler>>8&255),b.adler=0,f.status=ja)):f.status=ja),0!==f.pending){if(n(b),0===b.avail_out)return f.last_flush=-1,P}else if(0===b.avail_in&&(e<<1)-(4<e?9:0)<=(g<<1)-(4<g?9:0)&&e!==A)return k(b,-5);if(666===f.status&&0!==b.avail_in)return k(b,-5);if(0!==b.avail_in||0!==f.lookahead||e!==B&&666!==f.status){var v;if(2===f.strategy)a:{for(var x;;){if(0===f.lookahead&&(y(f),
0===f.lookahead)){if(e===B){v=W;break a}break}if(f.match_length=0,x=w._tr_tally(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++,x&&(t(f,!1),0===f.strm.avail_out)){v=W;break a}}v=(f.insert=0,e===A?(t(f,!0),0===f.strm.avail_out?ga:Z):f.last_lit&&(t(f,!1),0===f.strm.avail_out)?W:da)}else if(3===f.strategy)a:{var z,C;for(x=f.window;;){if(f.lookahead<=S){if(y(f),f.lookahead<=S&&e===B){v=W;break a}if(0===f.lookahead)break}if(f.match_length=0,f.lookahead>=K&&0<f.strstart&&(C=f.strstart-1,z=x[C],z===
x[++C]&&z===x[++C]&&z===x[++C])){for(g=f.strstart+S;z===x[++C]&&z===x[++C]&&z===x[++C]&&z===x[++C]&&z===x[++C]&&z===x[++C]&&z===x[++C]&&z===x[++C]&&C<g;);f.match_length=S-(g-C);f.match_length>f.lookahead&&(f.match_length=f.lookahead)}if(f.match_length>=K?(v=w._tr_tally(f,1,f.match_length-K),f.lookahead-=f.match_length,f.strstart+=f.match_length,f.match_length=0):(v=w._tr_tally(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++),v&&(t(f,!1),0===f.strm.avail_out)){v=W;break a}}v=(f.insert=0,e===A?
(t(f,!0),0===f.strm.avail_out?ga:Z):f.last_lit&&(t(f,!1),0===f.strm.avail_out)?W:da)}else v=H[f.level].func(f,e);if(v!==ga&&v!==Z||(f.status=666),v===W||v===ga)return 0===b.avail_out&&(f.last_flush=-1),P;if(v===da&&(1===e?w._tr_align(f):5!==e&&(w._tr_stored_block(f,0,0,!1),3===e&&(p(f.head),0===f.lookahead&&(f.strstart=0,f.block_start=0,f.insert=0))),n(b),0===b.avail_out))return f.last_flush=-1,P}return e!==A?P:0>=f.wrap?1:(2===f.wrap?(h(f,255&b.adler),h(f,b.adler>>8&255),h(f,b.adler>>16&255),h(f,
b.adler>>24&255),h(f,255&b.total_in),h(f,b.total_in>>8&255),h(f,b.total_in>>16&255),h(f,b.total_in>>24&255)):(r(f,b.adler>>>16),r(f,65535&b.adler)),n(b),0<f.wrap&&(f.wrap=-f.wrap),0!==f.pending?P:1)};f.deflateEnd=function(b){var e;return b&&b.state?(e=b.state.status,e!==ia&&69!==e&&73!==e&&91!==e&&103!==e&&e!==ja&&666!==e?k(b,O):(b.state=null,e===ja?k(b,-3):P)):O};f.deflateSetDictionary=function(b,e){var g,f,h,k,r,n,A;f=e.length;if(!b||!b.state||(g=b.state,k=g.wrap,2===k||1===k&&g.status!==ia||g.lookahead))return O;
1===k&&(b.adler=R(b.adler,e,f,0));g.wrap=0;f>=g.w_size&&(0===k&&(p(g.head),g.strstart=0,g.block_start=0,g.insert=0),r=new J.Buf8(g.w_size),J.arraySet(r,e,f-g.w_size,g.w_size,0),e=r,f=g.w_size);r=b.avail_in;n=b.next_in;A=b.input;b.avail_in=f;b.next_in=0;b.input=e;for(y(g);g.lookahead>=K;){f=g.strstart;h=g.lookahead-(K-1);do g.ins_h=(g.ins_h<<g.hash_shift^g.window[f+K-1])&g.hash_mask,g.prev[f&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=f,f++;while(--h);g.strstart=f;g.lookahead=K-1;y(g)}return g.strstart+=
g.lookahead,g.block_start=g.strstart,g.insert=g.lookahead,g.lookahead=0,g.match_length=g.prev_length=K-1,g.match_available=0,b.next_in=n,b.input=A,b.avail_in=r,g.wrap=k,P};f.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./messages":72,"./trees":73}],68:[function(b,e,f){e.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1}},{}],69:[function(b,e,f){e.exports=
function(b,e){var f,k,h,r,g,p,z,u,v,x,C,F,D,H,J,w,R,M,E,B,A,P,O,Q;f=b.state;k=b.next_in;O=b.input;h=k+(b.avail_in-5);r=b.next_out;Q=b.output;g=r-(e-b.avail_out);p=r+(b.avail_out-257);z=f.dmax;u=f.wsize;v=f.whave;x=f.wnext;C=f.window;F=f.hold;D=f.bits;H=f.lencode;J=f.distcode;w=(1<<f.lenbits)-1;R=(1<<f.distbits)-1;a:do b:for(15>D&&(F+=O[k++]<<D,D+=8,F+=O[k++]<<D,D+=8),M=H[F&w];;){if(E=M>>>24,F>>>=E,D-=E,E=M>>>16&255,0===E)Q[r++]=65535&M;else{if(!(16&E)){if(0===(64&E)){M=H[(65535&M)+(F&(1<<E)-1)];continue b}if(32&
E){f.mode=12;break a}b.msg="invalid literal/length code";f.mode=30;break a}B=65535&M;(E&=15)&&(D<E&&(F+=O[k++]<<D,D+=8),B+=F&(1<<E)-1,F>>>=E,D-=E);15>D&&(F+=O[k++]<<D,D+=8,F+=O[k++]<<D,D+=8);M=J[F&R];c:for(;;){if(E=M>>>24,F>>>=E,D-=E,E=M>>>16&255,!(16&E)){if(0===(64&E)){M=J[(65535&M)+(F&(1<<E)-1)];continue c}b.msg="invalid distance code";f.mode=30;break a}if(A=65535&M,E&=15,D<E&&(F+=O[k++]<<D,D+=8,D<E&&(F+=O[k++]<<D,D+=8)),A+=F&(1<<E)-1,A>z){b.msg="invalid distance too far back";f.mode=30;break a}if(F>>>=
E,D-=E,E=r-g,A>E){if(E=A-E,E>v&&f.sane){b.msg="invalid distance too far back";f.mode=30;break a}if(M=0,P=C,0===x){if(M+=u-E,E<B){B-=E;do Q[r++]=C[M++];while(--E);M=r-A;P=Q}}else if(x<E){if(M+=u+x-E,E-=x,E<B){B-=E;do Q[r++]=C[M++];while(--E);if(M=0,x<B){E=x;B-=E;do Q[r++]=C[M++];while(--E);M=r-A;P=Q}}}else if(M+=x-E,E<B){B-=E;do Q[r++]=C[M++];while(--E);M=r-A;P=Q}for(;2<B;)Q[r++]=P[M++],Q[r++]=P[M++],Q[r++]=P[M++],B-=3;B&&(Q[r++]=P[M++],1<B&&(Q[r++]=P[M++]))}else{M=r-A;do Q[r++]=Q[M++],Q[r++]=Q[M++],
Q[r++]=Q[M++],B-=3;while(2<B);B&&(Q[r++]=Q[M++],1<B&&(Q[r++]=Q[M++]))}break}}break}while(k<h&&r<p);B=D>>3;k-=B;D-=B<<3;b.next_in=k;b.next_out=r;b.avail_in=k<h?5+(h-k):5-(k-h);b.avail_out=r<p?257+(p-r):257-(r-p);f.hold=F&(1<<D)-1;f.bits=D}},{}],70:[function(b,e,f){function k(b){return(b>>>24&255)+(b>>>8&65280)+((65280&b)<<8)+((255&b)<<24)}function p(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=
0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new u.Buf16(320);this.work=new u.Buf16(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function n(b){var e;return b&&b.state?(e=b.state,b.total_in=b.total_out=e.total=0,b.msg="",e.wrap&&(b.adler=1&e.wrap),e.mode=J,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,
e.lencode=e.lendyn=new u.Buf32(w),e.distcode=e.distdyn=new u.Buf32(R),e.sane=1,e.back=-1,D):H}function t(b){var e;return b&&b.state?(e=b.state,e.wsize=0,e.whave=0,e.wnext=0,n(b)):H}function h(b,e){var g,f;return b&&b.state?(f=b.state,0>e?(g=0,e=-e):(g=(e>>4)+1,48>e&&(e&=15)),e&&(8>e||15<e)?H:(null!==f.window&&f.wbits!==e&&(f.window=null),f.wrap=g,f.wbits=e,t(b))):H}function r(b,e){var g,f;return b?(f=new p,b.state=f,f.window=null,g=h(b,e),g!==D&&(b.state=null),g):H}function g(b,e,g,f){var h;b=b.state;
return null===b.window&&(b.wsize=1<<b.wbits,b.wnext=0,b.whave=0,b.window=new u.Buf8(b.wsize)),f>=b.wsize?(u.arraySet(b.window,e,g-b.wsize,b.wsize,0),b.wnext=0,b.whave=b.wsize):(h=b.wsize-b.wnext,h>f&&(h=f),u.arraySet(b.window,e,g-f,h,b.wnext),f-=h,f?(u.arraySet(b.window,e,g-f,f,0),b.wnext=f,b.whave=b.wsize):(b.wnext+=h,b.wnext===b.wsize&&(b.wnext=0),b.whave<b.wsize&&(b.whave+=h))),0}var y,z,u=b("../utils/common"),v=b("./adler32"),x=b("./crc32"),C=b("./inffast"),F=b("./inftrees"),D=0,H=-2,J=1,w=852,
R=592,M=!0;f.inflateReset=t;f.inflateReset2=h;f.inflateResetKeep=n;f.inflateInit=function(b){return r(b,15)};f.inflateInit2=r;f.inflate=function(b,e){var f,h,r,n,p,t,E,B,w,R,Y,N,na,T,K,S,V,ia,ja,W,da,ga,Z=0,I=new u.Buf8(4),ua=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!b||!b.state||!b.output||!b.input&&0!==b.avail_in)return H;f=b.state;12===f.mode&&(f.mode=13);p=b.next_out;r=b.output;E=b.avail_out;n=b.next_in;h=b.input;t=b.avail_in;B=f.hold;w=f.bits;R=t;Y=E;da=D;a:for(;;)switch(f.mode){case J:if(0===
f.wrap){f.mode=13;break}for(;16>w;){if(0===t)break a;t--;B+=h[n++]<<w;w+=8}if(2&f.wrap&&35615===B){f.check=0;I[0]=255&B;I[1]=B>>>8&255;f.check=x(f.check,I,2,0);w=B=0;f.mode=2;break}if(f.flags=0,f.head&&(f.head.done=!1),!(1&f.wrap)||(((255&B)<<8)+(B>>8))%31){b.msg="incorrect header check";f.mode=30;break}if(8!==(15&B)){b.msg="unknown compression method";f.mode=30;break}if(B>>>=4,w-=4,W=(15&B)+8,0===f.wbits)f.wbits=W;else if(W>f.wbits){b.msg="invalid window size";f.mode=30;break}f.dmax=1<<W;b.adler=
f.check=1;f.mode=512&B?10:12;w=B=0;break;case 2:for(;16>w;){if(0===t)break a;t--;B+=h[n++]<<w;w+=8}if(f.flags=B,8!==(255&f.flags)){b.msg="unknown compression method";f.mode=30;break}if(57344&f.flags){b.msg="unknown header flags set";f.mode=30;break}f.head&&(f.head.text=B>>8&1);512&f.flags&&(I[0]=255&B,I[1]=B>>>8&255,f.check=x(f.check,I,2,0));w=B=0;f.mode=3;case 3:for(;32>w;){if(0===t)break a;t--;B+=h[n++]<<w;w+=8}f.head&&(f.head.time=B);512&f.flags&&(I[0]=255&B,I[1]=B>>>8&255,I[2]=B>>>16&255,I[3]=
B>>>24&255,f.check=x(f.check,I,4,0));w=B=0;f.mode=4;case 4:for(;16>w;){if(0===t)break a;t--;B+=h[n++]<<w;w+=8}f.head&&(f.head.xflags=255&B,f.head.os=B>>8);512&f.flags&&(I[0]=255&B,I[1]=B>>>8&255,f.check=x(f.check,I,2,0));w=B=0;f.mode=5;case 5:if(1024&f.flags){for(;16>w;){if(0===t)break a;t--;B+=h[n++]<<w;w+=8}f.length=B;f.head&&(f.head.extra_len=B);512&f.flags&&(I[0]=255&B,I[1]=B>>>8&255,f.check=x(f.check,I,2,0));w=B=0}else f.head&&(f.head.extra=null);f.mode=6;case 6:if(1024&f.flags&&(N=f.length,
N>t&&(N=t),N&&(f.head&&(W=f.head.extra_len-f.length,f.head.extra||(f.head.extra=Array(f.head.extra_len)),u.arraySet(f.head.extra,h,n,N,W)),512&f.flags&&(f.check=x(f.check,h,N,n)),t-=N,n+=N,f.length-=N),f.length))break a;f.length=0;f.mode=7;case 7:if(2048&f.flags){if(0===t)break a;N=0;do W=h[n+N++],f.head&&W&&65536>f.length&&(f.head.name+=String.fromCharCode(W));while(W&&N<t);if(512&f.flags&&(f.check=x(f.check,h,N,n)),t-=N,n+=N,W)break a}else f.head&&(f.head.name=null);f.length=0;f.mode=8;case 8:if(4096&
f.flags){if(0===t)break a;N=0;do W=h[n+N++],f.head&&W&&65536>f.length&&(f.head.comment+=String.fromCharCode(W));while(W&&N<t);if(512&f.flags&&(f.check=x(f.check,h,N,n)),t-=N,n+=N,W)break a}else f.head&&(f.head.comment=null);f.mode=9;case 9:if(512&f.flags){for(;16>w;){if(0===t)break a;t--;B+=h[n++]<<w;w+=8}if(B!==(65535&f.check)){b.msg="header crc mismatch";f.mode=30;break}w=B=0}f.head&&(f.head.hcrc=f.flags>>9&1,f.head.done=!0);b.adler=f.check=0;f.mode=12;break;case 10:for(;32>w;){if(0===t)break a;
t--;B+=h[n++]<<w;w+=8}b.adler=f.check=k(B);w=B=0;f.mode=11;case 11:if(0===f.havedict)return b.next_out=p,b.avail_out=E,b.next_in=n,b.avail_in=t,f.hold=B,f.bits=w,2;b.adler=f.check=1;f.mode=12;case 12:if(5===e||6===e)break a;case 13:if(f.last){B>>>=7&w;w-=7&w;f.mode=27;break}for(;3>w;){if(0===t)break a;t--;B+=h[n++]<<w;w+=8}switch(f.last=1&B,B>>>=1,--w,3&B){case 0:f.mode=14;break;case 1:T=f;if(M){y=new u.Buf32(512);z=new u.Buf32(32);for(S=0;144>S;)T.lens[S++]=8;for(;256>S;)T.lens[S++]=9;for(;280>S;)T.lens[S++]=
7;for(;288>S;)T.lens[S++]=8;F(1,T.lens,0,288,y,0,T.work,{bits:9});for(S=0;32>S;)T.lens[S++]=5;F(2,T.lens,0,32,z,0,T.work,{bits:5});M=!1}T.lencode=y;T.lenbits=9;T.distcode=z;T.distbits=5;if(f.mode=20,6===e){B>>>=2;w-=2;break a}break;case 2:f.mode=17;break;case 3:b.msg="invalid block type",f.mode=30}B>>>=2;w-=2;break;case 14:B>>>=7&w;for(w-=7&w;32>w;){if(0===t)break a;t--;B+=h[n++]<<w;w+=8}if((65535&B)!==(B>>>16^65535)){b.msg="invalid stored block lengths";f.mode=30;break}if(f.length=65535&B,B=0,w=
0,f.mode=15,6===e)break a;case 15:f.mode=16;case 16:if(N=f.length){if(N>t&&(N=t),N>E&&(N=E),0===N)break a;u.arraySet(r,h,n,N,p);t-=N;n+=N;E-=N;p+=N;f.length-=N;break}f.mode=12;break;case 17:for(;14>w;){if(0===t)break a;t--;B+=h[n++]<<w;w+=8}if(f.nlen=(31&B)+257,B>>>=5,w-=5,f.ndist=(31&B)+1,B>>>=5,w-=5,f.ncode=(15&B)+4,B>>>=4,w-=4,286<f.nlen||30<f.ndist){b.msg="too many length or distance symbols";f.mode=30;break}f.have=0;f.mode=18;case 18:for(;f.have<f.ncode;){for(;3>w;){if(0===t)break a;t--;B+=h[n++]<<
w;w+=8}f.lens[ua[f.have++]]=7&B;B>>>=3;w-=3}for(;19>f.have;)f.lens[ua[f.have++]]=0;if(f.lencode=f.lendyn,f.lenbits=7,ga={bits:f.lenbits},da=F(0,f.lens,0,19,f.lencode,0,f.work,ga),f.lenbits=ga.bits,da){b.msg="invalid code lengths set";f.mode=30;break}f.have=0;f.mode=19;case 19:for(;f.have<f.nlen+f.ndist;){for(;Z=f.lencode[B&(1<<f.lenbits)-1],K=Z>>>24,S=65535&Z,!(K<=w);){if(0===t)break a;t--;B+=h[n++]<<w;w+=8}if(16>S)B>>>=K,w-=K,f.lens[f.have++]=S;else{if(16===S){for(T=K+2;w<T;){if(0===t)break a;t--;
B+=h[n++]<<w;w+=8}if(B>>>=K,w-=K,0===f.have){b.msg="invalid bit length repeat";f.mode=30;break}W=f.lens[f.have-1];N=3+(3&B);B>>>=2;w-=2}else if(17===S){for(T=K+3;w<T;){if(0===t)break a;t--;B+=h[n++]<<w;w+=8}B>>>=K;w-=K;W=0;N=3+(7&B);B>>>=3;w-=3}else{for(T=K+7;w<T;){if(0===t)break a;t--;B+=h[n++]<<w;w+=8}B>>>=K;w-=K;W=0;N=11+(127&B);B>>>=7;w-=7}if(f.have+N>f.nlen+f.ndist){b.msg="invalid bit length repeat";f.mode=30;break}for(;N--;)f.lens[f.have++]=W}}if(30===f.mode)break;if(0===f.lens[256]){b.msg=
"invalid code -- missing end-of-block";f.mode=30;break}if(f.lenbits=9,ga={bits:f.lenbits},da=F(1,f.lens,0,f.nlen,f.lencode,0,f.work,ga),f.lenbits=ga.bits,da){b.msg="invalid literal/lengths set";f.mode=30;break}if(f.distbits=6,f.distcode=f.distdyn,ga={bits:f.distbits},da=F(2,f.lens,f.nlen,f.ndist,f.distcode,0,f.work,ga),f.distbits=ga.bits,da){b.msg="invalid distances set";f.mode=30;break}if(f.mode=20,6===e)break a;case 20:f.mode=21;case 21:if(6<=t&&258<=E){b.next_out=p;b.avail_out=E;b.next_in=n;b.avail_in=
t;f.hold=B;f.bits=w;C(b,Y);p=b.next_out;r=b.output;E=b.avail_out;n=b.next_in;h=b.input;t=b.avail_in;B=f.hold;w=f.bits;12===f.mode&&(f.back=-1);break}for(f.back=0;Z=f.lencode[B&(1<<f.lenbits)-1],K=Z>>>24,T=Z>>>16&255,S=65535&Z,!(K<=w);){if(0===t)break a;t--;B+=h[n++]<<w;w+=8}if(T&&0===(240&T)){V=K;ia=T;for(ja=S;Z=f.lencode[ja+((B&(1<<V+ia)-1)>>V)],K=Z>>>24,T=Z>>>16&255,S=65535&Z,!(V+K<=w);){if(0===t)break a;t--;B+=h[n++]<<w;w+=8}B>>>=V;w-=V;f.back+=V}if(B>>>=K,w-=K,f.back+=K,f.length=S,0===T){f.mode=
26;break}if(32&T){f.back=-1;f.mode=12;break}if(64&T){b.msg="invalid literal/length code";f.mode=30;break}f.extra=15&T;f.mode=22;case 22:if(f.extra){for(T=f.extra;w<T;){if(0===t)break a;t--;B+=h[n++]<<w;w+=8}f.length+=B&(1<<f.extra)-1;B>>>=f.extra;w-=f.extra;f.back+=f.extra}f.was=f.length;f.mode=23;case 23:for(;Z=f.distcode[B&(1<<f.distbits)-1],K=Z>>>24,T=Z>>>16&255,S=65535&Z,!(K<=w);){if(0===t)break a;t--;B+=h[n++]<<w;w+=8}if(0===(240&T)){V=K;ia=T;for(ja=S;Z=f.distcode[ja+((B&(1<<V+ia)-1)>>V)],K=
Z>>>24,T=Z>>>16&255,S=65535&Z,!(V+K<=w);){if(0===t)break a;t--;B+=h[n++]<<w;w+=8}B>>>=V;w-=V;f.back+=V}if(B>>>=K,w-=K,f.back+=K,64&T){b.msg="invalid distance code";f.mode=30;break}f.offset=S;f.extra=15&T;f.mode=24;case 24:if(f.extra){for(T=f.extra;w<T;){if(0===t)break a;t--;B+=h[n++]<<w;w+=8}f.offset+=B&(1<<f.extra)-1;B>>>=f.extra;w-=f.extra;f.back+=f.extra}if(f.offset>f.dmax){b.msg="invalid distance too far back";f.mode=30;break}f.mode=25;case 25:if(0===E)break a;if(N=Y-E,f.offset>N){if(N=f.offset-
N,N>f.whave&&f.sane){b.msg="invalid distance too far back";f.mode=30;break}N>f.wnext?(N-=f.wnext,na=f.wsize-N):na=f.wnext-N;N>f.length&&(N=f.length);T=f.window}else T=r,na=p-f.offset,N=f.length;N>E&&(N=E);E-=N;f.length-=N;do r[p++]=T[na++];while(--N);0===f.length&&(f.mode=21);break;case 26:if(0===E)break a;r[p++]=f.length;E--;f.mode=21;break;case 27:if(f.wrap){for(;32>w;){if(0===t)break a;t--;B|=h[n++]<<w;w+=8}if(Y-=E,b.total_out+=Y,f.total+=Y,Y&&(b.adler=f.check=f.flags?x(f.check,r,Y,p-Y):v(f.check,
r,Y,p-Y)),Y=E,(f.flags?B:k(B))!==f.check){b.msg="incorrect data check";f.mode=30;break}w=B=0}f.mode=28;case 28:if(f.wrap&&f.flags){for(;32>w;){if(0===t)break a;t--;B+=h[n++]<<w;w+=8}if(B!==(4294967295&f.total)){b.msg="incorrect length check";f.mode=30;break}w=B=0}f.mode=29;case 29:da=1;break a;case 30:da=-3;break a;case 31:return-4;default:return H}return b.next_out=p,b.avail_out=E,b.next_in=n,b.avail_in=t,f.hold=B,f.bits=w,(f.wsize||Y!==b.avail_out&&30>f.mode&&(27>f.mode||4!==e))&&g(b,b.output,b.next_out,
Y-b.avail_out)?(f.mode=31,-4):(R-=b.avail_in,Y-=b.avail_out,b.total_in+=R,b.total_out+=Y,f.total+=Y,f.wrap&&Y&&(b.adler=f.check=f.flags?x(f.check,r,Y,b.next_out-Y):v(f.check,r,Y,b.next_out-Y)),b.data_type=f.bits+(f.last?64:0)+(12===f.mode?128:0)+(20===f.mode||15===f.mode?256:0),(0===R&&0===Y||4===e)&&da===D&&(da=-5),da)};f.inflateEnd=function(b){if(!b||!b.state)return H;var e=b.state;return e.window&&(e.window=null),b.state=null,D};f.inflateGetHeader=function(b,e){var g;return b&&b.state?(g=b.state,
0===(2&g.wrap)?H:(g.head=e,e.done=!1,D)):H};f.inflateSetDictionary=function(b,e){var f,h,k=e.length;return b&&b.state?(f=b.state,0!==f.wrap&&11!==f.mode?H:11===f.mode&&(h=1,h=v(h,e,k,0),h!==f.check)?-3:g(b,e,k,k)?(f.mode=31,-4):(f.havedict=1,D)):H};f.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./inffast":69,"./inftrees":71}],71:[function(b,e,f){var k=b("../utils/common"),p=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,
163,195,227,258,0,0],n=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],t=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(b,e,f,z,u,v,x,C){var g,r,y,J,w,R,M,E,B=C.bits,A,P,O,Q,ha,ca,la=0,ba,X=null,ta=0,Y=new k.Buf16(16);J=new k.Buf16(16);var N=null,na=0;for(A=0;15>=
A;A++)Y[A]=0;for(P=0;P<z;P++)Y[e[f+P]]++;Q=B;for(O=15;1<=O&&0===Y[O];O--);if(Q>O&&(Q=O),0===O)return u[v++]=20971520,u[v++]=20971520,C.bits=1,0;for(B=1;B<O&&0===Y[B];B++);Q<B&&(Q=B);for(A=g=1;15>=A;A++)if(g<<=1,g-=Y[A],0>g)return-1;if(0<g&&(0===b||1!==O))return-1;J[1]=0;for(A=1;15>A;A++)J[A+1]=J[A]+Y[A];for(P=0;P<z;P++)0!==e[f+P]&&(x[J[e[f+P]]++]=P);if(0===b?(X=N=x,w=19):1===b?(X=p,ta-=257,N=n,na-=257,w=256):(X=t,N=h,w=-1),ba=0,P=0,A=B,J=v,ha=Q,ca=0,y=-1,la=1<<Q,z=la-1,1===b&&852<la||2===b&&592<la)return 1;
for(var T=0;;){T++;R=A-ca;x[P]<w?(M=0,E=x[P]):x[P]>w?(M=N[na+x[P]],E=X[ta+x[P]]):(M=96,E=0);g=1<<A-ca;B=r=1<<ha;do r-=g,u[J+(ba>>ca)+r]=R<<24|M<<16|E|0;while(0!==r);for(g=1<<A-1;ba&g;)g>>=1;if(0!==g?(ba&=g-1,ba+=g):ba=0,P++,0===--Y[A]){if(A===O)break;A=e[f+x[P]]}if(A>Q&&(ba&z)!==y){0===ca&&(ca=Q);J+=B;ha=A-ca;for(g=1<<ha;ha+ca<O&&(g-=Y[ha+ca],!(0>=g));)ha++,g<<=1;if(la+=1<<ha,1===b&&852<la||2===b&&592<la)return 1;y=ba&z;u[y]=Q<<24|ha<<16|J-v|0}}return 0!==ba&&(u[J+ba]=A-ca<<24|4194304),C.bits=Q,0}},
{"../utils/common":62}],72:[function(b,e,f){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],73:[function(b,e,f){function k(b){for(var e=b.length;0<=--e;)b[e]=0}function p(b,e,g,f,h){this.static_tree=b;this.extra_bits=e;this.extra_base=g;this.elems=f;this.max_length=h;this.has_stree=b&&b.length}function n(b,e){this.dyn_tree=b;this.max_code=0;this.stat_desc=e}function t(b,
e){b.pending_buf[b.pending++]=255&e;b.pending_buf[b.pending++]=e>>>8&255}function h(b,e,g){b.bi_valid>la-g?(b.bi_buf|=e<<b.bi_valid&65535,t(b,b.bi_buf),b.bi_buf=e>>la-b.bi_valid,b.bi_valid+=g-la):(b.bi_buf|=e<<b.bi_valid&65535,b.bi_valid+=g)}function r(b,e,g){h(b,g[2*e],g[2*e+1])}function g(b,e){var g=0;do g|=1&b,b>>>=1,g<<=1;while(0<--e);return g>>>1}function y(b,e,f){var h,k=Array(ca+1),r=0;for(h=1;h<=ca;h++)k[h]=r=r+f[h-1]<<1;for(f=0;f<=e;f++)h=b[2*f+1],0!==h&&(b[2*f]=g(k[h]++,h))}function z(b){var e;
for(e=0;e<P;e++)b.dyn_ltree[2*e]=0;for(e=0;e<O;e++)b.dyn_dtree[2*e]=0;for(e=0;e<Q;e++)b.bl_tree[2*e]=0;b.dyn_ltree[2*ba]=1;b.opt_len=b.static_len=0;b.last_lit=b.matches=0}function u(b){8<b.bi_valid?t(b,b.bi_buf):0<b.bi_valid&&(b.pending_buf[b.pending++]=b.bi_buf);b.bi_buf=0;b.bi_valid=0}function v(b,e,g,f){var h=2*e,k=2*g;return b[h]<b[k]||b[h]===b[k]&&f[e]<=f[g]}function x(b,e,g){for(var f=b.heap[g],h=g<<1;h<=b.heap_len&&(h<b.heap_len&&v(e,b.heap[h+1],b.heap[h],b.depth)&&h++,!v(e,f,b.heap[h],b.depth));)b.heap[g]=
b.heap[h],g=h,h<<=1;b.heap[g]=f}function C(b,e,g){var f,k,n,p,u=0;if(0!==b.last_lit){do f=b.pending_buf[b.d_buf+2*u]<<8|b.pending_buf[b.d_buf+2*u+1],k=b.pending_buf[b.l_buf+u],u++,0===f?r(b,k,e):(n=ja[k],r(b,n+A+1,e),p=N[n],0!==p&&(k-=W[n],h(b,k,p)),f--,n=256>f?ia[f]:ia[256+(f>>>7)],r(b,n,g),p=na[n],0!==p&&(f-=da[n],h(b,f,p)));while(u<b.last_lit)}r(b,ba,e)}function F(b,e){var g,f,h,k=e.dyn_tree;f=e.stat_desc.static_tree;var r=e.stat_desc.has_stree,n=e.stat_desc.elems,p=-1;b.heap_len=0;b.heap_max=
ha;for(g=0;g<n;g++)0!==k[2*g]?(b.heap[++b.heap_len]=p=g,b.depth[g]=0):k[2*g+1]=0;for(;2>b.heap_len;)h=b.heap[++b.heap_len]=2>p?++p:0,k[2*h]=1,b.depth[h]=0,b.opt_len--,r&&(b.static_len-=f[2*h+1]);e.max_code=p;for(g=b.heap_len>>1;1<=g;g--)x(b,k,g);h=n;do g=b.heap[1],b.heap[1]=b.heap[b.heap_len--],x(b,k,1),f=b.heap[1],b.heap[--b.heap_max]=g,b.heap[--b.heap_max]=f,k[2*h]=k[2*g]+k[2*f],b.depth[h]=(b.depth[g]>=b.depth[f]?b.depth[g]:b.depth[f])+1,k[2*g+1]=k[2*f+1]=h,b.heap[1]=h++,x(b,k,1);while(2<=b.heap_len);
b.heap[--b.heap_max]=b.heap[1];var u,q,r=e.dyn_tree,n=e.max_code,t=e.stat_desc.static_tree,v=e.stat_desc.has_stree,B=e.stat_desc.extra_bits,E=e.stat_desc.extra_base,z=e.stat_desc.max_length,A=0;for(f=0;f<=ca;f++)b.bl_count[f]=0;r[2*b.heap[b.heap_max]+1]=0;for(g=b.heap_max+1;g<ha;g++)h=b.heap[g],f=r[2*r[2*h+1]+1]+1,f>z&&(f=z,A++),r[2*h+1]=f,h>n||(b.bl_count[f]++,u=0,h>=E&&(u=B[h-E]),q=r[2*h],b.opt_len+=q*(f+u),v&&(b.static_len+=q*(t[2*h+1]+u)));if(0!==A){do{for(f=z-1;0===b.bl_count[f];)f--;b.bl_count[f]--;
b.bl_count[f+1]+=2;b.bl_count[z]--;A-=2}while(0<A);for(f=z;0!==f;f--)for(h=b.bl_count[f];0!==h;)u=b.heap[--g],u>n||(r[2*u+1]!==f&&(b.opt_len+=(f-r[2*u+1])*r[2*u],r[2*u+1]=f),h--)}y(k,p,b.bl_count)}function D(b,e,g){var f,h,k=-1,r=e[1],n=0,p=7,u=4;0===r&&(p=138,u=3);e[2*(g+1)+1]=65535;for(f=0;f<=g;f++)h=r,r=e[2*(f+1)+1],++n<p&&h===r||(n<u?b.bl_tree[2*h]+=n:0!==h?(h!==k&&b.bl_tree[2*h]++,b.bl_tree[2*X]++):10>=n?b.bl_tree[2*ta]++:b.bl_tree[2*Y]++,n=0,k=h,0===r?(p=138,u=3):h===r?(p=6,u=3):(p=7,u=4))}
function H(b,e,g){var f,k,n=-1,p=e[1],u=0,t=7,v=4;0===p&&(t=138,v=3);for(f=0;f<=g;f++)if(k=p,p=e[2*(f+1)+1],!(++u<t&&k===p)){if(u<v){do r(b,k,b.bl_tree);while(0!==--u)}else 0!==k?(k!==n&&(r(b,k,b.bl_tree),u--),r(b,X,b.bl_tree),h(b,u-3,2)):10>=u?(r(b,ta,b.bl_tree),h(b,u-3,3)):(r(b,Y,b.bl_tree),h(b,u-11,7));u=0;n=k;0===p?(t=138,v=3):k===p?(t=6,v=3):(t=7,v=4)}}function J(b){var e,g=4093624447;for(e=0;31>=e;e++,g>>>=1)if(1&g&&0!==b.dyn_ltree[2*e])return M;if(0!==b.dyn_ltree[18]||0!==b.dyn_ltree[20]||
0!==b.dyn_ltree[26])return E;for(e=32;e<A;e++)if(0!==b.dyn_ltree[2*e])return E;return M}function w(b,e,g,f){h(b,(B<<1)+(f?1:0),3);u(b);t(b,g);t(b,~g);R.arraySet(b.pending_buf,b.window,e,g,b.pending);b.pending+=g}var R=b("../utils/common"),M=0,E=1,B=0,A=256,P=A+1+29,O=30,Q=19,ha=2*P+1,ca=15,la=16,ba=256,X=16,ta=17,Y=18,N=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],na=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],K=[16,
17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S=Array(2*(P+2));k(S);var V=Array(2*O);k(V);var ia=Array(512);k(ia);var ja=Array(256);k(ja);var W=Array(29);k(W);var da=Array(O);k(da);var ga,Z,I,ua=!1;f._tr_init=function(b){if(!ua){var e,f,h,k=Array(ca+1);for(h=f=0;28>h;h++)for(W[h]=f,e=0;e<1<<N[h];e++)ja[f++]=h;ja[f-1]=h;for(h=f=0;16>h;h++)for(da[h]=f,e=0;e<1<<na[h];e++)ia[f++]=h;for(f>>=7;h<O;h++)for(da[h]=f<<7,e=0;e<1<<na[h]-7;e++)ia[256+f++]=h;for(e=0;e<=ca;e++)k[e]=0;for(e=0;143>=e;)S[2*e+1]=8,e++,
k[8]++;for(;255>=e;)S[2*e+1]=9,e++,k[9]++;for(;279>=e;)S[2*e+1]=7,e++,k[7]++;for(;287>=e;)S[2*e+1]=8,e++,k[8]++;y(S,P+1,k);for(e=0;e<O;e++)V[2*e+1]=5,V[2*e]=g(e,5);ga=new p(S,N,A+1,P,ca);Z=new p(V,na,0,O,ca);I=new p([],T,0,Q,7);ua=!0}b.l_desc=new n(b.dyn_ltree,ga);b.d_desc=new n(b.dyn_dtree,Z);b.bl_desc=new n(b.bl_tree,I);b.bi_buf=0;b.bi_valid=0;z(b)};f._tr_stored_block=w;f._tr_flush_block=function(b,e,g,f){var k,r,n=0;if(0<b.level){2===b.strm.data_type&&(b.strm.data_type=J(b));F(b,b.l_desc);F(b,
b.d_desc);D(b,b.dyn_ltree,b.l_desc.max_code);D(b,b.dyn_dtree,b.d_desc.max_code);F(b,b.bl_desc);for(n=Q-1;3<=n&&0===b.bl_tree[2*K[n]+1];n--);n=(b.opt_len+=3*(n+1)+14,n);k=b.opt_len+3+7>>>3;r=b.static_len+3+7>>>3;r<=k&&(k=r)}else k=r=g+5;if(g+4<=k&&-1!==e)w(b,e,g,f);else if(4===b.strategy||r===k)h(b,2+(f?1:0),3),C(b,S,V);else{h(b,4+(f?1:0),3);e=b.l_desc.max_code+1;g=b.d_desc.max_code+1;n+=1;h(b,e-257,5);h(b,g-1,5);h(b,n-4,4);for(k=0;k<n;k++)h(b,b.bl_tree[2*K[k]+1],3);H(b,b.dyn_ltree,e-1);H(b,b.dyn_dtree,
g-1);C(b,b.dyn_ltree,b.dyn_dtree)}z(b);f&&u(b)};f._tr_tally=function(b,e,g){return b.pending_buf[b.d_buf+2*b.last_lit]=e>>>8&255,b.pending_buf[b.d_buf+2*b.last_lit+1]=255&e,b.pending_buf[b.l_buf+b.last_lit]=255&g,b.last_lit++,0===e?b.dyn_ltree[2*g]++:(b.matches++,e--,b.dyn_ltree[2*(ja[g]+A+1)]++,b.dyn_dtree[2*(256>e?ia[e]:ia[256+(e>>>7)])]++),b.last_lit===b.lit_bufsize-1};f._tr_align=function(b){h(b,2,3);r(b,ba,S);16===b.bi_valid?(t(b,b.bi_buf),b.bi_buf=0,b.bi_valid=0):8<=b.bi_valid&&(b.pending_buf[b.pending++]=
255&b.bi_buf,b.bi_buf>>=8,b.bi_valid-=8)}},{"../utils/common":62}],74:[function(b,e,f){e.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}},{}]},{},[10])(10)});!function(c,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():c.LazyLoad=b()}(this,function(){function c(b,c,e){return r?void b.addEventListener(c,e):void(g&&(b.attachEvent("on"+c,function(b){return function(){e.call(b,window.event)}}(b)),b=null))}function b(b,c,e){return r?void b.removeEventListener(c,e):void(g&&b.detachEvent("on"+c,e))}function e(b,c,e){function g(b){return b.getBoundingClientRect().top+p-n.documentElement.clientTop}function f(b){return b.getBoundingClientRect().left+
u-n.documentElement.clientLeft}function h(){var g;return g=c===window?(window.innerWidth||n.documentElement.clientWidth||document.body.clientWidth)+window.pageXOffset:f(c)+(window.innerWidth||n.documentElement.clientWidth||document.body.clientWidth),g<=f(b)-e}function k(){var f;return f=c===window?p:g(c),f>=g(b)+e+b.offsetHeight}function r(){var g;return g=c===window?u:f(c),g>=f(b)+e+b.offsetWidth}var n,p,u;return n=b.ownerDocument,p=window.pageYOffset||n.body.scrollTop,u=window.pageXOffset||n.body.scrollLeft,
!(function(){var f;return f=c===window?(window.innerHeight||n.documentElement.clientHeight||document.body.clientHeight)+p:g(c)+c.offsetHeight,f<=g(b)-e}()||k()||h()||r())}function f(b,c){return y?void b.classList.add(c):void(b.className+=(b.className?" ":"")+c)}function k(b,c){return y?void b.classList.remove(c):void(b.className=b.className.replace(new RegExp("(^|\\s+)"+c+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,""))}function p(b,c,e,g){g=c.getAttribute("data-"+g);c=c.getAttribute("data-"+
e);e=b.tagName;return"IMG"===e?(c&&b.setAttribute("srcset",c),void(g&&b.setAttribute("src",g))):"IFRAME"===e?void(g&&b.setAttribute("src",g)):void(b.style.backgroundImage="url("+g+")")}function n(b,c){return function(){return b.apply(c,arguments)}}function t(b){z||(h={elements_selector:"img",container:window,threshold:300,throttle:50,data_src:"original",data_srcset:"original-set",class_loading:"loading",class_loaded:"loaded",skip_invisible:!0,show_while_loading:!0,callback_load:null,callback_error:null,
callback_set:null,callback_processed:null,placeholder:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},r=!!window.addEventListener,g=!!window.attachEvent,y=!!document.body.classList,z=!0);var e=h,f,k={};for(f in e)e.hasOwnProperty(f)&&(k[f]=e[f]);for(f in b)b.hasOwnProperty(f)&&(k[f]=b[f]);this._settings=k;this._queryOriginNode=this._settings.container===window?document:this._settings.container;this._previousLoopTime=0;this._loopTimeout=null;this._handleScrollFn=n(this.handleScroll,
this);c(window,"resize",this._handleScrollFn);this.update()}var h,r,g,y,z=!1;return t.prototype._showOnLoad=function(e){function g(){null!==r&&(r.callback_load&&r.callback_load(e),p(e,e,r.data_srcset,r.data_src),r.callback_set&&r.callback_set(e),k(e,r.class_loading),f(e,r.class_loaded),b(h,"load",g))}var h,r=this._settings;e.getAttribute("src")||e.setAttribute("src",r.placeholder);h=document.createElement("img");c(h,"load",g);c(h,"error",function(){k(e,r.class_loading);r.callback_error&&r.callback_error(e)});
f(e,r.class_loading);p(h,e,r.data_srcset,r.data_src)},t.prototype._showOnAppear=function(e){function g(){null!==h&&(h.callback_load&&h.callback_load(e),k(e,h.class_loading),f(e,h.class_loaded),b(e,"load",g))}var h=this._settings;"IMG"!==e.tagName&&"IFRAME"!==e.tagName||(c(e,"load",g),c(e,"error",function(){b(e,"load",g);k(e,h.class_loading);h.callback_error&&h.callback_error(e)}),f(e,h.class_loading));p(e,e,h.data_srcset,h.data_src);h.callback_set&&h.callback_set(e)},t.prototype._loopThroughElements=
function(){var b,c,g=this._settings,f=this._elements,h=f?f.length:0,k=[];for(b=0;b<h;b++)c=f[b],g.skip_invisible&&null===c.offsetParent||e(c,g.container,g.threshold)&&(g.show_while_loading?this._showOnAppear(c):this._showOnLoad(c),k.push(b),c.wasProcessed=!0);for(;0<k.length;)f.splice(k.pop(),1),g.callback_processed&&g.callback_processed(f.length);0===h&&this._stopScrollHandler()},t.prototype._purgeElements=function(){var b,c,e=this._elements,g=e.length,f=[];for(b=0;b<g;b++)c=e[b],c.wasProcessed&&
f.push(b);for(;0<f.length;)e.splice(f.pop(),1)},t.prototype._startScrollHandler=function(){this._isHandlingScroll||(this._isHandlingScroll=!0,c(this._settings.container,"scroll",this._handleScrollFn))},t.prototype._stopScrollHandler=function(){this._isHandlingScroll&&(this._isHandlingScroll=!1,b(this._settings.container,"scroll",this._handleScrollFn))},t.prototype.handleScroll=function(){var b,c,e;this._settings&&(c=(new Date).getTime(),e=this._settings.throttle,0!==e?(b=e-(c-this._previousLoopTime),
0>=b||b>e?(this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._previousLoopTime=c,this._loopThroughElements()):this._loopTimeout||(this._loopTimeout=setTimeout(n(function(){this._previousLoopTime=(new Date).getTime();this._loopTimeout=null;this._loopThroughElements()},this),b))):this._loopThroughElements())},t.prototype.update=function(){var b;var c=this._queryOriginNode.querySelectorAll(this._settings.elements_selector);try{b=Array.prototype.slice.call(c)}catch(F){var e=
[],g=c.length;for(b=0;b<g;b++)e.push(c[b]);b=e}this._elements=b;this._purgeElements();this._loopThroughElements();this._startScrollHandler()},t.prototype.destroy=function(){b(window,"resize",this._handleScrollFn);this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null);this._stopScrollHandler();this._settings=this._queryOriginNode=this._elements=null},t});!function(c,b,e){function f(){return"function"!=typeof b.createElement?b.createElement(arguments[0]):h?b.createElementNS.call(b,"http://www.w3.org/2000/svg",arguments[0]):b.createElement.apply(b,arguments)}var k=[],p=[];e={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(b,c){var e=this;setTimeout(function(){c(e[b])},0)},addTest:function(b,c,e){p.push({name:b,fn:c,options:e})},addAsyncTest:function(b){p.push({name:null,fn:b})}};var n=function(){};
n.prototype=e;n=new n;e._prefixes=e._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];var t=b.documentElement,h="svg"===t.nodeName.toLowerCase();h||!function(b,c){function e(){var b=E.elements;return"string"==typeof b?b.split(" "):b}function g(b){var c=M[b[w]];return c||(c={},R++,b[w]=R,M[R]=c),c}function f(b,e,f){if(e||(e=c),n)return e.createElement(b);f||(f=g(e));var h;return h=f.cache[b]?f.cache[b].cloneNode():J.test(b)?(f.cache[b]=f.createElem(b)).cloneNode():f.createElem(b),
!h.canHaveChildren||t.test(b)||h.tagUrn?h:f.frag.appendChild(h)}function h(b,c){c.cache||(c.cache={},c.createElem=b.createElement,c.createFrag=b.createDocumentFragment,c.frag=c.createFrag());b.createElement=function(e){return E.shivMethods?f(e,b,c):c.createElem(e)};b.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+e().join().replace(/[\w\-:]+/g,function(b){return c.createElem(b),c.frag.createElement(b),'c("'+b+'")'})+");return n}")(E,
c.frag)}function k(b){b||(b=c);var e=g(b);if(E.shivCSS&&!r&&!e.hasCSS){var f,k=b;f=k.createElement("p");k=k.getElementsByTagName("head")[0]||k.documentElement;f=(f.innerHTML="x<style>article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}</style>",k.insertBefore(f.lastChild,k.firstChild));e.hasCSS=!!f}return n||h(b,e),b}var r,n,p=b.html5||{},t=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,
J=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,w="_html5shiv",R=0,M={};!function(){try{var b=c.createElement("a");b.innerHTML="<xyz></xyz>";r="hidden"in b;var e;if(!(e=1==b.childNodes.length)){c.createElement("a");var g=c.createDocumentFragment();e="undefined"==typeof g.cloneNode||"undefined"==typeof g.createDocumentFragment||"undefined"==typeof g.createElement}n=e}catch(O){n=r=!0}}();var E={elements:p.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",
version:"3.7.3",shivCSS:!1!==p.shivCSS,supportsUnknownElements:n,shivMethods:!1!==p.shivMethods,type:"default",shivDocument:k,createElement:f,createDocumentFragment:function(b,f){if(b||(b=c),n)return b.createDocumentFragment();f=f||g(b);for(var h=f.frag.cloneNode(),k=0,r=e(),p=r.length;p>k;k++)h.createElement(r[k]);return h},addElements:function(b,c){var e=E.elements;"string"!=typeof e&&(e=e.join(" "));"string"!=typeof b&&(b=b.join(" "));E.elements=e+" "+b;k(c)}};b.html5=E;k(c);"object"==typeof module&&
module.exports&&(module.exports=E)}("undefined"!=typeof c?c:this,b);e.testStyles=function(c,e,k,n){var g,r,p,y,z=f("div"),D;p=b.body;D=(p||(p=f(h?"svg":"body"),p.fake=!0),p);if(parseInt(k,10))for(;k--;)p=f("div"),p.id=n?n[k]:"modernizr"+(k+1),z.appendChild(p);return g=f("style"),g.type="text/css",g.id="smodernizr",(D.fake?D:z).appendChild(g),D.appendChild(z),g.styleSheet?g.styleSheet.cssText=c:g.appendChild(b.createTextNode(c)),z.id="modernizr",D.fake&&(D.style.background="",D.style.overflow="hidden",
y=t.style.overflow,t.style.overflow="hidden",t.appendChild(D)),r=e(z,c),D.fake?(D.parentNode.removeChild(D),t.style.overflow=y,t.offsetHeight):z.parentNode.removeChild(z),!!r};(function(){var b,c,e,f,h,t;for(t in p)if(p.hasOwnProperty(t)){if(b=[],c=p[t],c.name&&(b.push(c.name.toLowerCase()),c.options&&c.options.aliases&&c.options.aliases.length))for(e=0;e<c.options.aliases.length;e++)b.push(c.options.aliases[e].toLowerCase());e="function"===typeof c.fn?c.fn():c.fn;for(f=0;f<b.length;f++)h=b[f],h=
h.split("."),1===h.length?n[h[0]]=e:(!n[h[0]]||n[h[0]]instanceof Boolean||(n[h[0]]=new Boolean(n[h[0]])),n[h[0]][h[1]]=e),k.push((e?"":"no-")+h.join("-"))}})();(function(b){var c=t.className,e=n._config.classPrefix||"";if(h&&(c=c.baseVal),n._config.enableJSClass)c=c.replace(new RegExp("(^|\\s)"+e+"no-js(\\s|$)"),"$1"+e+"js$2");n._config.enableClasses&&(c+=" "+e+b.join(" "+e),h?t.className.baseVal=c:t.className=c)})(k);delete e.addTest;delete e.addAsyncTest;for(e=0;e<n._q.length;e++)n._q[e]();c.Modernizr=
n}(window,document);(function(c){c.fn.parallaxSlider=function(p){var n=c.extend({},c.fn.parallaxSlider.defaults,p);return this.each(function(){var p=c(this),h=c.meta?c.extend({},n,p.data()):n,r=c(".pxs_slider",p),g=r.children(),y=g.length,z=c(".pxs_next",p),u=c(".pxs_prev",p),v=c(".pxs_bg1",p),x=c(".pxs_bg2",p),C=c(".pxs_bg3",p),F=0,D=c(".pxs_thumbnails",p),H=D.children(),J,w=c(".pxs_slider_wrapper",p),R=0;w.find("img").each(function(){var n=c(this);c("<img/>").on("load",function(){++R;if(R==2*y){w.show();var n=r.find("img:first").width();
k(r,g,y,v,x,C,n,z,u);D.css({width:n+"px","margin-left":-n/2+"px"});var p=n/(y+1);H.each(function(b){var e=c(this);b=p*(b+1)-e.width()/2;e.css("left",b+"px");h.thumbRotation&&(b=Math.floor(41*Math.random())-20,e.css({"-moz-transform":"rotate("+b+"deg)","-webkit-transform":"rotate("+b+"deg)",transform:"rotate("+b+"deg)"}));e.bind("mouseenter",function(){c(this).stop().animate({top:"-10px"},100)}).bind("mouseleave",function(){c(this).stop().animate({top:"0px"},100)})});f(H.eq(0));z.bind("click",function(){++F;
if(F>=y)if(h.circular)F=0;else return--F,!1;f(H.eq(F));e(F,r,C,x,v,h.speed,h.easing,h.easingBg)});u.bind("click",function(){--F;if(0>F)if(h.circular)F=y-1;else return++F,!1;f(H.eq(F));e(F,r,C,x,v,h.speed,h.easing,h.easingBg)});H.bind("click",function(){var b=c(this);f(b);h.auto&&clearInterval(J);F=b.index();e(F,r,C,x,v,h.speed,h.easing,h.easingBg)});0!=h.auto&&(h.circular=!0,J=setInterval(function(){z.trigger("click")},h.auto));c(window).resize(function(){b=c(window).width();k(r,g,y,v,x,C,n,z,u);
e(F,r,C,x,v,1,h.easing,h.easingBg)})}}).attr("src",n.attr("src"))})})};var b=c(window).width(),e=function(c,e,f,h,k,g,y,z){c=parseInt(-b*c);e.stop().animate({left:c+"px"},g,y);f.stop().animate({left:c/2+"px"},g,z);h.stop().animate({left:c/4+"px"},g,z);k.stop().animate({left:c/8+"px"},g,z)},f=function(b){b.siblings().removeClass("selected");b.addClass("selected")},k=function(c,e,f,h,k,g,y,z,u){f*=b;c.width(f+"px");e.width(b+"px");h.width(f+"px");k.width(f+"px");g.width(f+"px");z.css("right","20px");
u.css("left","20px")};c.fn.parallaxSlider.defaults={auto:0,speed:1E3,easing:"jswing",easingBg:"jswing",circular:!0,thumbRotation:!0}})(jQuery);var docCookies={getItem:function(c){return c&&this.hasItem(c)?unescape(document.cookie.replace(RegExp("(?:^|.*;\\s*)"+escape(c).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},setItem:function(c,b,e,f,k,p){if(c&&!/^(?:expires|max\-age|path|domain|secure)$/i.test(c)){var n="";if(e)switch(e.constructor){case Number:n=Infinity===e?"; expires=Tue, 19 Jan 2038 03:14:07 GMT":"; max-age="+e;break;case String:n="; expires="+e;break;case Date:n="; expires="+e.toGMTString()}document.cookie=
escape(c)+"="+escape(b)+n+(k?"; domain="+k:"")+(f?"; path="+f:"")+(p?"; secure":"")}},removeItem:function(c,b){c&&this.hasItem(c)&&(document.cookie=escape(c)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(b?"; path="+b:""))},hasItem:function(c){return RegExp("(?:^|;\\s*)"+escape(c).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}},JQ=jQuery;
window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(c){window.setTimeout(c,1E3/60)}}();
window.transitionEnd=function(c,b){var e=!1,f=document.createElement("div");JQ(["transition","WebkitTransition","MozTransition","msTransition"]).each(function(b,c){if(void 0!==f.style[c])return e=!0,!1});e?c.bind("webkitTransitionEnd oTransitionEnd MSTransitionEnd transitionend",function(e){c.unbind("webkitTransitionEnd oTransitionEnd MSTransitionEnd transitionend");b(e,c)}):setTimeout(function(){b(null,c)},0);return c};
var preloader={_overlay:null,_loader:null,_name:null,_percentage:null,_on_complete:null,_text_loader:null,_text_loader_overlay:null,_logo_loader:null,_logo_loader_meter:null,_total:0,_loaded:0,_image_queue:[],_percentage_loaded:0,_mode:"number",_text:"loading...",_text_colour:"#FFFFFF",_images:[],_show_progress:!0,_show_percentage:!0,_background:"#000000",_logo:"",_logo_size:[80,80],_cookie:!1,_timeout:10,_init:function(){JQ("img").each(function(c){JQ(this).attr("src")&&preloader._images.push(JQ(this).attr("src"))});
if(preloader._cookie){if(docCookies.getItem("melonhtml5_preloader_"+preloader._cookie)){JQ("#preloader").remove();JQ(document.body).removeClass("preloader");return}docCookies.setItem("melonhtml5_preloader_"+preloader._cookie,(new Date).getTime(),Infinity)}preloader._total=preloader._images.length;preloader._build();preloader._load()},_build:function(){this._overlay=JQ("#preloader");this._overlay.length||(this._overlay=JQ("<div>").attr("id","preloader").prependTo(JQ(document.body)));this._overlay.addClass("preloader_"+
this._mode);"line"!==this._mode&&this._overlay.css("background-color",this._background);switch(this._mode){case "number":var c=this._hexToRgb(this._text_colour);this._percentage=JQ("<div>").html("<div></div><span></span>").css({color:this._text_colour,"border-color":c?"rgba("+c.r+", "+c.g+", "+c.b+", 0.7)":this._text_colour}).addClass("preloader_percentage").appendTo(this._overlay);this._percentage.children("div").css("border-left-color",this._text_colour);break;case "text":this._text_loader=JQ("<div>").addClass("preloader_loader").text(this._text).css("color",
this._text_colour).appendTo(this._overlay);this._text_loader_overlay=JQ("<div>").css("background-color",this._background).appendTo(this._text_loader);break;case "scale_text":for(var c="",b=0;b<this._text.length;b++)c+="<span>"+this._htmlentities(this._text.charAt(b))+"</span>";this._text_loader=JQ("<div>").addClass("preloader_loader").html(c).css("color",this._text_colour).appendTo(this._overlay);break;case "logo":this._logo_loader=JQ("<div>").css({width:this._logo_size[0],height:this._logo_size[1],
"margin-left":this._logo_size[0]/2*-1,"margin-top":this._logo_size[1]/2*-1,"background-image":'url("'+this._logo+'")'}).addClass("preloader_loader").appendTo(this._overlay);this._logo_loader_meter=JQ("<div>").css("background-color",this._background).appendTo(this._logo_loader);this._show_progress&&(this._percentage=JQ("<div>").css({color:this._text_colour,width:this._logo_size[0],height:this._logo_size[1],"margin-left":this._logo_size[0]/2*-1,"margin-top":this._logo_size[1]/2,"background-color":this._background}).addClass("preloader_percentage").appendTo(this._overlay));
break;case "line":this._line_loader=JQ("<div>").addClass("preloader_loader").css("background-color",this._background).appendTo(this._overlay);JQ("<div>").addClass("preloader_peg").css("box-shadow","0 0 10px "+this._background).appendTo(this._line_loader);JQ(document.body).css("visibility","visible");break;case "progress":this._progress_loader=JQ("<div>").addClass("preloader_loader").appendTo(this._overlay),this._progress_loader_meter=JQ("<div>").addClass("preloader_meter").appendTo(this._progress_loader),
this._show_progress&&(this._percentage=JQ("<div>").addClass("preloader_percentage").text(0).appendTo(this._overlay))}this._overlay.appendTo(JQ(document.body));"text"!==this._mode&&"scale_text"!==this._mode||this._text_loader.css("margin-left",this._text_loader.width()/2*-1)},_load:function(){if(("number"===this._mode||"logo"===this._mode||"progress"===this._mode)&&this._show_progress){this._percentage.data("num",0);var c="0"+(preloader._show_percentage?"%":"");"number"===this._mode?this._percentage.children("span").text(c):
this._percentage.text(c)}JQ.each(this._images,function(b,c){var e=function(){preloader._imageOnLoad(c)},k=new Image;k.src=c;k.complete?e():(k.onload=e,k.onerror=e)});setTimeout(function(){preloader._overlay&&preloader._animatePercentage(preloader._percentage_loaded,100)},this._images.length?1E3*this._timeout:0)},_hexToRgb:function(c){return(c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(c))?{r:parseInt(c[1],16),g:parseInt(c[2],16),b:parseInt(c[3],16)}:null},_htmlentities:function(c){return c.toString().replace(/&/g,
"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;")},_animatePercentage:function(c,b){preloader._percentage_loaded=c;c<b&&(c++,setTimeout(function(){switch(preloader._mode){case "text":preloader._text_loader_overlay.css("left",c+"%");break;case "scale_text":var e=parseInt(preloader._text.length*c*.01,10);preloader._text_loader.children("span").eq(e).addClass("loaded");break;case "line":preloader._line_loader.width(c+"%");break;case "number":preloader._show_progress&&
(e=c+(preloader._show_percentage?"%":""),preloader._percentage.children("span").text(e));break;case "logo":preloader._show_progress&&(e=c+(preloader._show_percentage?"%":""),preloader._percentage.text(e));preloader._logo_loader_meter.css("bottom",c+"%");break;case "progress":preloader._show_progress&&(e=c+(preloader._show_percentage?"%":""),preloader._percentage.text(e)),preloader._progress_loader_meter.width(c+"%")}preloader._animatePercentage(c,b)},5),100===c&&preloader._loadFinish())},_imageOnLoad:function(c){this._image_queue.push(c);
this._image_queue.length&&this._image_queue[0]===c&&this._processQueue()},_reQueue:function(){preloader._image_queue.splice(0,1);preloader._processQueue()},_processQueue:function(){0!==this._image_queue.length&&(this._loaded++,preloader._animatePercentage(preloader._percentage_loaded,parseInt(this._loaded/this._total*100,10)),this._reQueue())},_loadFinish:function(){transitionEnd(this._overlay,function(c,b){preloader._overlay&&(preloader._overlay.remove(),preloader._overlay=null)});this._overlay.addClass("complete");
JQ(document.body).removeClass("preloader");this._on_complete&&this._on_complete()},config:function(c){"undefined"!==typeof c.mode&&(this._mode=c.mode);"undefined"!==typeof c.text&&(this._text=c.text);"undefined"!==typeof c.text_colour&&(this._text_colour=c.text_colour);"undefined"!==typeof c.timeout&&(this._timeout=parseInt(c.timeout,10));"undefined"!==typeof c.showProgress&&(this._show_progress=c.showProgress?!0:!1);"undefined"!==typeof c.showPercentage&&(this._show_percentage=c.showPercentage?!0:
!1);"undefined"!==typeof c.background&&(this._background=c.background);"undefined"!==typeof c.logo&&(this._logo=c.logo);"undefined"!==typeof c.logo_size&&(this._logo_size=c.logo_size);"undefined"!==typeof c.onComplete&&(this._on_complete=c.onComplete);"undefined"!==typeof c.images&&(this._images=c.images);"undefined"!==typeof c.cookie&&(this._cookie=c.cookie)}};setTimeout(function(){JQ(document).ready(preloader._init)});!function(){var c="undefined"!=typeof module&&module.exports,b="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,e=function(){var b,c,e=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),
"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],f=0;c=e.length;for(var h={};c>f;f++)if(b=e[f],b&&b[1]in document){f=0;for(c=b.length;c>f;f++)h[e[0][f]]=b[f];return h}return!1}(),f={request:function(c){var f=e.requestFullscreen;c=c||document.documentElement;/5\.1[\.\d]* Safari/.test(navigator.userAgent)?
c[f]():c[f](b&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[e.exitFullscreen]()},toggle:function(b){this.isFullscreen?this.exit():this.request(b)},raw:e};return e?(Object.defineProperties(f,{isFullscreen:{get:function(){return!!document[e.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[e.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[e.fullscreenEnabled]}}}),void(c?module.exports=f:window.screenfull=f)):void(c?module.exports=!1:window.screenfull=
!1)}();(function(c){function b(){var b=c(this),e=u(b);b.is(".fixed-top, .fixed-bottom, .horizontal-percent")?b.css("min-height",C(e.first)+C(e.last)+c(e.divider).height()+"px"):b.css("min-width",F(e.first)+F(e.last)+c(e.divider).width()+"px")}function e(b){b.preventDefault();var e=c(this),g=e.parent();e.addClass("dragged");b.type.match(/^touch/)&&e.addClass("touch");var h=n(g,v(b),x(b));c(document).on("touchmove mousemove",h);c(document).one("touchend mouseup",function(b){c(document).off("touchmove mousemove",
h);e.removeClass("dragged touch");g.trigger("dividerdragend",[f(g)])});g.trigger("dividerdragstart",[f(g)])}function f(b){var c=b.is(".fixed-top, .fixed-bottom, .horizontal-percent")?"height":"width";return{firstComponentSize:b.find(".split-pane-component:first")[c](),lastComponentSize:b.find(".split-pane-component:last")[c]()}}function k(){var b=c(this),e=p(b),f=b.parent().closest(".split-pane")[0]||window;c(f).on(f===window?"resize":"splitpaneresize",function(b){(b.target===document?window:b.target)===
f&&e(b)})}function p(b){var c=u(b);if(b.is(".fixed-top"))return function(e){e=C(c.last);e=c.splitPane.offsetHeight-e-c.divider.offsetHeight;c.first.offsetHeight>e&&D(c,e+"px");b.trigger("splitpaneresize")};if(b.is(".fixed-bottom"))return function(e){e=C(c.first);e=c.splitPane.offsetHeight-e-c.divider.offsetHeight;c.last.offsetHeight>e&&H(c,e+"px");b.trigger("splitpaneresize")};if(b.is(".horizontal-percent"))return function(e){e=C(c.last);var f=C(c.first),f=c.splitPane.offsetHeight-f-c.divider.offsetHeight;
c.last.offsetHeight>f?H(c,f/c.splitPane.offsetHeight*100+"%"):c.splitPane.offsetHeight-c.first.offsetHeight-c.divider.offsetHeight<e&&H(c,e/c.splitPane.offsetHeight*100+"%");b.trigger("splitpaneresize")};if(b.is(".fixed-left"))return function(e){e=F(c.last);e=c.splitPane.offsetWidth-e-c.divider.offsetWidth;c.first.offsetWidth>e&&J(c,e+"px");b.trigger("splitpaneresize")};if(b.is(".fixed-right"))return function(e){e=F(c.first);e=c.splitPane.offsetWidth-e-c.divider.offsetWidth;c.last.offsetWidth>e&&
w(c,e+"px");b.trigger("splitpaneresize")};if(b.is(".vertical-percent"))return function(e){e=F(c.last);var f=F(c.first),f=c.splitPane.offsetWidth-f-c.divider.offsetWidth;c.last.offsetWidth>f?w(c,f/c.splitPane.offsetWidth*100+"%"):c.splitPane.offsetWidth-c.first.offsetWidth-c.divider.offsetWidth<e&&w(c,e/c.splitPane.offsetWidth*100+"%");b.trigger("splitpaneresize")}}function n(b,c,e){var f=u(b);if(b.is(".fixed-top"))return t(f,e);if(b.is(".fixed-bottom"))return h(f,e);if(b.is(".horizontal-percent"))return r(f,
e);if(b.is(".fixed-left"))return g(f,c);if(b.is(".fixed-right"))return y(f,c);if(b.is(".vertical-percent"))return z(f,c)}function t(b,e){var f=C(b.first),g=b.splitPane.offsetHeight-C(b.last)-b.divider.offsetHeight,h=b.divider.offsetTop-e;return function(e){e.preventDefault&&e.preventDefault();e=h+x(e);D(b,Math.min(Math.max(f,e),g)+"px");c(b.splitPane).trigger("splitpaneresize")}}function h(b,e){var f=C(b.last),g=b.splitPane.offsetHeight-C(b.first)-b.divider.offsetHeight,h=b.last.offsetHeight+e;return function(e){e.preventDefault&&
e.preventDefault();e=Math.min(Math.max(f,h-x(e)),g);H(b,e+"px");c(b.splitPane).trigger("splitpaneresize")}}function r(b,e){var f=b.splitPane.offsetHeight,g=C(b.last),h=f-C(b.first)-b.divider.offsetHeight,k=b.last.offsetHeight+e;return function(e){e.preventDefault&&e.preventDefault();e=Math.min(Math.max(g,k-x(e)),h);H(b,e/f*100+"%");c(b.splitPane).trigger("splitpaneresize")}}function g(b,e){var f=F(b.first),g=b.splitPane.offsetWidth-F(b.last)-b.divider.offsetWidth,h=b.divider.offsetLeft-e;return function(e){e.preventDefault&&
e.preventDefault();e=h+v(e);J(b,Math.min(Math.max(f,e),g)+"px");c(b.splitPane).trigger("splitpaneresize")}}function y(b,e){var f=F(b.last),g=b.splitPane.offsetWidth-F(b.first)-b.divider.offsetWidth,h=b.last.offsetWidth+e;return function(e){e.preventDefault&&e.preventDefault();e=Math.min(Math.max(f,h-v(e)),g);w(b,e+"px");c(b.splitPane).trigger("splitpaneresize")}}function z(b,e){var f=b.splitPane.offsetWidth,g=F(b.last),h=f-F(b.first)-b.divider.offsetWidth,k=b.last.offsetWidth+e;return function(e){e.preventDefault&&
e.preventDefault();e=Math.min(Math.max(g,k-v(e)),h);w(b,e/f*100+"%");c(b.splitPane).trigger("splitpaneresize")}}function u(b){return{splitPane:b[0],first:b.children(".split-pane-component:first")[0],divider:b.children(".split-pane-divider")[0],last:b.children(".split-pane-component:last")[0]}}function v(b){if(void 0!==b.pageX)return b.pageX;if(void 0!==b.originalEvent.pageX)return b.originalEvent.pageX;if(b.originalEvent.touches)return b.originalEvent.touches[0].pageX}function x(b){if(void 0!==b.pageY)return b.pageY;
if(void 0!==b.originalEvent.pageY)return b.originalEvent.pageY;if(b.originalEvent.touches)return b.originalEvent.touches[0].pageY}function C(b){return parseInt(c(b).css("min-height"),10)||0}function F(b){return parseInt(c(b).css("min-width"),10)||0}function D(b,c){b.first.style.height=c;b.divider.style.top=c;b.last.style.top=c}function H(b,c){b.first.style.bottom=c;b.divider.style.bottom=c;b.last.style.height=c}function J(b,c){b.first.style.width=c;b.divider.style.left=c;b.last.style.left=c}function w(b,
c){b.first.style.right=c;b.divider.style.right=c;b.last.style.width=c}var R={init:function(){var f=this;f.each(b);f.children(".split-pane-divider").html('<div class="split-pane-divider-inner"></div>');f.children(".split-pane-divider").on("touchstart mousedown",e);setTimeout(function(){f.each(k);c(window).trigger("resize")},100)},firstComponentSize:function(b){this.each(function(){var e=c(this),f=u(e);e.is(".fixed-top")?t(f,f.divider.offsetTop)({pageY:b}):e.is(".fixed-bottom")?(b=f.splitPane.offsetHeight-
f.divider.offsetHeight-b,h(f,-f.last.offsetHeight)({pageY:-b})):e.is(".horizontal-percent")?(b=f.splitPane.offsetHeight-f.divider.offsetHeight-b,r(f,-f.last.offsetHeight)({pageY:-b})):e.is(".fixed-left")?g(f,f.divider.offsetLeft)({pageX:b}):e.is(".fixed-right")?(b=f.splitPane.offsetWidth-f.divider.offsetWidth-b,y(f,-f.last.offsetWidth)({pageX:-b})):e.is(".vertical-percent")&&(b=f.splitPane.offsetWidth-f.divider.offsetWidth-b,z(f,-f.last.offsetWidth)({pageX:-b}))})},lastComponentSize:function(b){this.each(function(){var e=
c(this),f=u(e);e.is(".fixed-top")?(b=f.splitPane.offsetHeight-f.divider.offsetHeight-b,t(f,f.divider.offsetTop)({pageY:b})):e.is(".fixed-bottom")?h(f,-f.last.offsetHeight)({pageY:-b}):e.is(".horizontal-percent")?r(f,-f.last.offsetHeight)({pageY:-b}):e.is(".fixed-left")?(b=f.splitPane.offsetWidth-f.divider.offsetWidth-b,g(f,f.divider.offsetLeft)({pageX:b})):e.is(".fixed-right")?y(f,-f.last.offsetWidth)({pageX:-b}):e.is(".vertical-percent")&&z(f,-f.last.offsetWidth)({pageX:-b})})}};c.fn.splitPane=function(b){R[b||
"init"].apply(this,c.grep(arguments,function(b,c){return 0<c}))}})(jQuery);(function(){function c(){if(r){requestAnimFrame(c);for(var b=0,e=h.length;b<e;b++)h[b].update()}}function b(b,k){if(b.nodeName&&!1!==/^(ul|ol)$/i.test(b.nodeName))f(b)&&e(b);else return!1;var g=t?new n(b):new p(b);k&&k.live&&(g.syncInterval=setInterval(function(){g.sync.call(g)},500));g.sync();h.push(g);1===h.length&&(r=!0,c())}function e(b){for(var c=0;c<h.length;c++){var e=h[c];e.element==b&&(e.destroy(),h.splice(c,1),c--)}0===h.length&&(r=!1)}function f(b){for(var c=0,e=h.length;c<e;c++)if(h[c].element==
b)return!0;return!1}function k(b,c,e){var f,g;if("string"===typeof b)for(b=document.querySelectorAll(b),f=0,g=b.length;f<g;f++)c.call(null,b[f],e);else if("object"===typeof b&&"number"===typeof b.length)for(f=0,g=b.length;f<g;f++)c.call(null,b[f],e);else if(b.nodeName)c.call(null,b,e);else throw"Stroll target was of unexpected type.";}function p(b){this.element=b}function n(b){this.element=b;this.element.style.overflow="hidden";this.top={value:0,natural:0};this.touch={value:0,offset:0,start:0,previous:0,
lastMove:Date.now(),accellerateTimeout:-1,isAccellerating:!1,isActive:!1};this.velocity=0}var t=!!("ontouchstart"in window),h=[],r=!1;p.prototype.sync=function(){this.items=Array.prototype.slice.apply(this.element.children);this.listHeight=this.element.offsetHeight;for(var b=0,c=this.items.length;b<c;b++){var e=this.items[b];e._offsetHeight=e.offsetHeight;e._offsetTop=e.offsetTop;e._offsetBottom=e._offsetTop+e._offsetHeight;e._state=""}this.update(!0)};p.prototype.update=function(b){var c=this.element.pageYOffset||
this.element.scrollTop,e=c+this.listHeight;if(c!==this.lastTop||b){this.lastTop=c;b=0;for(var f=this.items.length;b<f;b++){var g=this.items[b];g._offsetBottom<c?"past"!==g._state&&(g._state="past",g.classList.add("past"),g.classList.remove("future")):g._offsetTop>e?"future"!==g._state&&(g._state="future",g.classList.add("future"),g.classList.remove("past")):g._state&&("past"===g._state&&g.classList.remove("past"),"future"===g._state&&g.classList.remove("future"),g._state="")}}};p.prototype.destroy=
function(){clearInterval(this.syncInterval);for(var b=0,c=this.items.length;b<c;b++){var e=this.items[b];e.classList.remove("past");e.classList.remove("future")}};n.prototype=new p;n.prototype.sync=function(){this.items=Array.prototype.slice.apply(this.element.children);this.listHeight=this.element.offsetHeight;for(var b,c=0,e=this.items.length;c<e;c++)b=this.items[c],b._offsetHeight=b.offsetHeight,b._offsetTop=b.offsetTop,b._offsetBottom=b._offsetTop+b._offsetHeight,b._state="",b.style.opacity=1;
this.top.natural=this.element.scrollTop;this.top.value=this.top.natural;this.top.max=b._offsetBottom-this.listHeight;this.update(!0);this.bind()};n.prototype.bind=function(){var b=this;this.touchStartDelegate=function(c){b.onTouchStart(c)};this.touchMoveDelegate=function(c){b.onTouchMove(c)};this.touchEndDelegate=function(c){b.onTouchEnd(c)};this.element.addEventListener("touchstart",this.touchStartDelegate,!1);this.element.addEventListener("touchmove",this.touchMoveDelegate,!1);this.element.addEventListener("touchend",
this.touchEndDelegate,!1)};n.prototype.onTouchStart=function(b){b.preventDefault();if(1===b.touches.length)if(this.touch.isActive=!0,this.touch.start=b.touches[0].clientY,this.touch.previous=this.touch.start,this.touch.value=this.touch.start,this.touch.offset=0,this.velocity){this.touch.isAccellerating=!0;var c=this;this.touch.accellerateTimeout=setTimeout(function(){c.touch.isAccellerating=!1;c.velocity=0},500)}else this.velocity=0};n.prototype.onTouchMove=function(b){if(1===b.touches.length){var c=
this.touch.value;this.touch.value=b.touches[0].clientY;this.touch.lastMove=Date.now();b=this.touch.value>this.touch.previous&&0>this.velocity||this.touch.value<this.touch.previous&&0<this.velocity;this.touch.isAccellerating&&b?(clearInterval(this.touch.accellerateTimeout),this.velocity+=(this.touch.previous-this.touch.value)/10):(this.velocity=0,this.touch.isAccellerating=!1,this.touch.offset=Math.round(this.touch.start-this.touch.value));this.touch.previous=c}};n.prototype.onTouchEnd=function(b){var c=
this.touch.start-this.touch.value;this.touch.isAccellerating||(this.velocity=(this.touch.start-this.touch.value)/10);if(200<Date.now()-this.touch.lastMove||5>Math.abs(this.touch.previous-this.touch.value))this.velocity=0;this.top.value+=this.touch.offset;this.touch.offset=0;this.touch.start=0;this.touch.value=0;this.touch.isActive=!1;this.touch.isAccellerating=!1;clearInterval(this.touch.accellerateTimeout);(4<Math.abs(this.velocity)||10<Math.abs(c))&&b.preventDefault()};n.prototype.update=function(b){var c=
this.top.value+this.velocity+this.touch.offset;if(this.velocity||this.touch.offset)this.element.scrollTop=c,c=Math.max(0,Math.min(this.element.scrollTop,this.top.max)),this.top.value=c-this.touch.offset;if(!this.touch.isActive||this.touch.isAccellerating)this.velocity*=.95;.15>Math.abs(this.velocity)&&(this.velocity=0);if(c!==this.top.natural||b){this.top.natural=c;this.top.value=c-this.touch.offset;b=c+this.listHeight;for(var e=0,f=this.items.length;e<f;e++){var g=this.items[e];g._offsetBottom<c?
0>=this.velocity&&"past"!==g._state&&(g.classList.add("past"),g._state="past"):g._offsetTop>b?0<=this.velocity&&"future"!==g._state&&(g.classList.add("future"),g._state="future"):g._state&&("past"===g._state&&g.classList.remove("past"),"future"===g._state&&g.classList.remove("future"),g._state="")}}};n.prototype.destroy=function(){p.prototype.destroy.apply(this);this.element.removeEventListener("touchstart",this.touchStartDelegate,!1);this.element.removeEventListener("touchmove",this.touchMoveDelegate,
!1);this.element.removeEventListener("touchend",this.touchEndDelegate,!1)};window.stroll={bind:function(c,e){document.body.classList&&k(c,b,e)},unbind:function(b){document.body.classList&&k(b,e)}};window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){window.setTimeout(b,1E3/60)}}()})();!function(c,b){"function"==typeof define&&define.amd?define(["jquery"],function(c){return b(c)}):"object"==typeof exports?module.exports=b(require("jquery")):b(jQuery)}(this,function(c){function b(b){this.$container;this.constraints=null;this.__$tooltip;this.__init(b)}function e(b,e){var f=!0;return c.each(b,function(c,g){return void 0===e[c]||b[c]!==e[c]?(f=!1,!1):void 0}),f}function f(b){var e=b.attr("id");return(e=e?n.window.document.getElementById(e):null)?e===b[0]:c.contains(n.window.document.body,
b[0])}var k={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:"body",plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,
scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},p="undefined"!=typeof window?window:null,n={hasTouchCapability:!(!p||!("ontouchstart"in p||p.DocumentTouch&&p.document instanceof p.DocumentTouch||p.navigator.maxTouchPoints)),hasTransitions:function(){if(!p)return!1;var b=(p.document.body||p.document.documentElement).style,c="transition",e=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof b[c])return!0;for(var c=
c.charAt(0).toUpperCase()+c.substr(1),f=0;f<e.length;f++)if("string"==typeof b[e[f]+c])return!0;return!1}(),IE:!1,semVer:"4.1.6",window:p},t=function(){this.__$emitterPrivate=c({});this.__$emitterPublic=c({});this.__instancesLatestArr=[];this.__plugins={};this._env=n};t.prototype={__bridge:function(b,e,f){if(!e[f]){var g=function(){};g.prototype=b;var h=new g;h.__init&&h.__init(e);c.each(b,function(b,c){0!=b.indexOf("__")&&(e[b]?k.debug&&console.log("The "+b+" method of the "+f+" plugin conflicts with another plugin or native methods"):
(e[b]=function(){return h[b].apply(h,Array.prototype.slice.apply(arguments))},e[b].bridged=h))});e[f]=h}return this},__setWindow:function(b){return n.window=b,this},_getRuler:function(c){return new b(c)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,
Array.prototype.slice.apply(arguments)),this},_plugin:function(b){if("string"==typeof b){var e=null;return 0<b.indexOf(".")?e=this.__plugins[b]:c.each(this.__plugins,function(c,f){return f.name.substring(f.name.length-b.length-1)=="."+b?(e=f,!1):void 0}),e}if(0>b.name.indexOf("."))throw Error("Plugins must be namespaced");return this.__plugins[b.name]=b,b.core&&this.__bridge(b.core,this,b.name),this},_trigger:function(){var b=Array.prototype.slice.apply(arguments);return"string"==typeof b[0]&&(b[0]=
{type:b[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,b),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,b),this},instances:function(b){var e=[];return c(b||".tooltipstered").each(function(){var b=c(this),f=b.data("tooltipster-ns");f&&c.each(f,function(c,f){e.push(b.data(f))})}),e},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,
Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(b){return c((b?b+" ":"")+".tooltipstered").toArray()},setDefaults:function(b){return c.extend(k,b),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}};c.tooltipster=new t;c.Tooltipster=function(b,e){this.__callbacks={close:[],
open:[]};this.__closingTime;this.__Content;this.__contentBcr;this.__destroying=this.__destroyed=!1;this.__$emitterPrivate=c({});this.__$emitterPublic=c({});this.__enabled=!0;this.__garbageCollector;this.__Geometry;this.__lastPosition;this.__namespace="tooltipster-"+Math.round(1E6*Math.random());this.__options;this.__$originParents;this.__pointerIsOverOrigin=!1;this.__previousThemes=[];this.__state="closed";this.__timeouts={close:[],open:null};this.__touchEvents=[];this.__tracker=null;this._$origin;
this._$tooltip;this.__init(b,e)};c.Tooltipster.prototype={__init:function(b,e){var f=this;if(f._$origin=c(b),f.__options=c.extend(!0,{},k,e),f.__optionsFormat(),!n.IE||n.IE>=f.__options.IEmin){var h=null;if(void 0===f._$origin.data("tooltipster-initialTitle")&&(h=f._$origin.attr("title"),void 0===h&&(h=null),f._$origin.data("tooltipster-initialTitle",h)),null!==f.__options.content)f.__contentSet(f.__options.content);else{var r,p=f._$origin.attr("data-tooltip-content");p&&(r=c(p));r&&r[0]?f.__contentSet(r.first()):
f.__contentSet(h)}f._$origin.removeAttr("title").addClass("tooltipstered");f.__prepareOrigin();f.__prepareGC();c.each(f.__options.plugins,function(b,c){f._plug(c)});n.hasTouchCapability&&c("body").on("touchmove."+f.__namespace+"-triggerOpen",function(b){f._touchRecordEvent(b)});f._on("created",function(){f.__prepareTooltip()})._on("repositioned",function(b){f.__lastPosition=b.position})}else f.__options.disabled=!0},__contentInsert:function(){var b=this._$tooltip.find(".tooltipster-content"),c=this.__Content;
return this._trigger({type:"format",content:this.__Content,format:function(b){c=b}}),this.__options.functionFormat&&(c=this.__options.functionFormat.call(this,this,{origin:this._$origin[0]},this.__Content)),"string"!=typeof c||this.__options.contentAsHTML?b.empty().append(c):b.text(c),this},__contentSet:function(b){return b instanceof c&&this.__options.contentCloning&&(b=b.clone(!0)),this.__Content=b,this._trigger({type:"updated",content:b}),this},__destroyError:function(){throw Error("This tooltip has been destroyed and cannot execute your method call.");
},__geometry:function(){var b=this._$origin,e=this._$origin.is("area");if(e)var f=this._$origin.parent().attr("name"),b=c('img[usemap="#'+f+'"]');var k=b[0].getBoundingClientRect(),p=c(n.window.document),t=c(n.window),f=b,v={available:{document:null,window:null},document:{size:{height:p.height(),width:p.width()}},window:{scroll:{left:n.window.scrollX||n.window.document.documentElement.scrollLeft,top:n.window.scrollY||n.window.document.documentElement.scrollTop},size:{height:t.height(),width:t.width()}},
origin:{fixedLineage:!1,offset:{},size:{height:k.bottom-k.top,width:k.right-k.left},usemapImage:e?b[0]:null,windowOffset:{bottom:k.bottom,left:k.left,right:k.right,top:k.top}}};if(e){var e=this._$origin.attr("shape"),x=this._$origin.attr("coords");if(x&&(x=x.split(","),c.map(x,function(b,c){x[c]=parseInt(b)})),"default"!=e)switch(e){case "circle":e=x[0];b=x[1];k=x[2];v.origin.size.height=2*k;v.origin.size.width=v.origin.size.height;v.origin.windowOffset.left+=e-k;v.origin.windowOffset.top+=b-k;break;
case "rect":e=x[0];b=x[1];k=x[2];v.origin.size.height=x[3]-b;v.origin.size.width=k-e;v.origin.windowOffset.left+=e;v.origin.windowOffset.top+=b;break;case "poly":for(var p=k=b=e=0,t="even",C=0;C<x.length;C++){var F=x[C];"even"==t?(F>k&&(k=F,0===C&&(e=k)),e>F&&(e=F),t="odd"):(F>p&&(p=F,1==C&&(b=p)),b>F&&(b=F),t="even")}v.origin.size.height=p-b;v.origin.size.width=k-e;v.origin.windowOffset.left+=e;v.origin.windowOffset.top+=b}}this._trigger({type:"geometry",edit:function(b){v.origin.size.height=b.height;
v.origin.windowOffset.left=b.left;v.origin.windowOffset.top=b.top;v.origin.size.width=b.width},geometry:{height:v.origin.size.height,left:v.origin.windowOffset.left,top:v.origin.windowOffset.top,width:v.origin.size.width}});v.origin.windowOffset.right=v.origin.windowOffset.left+v.origin.size.width;v.origin.windowOffset.bottom=v.origin.windowOffset.top+v.origin.size.height;v.origin.offset.left=v.origin.windowOffset.left+v.window.scroll.left;v.origin.offset.top=v.origin.windowOffset.top+v.window.scroll.top;
v.origin.offset.bottom=v.origin.offset.top+v.origin.size.height;v.origin.offset.right=v.origin.offset.left+v.origin.size.width;v.available.document={bottom:{height:v.document.size.height-v.origin.offset.bottom,width:v.document.size.width},left:{height:v.document.size.height,width:v.origin.offset.left},right:{height:v.document.size.height,width:v.document.size.width-v.origin.offset.right},top:{height:v.origin.offset.top,width:v.document.size.width}};for(v.available.window={bottom:{height:Math.max(v.window.size.height-
Math.max(v.origin.windowOffset.bottom,0),0),width:v.window.size.width},left:{height:v.window.size.height,width:Math.max(v.origin.windowOffset.left,0)},right:{height:v.window.size.height,width:Math.max(v.window.size.width-Math.max(v.origin.windowOffset.right,0),0)},top:{height:Math.max(v.origin.windowOffset.top,0),width:v.window.size.width}};"html"!=f[0].tagName.toLowerCase();){if("fixed"==f.css("position")){v.origin.fixedLineage=!0;break}f=f.parent()}return v},__optionsFormat:function(){return"number"==
typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),"string"==typeof this.__options.parent&&
(this.__options.parent=c(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var b=this;return b.__options.selfDestruction?b.__garbageCollector=setInterval(function(){var e=(new Date).getTime();
b.__touchEvents=c.grep(b.__touchEvents,function(b,c){return 6E4<e-b.time});f(b._$origin)||b.destroy()},2E4):clearInterval(b.__garbageCollector),b},__prepareOrigin:function(){var b=this;if(b._$origin.off("."+b.__namespace+"-triggerOpen"),n.hasTouchCapability&&b._$origin.on("touchstart."+b.__namespace+"-triggerOpen touchend."+b.__namespace+"-triggerOpen touchcancel."+b.__namespace+"-triggerOpen",function(c){b._touchRecordEvent(c)}),b.__options.triggerOpen.click||b.__options.triggerOpen.tap&&n.hasTouchCapability){var c=
"";b.__options.triggerOpen.click&&(c+="click."+b.__namespace+"-triggerOpen ");b.__options.triggerOpen.tap&&n.hasTouchCapability&&(c+="touchend."+b.__namespace+"-triggerOpen");b._$origin.on(c,function(c){b._touchIsMeaningfulEvent(c)&&b._open(c)})}if(b.__options.triggerOpen.mouseenter||b.__options.triggerOpen.touchstart&&n.hasTouchCapability)c="",b.__options.triggerOpen.mouseenter&&(c+="mouseenter."+b.__namespace+"-triggerOpen "),b.__options.triggerOpen.touchstart&&n.hasTouchCapability&&(c+="touchstart."+
b.__namespace+"-triggerOpen"),b._$origin.on(c,function(c){!b._touchIsTouchEvent(c)&&b._touchIsEmulatedEvent(c)||(b.__pointerIsOverOrigin=!0,b._openShortly(c))});if(b.__options.triggerClose.mouseleave||b.__options.triggerClose.touchleave&&n.hasTouchCapability)c="",b.__options.triggerClose.mouseleave&&(c+="mouseleave."+b.__namespace+"-triggerOpen "),b.__options.triggerClose.touchleave&&n.hasTouchCapability&&(c+="touchend."+b.__namespace+"-triggerOpen touchcancel."+b.__namespace+"-triggerOpen"),b._$origin.on(c,
function(c){b._touchIsMeaningfulEvent(c)&&(b.__pointerIsOverOrigin=!1)});return b},__prepareTooltip:function(){var b=this,e=b.__options.interactive?"auto":"";return b._$tooltip.attr("id",b.__namespace).css({"pointer-events":e,zIndex:b.__options.zIndex}),c.each(b.__previousThemes,function(c,e){b._$tooltip.removeClass(e)}),c.each(b.__options.theme,function(c,e){b._$tooltip.addClass(e)}),b.__previousThemes=c.merge([],b.__options.theme),b},__scrollHandler:function(b){if(this.__options.triggerClose.scroll)this._close(b);
else{if(b.target===n.window.document)this.__Geometry.origin.fixedLineage||this.__options.repositionOnScroll&&this.reposition(b);else{var e=this.__geometry(),f=!1;("fixed"!=this._$origin.css("position")&&this.__$originParents.each(function(b,g){var h=c(g),k=h.css("overflow-x"),r=h.css("overflow-y");if("visible"!=k||"visible"!=r){var n=g.getBoundingClientRect();if("visible"!=k&&(e.origin.windowOffset.left<n.left||e.origin.windowOffset.right>n.right)||"visible"!=r&&(e.origin.windowOffset.top<n.top||
e.origin.windowOffset.bottom>n.bottom))return f=!0,!1}return"fixed"==h.css("position")?!1:void 0}),f)?this._$tooltip.css("visibility","hidden"):(this._$tooltip.css("visibility","visible"),this.__options.repositionOnScroll)?this.reposition(b):this._$tooltip.css({left:this.__lastPosition.coord.left+(e.origin.offset.left-this.__Geometry.origin.offset.left),top:this.__lastPosition.coord.top+(e.origin.offset.top-this.__Geometry.origin.offset.top)})}this._trigger({type:"scroll",event:b})}return this},__stateSet:function(b){return this.__state=
b,this._trigger({type:"state",state:b}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,c.each(this.__timeouts.close,function(b,c){clearTimeout(c)}),this.__timeouts.close=[],this},__trackerStart:function(){var b=this,c=b._$tooltip.find(".tooltipster-content");return b.__options.trackTooltip&&(b.__contentBcr=c[0].getBoundingClientRect()),b.__tracker=setInterval(function(){if(f(b._$origin)&&f(b._$tooltip)){if(b.__options.trackOrigin){var g=b.__geometry(),
h=!1;e(g.origin.size,b.__Geometry.origin.size)&&(b.__Geometry.origin.fixedLineage?e(g.origin.windowOffset,b.__Geometry.origin.windowOffset)&&(h=!0):e(g.origin.offset,b.__Geometry.origin.offset)&&(h=!0));h||(b.__options.triggerClose.mouseleave?b._close():b.reposition())}b.__options.trackTooltip&&(g=c[0].getBoundingClientRect(),g.height===b.__contentBcr.height&&g.width===b.__contentBcr.width||(b.reposition(),b.__contentBcr=g))}else b._close()},b.__options.trackerInterval),b},_close:function(b,e){var f=
this,h=!0;if(f._trigger({type:"close",event:b,stop:function(){h=!1}}),h||f.__destroying){e&&f.__callbacks.close.push(e);f.__callbacks.open=[];f.__timeoutsClear();var k=function(){c.each(f.__callbacks.close,function(c,e){e.call(f,f,{event:b,origin:f._$origin[0]})});f.__callbacks.close=[]};if("closed"!=f.__state){var r=!0,p=(new Date).getTime()+f.__options.animationDuration[1];if("disappearing"==f.__state&&p>f.__closingTime&&(r=!1),r)f.__closingTime=p,"disappearing"!=f.__state&&f.__stateSet("disappearing"),
r=function(){clearInterval(f.__tracker);f._trigger({type:"closing",event:b});f._$tooltip.off("."+f.__namespace+"-triggerClose").removeClass("tooltipster-dying");c(n.window).off("."+f.__namespace+"-triggerClose");f.__$originParents.each(function(b,e){c(e).off("scroll."+f.__namespace+"-triggerClose")});f.__$originParents=null;c("body").off("."+f.__namespace+"-triggerClose");f._$origin.off("."+f.__namespace+"-triggerClose");f._off("dismissable");f.__stateSet("closed");f._trigger({type:"after",event:b});
f.__options.functionAfter&&f.__options.functionAfter.call(f,f,{event:b,origin:f._$origin[0]});k()},n.hasTransitions?(f._$tooltip.css({"-moz-animation-duration":f.__options.animationDuration[1]+"ms","-ms-animation-duration":f.__options.animationDuration[1]+"ms","-o-animation-duration":f.__options.animationDuration[1]+"ms","-webkit-animation-duration":f.__options.animationDuration[1]+"ms","animation-duration":f.__options.animationDuration[1]+"ms","transition-duration":f.__options.animationDuration[1]+
"ms"}),f._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),0<f.__options.animationDuration[1]&&f._$tooltip.delay(f.__options.animationDuration[1]),f._$tooltip.queue(r)):f._$tooltip.stop().fadeOut(f.__options.animationDuration[1],r)}else k()}return f},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),
this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(b,e){var g=this;if(!g.__destroying&&f(g._$origin)&&g.__enabled){var h=!0;if("closed"==g.__state&&(g._trigger({type:"before",event:b,stop:function(){h=!1}}),h&&g.__options.functionBefore&&(h=g.__options.functionBefore.call(g,g,{event:b,origin:g._$origin[0]}))),!1!==h&&null!==g.__Content){e&&g.__callbacks.open.push(e);g.__callbacks.close=[];g.__timeoutsClear();
var k,r=function(){"stable"!=g.__state&&g.__stateSet("stable");c.each(g.__callbacks.open,function(b,c){c.call(g,g,{origin:g._$origin[0],tooltip:g._$tooltip[0]})});g.__callbacks.open=[]};if("closed"!==g.__state)k=0,"disappearing"===g.__state?(g.__stateSet("appearing"),n.hasTransitions?(g._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),0<g.__options.animationDuration[0]&&g._$tooltip.delay(g.__options.animationDuration[0]),g._$tooltip.queue(r)):g._$tooltip.stop().fadeIn(r)):
"stable"==g.__state&&r();else{if(g.__stateSet("appearing"),k=g.__options.animationDuration[0],g.__contentInsert(),g.reposition(b,!0),n.hasTransitions?(g._$tooltip.addClass("tooltipster-"+g.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":g.__options.animationDuration[0]+"ms","-ms-animation-duration":g.__options.animationDuration[0]+"ms","-o-animation-duration":g.__options.animationDuration[0]+"ms","-webkit-animation-duration":g.__options.animationDuration[0]+"ms",
"animation-duration":g.__options.animationDuration[0]+"ms","transition-duration":g.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=g.__state&&(g._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),0<g.__options.animationDuration[0]&&g._$tooltip.delay(g.__options.animationDuration[0]),g._$tooltip.queue(r))},0)):g._$tooltip.css("display","none").fadeIn(g.__options.animationDuration[0],r),g.__trackerStart(),c(n.window).on("resize."+g.__namespace+"-triggerClose",
function(b){var e=c(document.activeElement);(e.is("input")||e.is("textarea"))&&c.contains(g._$tooltip[0],e[0])||g.reposition(b)}).on("scroll."+g.__namespace+"-triggerClose",function(b){g.__scrollHandler(b)}),g.__$originParents=g._$origin.parents(),g.__$originParents.each(function(b,e){c(e).on("scroll."+g.__namespace+"-triggerClose",function(b){g.__scrollHandler(b)})}),g.__options.triggerClose.mouseleave||g.__options.triggerClose.touchleave&&n.hasTouchCapability){g._on("dismissable",function(b){b.dismissable?
b.delay?(F=setTimeout(function(){g._close(b.event)},b.delay),g.__timeouts.close.push(F)):g._close(b):clearTimeout(F)});var p=g._$origin,t="",C="",F=null;g.__options.interactive&&(p=p.add(g._$tooltip));g.__options.triggerClose.mouseleave&&(t+="mouseenter."+g.__namespace+"-triggerClose ",C+="mouseleave."+g.__namespace+"-triggerClose ");g.__options.triggerClose.touchleave&&n.hasTouchCapability&&(t+="touchstart."+g.__namespace+"-triggerClose",C+="touchend."+g.__namespace+"-triggerClose touchcancel."+
g.__namespace+"-triggerClose");p.on(C,function(b){!g._touchIsTouchEvent(b)&&g._touchIsEmulatedEvent(b)||g._trigger({delay:("mouseleave"==b.type?g.__options.delay:g.__options.delayTouch)[1],dismissable:!0,event:b,type:"dismissable"})}).on(t,function(b){!g._touchIsTouchEvent(b)&&g._touchIsEmulatedEvent(b)||g._trigger({dismissable:!1,event:b,type:"dismissable"})})}g.__options.triggerClose.originClick&&g._$origin.on("click."+g.__namespace+"-triggerClose",function(b){g._touchIsTouchEvent(b)||g._touchIsEmulatedEvent(b)||
g._close(b)});(g.__options.triggerClose.click||g.__options.triggerClose.tap&&n.hasTouchCapability)&&setTimeout(function(){if("closed"!=g.__state){var b="";g.__options.triggerClose.click&&(b+="click."+g.__namespace+"-triggerClose ");g.__options.triggerClose.tap&&n.hasTouchCapability&&(b+="touchend."+g.__namespace+"-triggerClose");c("body").on(b,function(b){g._touchIsMeaningfulEvent(b)&&(g._touchRecordEvent(b),g.__options.interactive&&c.contains(g._$tooltip[0],b.target)||g._close(b))});g.__options.triggerClose.tap&&
n.hasTouchCapability&&c("body").on("touchstart."+g.__namespace+"-triggerClose",function(b){g._touchRecordEvent(b)})}},0);g._trigger("ready");g.__options.functionReady&&g.__options.functionReady.call(g,g,{origin:g._$origin[0],tooltip:g._$tooltip[0]})}0<g.__options.timer&&(F=setTimeout(function(){g._close()},g.__options.timer+k),g.__timeouts.close.push(F))}}return g},_openShortly:function(b){var c=this,e=!0;if("stable"!=c.__state&&"appearing"!=c.__state&&!c.__timeouts.open&&(c._trigger({type:"start",
event:b,stop:function(){e=!1}}),e)){var f=0==b.type.indexOf("touch")?c.__options.delayTouch:c.__options.delay;f[0]?c.__timeouts.open=setTimeout(function(){c.__timeouts.open=null;c.__pointerIsOverOrigin&&c._touchIsMeaningfulEvent(b)?(c._trigger("startend"),c._open(b)):c._trigger("startcancel")},f[0]):(c._trigger("startend"),c._open(b))}return c},_optionsExtract:function(b,e){var f=this,h=c.extend(!0,{},e),k=f.__options[b];return k||(k={},c.each(e,function(b,c){var e=f.__options[b];void 0!==e&&(k[b]=
e)})),c.each(h,function(b,e){void 0!==k[b]&&("object"!=typeof e||e instanceof Array||null==e||"object"!=typeof k[b]||k[b]instanceof Array||null==k[b]?h[b]=k[b]:c.extend(h[b],k[b]))}),h},_plug:function(b){var e=c.tooltipster._plugin(b);if(!e)throw Error('The "'+b+'" plugin is not defined');return e.instance&&c.tooltipster.__bridge(e.instance,this,e.name),this},_touchIsEmulatedEvent:function(b){for(var c=!1,e=(new Date).getTime(),f=this.__touchEvents.length-1;0<=f;f--){var h=this.__touchEvents[f];if(!(500>
e-h.time))break;h.target===b.target&&(c=!0)}return c},_touchIsMeaningfulEvent:function(b){return this._touchIsTouchEvent(b)&&!this._touchSwiped(b.target)||!this._touchIsTouchEvent(b)&&!this._touchIsEmulatedEvent(b)},_touchIsTouchEvent:function(b){return 0==b.type.indexOf("touch")},_touchRecordEvent:function(b){return this._touchIsTouchEvent(b)&&(b.time=(new Date).getTime(),this.__touchEvents.push(b)),this},_touchSwiped:function(b){for(var c=!1,e=this.__touchEvents.length-1;0<=e;e--){var f=this.__touchEvents[e];
if("touchmove"==f.type){c=!0;break}if("touchstart"==f.type&&b===f.target)break}return c},_trigger:function(){var b=Array.prototype.slice.apply(arguments);return"string"==typeof b[0]&&(b[0]={type:b[0]}),b[0].instance=this,b[0].origin=this._$origin?this._$origin[0]:null,b[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,b),c.tooltipster._trigger.apply(c.tooltipster,b),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,b),this},_unplug:function(b){var e=
this;if(e[b]){var f=c.tooltipster._plugin(b);f.instance&&c.each(f.instance,function(c,f){e[c]&&e[c].bridged===e[b]&&delete e[c]});e[b].__destroy&&e[b].__destroy();delete e[b]}return e},close:function(b){return this.__destroyed?this.__destroyError():this._close(null,b),this},content:function(b){var c=this;if(void 0===b)return c.__Content;if(c.__destroyed)c.__destroyError();else if(c.__contentSet(b),null!==c.__Content){if("closed"!==c.__state&&(c.__contentInsert(),c.reposition(),c.__options.updateAnimation))if(n.hasTransitions){var e=
c.__options.updateAnimation;c._$tooltip.addClass("tooltipster-update-"+e);setTimeout(function(){"closed"!=c.__state&&c._$tooltip.removeClass("tooltipster-update-"+e)},1E3)}else c._$tooltip.fadeTo(200,.5,function(){"closed"!=c.__state&&c._$tooltip.fadeTo(200,1)})}else c._close();return c},destroy:function(){var b=this;return b.__destroyed?b.__destroyError():b.__destroying||(b.__destroying=!0,b._close(null,function(){b._trigger("destroy");b.__destroying=!1;b.__destroyed=!0;b._$origin.removeData(b.__namespace).off("."+
b.__namespace+"-triggerOpen");c("body").off("."+b.__namespace+"-triggerOpen");var e=b._$origin.data("tooltipster-ns");e&&(1===e.length?(e=null,"previous"==b.__options.restoration?e=b._$origin.data("tooltipster-initialTitle"):"current"==b.__options.restoration&&(e="string"==typeof b.__Content?b.__Content:c("<div></div>").append(b.__Content).html()),e&&b._$origin.attr("title",e),b._$origin.removeClass("tooltipstered"),b._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")):(e=
c.grep(e,function(c,e){return c!==b.__namespace}),b._$origin.data("tooltipster-ns",e)));b._trigger("destroyed");b._off();b.off();b.__Content=null;b.__$emitterPrivate=null;b.__$emitterPublic=null;b.__options.parent=null;b._$origin=null;b._$tooltip=null;c.tooltipster.__instancesLatestArr=c.grep(c.tooltipster.__instancesLatestArr,function(c,e){return b!==c});clearInterval(b.__garbageCollector)})),b},disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=
!1,this)},elementOrigin:function(){return this.__destroyed?void this.__destroyError():this._$origin[0]},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(b){return this.close(b)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,
Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(b){return this.__destroyed||this.__destroying?this.__destroyError():this._open(null,b),this},option:function(b,e){return void 0===e?this.__options[b]:(this.__destroyed?this.__destroyError():(this.__options[b]=e,this.__optionsFormat(),0<=c.inArray(b,["trigger","triggerClose","triggerOpen"])&&
this.__prepareOrigin(),"selfDestruction"===b&&this.__prepareGC()),this)},reposition:function(b,c){return this.__destroyed?this.__destroyError():"closed"!=this.__state&&f(this._$origin)&&(c||f(this._$tooltip))&&(c||this._$tooltip.detach(),this.__Geometry=this.__geometry(),this._trigger({type:"reposition",event:b,helper:{geo:this.__Geometry}})),this},show:function(b){return this.open(b)},status:function(){return{destroyed:this.__destroyed,destroying:this.__destroying,enabled:this.__enabled,open:"closed"!==
this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}};c.fn.tooltipster=function(){var b=Array.prototype.slice.apply(arguments);if(0===this.length)return this;if("string"==typeof b[0]){var e="#*$~&";return this.each(function(){var f=c(this).data("tooltipster-ns"),f=f?c(this).data(f[0]):null;if(!f)throw Error("You called Tooltipster's \""+
b[0]+'" method on an uninitialized element');if("function"!=typeof f[b[0]])throw Error('Unknown method "'+b[0]+'"');1<this.length&&"content"==b[0]&&(b[1]instanceof c||"object"==typeof b[1]&&null!=b[1]&&b[1].tagName)&&!f.__options.contentCloning&&f.__options.debug&&console.log("You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.");var g=f[b[0]](b[1],b[2]);return g!==f||"instance"===b[0]?(e=g,!1):void 0}),"#*$~&"!==e?e:this}c.tooltipster.__instancesLatestArr=
[];var f=b[0]&&void 0!==b[0].multiple,n=f&&b[0].multiple||!f&&k.multiple,f=(f=b[0]&&void 0!==b[0].content)&&b[0].content||!f&&k.content,p=b[0]&&void 0!==b[0].contentCloning,p=p&&b[0].contentCloning||!p&&k.contentCloning,t=b[0]&&void 0!==b[0].debug,v=t&&b[0].debug||!t&&k.debug;return 1<this.length&&(f instanceof c||"object"==typeof f&&null!=f&&f.tagName)&&!p&&v&&console.log("You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE."),
this.each(function(){var e=!1,f=c(this),g=f.data("tooltipster-ns"),h=null;g?n?e=!0:v&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):e=!0;e&&(h=new c.Tooltipster(this,b[0]),g||(g=[]),g.push(h.__namespace),f.data("tooltipster-ns",g),f.data(h.__namespace,h),h.__options.functionInit&&h.__options.functionInit.call(h,h,{origin:this}),h._trigger("init"));c.tooltipster.__instancesLatestArr.push(h)}),this};b.prototype={__init:function(b){this.__$tooltip=
b;this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto");this.$container=c('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo("body")},__forceRedraw:function(){var b=this.__$tooltip.parent();this.__$tooltip.detach();this.__$tooltip.appendTo(b)},constrain:function(b,c){return this.constraints={width:b,height:c},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:b}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",
overflow:""});this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var b=this.__$tooltip[0].getBoundingClientRect(),c={size:{height:b.height||b.bottom,width:b.width||b.right}};if(this.constraints){var e=this.__$tooltip.find(".tooltipster-content"),f=this.__$tooltip.outerHeight(),k=e[0].getBoundingClientRect(),b=b.width<=this.constraints.width&&k.width>=e[0].scrollWidth-
1;c.fits=f<=this.constraints.height&&b}return n.IE&&11>=n.IE&&c.size.width!==n.window.document.documentElement.clientWidth&&(c.size.width=Math.ceil(c.size.width)+1),c}};t=navigator.userAgent.toLowerCase();-1!=t.indexOf("msie")?n.IE=parseInt(t.split("msie")[1]):-1!==t.toLowerCase().indexOf("trident")&&-1!==t.indexOf(" rv:11")?n.IE=11:-1!=t.toLowerCase().indexOf("edge/")&&(n.IE=parseInt(t.toLowerCase().split("edge/")[1]));return c.tooltipster._plugin({name:"tooltipster.sideTip",instance:{__defaults:function(){return{arrow:!0,
distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(b){var c=this;c.__instance=b;c.__namespace="tooltipster-sideTip-"+Math.round(1E6*Math.random());c.__previousState="closed";c.__options;c.__optionsFormat();c.__instance._on("state."+c.__namespace,function(b){"closed"==b.state?c.__close():"appearing"==b.state&&"closed"==c.__previousState&&c.__create();c.__previousState=b.state});c.__instance._on("options."+c.__namespace,
function(){c.__optionsFormat()});c.__instance._on("reposition."+c.__namespace,function(b){c.__reposition(b.event,b.helper)})},__close:function(){this.__instance.content()instanceof c&&this.__instance.content().detach();this.__instance._$tooltip.remove();this.__instance._$tooltip=null},__create:function(){var b=c('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');
this.__options.arrow||b.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide();this.__options.minWidth&&b.css("min-width",this.__options.minWidth+"px");this.__options.maxWidth&&b.css("max-width",this.__options.maxWidth+"px");this.__instance._$tooltip=b;this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){if(this.__options=this.__instance._optionsExtract("tooltipster.sideTip",this.__defaults()),this.__options.position&&
(this.__options.side=this.__options.position),"object"!=typeof this.__options.distance&&(this.__options.distance=[this.__options.distance]),4>this.__options.distance.length&&(void 0===this.__options.distance[1]&&(this.__options.distance[1]=this.__options.distance[0]),void 0===this.__options.distance[2]&&(this.__options.distance[2]=this.__options.distance[0]),void 0===this.__options.distance[3]&&(this.__options.distance[3]=this.__options.distance[1]),this.__options.distance={top:this.__options.distance[0],
right:this.__options.distance[1],bottom:this.__options.distance[2],left:this.__options.distance[3]}),"string"==typeof this.__options.side)this.__options.side=[this.__options.side,{top:"bottom",right:"left",bottom:"top",left:"right"}[this.__options.side]],"left"==this.__options.side[0]||"right"==this.__options.side[0]?this.__options.side.push("top","bottom"):this.__options.side.push("right","left");6===c.tooltipster._env.IE&&!0!==this.__options.arrow&&(this.__options.arrow=!1)},__reposition:function(b,
e){var f,h=this,k=h.__targetFind(e),n=[];h.__instance._$tooltip.detach();var p=h.__instance._$tooltip.clone(),r=c.tooltipster._getRuler(p),t=!1,F=h.__instance.option("animation");switch(F&&p.removeClass("tooltipster-"+F),c.each(["window","document"],function(f,g){var u=null;if(h.__instance._trigger({container:g,helper:e,satisfied:t,takeTest:function(b){u=b},results:n,type:"positionTest"}),1==u||0!=u&&0==t&&("window"!=g||h.__options.viewportAware))for(f=0;f<h.__options.side.length;f++){var v={horizontal:0,
vertical:0},w=h.__options.side[f];"top"==w||"bottom"==w?v.vertical=h.__options.distance[w]:v.horizontal=h.__options.distance[w];h.__sideChange(p,w);c.each(["natural","constrained"],function(c,f){if(u=null,h.__instance._trigger({container:g,event:b,helper:e,mode:f,results:n,satisfied:t,side:w,takeTest:function(b){u=b},type:"positionTest"}),1==u||0!=u&&0==t){var p={container:g,distance:v,fits:null,mode:f,outerSize:null,side:w,size:null,target:k[w],whole:null},x=("natural"==f?r.free():r.constrain(e.geo.available[g][w].width-
v.horizontal,e.geo.available[g][w].height-v.vertical)).measure();if(p.size=x.size,p.outerSize={height:x.size.height+v.vertical,width:x.size.width+v.horizontal},"natural"==f?e.geo.available[g][w].width>=p.outerSize.width&&e.geo.available[g][w].height>=p.outerSize.height?p.fits=!0:p.fits=!1:p.fits=x.fits,"window"==g&&(p.fits?"top"==w||"bottom"==w?p.whole=e.geo.origin.windowOffset.right>=h.__options.minIntersection&&e.geo.window.size.width-e.geo.origin.windowOffset.left>=h.__options.minIntersection:
p.whole=e.geo.origin.windowOffset.bottom>=h.__options.minIntersection&&e.geo.window.size.height-e.geo.origin.windowOffset.top>=h.__options.minIntersection:p.whole=!1),n.push(p),p.whole)t=!0;else if("natural"==p.mode&&(p.fits||p.size.width<=e.geo.available[g][w].width))return!1}})}}),h.__instance._trigger({edit:function(b){n=b},event:b,helper:e,results:n,type:"positionTested"}),n.sort(function(b,c){if(b.whole&&!c.whole)return-1;if(!b.whole&&c.whole)return 1;if(b.whole&&c.whole){var e=h.__options.side.indexOf(b.side),
f=h.__options.side.indexOf(c.side);return f>e?-1:e>f?1:"natural"==b.mode?-1:1}return b.fits&&!c.fits?-1:!b.fits&&c.fits?1:b.fits&&c.fits?(e=h.__options.side.indexOf(b.side),f=h.__options.side.indexOf(c.side),f>e?-1:e>f?1:"natural"==b.mode?-1:1):"document"==b.container&&"bottom"==b.side&&"natural"==b.mode?-1:1}),f=n[0],f.coord={},f.side){case "left":case "right":f.coord.top=Math.floor(f.target-f.size.height/2);break;case "bottom":case "top":f.coord.left=Math.floor(f.target-f.size.width/2)}switch(f.side){case "left":f.coord.left=
e.geo.origin.windowOffset.left-f.outerSize.width;break;case "right":f.coord.left=e.geo.origin.windowOffset.right+f.distance.horizontal;break;case "top":f.coord.top=e.geo.origin.windowOffset.top-f.outerSize.height;break;case "bottom":f.coord.top=e.geo.origin.windowOffset.bottom+f.distance.vertical}"window"==f.container?"top"==f.side||"bottom"==f.side?0>f.coord.left?0<=e.geo.origin.windowOffset.right-this.__options.minIntersection?f.coord.left=0:f.coord.left=e.geo.origin.windowOffset.right-this.__options.minIntersection-
1:f.coord.left>e.geo.window.size.width-f.size.width&&(e.geo.origin.windowOffset.left+this.__options.minIntersection<=e.geo.window.size.width?f.coord.left=e.geo.window.size.width-f.size.width:f.coord.left=e.geo.origin.windowOffset.left+this.__options.minIntersection+1-f.size.width):0>f.coord.top?0<=e.geo.origin.windowOffset.bottom-this.__options.minIntersection?f.coord.top=0:f.coord.top=e.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:f.coord.top>e.geo.window.size.height-f.size.height&&
(e.geo.origin.windowOffset.top+this.__options.minIntersection<=e.geo.window.size.height?f.coord.top=e.geo.window.size.height-f.size.height:f.coord.top=e.geo.origin.windowOffset.top+this.__options.minIntersection+1-f.size.height):(f.coord.left>e.geo.window.size.width-f.size.width&&(f.coord.left=e.geo.window.size.width-f.size.width),0>f.coord.left&&(f.coord.left=0));h.__sideChange(p,f.side);e.tooltipClone=p[0];e.tooltipParent=h.__instance.option("parent").parent[0];e.mode=f.mode;e.whole=f.whole;e.origin=
h.__instance._$origin[0];e.tooltip=h.__instance._$tooltip[0];delete f.container;delete f.fits;delete f.mode;delete f.outerSize;delete f.whole;f.distance=f.distance.horizontal||f.distance.vertical;F=c.extend(!0,{},f);(h.__instance._trigger({edit:function(b){f=b},event:b,helper:e,position:F,type:"position"}),h.__options.functionPosition)&&(F=h.__options.functionPosition.call(h,h.__instance,e,F))&&(f=F);r.destroy();var D,H;"top"==f.side||"bottom"==f.side?(D={prop:"left",val:f.target-f.coord.left},H=
f.size.width-this.__options.minIntersection):(D={prop:"top",val:f.target-f.coord.top},H=f.size.height-this.__options.minIntersection);D.val<this.__options.minIntersection?D.val=this.__options.minIntersection:D.val>H&&(D.val=H);H=e.geo.origin.fixedLineage?e.geo.origin.windowOffset:{left:e.geo.origin.windowOffset.left+e.geo.window.scroll.left,top:e.geo.origin.windowOffset.top+e.geo.window.scroll.top};f.coord={left:H.left+(f.coord.left-e.geo.origin.windowOffset.left),top:H.top+(f.coord.top-e.geo.origin.windowOffset.top)};
h.__sideChange(h.__instance._$tooltip,f.side);e.geo.origin.fixedLineage?h.__instance._$tooltip.css("position","fixed"):h.__instance._$tooltip.css("position","");h.__instance._$tooltip.css({left:f.coord.left,top:f.coord.top,height:f.size.height,width:f.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(D.prop,D.val);h.__instance._$tooltip.appendTo(h.__instance.option("parent"));h.__instance._trigger({type:"repositioned",event:b,position:f})},__sideChange:function(b,c){b.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+
c)},__targetFind:function(b){var c={},e=this.__instance._$origin[0].getClientRects();1<e.length&&1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),e=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1));2>e.length?(c.top=Math.floor(b.geo.origin.windowOffset.left+b.geo.origin.size.width/2),c.bottom=c.top,c.left=Math.floor(b.geo.origin.windowOffset.top+b.geo.origin.size.height/2),c.right=c.left):(b=e[0],c.top=Math.floor(b.left+
(b.right-b.left)/2),b=2<e.length?e[Math.ceil(e.length/2)-1]:e[0],c.right=Math.floor(b.top+(b.bottom-b.top)/2),b=e[e.length-1],c.bottom=Math.floor(b.left+(b.right-b.left)/2),b=2<e.length?e[Math.ceil((e.length+1)/2)-1]:e[e.length-1],c.left=Math.floor(b.top+(b.bottom-b.top)/2));return c}}}),c});void 0===Date.now&&(Date.now=function(){return(new Date).valueOf()});
var TWEEN=TWEEN||function(){var c=[];return{REVISION:"14",getAll:function(){return c},removeAll:function(){c=[]},add:function(b){c.push(b)},remove:function(b){b=c.indexOf(b);-1!==b&&c.splice(b,1)},update:function(b){if(0===c.length)return!1;var e=0;for(b=void 0!==b?b:"undefined"!==typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now();e<c.length;)c[e].update(b)?e++:c.splice(e,1);return!0}}}();
TWEEN.Tween=function(c){var b={},e={},f={},k=1E3,p=0,n=!1,t=!1,h=0,r=null,g=TWEEN.Easing.Linear.None,y=TWEEN.Interpolation.Linear,z=[],u=null,v=!1,x=null,C=null,F=null,D;for(D in c)b[D]=parseFloat(c[D],10);this.to=function(b,c){void 0!==c&&(k=c);e=b;return this};this.start=function(g){TWEEN.add(this);t=!0;v=!1;r=void 0!==g?g:"undefined"!==typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now();r+=h;for(var k in e){if(e[k]instanceof Array){if(0===
e[k].length)continue;e[k]=[c[k]].concat(e[k])}b[k]=c[k];!1===b[k]instanceof Array&&(b[k]*=1);f[k]=b[k]||0}return this};this.stop=function(){if(!t)return this;TWEEN.remove(this);t=!1;null!==F&&F.call(c);this.stopChainedTweens();return this};this.stopChainedTweens=function(){for(var b=0,c=z.length;b<c;b++)z[b].stop()};this.delay=function(b){h=b;return this};this.repeat=function(b){p=b;return this};this.yoyo=function(b){n=b;return this};this.easing=function(b){g=b;return this};this.interpolation=function(b){y=
b;return this};this.chain=function(){z=arguments;return this};this.onStart=function(b){u=b;return this};this.onUpdate=function(b){x=b;return this};this.onComplete=function(b){C=b;return this};this.onStop=function(b){F=b;return this};this.update=function(t){var D;if(t<r)return!0;!1===v&&(null!==u&&u.call(c),v=!0);var w=(t-r)/k,w=1<w?1:w,F=g(w);for(D in e){var H=b[D]||0,E=e[D];E instanceof Array?c[D]=y(E,F):("string"===typeof E&&(E=H+parseFloat(E,10)),"number"===typeof E&&(c[D]=H+(E-H)*F))}null!==x&&
x.call(c,F);if(1==w)if(0<p){isFinite(p)&&p--;for(D in f)"string"===typeof e[D]&&(f[D]+=parseFloat(e[D],10)),n&&(w=f[D],f[D]=e[D],e[D]=w),b[D]=f[D];r=t+h}else{null!==C&&C.call(c);D=0;for(w=z.length;D<w;D++)z[D].start(t);return!1}return!0}};
TWEEN.Easing={Linear:{None:function(c){return c}},Quadratic:{In:function(c){return c*c},Out:function(c){return c*(2-c)},InOut:function(c){return 1>(c*=2)?.5*c*c:-.5*(--c*(c-2)-1)}},Cubic:{In:function(c){return c*c*c},Out:function(c){return--c*c*c+1},InOut:function(c){return 1>(c*=2)?.5*c*c*c:.5*((c-=2)*c*c+2)}},Quartic:{In:function(c){return c*c*c*c},Out:function(c){return 1- --c*c*c*c},InOut:function(c){return 1>(c*=2)?.5*c*c*c*c:-.5*((c-=2)*c*c*c-2)}},Quintic:{In:function(c){return c*c*c*c*c},Out:function(c){return--c*
c*c*c*c+1},InOut:function(c){return 1>(c*=2)?.5*c*c*c*c*c:.5*((c-=2)*c*c*c*c+2)}},Sinusoidal:{In:function(c){return 1-Math.cos(c*Math.PI/2)},Out:function(c){return Math.sin(c*Math.PI/2)},InOut:function(c){return.5*(1-Math.cos(Math.PI*c))}},Exponential:{In:function(c){return 0===c?0:Math.pow(1024,c-1)},Out:function(c){return 1===c?1:1-Math.pow(2,-10*c)},InOut:function(c){return 0===c?0:1===c?1:1>(c*=2)?.5*Math.pow(1024,c-1):.5*(-Math.pow(2,-10*(c-1))+2)}},Circular:{In:function(c){return 1-Math.sqrt(1-
c*c)},Out:function(c){return Math.sqrt(1- --c*c)},InOut:function(c){return 1>(c*=2)?-.5*(Math.sqrt(1-c*c)-1):.5*(Math.sqrt(1-(c-=2)*c)+1)}},Elastic:{In:function(c){var b,e=.1;if(0===c)return 0;if(1===c)return 1;!e||1>e?(e=1,b=.1):b=.4*Math.asin(1/e)/(2*Math.PI);return-(e*Math.pow(2,10*--c)*Math.sin(2*(c-b)*Math.PI/.4))},Out:function(c){var b,e=.1;if(0===c)return 0;if(1===c)return 1;!e||1>e?(e=1,b=.1):b=.4*Math.asin(1/e)/(2*Math.PI);return e*Math.pow(2,-10*c)*Math.sin(2*(c-b)*Math.PI/.4)+1},InOut:function(c){var b,
e=.1;if(0===c)return 0;if(1===c)return 1;!e||1>e?(e=1,b=.1):b=.4*Math.asin(1/e)/(2*Math.PI);return 1>(c*=2)?-.5*e*Math.pow(2,10*--c)*Math.sin(2*(c-b)*Math.PI/.4):.5*e*Math.pow(2,-10*--c)*Math.sin(2*(c-b)*Math.PI/.4)+1}},Back:{In:function(c){return c*c*(2.70158*c-1.70158)},Out:function(c){return--c*c*(2.70158*c+1.70158)+1},InOut:function(c){return 1>(c*=2)?.5*c*c*(3.5949095*c-2.5949095):.5*((c-=2)*c*(3.5949095*c+2.5949095)+2)}},Bounce:{In:function(c){return 1-TWEEN.Easing.Bounce.Out(1-c)},Out:function(c){return c<
1/2.75?7.5625*c*c:c<2/2.75?7.5625*(c-=1.5/2.75)*c+.75:c<2.5/2.75?7.5625*(c-=2.25/2.75)*c+.9375:7.5625*(c-=2.625/2.75)*c+.984375},InOut:function(c){return.5>c?.5*TWEEN.Easing.Bounce.In(2*c):.5*TWEEN.Easing.Bounce.Out(2*c-1)+.5}}};
TWEEN.Interpolation={Linear:function(c,b){var e=c.length-1,f=e*b,k=Math.floor(f),p=TWEEN.Interpolation.Utils.Linear;return 0>b?p(c[0],c[1],f):1<b?p(c[e],c[e-1],e-f):p(c[k],c[k+1>e?e:k+1],f-k)},Bezier:function(c,b){var e=0,f=c.length-1,k=Math.pow,p=TWEEN.Interpolation.Utils.Bernstein,n;for(n=0;n<=f;n++)e+=k(1-b,f-n)*k(b,n)*c[n]*p(f,n);return e},CatmullRom:function(c,b){var e=c.length-1,f=e*b,k=Math.floor(f),p=TWEEN.Interpolation.Utils.CatmullRom;return c[0]===c[e]?(0>b&&(k=Math.floor(f=e*(1+b))),p(c[(k-
1+e)%e],c[k],c[(k+1)%e],c[(k+2)%e],f-k)):0>b?c[0]-(p(c[0],c[0],c[1],c[1],-f)-c[0]):1<b?c[e]-(p(c[e],c[e],c[e-1],c[e-1],f-e)-c[e]):p(c[k?k-1:0],c[k],c[e<k+1?e:k+1],c[e<k+2?e:k+2],f-k)},Utils:{Linear:function(c,b,e){return(b-c)*e+c},Bernstein:function(c,b){var e=TWEEN.Interpolation.Utils.Factorial;return e(c)/e(b)/e(c-b)},Factorial:function(){var c=[1];return function(b){var e=1,f;if(c[b])return c[b];for(f=b;1<f;f--)e*=f;return c[b]=e}}(),CatmullRom:function(c,b,e,f,k){c=.5*(e-c);f=.5*(f-b);var p=k*
k;return(2*b-2*e+c+f)*k*p+(-3*b+3*e-2*c-f)*p+c*k+b}}};eval(function(c,b,e,f,k,p){k=function(b){return b};if(!"".replace(/^/,String)){for(;e--;)p[e]=f[e]||e;f=[function(b){return p[b]}];k=function(){return"\\w+"};e=1}for(;e--;)f[e]&&(c=c.replace(new RegExp("\\b"+k(e)+"\\b","g"),f[e]));return c}('9 8={"7":6,"5":"4 3 2","1":"0"};',10,10,"Desktop form_factor browser web generic complete_device_name false is_mobile WURFL var".split(" "),0,{}));engineGUI=window.engineGUI||{};
engineGUI.open=function(c,b){engine3D.id=b;$("#start").remove();$("#scene").remove();engineGUI.spinner.appendTo("body");$.ajax("scenes/"+b+".json",{contentType:"application/json",dataType:"json",success:function(b){json=b;1===c?setTimeout(function(){engine3D.cameraAnimate(0,20,0,1500)},500):2===c?(engineGUI.scene="floor",engine3D.setLights(),engine3D.buildPanorama(skyFloorMesh,"0000",75,75,75,"",null),engine3D.scene.remove(skyMesh),engine3D.scene.remove(weatherSkyCloudsMesh),engine3D.scene.remove(weatherSkyRainbowMesh),
engine3D.scene.remove(scene3DHouseGroundContainer),engine3D.scene.add(skyFloorMesh),engine3D.scene.add(scene3DFloorGroundContainer),setTimeout(function(){engine3D.cameraAnimate(0,20,0,1500)},800)):3===c&&engine2D.show();engine2D.open();engine3D.open();setTimeout(function(){engineGUI.spinner.remove();$("#menuAgent").show();$("#agentPicture").attr("src",json.info.agentPicture);1==c?engine3D.showHouse():2==c?engine3D.showFloor(1):3==c&&engine2D.show();setTimeout(function(){scene3DAnimateRotate=json.settings.autorotate},
4E3)},2E3)},error:function(b,c,k){engineGUI.spinner.remove();alertify.alert("Cannot load scene json file: "+b.responseText).show()}})};
engineGUI.save=function(c){setTimeout(function(){if(c)if(""!==engineGUI.session)window.location="#openLogin";else{var b=new FormData;b.append("file",json);$.ajax("php/objects.php?upload=scene",{type:"POST",contentType:"application/octet-stream",processData:!1,data:b,success:function(b,c){"error"!=b.status&&alert("ok")},error:function(){alert("not so ok")}});window.location="#close"}else saveAs(json,"scene.json"),window.location="#close"},4E3)};
function imageBase64(c){c=document.getElementById(c);var b=document.createElement("canvas");b.width=c.width;b.height=c.height;b.getContext("2d").drawImage(c,0,0);return b.toDataURL("image/png").replace(/^data:image\/(png|jpg);base64,/,"")};$(document).ready(function(){$("#search-box").keyup(function(c){if(38==c.keyCode)$("#search_suggestion_holder").is(":visible")&&($(".selected").is(":visible")?(c=$("#search_suggestion_holder li").index($("#search_suggestion_holder li.selected")),$("#search_suggestion_holder li.selected").removeClass("selected"),c--,$("#search_suggestion_holder li:eq("+c+")").addClass("selected")):$("#search_suggestion_holder li").last().addClass("selected"));else if(40==c.keyCode)$("#search_suggestion_holder").is(":visible")&&
($(".selected").is(":visible")?(c=$("#search_suggestion_holder li").index($("#search_suggestion_holder li.selected")),$("#search_suggestion_holder li.selected").removeClass("selected"),c++,$("#search_suggestion_holder li:eq("+c+")").addClass("selected")):$("#search_suggestion_holder li").first().addClass("selected"));else if(13==c.keyCode)$(".selected").is(":visible")&&(c=$(".selected").text(),$("#search-box").val(c),$("#search_suggestion_holder").hide());else{var b=$(this).val();$("#search-close").hide();
$("#loader").show();setTimeout(function(){$.ajax({url:"php/search.php",data:"keyword="+b,success:function(b){$("#search_suggestion_holder").html(b);$("#search_suggestion_holder").show();$("#loader").hide();$("#search-close").show()}})},400)}});$("#search_suggestion_holder").on("click","li",function(){$("#search_suggestion_holder").hide()})});var engine3D=window.engine3D||{},engine2D=window.engine2D||{},engineGUI=window.engineGUI||{},json={info:{},settings:{},weather:{},terrain:[],roof:[],floor:[],ceiling:[],furniture:[],house:[],plan:[]},jsonindex={id:"",name:"",plan:[1,2,3]},rendererQuad=[4],camera3DQuad=[4],camera3DQuadGrid,scene3DRoofContainer,scene3DHouseContainer,_scene3DHouseGroundContainer,scene3DHouseGroundContainer,scene3DHouseFXContainer,scene3DFloorGroundContainer,scene3DCutawayPlaneMesh,scene3DLevelGroundContainer,scene3DLevelWallContainer,
scene3DFloorFurnitureContainer=[],scene3DFloorMeasurementsContainer=[],scene3DFloorWallContainer=[],scene3DFloorDoorContainer=[],scene3DFloorWindowContainer=[],scene3DFloorShapeContainer=[],scene3DCeilingShapeContainer=[],scene2DFloorShape=[],scene2DFloorDraftPlanImage=[],scene3DCubeMesh,sceneAmbientLight,sceneDirectionalLight,sceneSpotLight,sceneHemisphereLight,camera3DPositionCache,camera3DPivotCache,skyMesh,skyFloorMesh,weatherSkyGeometry,weatherSkyMaterial,weatherSkyCloudsMesh,weatherSkyRainbowMesh,
TOOL3DINTERACTIVE="",TOOL3DLANDSCAPE="rotate",TOOL3DFLOOR="measure",TOOL2D="vector",SelectedObject=null,SelectedNote=null,SelectedPicture=null,SelectedWall=null,clickTime,clickMenuTime,doubleClickTime,zoom2Dimg,zoom2Dheight=80,zoom2Dwidth=241,zoom2DCTX=null,zoom2DSlider=null,zoom2D=1,scene2DDrawLineGeometry=[],scene2DDrawLine,scene2DWallMesh=[],scene2DWallGroup=[],scene2DWallPointGroup=[],scene2DWindowGroup=[],scene2DDoorGroup=[],scene2DLabelGroup=[],scene2DFloorMesh=[],scene2DDoorMesh=[],scene2DWindowMesh=
[],scene2DInteriorMesh=[],scene2DExteriorMesh=[],scene2DWallDimentions=[],scene3DWallInteriorTextureDefault,scene3DWallExteriorTextureDefault,scene3DWallInteriorTextures=[],scene3DWallExteriorTextures=[],scene2DWallRegularMaterial,scene2DWallRegularMaterialSelect,scene2DWallBearingMaterial,scene2DWallBearingMaterialSelect,physics3DContainer,animation=[],scene3DAnimateRotate=!1,requestAnimationID,mouse,touch,target,clock,projector,vector,geometry,material,texture,mesh;engineGUI.session="";
engineGUI.scene="house";engineGUI.floor=1;engineGUI.mousedrag=!1;engineGUI.mouseleft=!1;engineGUI.mouseright=!1;engineGUI.spinner=$("<div>");engine2D.scene;engine2D.canvas;engine2D.history=[];engine3D.id="";engine3D.renderer;engine3D.rendererCube;engine3D.scene;engine3D.sceneCube;engine3D.camera;engine3D.cameraCube;engine3D.controls;engine3D.grid;engine3D.pivot;engine3D.jsonLoader;engine3D.fontLoader;engine3D.textureLoader;engine3D.terrain;engine3D.terrainMaterial;engine3D.renderPass;engine3D.FXAAPass;
engine3D.SSAOPass;engine3D.effectComposer;engine3D.depthMaterial;engine3D.depthRenderTarget;engine3D.FXAAProcessing={enabled:!0};engine3D.SSAOProcessing={enabled:!1,renderMode:0};engine3D.measurements=1;engine3D.history=[];
