!function(c,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=c.document?b(c,!0):function(c){if(!c.document)throw Error("jQuery requires a window with a document");return b(c)}:b(c)}("undefined"!=typeof window?window:this,function(c,b){function e(c,b){b=b||I;var r=b.createElement("script");r.text=c;b.head.appendChild(r).parentNode.removeChild(r)}function f(c){var r=!!c&&"length"in c&&c.length,b=p.type(c);return"function"!==b&&!p.isWindow(c)&&("array"===b||0===r||"number"==
typeof r&&0<r&&r-1 in c)}function h(c,b,e){return p.isFunction(b)?p.grep(c,function(c,r){return!!b.call(c,r,c)!==e}):b.nodeType?p.grep(c,function(c){return c===b!==e}):"string"!=typeof b?p.grep(c,function(c){return-1<ea.call(b,c)!==e}):rb.test(b)?p.filter(b,c,e):(b=p.filter(b,c),p.grep(c,function(c){return-1<ea.call(b,c)!==e&&1===c.nodeType}))}function q(c,b){for(;(c=c[b])&&1!==c.nodeType;);return c}function m(c){var r={};return p.each(c.match(pa)||[],function(c,b){r[b]=!0}),r}function t(c){return c}
function k(c){throw c;}function n(c,b,e){var r;try{c&&p.isFunction(r=c.promise)?r.call(c).done(b).fail(e):c&&p.isFunction(r=c.then)?r.call(c,b,e):b.call(void 0,c)}catch(Ua){e.call(void 0,Ua)}}function g(){I.removeEventListener("DOMContentLoaded",g);c.removeEventListener("load",g);p.ready()}function y(){this.expando=p.expando+y.uid++}function z(c,b,e){var r;if(void 0===e&&1===c.nodeType)if(r="data-"+b.replace(sb,"-$&").toLowerCase(),e=c.getAttribute(r),"string"==typeof e){try{r=e,e="true"===r||"false"!==
r&&("null"===r?null:r===+r+""?+r:tb.test(r)?JSON.parse(r):r)}catch(Ua){}ma.set(c,b,e)}else e=void 0;return e}function u(c,b,e,g){var r,G=1,k=20,f=g?function(){return g.cur()}:function(){return p.css(c,b,"")},h=f(),n=e&&e[3]||(p.cssNumber[b]?"":"px"),m=(p.cssNumber[b]||"px"!==n&&+h)&&Ea.exec(p.css(c,b));if(m&&m[3]!==n){n=n||m[3];e=e||[];m=+h||1;do G=G||".5",m/=G,p.style(c,b,m+n);while(G!==(G=f()/h)&&1!==G&&--k)}return e&&(m=+m||+h||0,r=e[1]?m+(e[1]+1)*e[2]:+e[2],g&&(g.unit=n,g.start=m,g.end=r)),r}
function v(c,b){for(var r,e,g=[],G=0,k=c.length;G<k;G++)if(e=c[G],e.style)if(r=e.style.display,b){if("none"===r&&(g[G]=U.get(e,"display")||null,g[G]||(e.style.display="")),""===e.style.display&&Ja(e)){r=G;var f,h=void 0;f=e.ownerDocument;var n=e.nodeName;f=(e=Va[n])?e:(h=f.body.appendChild(f.createElement(n)),e=p.css(h,"display"),h.parentNode.removeChild(h),"none"===e&&(e="block"),Va[n]=e,e);g[r]=f}}else"none"!==r&&(g[G]="none",U.set(e,"display",r));for(G=0;G<k;G++)null!=g[G]&&(c[G].style.display=
g[G]);return c}function x(c,b){var r;return r="undefined"!=typeof c.getElementsByTagName?c.getElementsByTagName(b||"*"):"undefined"!=typeof c.querySelectorAll?c.querySelectorAll(b||"*"):[],void 0===b||b&&p.nodeName(c,b)?p.merge([c],r):r}function C(c,b){for(var r=0,e=c.length;r<e;r++)U.set(c[r],"globalEval",!b||U.get(b[r],"globalEval"))}function F(c,b,e,g,k){for(var r,G,f,h,n=b.createDocumentFragment(),m=[],u=0,Ca=c.length;u<Ca;u++)if(r=c[u],r||0===r)if("object"===p.type(r))p.merge(m,r.nodeType?[r]:
r);else if(wb.test(r)){G=G||n.appendChild(b.createElement("div"));f=(Wa.exec(r)||["",""])[1].toLowerCase();f=ka[f]||ka._default;G.innerHTML=f[1]+p.htmlPrefilter(r)+f[2];for(f=f[0];f--;)G=G.lastChild;p.merge(m,G.childNodes);G=n.firstChild;G.textContent=""}else m.push(b.createTextNode(r));n.textContent="";for(u=0;r=m[u++];)if(g&&-1<p.inArray(r,g))k&&k.push(r);else if(h=p.contains(r.ownerDocument,r),G=x(n.appendChild(r),"script"),h&&C(G),e)for(f=0;r=G[f++];)Xa.test(r.type||"")&&e.push(r);return n}function D(){return!0}
function H(){return!1}function J(){try{return I.activeElement}catch(r){}}function w(c,b,e,g,f,k){var r,G;if("object"==typeof b){"string"!=typeof e&&(g=g||e,e=void 0);for(G in b)w(c,G,e,g,b[G],k);return c}if(null==g&&null==f?(f=e,g=e=void 0):null==f&&("string"==typeof e?(f=g,g=void 0):(f=g,g=e,e=void 0)),!1===f)f=H;else if(!f)return c;return 1===k&&(r=f,f=function(c){return p().off(c),r.apply(this,arguments)},f.guid=r.guid||(r.guid=p.guid++)),c.each(function(){p.event.add(this,b,f,g,e)})}function R(c,
b){return p.nodeName(c,"table")&&p.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?c.getElementsByTagName("tbody")[0]||c:c}function M(c){return c.type=(null!==c.getAttribute("type"))+"/"+c.type,c}function E(c){var r=xb.exec(c.type);return r?c.type=r[1]:c.removeAttribute("type"),c}function B(c,b){var r,e,g,G,f,k;if(1===b.nodeType){if(U.hasData(c)&&(r=U.access(c),e=U.set(b,r),k=r.events))for(g in delete e.handle,e.events={},k)for(r=0,e=k[g].length;r<e;r++)p.event.add(b,g,k[g][r]);ma.hasData(c)&&(G=ma.access(c),
f=p.extend({},G),ma.set(b,f))}}function A(c,b,g,f){b=oa.apply([],b);var r,G,k,h,n=0,m=c.length,u=m-1,q=b[0],Ca=p.isFunction(q);if(Ca||1<m&&"string"==typeof q&&!aa.checkClone&&yb.test(q))return c.each(function(r){var e=c.eq(r);Ca&&(b[0]=q.call(this,r,e.html()));A(e,b,g,f)});if(m&&(r=F(b,c[0].ownerDocument,!1,c,f),G=r.firstChild,1===r.childNodes.length&&(r=G),G||f)){G=p.map(x(r,"script"),M);for(k=G.length;n<m;n++)h=r,n!==u&&(h=p.clone(h,!0,!0),k&&p.merge(G,x(h,"script"))),g.call(c[n],h,n);if(k)for(r=
G[G.length-1].ownerDocument,p.map(G,E),n=0;n<k;n++)h=G[n],Xa.test(h.type||"")&&!U.access(h,"globalEval")&&p.contains(r,h)&&(h.src?p._evalUrl&&p._evalUrl(h.src):e(h.textContent.replace(zb,""),r))}return c}function P(c,b,e){for(var r=b?p.filter(b,c):c,g=0;null!=(b=r[g]);g++)e||1!==b.nodeType||p.cleanData(x(b)),b.parentNode&&(e&&p.contains(b.ownerDocument,b)&&C(x(b,"script")),b.parentNode.removeChild(b));return c}function O(c,b,e){var r,g,G,f,k=c.style;return e=e||Ka(c),e&&(f=e.getPropertyValue(b)||
e[b],""!==f||p.contains(c.ownerDocument,c)||(f=p.style(c,b)),!aa.pixelMarginRight()&&Na.test(f)&&Ya.test(b)&&(r=k.width,g=k.minWidth,G=k.maxWidth,k.minWidth=k.maxWidth=k.width=f,f=e.width,k.width=r,k.minWidth=g,k.maxWidth=G)),void 0!==f?f+"":f}function Q(c,b){return{get:function(){return c()?void delete this.get:(this.get=b).apply(this,arguments)}}}function ha(c){if(c in Za)return c;for(var r=c[0].toUpperCase()+c.slice(1),b=$a.length;b--;)if(c=$a[b]+r,c in Za)return c}function ca(c,b,e){return(c=
Ea.exec(b))?Math.max(0,c[2]-(e||0))+(c[3]||"px"):b}function la(c,b,e,g,f){var r=0;for(b=e===(g?"border":"content")?4:"width"===b?1:0;4>b;b+=2)"margin"===e&&(r+=p.css(c,e+wa[b],!0,f)),g?("content"===e&&(r-=p.css(c,"padding"+wa[b],!0,f)),"margin"!==e&&(r-=p.css(c,"border"+wa[b]+"Width",!0,f))):(r+=p.css(c,"padding"+wa[b],!0,f),"padding"!==e&&(r+=p.css(c,"border"+wa[b]+"Width",!0,f)));return r}function ba(c,b,e){var r,g=!0,f=Ka(c),G="border-box"===p.css(c,"boxSizing",!1,f);if(c.getClientRects().length&&
(r=c.getBoundingClientRect()[b]),0>=r||null==r){if(r=O(c,b,f),(0>r||null==r)&&(r=c.style[b]),Na.test(r))return r;g=G&&(aa.boxSizingReliable()||r===c.style[b]);r=parseFloat(r)||0}return r+la(c,b,e||(G?"border":"content"),g,f)+"px"}function X(c,b,e,g,f){return new X.prototype.init(c,b,e,g,f)}function ta(){ya&&(c.requestAnimationFrame(ta),p.fx.tick())}function Y(){return c.setTimeout(function(){Aa=void 0}),Aa=p.now()}function N(c,b){var r,e=0,g={height:c};for(b=b?1:0;4>e;e+=2-b)r=wa[e],g["margin"+r]=
g["padding"+r]=c;return b&&(g.opacity=g.width=c),g}function na(c,b,e){for(var r,g=(K.tweeners[b]||[]).concat(K.tweeners["*"]),f=0,k=g.length;f<k;f++)if(r=g[f].call(e,b,c))return r}function T(c,b){var r,e,g,f,k;for(r in c)if(e=p.camelCase(r),g=b[e],f=c[r],p.isArray(f)&&(g=f[1],f=c[r]=f[0]),r!==e&&(c[e]=f,delete c[r]),k=p.cssHooks[e],k&&"expand"in k)for(r in f=k.expand(f),delete c[e],f)r in c||(c[r]=f[r],b[r]=g);else b[e]=g}function K(c,b,e){var r,g=0,f=K.prefilters.length,k=p.Deferred().always(function(){delete G.elem}),
G=function(){if(r)return!1;for(var b=Aa||Y(),b=Math.max(0,h.startTime+h.duration-b),e=1-(b/h.duration||0),g=0,f=h.tweens.length;g<f;g++)h.tweens[g].run(e);return k.notifyWith(c,[h,e,b]),1>e&&f?b:(k.resolveWith(c,[h]),!1)},h=k.promise({elem:c,props:p.extend({},b),opts:p.extend(!0,{specialEasing:{},easing:p.easing._default},e),originalProperties:b,originalOptions:e,startTime:Aa||Y(),duration:e.duration,tweens:[],createTween:function(b,r){var e=p.Tween(c,h.opts,b,r,h.opts.specialEasing[b]||h.opts.easing);
return h.tweens.push(e),e},stop:function(b){var e=0,g=b?h.tweens.length:0;if(r)return this;for(r=!0;e<g;e++)h.tweens[e].run(1);return b?(k.notifyWith(c,[h,1,0]),k.resolveWith(c,[h,b])):k.rejectWith(c,[h,b]),this}});e=h.props;for(T(e,h.opts.specialEasing);g<f;g++)if(b=K.prefilters[g].call(h,c,e,h.opts))return p.isFunction(b.stop)&&(p._queueHooks(h.elem,h.opts.queue).stop=p.proxy(b.stop,b)),b;return p.map(e,na,h),p.isFunction(h.opts.start)&&h.opts.start.call(c,h),p.fx.timer(p.extend(G,{elem:c,anim:h,
queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function S(c){return(c.match(pa)||[]).join(" ")}function V(c){return c.getAttribute&&c.getAttribute("class")||""}function ia(c,b,e,g){var r;if(p.isArray(b))p.each(b,function(b,r){e||Ab.test(c)?g(c,r):ia(c+"["+("object"==typeof r&&null!=r?b:"")+"]",r,e,g)});else if(e||"object"!==p.type(b))g(c,b);else for(r in b)ia(c+"["+r+"]",b[r],e,g)}function ja(c){return function(b,r){"string"!=
typeof b&&(r=b,b="*");var e,g=0,f=b.toLowerCase().match(pa)||[];if(p.isFunction(r))for(;e=f[g++];)"+"===e[0]?(e=e.slice(1)||"*",(c[e]=c[e]||[]).unshift(r)):(c[e]=c[e]||[]).push(r)}}function W(c,b,e,g){function r(h){var G;return f[h]=!0,p.each(c[h]||[],function(c,h){var n=h(b,e,g);return"string"!=typeof n||k||f[n]?k?!(G=n):void 0:(b.dataTypes.unshift(n),r(n),!1)}),G}var f={},k=c===Oa;return r(b.dataTypes[0])||!f["*"]&&r("*")}function da(c,b){var r,e,g=p.ajaxSettings.flatOptions||{};for(r in b)void 0!==
b[r]&&((g[r]?c:e||(e={}))[r]=b[r]);return e&&p.extend(!0,c,e),c}function ga(c){return p.isWindow(c)?c:9===c.nodeType&&c.defaultView}var Z=[],I=c.document,ua=Object.getPrototypeOf,fa=Z.slice,oa=Z.concat,qa=Z.push,ea=Z.indexOf,xa={},sa=xa.toString,Ba=xa.hasOwnProperty,Fa=Ba.toString,Da=Fa.call(Object),aa={},p=function(c,b){return new p.fn.init(c,b)},Bb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Cb=/^-ms-/,Db=/-([a-z])/g,Eb=function(c,b){return b.toUpperCase()};p.fn=p.prototype={jquery:"3.1.1",constructor:p,
length:0,toArray:function(){return fa.call(this)},get:function(c){return null==c?fa.call(this):0>c?this[c+this.length]:this[c]},pushStack:function(c){c=p.merge(this.constructor(),c);return c.prevObject=this,c},each:function(c){return p.each(this,c)},map:function(c){return this.pushStack(p.map(this,function(b,r){return c.call(b,r,b)}))},slice:function(){return this.pushStack(fa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(c){var b=this.length;
c=+c+(0>c?b:0);return this.pushStack(0<=c&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:qa,sort:Z.sort,splice:Z.splice};p.extend=p.fn.extend=function(){var c,b,e,g,f,k,h=arguments[0]||{},n=1,m=arguments.length,u=!1;"boolean"==typeof h&&(u=h,h=arguments[n]||{},n++);"object"==typeof h||p.isFunction(h)||(h={});for(n===m&&(h=this,n--);n<m;n++)if(null!=(c=arguments[n]))for(b in c)e=h[b],g=c[b],h!==g&&(u&&g&&(p.isPlainObject(g)||(f=p.isArray(g)))?(f?(f=!1,k=e&&p.isArray(e)?
e:[]):k=e&&p.isPlainObject(e)?e:{},h[b]=p.extend(u,k,g)):void 0!==g&&(h[b]=g));return h};p.extend({expando:"jQuery"+("3.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(c){throw Error(c);},noop:function(){},isFunction:function(c){return"function"===p.type(c)},isArray:Array.isArray,isWindow:function(c){return null!=c&&c===c.window},isNumeric:function(c){var b=p.type(c);return("number"===b||"string"===b)&&!isNaN(c-parseFloat(c))},isPlainObject:function(c){var b,r;return!(!c||"[object Object]"!==
sa.call(c))&&(!(b=ua(c))||(r=Ba.call(b,"constructor")&&b.constructor,"function"==typeof r&&Fa.call(r)===Da))},isEmptyObject:function(c){for(var b in c)return!1;return!0},type:function(c){return null==c?c+"":"object"==typeof c||"function"==typeof c?xa[sa.call(c)]||"object":typeof c},globalEval:function(c){e(c)},camelCase:function(c){return c.replace(Cb,"ms-").replace(Db,Eb)},nodeName:function(c,b){return c.nodeName&&c.nodeName.toLowerCase()===b.toLowerCase()},each:function(c,b){var r,e=0;if(f(c))for(r=
c.length;e<r&&!1!==b.call(c[e],e,c[e]);e++);else for(e in c)if(!1===b.call(c[e],e,c[e]))break;return c},trim:function(c){return null==c?"":(c+"").replace(Bb,"")},makeArray:function(c,b){var r=b||[];return null!=c&&(f(Object(c))?p.merge(r,"string"==typeof c?[c]:c):qa.call(r,c)),r},inArray:function(c,b,e){return null==b?-1:ea.call(b,c,e)},merge:function(c,b){for(var r=+b.length,e=0,g=c.length;e<r;e++)c[g++]=b[e];return c.length=g,c},grep:function(c,b,e){for(var r=[],g=0,f=c.length,k=!e;g<f;g++)e=!b(c[g],
g),e!==k&&r.push(c[g]);return r},map:function(c,b,e){var r,g,k=0,h=[];if(f(c))for(r=c.length;k<r;k++)g=b(c[k],k,e),null!=g&&h.push(g);else for(k in c)g=b(c[k],k,e),null!=g&&h.push(g);return oa.apply([],h)},guid:1,proxy:function(c,b){var e,r,g;if("string"==typeof b&&(e=c[b],b=c,c=e),p.isFunction(c))return r=fa.call(arguments,2),g=function(){return c.apply(b||this,r.concat(fa.call(arguments)))},g.guid=c.guid=c.guid||p.guid++,g},now:Date.now,support:aa});"function"==typeof Symbol&&(p.fn[Symbol.iterator]=
Z[Symbol.iterator]);p.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(c,b){xa["[object "+b+"]"]=b.toLowerCase()});var za=function(c){function b(c,b,e,r){var g,f,k,h,n,G=b&&b.ownerDocument,m=b?b.nodeType:9;if(e=e||[],"string"!=typeof c||!c||1!==m&&9!==m&&11!==m)return e;if(!r&&((b?b.ownerDocument||b:sa)!==w&&R(b),b=b||w,qa)){if(11!==m&&(h=za.exec(c)))if(g=h[1])if(9===m){if(!(f=b.getElementById(g)))return e;if(f.id===g)return e.push(f),e}else{if(G&&(f=
G.getElementById(g))&&xa(b,f)&&f.id===g)return e.push(f),e}else{if(h[2])return U.apply(e,b.getElementsByTagName(c)),e;if((g=h[3])&&C.getElementsByClassName&&b.getElementsByClassName)return U.apply(e,b.getElementsByClassName(g)),e}if(!(!C.qsa||N[c+" "]||X&&X.test(c))){if(1!==m)G=b,n=c;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(va,wa):b.setAttribute("id",k=O);f=D(c);for(g=f.length;g--;)f[g]="#"+k+" "+y(f[g]);n=f.join(",");G=pa.test(c)&&p(b.parentNode)||b}if(n)try{return U.apply(e,
G.querySelectorAll(n)),e}catch(jc){}finally{k===O&&b.removeAttribute("id")}}}return H(c.replace(Z,"$1"),b,e,r)}function e(){function c(e,r){return b.push(e+" ")>z.cacheLength&&delete c[b.shift()],c[e+" "]=r}var b=[];return c}function r(c){return c[O]=!0,c}function g(c){var b=w.createElement("fieldset");try{return!!c(b)}catch(hc){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function f(c,b){for(var e=c.split("|"),r=e.length;r--;)z.attrHandle[e[r]]=b}function k(c,b){var e=b&&c,r=e&&1===
c.nodeType&&1===b.nodeType&&c.sourceIndex-b.sourceIndex;if(r)return r;if(e)for(;e=e.nextSibling;)if(e===b)return-1;return c?1:-1}function h(c){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===c}}function n(c){return function(b){var e=b.nodeName.toLowerCase();return("input"===e||"button"===e)&&b.type===c}}function m(c){return function(b){return"form"in b?b.parentNode&&!1===b.disabled?"label"in b?"label"in b.parentNode?b.parentNode.disabled===c:b.disabled===c:b.isDisabled===c||
b.isDisabled!==!c&&Aa(b)===c:b.disabled===c:"label"in b&&b.disabled===c}}function u(c){return r(function(b){return b=+b,r(function(e,r){for(var g,f=c([],e.length,b),k=f.length;k--;)e[g=f[k]]&&(e[g]=!(r[g]=e[g]))})})}function p(c){return c&&"undefined"!=typeof c.getElementsByTagName&&c}function q(){}function y(c){for(var b=0,e=c.length,r="";b<e;b++)r+=c[b].value;return r}function I(c,b,e){var r=b.dir,g=b.next,f=g||r,k=e&&"parentNode"===f,h=ca++;return b.first?function(b,e,g){for(;b=b[r];)if(1===b.nodeType||
k)return c(b,e,g);return!1}:function(b,e,n){var G,m,u,p=[Q,h];if(n)for(;b=b[r];){if((1===b.nodeType||k)&&c(b,e,n))return!0}else for(;b=b[r];)if(1===b.nodeType||k)if(u=b[O]||(b[O]={}),m=u[b.uniqueID]||(u[b.uniqueID]={}),g&&g===b.nodeName.toLowerCase())b=b[r]||b;else{if((G=m[f])&&G[0]===Q&&G[1]===h)return p[2]=G[2];if(m[f]=p,p[2]=c(b,e,n))return!0}return!1}}function v(c){return 1<c.length?function(b,e,r){for(var g=c.length;g--;)if(!c[g](b,e,r))return!1;return!0}:c[0]}function A(c,b,e,r,g){for(var f,
k=[],h=0,n=c.length,G=null!=b;h<n;h++)(f=c[h])&&(e&&!e(f,r,g)||(k.push(f),G&&b.push(h)));return k}function x(c,e,g,f,k,h){return f&&!f[O]&&(f=x(f)),k&&!k[O]&&(k=x(k,h)),r(function(r,h,n,G){var m,u,p=[],q=[],y=h.length,I;if(!(I=r)){I=e||"*";for(var v=n.nodeType?[n]:n,x=[],t=0,F=v.length;t<F;t++)b(I,v[t],x);I=x}I=!c||!r&&e?I:A(I,p,c,n,G);v=g?k||(r?c:y||f)?[]:h:I;if(g&&g(I,v,n,G),f)for(m=A(v,q),f(m,[],n,G),n=m.length;n--;)(u=m[n])&&(v[q[n]]=!(I[q[n]]=u));if(r){if(k||c){if(k){m=[];for(n=v.length;n--;)(u=
v[n])&&m.push(I[n]=u);k(null,v=[],m,G)}for(n=v.length;n--;)(u=v[n])&&-1<(m=k?V(r,u):p[n])&&(r[m]=!(h[m]=u))}}else v=A(v===h?v.splice(y,v.length):v),k?k(null,h,v,G):U.apply(h,v)})}function t(c){var b,e,r,g=c.length,f=z.relative[c[0].type];e=f||z.relative[" "];for(var k=f?1:0,h=I(function(c){return c===b},e,!0),n=I(function(c){return-1<V(b,c)},e,!0),G=[function(c,e,r){c=!f&&(r||e!==B)||((b=e).nodeType?h(c,e,r):n(c,e,r));return b=null,c}];k<g;k++)if(e=z.relative[c[k].type])G=[I(v(G),e)];else{if(e=z.filter[c[k].type].apply(null,
c[k].matches),e[O]){for(r=++k;r<g&&!z.relative[c[r].type];r++);return x(1<k&&v(G),1<k&&y(c.slice(0,k-1).concat({value:" "===c[k-2].type?"*":""})).replace(Z,"$1"),e,k<r&&t(c.slice(k,r)),r<g&&t(c=c.slice(r)),r<g&&y(c))}G.push(e)}return v(G)}function F(c,e){var g=0<e.length,f=0<c.length,k=function(r,k,h,n,G){var m,u,p,q=0,y="0",v=r&&[],I=[],x=B,t=r||f&&z.find.TAG("*",G),F=Q+=null==x?1:Math.random()||.1,Ca=t.length;for(G&&(B=k===w||k||G);y!==Ca&&null!=(m=t[y]);y++){if(f&&m){u=0;for(k||m.ownerDocument===
w||(R(m),h=!qa);p=c[u++];)if(p(m,k||w,h)){n.push(m);break}G&&(Q=F)}g&&((m=!p&&m)&&q--,r&&v.push(m))}if(q+=y,g&&y!==q){for(u=0;p=e[u++];)p(v,I,k,h);if(r){if(0<q)for(;y--;)v[y]||I[y]||(I[y]=T.call(n));I=A(I)}U.apply(n,I);G&&!r&&0<I.length&&1<q+e.length&&b.uniqueSort(n)}return G&&(Q=F,B=x),v};return g?r(k):k}var E,C,z,oa,fa,D,M,H,B,J,P,R,w,ea,qa,X,ba,ua,xa,O="sizzle"+1*new Date,sa=c.document,Q=0,ca=0,K=e(),Fa=e(),N=e(),Ba=function(c,b){return c===b&&(P=!0),0},S={}.hasOwnProperty,aa=[],T=aa.pop,W=aa.push,
U=aa.push,Y=aa.slice,V=function(c,b){for(var e=0,r=c.length;e<r;e++)if(c[e]===b)return e;return-1},la=RegExp("[\\x20\\t\\r\\n\\f]+","g"),Z=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),ha=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,da=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ga=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),ia=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
ja=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,Da={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},ta=/^(?:input|select|textarea|button)$/i,na=/^h\d$/i,ma=
/^[^{]+\{\s*\[native \w/,za=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,pa=/[+~]/,ka=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),ra=function(c,b,e){c="0x"+b-65536;return c!==c||e?b:0>c?String.fromCharCode(c+65536):String.fromCharCode(c>>10|55296,1023&c|56320)},va=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,wa=function(c,b){return b?"\x00"===c?"\ufffd":c.slice(0,-1)+"\\"+c.charCodeAt(c.length-1).toString(16)+" ":"\\"+c},ya=function(){R()},Aa=I(function(c){return!0===
c.disabled&&("form"in c||"label"in c)},{dir:"parentNode",next:"legend"});try{U.apply(aa=Y.call(sa.childNodes),sa.childNodes),aa[sa.childNodes.length].nodeType}catch(gc){U={apply:aa.length?function(c,b){W.apply(c,Y.call(b))}:function(c,b){for(var e=c.length,r=0;c[e++]=b[r++];);c.length=e-1}}}C=b.support={};fa=b.isXML=function(c){c=c&&(c.ownerDocument||c).documentElement;return!!c&&"HTML"!==c.nodeName};R=b.setDocument=function(c){var b,e;c=c?c.ownerDocument||c:sa;return c!==w&&9===c.nodeType&&c.documentElement?
(w=c,ea=w.documentElement,qa=!fa(w),sa!==w&&(e=w.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",ya,!1):e.attachEvent&&e.attachEvent("onunload",ya)),C.attributes=g(function(c){return c.className="i",!c.getAttribute("className")}),C.getElementsByTagName=g(function(c){return c.appendChild(w.createComment("")),!c.getElementsByTagName("*").length}),C.getElementsByClassName=ma.test(w.getElementsByClassName),C.getById=g(function(c){return ea.appendChild(c).id=O,!w.getElementsByName||
!w.getElementsByName(O).length}),C.getById?(z.filter.ID=function(c){var b=c.replace(ka,ra);return function(c){return c.getAttribute("id")===b}},z.find.ID=function(c,b){if("undefined"!=typeof b.getElementById&&qa){var e=b.getElementById(c);return e?[e]:[]}}):(z.filter.ID=function(c){var b=c.replace(ka,ra);return function(c){return(c="undefined"!=typeof c.getAttributeNode&&c.getAttributeNode("id"))&&c.value===b}},z.find.ID=function(c,b){if("undefined"!=typeof b.getElementById&&qa){var e,r,g,f=b.getElementById(c);
if(f){if(e=f.getAttributeNode("id"),e&&e.value===c)return[f];g=b.getElementsByName(c);for(r=0;f=g[r++];)if(e=f.getAttributeNode("id"),e&&e.value===c)return[f]}return[]}}),z.find.TAG=C.getElementsByTagName?function(c,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(c):C.qsa?b.querySelectorAll(c):void 0}:function(c,b){var e,r=[],g=0,f=b.getElementsByTagName(c);if("*"===c){for(;e=f[g++];)1===e.nodeType&&r.push(e);return r}return f},z.find.CLASS=C.getElementsByClassName&&function(c,
b){if("undefined"!=typeof b.getElementsByClassName&&qa)return b.getElementsByClassName(c)},ba=[],X=[],(C.qsa=ma.test(w.querySelectorAll))&&(g(function(c){ea.appendChild(c).innerHTML="<a id='"+O+"'></a><select id='"+O+"-\r\\' msallowcapture=''><option selected=''></option></select>";c.querySelectorAll("[msallowcapture^='']").length&&X.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");c.querySelectorAll("[selected]").length||X.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
c.querySelectorAll("[id~="+O+"-]").length||X.push("~=");c.querySelectorAll(":checked").length||X.push(":checked");c.querySelectorAll("a#"+O+"+*").length||X.push(".#.+[+~]")}),g(function(c){c.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=w.createElement("input");b.setAttribute("type","hidden");c.appendChild(b).setAttribute("name","D");c.querySelectorAll("[name=d]").length&&X.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==c.querySelectorAll(":enabled").length&&
X.push(":enabled",":disabled");ea.appendChild(c).disabled=!0;2!==c.querySelectorAll(":disabled").length&&X.push(":enabled",":disabled");c.querySelectorAll("*,:x");X.push(",.*:")})),(C.matchesSelector=ma.test(ua=ea.matches||ea.webkitMatchesSelector||ea.mozMatchesSelector||ea.oMatchesSelector||ea.msMatchesSelector))&&g(function(c){C.disconnectedMatch=ua.call(c,"*");ua.call(c,"[s!='']:x");ba.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),
X=X.length&&new RegExp(X.join("|")),ba=ba.length&&new RegExp(ba.join("|")),b=ma.test(ea.compareDocumentPosition),xa=b||ma.test(ea.contains)?function(c,b){var e=9===c.nodeType?c.documentElement:c,r=b&&b.parentNode;return c===r||!(!r||1!==r.nodeType||!(e.contains?e.contains(r):c.compareDocumentPosition&&16&c.compareDocumentPosition(r)))}:function(c,b){if(b)for(;b=b.parentNode;)if(b===c)return!0;return!1},Ba=b?function(c,b){if(c===b)return P=!0,0;var e=!c.compareDocumentPosition-!b.compareDocumentPosition;
return e?e:(e=(c.ownerDocument||c)===(b.ownerDocument||b)?c.compareDocumentPosition(b):1,1&e||!C.sortDetached&&b.compareDocumentPosition(c)===e?c===w||c.ownerDocument===sa&&xa(sa,c)?-1:b===w||b.ownerDocument===sa&&xa(sa,b)?1:J?V(J,c)-V(J,b):0:4&e?-1:1)}:function(c,b){if(c===b)return P=!0,0;var e,r=0;e=c.parentNode;var g=b.parentNode,f=[c],h=[b];if(!e||!g)return c===w?-1:b===w?1:e?-1:g?1:J?V(J,c)-V(J,b):0;if(e===g)return k(c,b);for(e=c;e=e.parentNode;)f.unshift(e);for(e=b;e=e.parentNode;)h.unshift(e);
for(;f[r]===h[r];)r++;return r?k(f[r],h[r]):f[r]===sa?-1:h[r]===sa?1:0},w):w};b.matches=function(c,e){return b(c,null,null,e)};b.matchesSelector=function(c,e){if((c.ownerDocument||c)!==w&&R(c),e=e.replace(ga,"='$1']"),!(!C.matchesSelector||!qa||N[e+" "]||ba&&ba.test(e)||X&&X.test(e)))try{var r=ua.call(c,e);if(r||C.disconnectedMatch||c.document&&11!==c.document.nodeType)return r}catch(ic){}return 0<b(e,w,null,[c]).length};b.contains=function(c,b){return(c.ownerDocument||c)!==w&&R(c),xa(c,b)};b.attr=
function(c,b){(c.ownerDocument||c)!==w&&R(c);var e=z.attrHandle[b.toLowerCase()],e=e&&S.call(z.attrHandle,b.toLowerCase())?e(c,b,!qa):void 0;return void 0!==e?e:C.attributes||!qa?c.getAttribute(b):(e=c.getAttributeNode(b))&&e.specified?e.value:null};b.escape=function(c){return(c+"").replace(va,wa)};b.error=function(c){throw Error("Syntax error, unrecognized expression: "+c);};b.uniqueSort=function(c){var b,e=[],r=0,g=0;if(P=!C.detectDuplicates,J=!C.sortStable&&c.slice(0),c.sort(Ba),P){for(;b=c[g++];)b===
c[g]&&(r=e.push(g));for(;r--;)c.splice(e[r],1)}return J=null,c};oa=b.getText=function(c){var b,e="",r=0;if(b=c.nodeType)if(1===b||9===b||11===b){if("string"==typeof c.textContent)return c.textContent;for(c=c.firstChild;c;c=c.nextSibling)e+=oa(c)}else{if(3===b||4===b)return c.nodeValue}else for(;b=c[r++];)e+=oa(b);return e};z=b.selectors={cacheLength:50,createPseudo:r,match:Da,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},
"~":{dir:"previousSibling"}},preFilter:{ATTR:function(c){return c[1]=c[1].replace(ka,ra),c[3]=(c[3]||c[4]||c[5]||"").replace(ka,ra),"~="===c[2]&&(c[3]=" "+c[3]+" "),c.slice(0,4)},CHILD:function(c){return c[1]=c[1].toLowerCase(),"nth"===c[1].slice(0,3)?(c[3]||b.error(c[0]),c[4]=+(c[4]?c[5]+(c[6]||1):2*("even"===c[3]||"odd"===c[3])),c[5]=+(c[7]+c[8]||"odd"===c[3])):c[3]&&b.error(c[0]),c},PSEUDO:function(c){var b,e=!c[6]&&c[2];return Da.CHILD.test(c[0])?null:(c[3]?c[2]=c[4]||c[5]||"":e&&ia.test(e)&&
(b=D(e,!0))&&(b=e.indexOf(")",e.length-b)-e.length)&&(c[0]=c[0].slice(0,b),c[2]=e.slice(0,b)),c.slice(0,3))}},filter:{TAG:function(c){var b=c.replace(ka,ra).toLowerCase();return"*"===c?function(){return!0}:function(c){return c.nodeName&&c.nodeName.toLowerCase()===b}},CLASS:function(c){var b=K[c+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+c+"([\\x20\\t\\r\\n\\f]|$)"),K(c,function(c){return b.test("string"==typeof c.className&&c.className||"undefined"!=typeof c.getAttribute&&c.getAttribute("class")||
"")}))},ATTR:function(c,e,r){return function(g){g=b.attr(g,c);return null==g?"!="===e:!e||(g+="","="===e?g===r:"!="===e?g!==r:"^="===e?r&&0===g.indexOf(r):"*="===e?r&&-1<g.indexOf(r):"$="===e?r&&g.slice(-r.length)===r:"~="===e?-1<(" "+g.replace(la," ")+" ").indexOf(r):"|="===e&&(g===r||g.slice(0,r.length+1)===r+"-"))}},CHILD:function(c,b,e,r,g){var f="nth"!==c.slice(0,3),k="last"!==c.slice(-4),h="of-type"===b;return 1===r&&0===g?function(c){return!!c.parentNode}:function(b,e,n){var G,m,u,p,q,y;e=
f!==k?"nextSibling":"previousSibling";var v=b.parentNode,I=h&&b.nodeName.toLowerCase();n=!n&&!h;var A=!1;if(v){if(f){for(;e;){for(p=b;p=p[e];)if(h?p.nodeName.toLowerCase()===I:1===p.nodeType)return!1;y=e="only"===c&&!y&&"nextSibling"}return!0}if(y=[k?v.firstChild:v.lastChild],k&&n)for(p=v,u=p[O]||(p[O]={}),m=u[p.uniqueID]||(u[p.uniqueID]={}),G=m[c]||[],A=(q=G[0]===Q&&G[1])&&G[2],p=q&&v.childNodes[q];p=++q&&p&&p[e]||(A=q=0)||y.pop();){if(1===p.nodeType&&++A&&p===b){m[c]=[Q,q,A];break}}else if(n&&(p=
b,u=p[O]||(p[O]={}),m=u[p.uniqueID]||(u[p.uniqueID]={}),G=m[c]||[],q=G[0]===Q&&G[1],A=q),!1===A)for(;(p=++q&&p&&p[e]||(A=q=0)||y.pop())&&((h?p.nodeName.toLowerCase()!==I:1!==p.nodeType)||!++A||(n&&(u=p[O]||(p[O]={}),m=u[p.uniqueID]||(u[p.uniqueID]={}),m[c]=[Q,A]),p!==b)););return A-=g,A===r||0===A%r&&0<=A/r}}},PSEUDO:function(c,e){var g,f=z.pseudos[c]||z.setFilters[c.toLowerCase()]||b.error("unsupported pseudo: "+c);return f[O]?f(e):1<f.length?(g=[c,c,"",e],z.setFilters.hasOwnProperty(c.toLowerCase())?
r(function(c,b){for(var r,g=f(c,e),k=g.length;k--;)r=V(c,g[k]),c[r]=!(b[r]=g[k])}):function(c){return f(c,0,g)}):f}},pseudos:{not:r(function(c){var b=[],e=[],g=M(c.replace(Z,"$1"));return g[O]?r(function(c,b,e,r){var f;e=g(c,null,r,[]);for(r=c.length;r--;)(f=e[r])&&(c[r]=!(b[r]=f))}):function(c,r,f){return b[0]=c,g(b,null,f,e),b[0]=null,!e.pop()}}),has:r(function(c){return function(e){return 0<b(c,e).length}}),contains:r(function(c){return c=c.replace(ka,ra),function(b){return-1<(b.textContent||b.innerText||
oa(b)).indexOf(c)}}),lang:r(function(c){return ja.test(c||"")||b.error("unsupported lang: "+c),c=c.replace(ka,ra).toLowerCase(),function(b){var e;do if(e=qa?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return e=e.toLowerCase(),e===c||0===e.indexOf(c+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var e=c.location&&c.location.hash;return e&&e.slice(1)===b.id},root:function(c){return c===ea},focus:function(c){return c===w.activeElement&&(!w.hasFocus||w.hasFocus())&&
!!(c.type||c.href||~c.tabIndex)},enabled:m(!1),disabled:m(!0),checked:function(c){var b=c.nodeName.toLowerCase();return"input"===b&&!!c.checked||"option"===b&&!!c.selected},selected:function(c){return c.parentNode&&c.parentNode.selectedIndex,!0===c.selected},empty:function(c){for(c=c.firstChild;c;c=c.nextSibling)if(6>c.nodeType)return!1;return!0},parent:function(c){return!z.pseudos.empty(c)},header:function(c){return na.test(c.nodeName)},input:function(c){return ta.test(c.nodeName)},button:function(c){var b=
c.nodeName.toLowerCase();return"input"===b&&"button"===c.type||"button"===b},text:function(c){var b;return"input"===c.nodeName.toLowerCase()&&"text"===c.type&&(null==(b=c.getAttribute("type"))||"text"===b.toLowerCase())},first:u(function(){return[0]}),last:u(function(c,b){return[b-1]}),eq:u(function(c,b,e){return[0>e?e+b:e]}),even:u(function(c,b){for(var e=0;e<b;e+=2)c.push(e);return c}),odd:u(function(c,b){for(var e=1;e<b;e+=2)c.push(e);return c}),lt:u(function(c,b,e){for(b=0>e?e+b:e;0<=--b;)c.push(b);
return c}),gt:u(function(c,b,e){for(e=0>e?e+b:e;++e<b;)c.push(e);return c})}};z.pseudos.nth=z.pseudos.eq;for(E in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})z.pseudos[E]=h(E);for(E in{submit:!0,reset:!0})z.pseudos[E]=n(E);q.prototype=z.filters=z.pseudos;z.setFilters=new q;D=b.tokenize=function(c,e){var r,g,f,k,h,n,G;if(h=Fa[c+" "])return e?0:h.slice(0);h=c;n=[];for(G=z.preFilter;h;){r&&!(g=ha.exec(h))||(g&&(h=h.slice(g[0].length)||h),n.push(f=[]));r=!1;(g=da.exec(h))&&(r=g.shift(),f.push({value:r,
type:g[0].replace(Z," ")}),h=h.slice(r.length));for(k in z.filter)!(g=Da[k].exec(h))||G[k]&&!(g=G[k](g))||(r=g.shift(),f.push({value:r,type:k,matches:g}),h=h.slice(r.length));if(!r)break}return e?h.length:h?b.error(c):Fa(c,n).slice(0)};return M=b.compile=function(c,b){var e,r=[],g=[],f=N[c+" "];if(!f){b||(b=D(c));for(e=b.length;e--;)f=t(b[e]),f[O]?r.push(f):g.push(f);f=N(c,F(g,r));f.selector=c}return f},H=b.select=function(c,b,e,r){var g,f,k,h,n,G="function"==typeof c&&c,m=!r&&D(c=G.selector||c);
if(e=e||[],1===m.length){if(f=m[0]=m[0].slice(0),2<f.length&&"ID"===(k=f[0]).type&&9===b.nodeType&&qa&&z.relative[f[1].type]){if(b=(z.find.ID(k.matches[0].replace(ka,ra),b)||[])[0],!b)return e;G&&(b=b.parentNode);c=c.slice(f.shift().value.length)}for(g=Da.needsContext.test(c)?0:f.length;g--&&(k=f[g],!z.relative[h=k.type]);)if((n=z.find[h])&&(r=n(k.matches[0].replace(ka,ra),pa.test(f[0].type)&&p(b.parentNode)||b))){if(f.splice(g,1),c=r.length&&y(f),!c)return U.apply(e,r),e;break}}return(G||M(c,m))(r,
b,!qa,e,!b||pa.test(c)&&p(b.parentNode)||b),e},C.sortStable=O.split("").sort(Ba).join("")===O,C.detectDuplicates=!!P,R(),C.sortDetached=g(function(c){return 1&c.compareDocumentPosition(w.createElement("fieldset"))}),g(function(c){return c.innerHTML="<a href='#'></a>","#"===c.firstChild.getAttribute("href")})||f("type|href|height|width",function(c,b,e){if(!e)return c.getAttribute(b,"type"===b.toLowerCase()?1:2)}),C.attributes&&g(function(c){return c.innerHTML="<input/>",c.firstChild.setAttribute("value",
""),""===c.firstChild.getAttribute("value")})||f("value",function(c,b,e){if(!e&&"input"===c.nodeName.toLowerCase())return c.defaultValue}),g(function(c){return null==c.getAttribute("disabled")})||f("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(c,b,e){var r;if(!e)return!0===c[b]?b.toLowerCase():(r=c.getAttributeNode(b))&&r.specified?r.value:null}),b}(c);p.find=za;p.expr=za.selectors;p.expr[":"]=p.expr.pseudos;p.uniqueSort=
p.unique=za.uniqueSort;p.text=za.getText;p.isXMLDoc=za.isXML;p.contains=za.contains;p.escapeSelector=za.escape;var ra=function(c,b,e){for(var r=[],g=void 0!==e;(c=c[b])&&9!==c.nodeType;)if(1===c.nodeType){if(g&&p(c).is(e))break;r.push(c)}return r},bb=function(c,b){for(var e=[];c;c=c.nextSibling)1===c.nodeType&&c!==b&&e.push(c);return e},cb=p.expr.match.needsContext,db=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,rb=/^.[^:#\[\.,]*$/;p.filter=function(c,b,e){var r=b[0];return e&&
(c=":not("+c+")"),1===b.length&&1===r.nodeType?p.find.matchesSelector(r,c)?[r]:[]:p.find.matches(c,p.grep(b,function(c){return 1===c.nodeType}))};p.fn.extend({find:function(c){var b,e,r=this.length,g=this;if("string"!=typeof c)return this.pushStack(p(c).filter(function(){for(b=0;b<r;b++)if(p.contains(g[b],this))return!0}));e=this.pushStack([]);for(b=0;b<r;b++)p.find(c,g[b],e);return 1<r?p.uniqueSort(e):e},filter:function(c){return this.pushStack(h(this,c||[],!1))},not:function(c){return this.pushStack(h(this,
c||[],!0))},is:function(c){return!!h(this,"string"==typeof c&&cb.test(c)?p(c):c||[],!1).length}});var eb,Gb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(p.fn.init=function(c,b,e){var r,g;if(!c)return this;if(e=e||eb,"string"==typeof c){if(r="<"===c[0]&&">"===c[c.length-1]&&3<=c.length?[null,c,null]:Gb.exec(c),!r||!r[1]&&b)return!b||b.jquery?(b||e).find(c):this.constructor(b).find(c);if(r[1]){if(b=b instanceof p?b[0]:b,p.merge(this,p.parseHTML(r[1],b&&b.nodeType?b.ownerDocument||b:I,!0)),db.test(r[1])&&
p.isPlainObject(b))for(r in b)p.isFunction(this[r])?this[r](b[r]):this.attr(r,b[r]);return this}return g=I.getElementById(r[2]),g&&(this[0]=g,this.length=1),this}return c.nodeType?(this[0]=c,this.length=1,this):p.isFunction(c)?void 0!==e.ready?e.ready(c):c(p):p.makeArray(c,this)}).prototype=p.fn;eb=p(I);var Hb=/^(?:parents|prev(?:Until|All))/,Ib={children:!0,contents:!0,next:!0,prev:!0};p.fn.extend({has:function(c){var b=p(c,this),e=b.length;return this.filter(function(){for(var c=0;c<e;c++)if(p.contains(this,
b[c]))return!0})},closest:function(c,b){var e,r=0,g=this.length,f=[],k="string"!=typeof c&&p(c);if(!cb.test(c))for(;r<g;r++)for(e=this[r];e&&e!==b;e=e.parentNode)if(11>e.nodeType&&(k?-1<k.index(e):1===e.nodeType&&p.find.matchesSelector(e,c))){f.push(e);break}return this.pushStack(1<f.length?p.uniqueSort(f):f)},index:function(c){return c?"string"==typeof c?ea.call(p(c),this[0]):ea.call(this,c.jquery?c[0]:c):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(c,b){return this.pushStack(p.uniqueSort(p.merge(this.get(),
p(c,b))))},addBack:function(c){return this.add(null==c?this.prevObject:this.prevObject.filter(c))}});p.each({parent:function(c){return(c=c.parentNode)&&11!==c.nodeType?c:null},parents:function(c){return ra(c,"parentNode")},parentsUntil:function(c,b,e){return ra(c,"parentNode",e)},next:function(c){return q(c,"nextSibling")},prev:function(c){return q(c,"previousSibling")},nextAll:function(c){return ra(c,"nextSibling")},prevAll:function(c){return ra(c,"previousSibling")},nextUntil:function(c,b,e){return ra(c,
"nextSibling",e)},prevUntil:function(c,b,e){return ra(c,"previousSibling",e)},siblings:function(c){return bb((c.parentNode||{}).firstChild,c)},children:function(c){return bb(c.firstChild)},contents:function(c){return c.contentDocument||p.merge([],c.childNodes)}},function(c,b){p.fn[c]=function(e,r){var g=p.map(this,b,e);return"Until"!==c.slice(-5)&&(r=e),r&&"string"==typeof r&&(g=p.filter(r,g)),1<this.length&&(Ib[c]||p.uniqueSort(g),Hb.test(c)&&g.reverse()),this.pushStack(g)}});var pa=/[^\x20\t\r\n\f]+/g;
p.Callbacks=function(c){c="string"==typeof c?m(c):p.extend({},c);var b,e,r,g,f=[],k=[],h=-1,n=function(){g=c.once;for(r=b=!0;k.length;h=-1)for(e=k.shift();++h<f.length;)!1===f[h].apply(e[0],e[1])&&c.stopOnFalse&&(h=f.length,e=!1);c.memory||(e=!1);b=!1;g&&(f=e?[]:"")},u={add:function(){return f&&(e&&!b&&(h=f.length-1,k.push(e)),function vb(b){p.each(b,function(b,e){p.isFunction(e)?c.unique&&u.has(e)||f.push(e):e&&e.length&&"string"!==p.type(e)&&vb(e)})}(arguments),e&&!b&&n()),this},remove:function(){return p.each(arguments,
function(c,b){for(var e;-1<(e=p.inArray(b,f,e));)f.splice(e,1),e<=h&&h--}),this},has:function(c){return c?-1<p.inArray(c,f):0<f.length},empty:function(){return f&&(f=[]),this},disable:function(){return g=k=[],f=e="",this},disabled:function(){return!f},lock:function(){return g=k=[],e||b||(f=e=""),this},locked:function(){return!!g},fireWith:function(c,e){return g||(e=e||[],e=[c,e.slice?e.slice():e],k.push(e),b||n()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};
return u};p.extend({Deferred:function(b){var e=[["notify","progress",p.Callbacks("memory"),p.Callbacks("memory"),2],["resolve","done",p.Callbacks("once memory"),p.Callbacks("once memory"),0,"resolved"],["reject","fail",p.Callbacks("once memory"),p.Callbacks("once memory"),1,"rejected"]],r="pending",g={state:function(){return r},always:function(){return f.done(arguments).fail(arguments),this},"catch":function(c){return g.then(null,c)},pipe:function(){var c=arguments;return p.Deferred(function(b){p.each(e,
function(e,g){var r=p.isFunction(c[g[4]])&&c[g[4]];f[g[1]](function(){var c=r&&r.apply(this,arguments);c&&p.isFunction(c.promise)?c.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[g[0]+"With"](this,r?[c]:arguments)})});c=null}).promise()},then:function(b,g,r){function f(b,e,g,r){return function(){var n=this,m=arguments,G=function(){var c,u;if(!(b<h)){if(c=g.apply(n,m),c===e.promise())throw new TypeError("Thenable self-resolution");u=c&&("object"==typeof c||"function"==typeof c)&&c.then;
p.isFunction(u)?r?u.call(c,f(h,e,t,r),f(h,e,k,r)):(h++,u.call(c,f(h,e,t,r),f(h,e,k,r),f(h,e,t,e.notifyWith))):(g!==t&&(n=void 0,m=[c]),(r||e.resolveWith)(n,m))}},u=r?G:function(){try{G()}catch(ab){p.Deferred.exceptionHook&&p.Deferred.exceptionHook(ab,u.stackTrace),b+1>=h&&(g!==k&&(n=void 0,m=[ab]),e.rejectWith(n,m))}};b?u():(p.Deferred.getStackHook&&(u.stackTrace=p.Deferred.getStackHook()),c.setTimeout(u))}}var h=0;return p.Deferred(function(c){e[0][3].add(f(0,c,p.isFunction(r)?r:t,c.notifyWith));
e[1][3].add(f(0,c,p.isFunction(b)?b:t));e[2][3].add(f(0,c,p.isFunction(g)?g:k))}).promise()},promise:function(c){return null!=c?p.extend(c,g):g}},f={};return p.each(e,function(c,b){var k=b[2],h=b[5];g[b[1]]=k.add;h&&k.add(function(){r=h},e[3-c][2].disable,e[0][2].lock);k.add(b[3].fire);f[b[0]]=function(){return f[b[0]+"With"](this===f?void 0:this,arguments),this};f[b[0]+"With"]=k.fireWith}),g.promise(f),b&&b.call(f,f),f},when:function(c){var b=arguments.length,e=b,r=Array(e),g=fa.call(arguments),
f=p.Deferred(),k=function(c){return function(e){r[c]=this;g[c]=1<arguments.length?fa.call(arguments):e;--b||f.resolveWith(r,g)}};if(1>=b&&(n(c,f.done(k(e)).resolve,f.reject),"pending"===f.state()||p.isFunction(g[e]&&g[e].then)))return f.then();for(;e--;)n(g[e],k(e),f.reject);return f.promise()}});var Jb=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;p.Deferred.exceptionHook=function(b,e){c.console&&c.console.warn&&b&&Jb.test(b.name)&&c.console.warn("jQuery.Deferred exception: "+b.message,
b.stack,e)};p.readyException=function(b){c.setTimeout(function(){throw b;})};var Qa=p.Deferred();p.fn.ready=function(c){return Qa.then(c)["catch"](function(c){p.readyException(c)}),this};p.extend({isReady:!1,readyWait:1,holdReady:function(c){c?p.readyWait++:p.ready(!0)},ready:function(c){(!0===c?--p.readyWait:p.isReady)||(p.isReady=!0,!0!==c&&0<--p.readyWait||Qa.resolveWith(I,[p]))}});p.ready.then=Qa.then;"complete"===I.readyState||"loading"!==I.readyState&&!I.documentElement.doScroll?c.setTimeout(p.ready):
(I.addEventListener("DOMContentLoaded",g),c.addEventListener("load",g));var va=function(c,b,e,g,f,k,h){var r=0,n=c.length,m=null==e;if("object"===p.type(e))for(r in f=!0,e)va(c,b,r,e[r],!0,k,h);else if(void 0!==g&&(f=!0,p.isFunction(g)||(h=!0),m&&(h?(b.call(c,g),b=null):(m=b,b=function(c,b,e){return m.call(p(c),e)})),b))for(;r<n;r++)b(c[r],e,h?g:g.call(c[r],r,b(c[r],e)));return f?c:m?b.call(c):n?b(c[0],e):k},La=function(c){return 1===c.nodeType||9===c.nodeType||!+c.nodeType};y.uid=1;y.prototype={cache:function(c){var b=
c[this.expando];return b||(b={},La(c)&&(c.nodeType?c[this.expando]=b:Object.defineProperty(c,this.expando,{value:b,configurable:!0}))),b},set:function(c,b,e){var g;c=this.cache(c);if("string"==typeof b)c[p.camelCase(b)]=e;else for(g in b)c[p.camelCase(g)]=b[g];return c},get:function(c,b){return void 0===b?this.cache(c):c[this.expando]&&c[this.expando][p.camelCase(b)]},access:function(c,b,e){return void 0===b||b&&"string"==typeof b&&void 0===e?this.get(c,b):(this.set(c,b,e),void 0!==e?e:b)},remove:function(c,
b){var e,g=c[this.expando];if(void 0!==g){if(void 0!==b)for(p.isArray(b)?b=b.map(p.camelCase):(b=p.camelCase(b),b=b in g?[b]:b.match(pa)||[]),e=b.length;e--;)delete g[b[e]];(void 0===b||p.isEmptyObject(g))&&(c.nodeType?c[this.expando]=void 0:delete c[this.expando])}},hasData:function(c){c=c[this.expando];return void 0!==c&&!p.isEmptyObject(c)}};var U=new y,ma=new y,tb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,sb=/[A-Z]/g;p.extend({hasData:function(c){return ma.hasData(c)||U.hasData(c)},data:function(c,b,e){return ma.access(c,
b,e)},removeData:function(c,b){ma.remove(c,b)},_data:function(c,b,e){return U.access(c,b,e)},_removeData:function(c,b){U.remove(c,b)}});p.fn.extend({data:function(c,b){var e,g,r,f=this[0],k=f&&f.attributes;if(void 0===c){if(this.length&&(r=ma.get(f),1===f.nodeType&&!U.get(f,"hasDataAttrs"))){for(e=k.length;e--;)k[e]&&(g=k[e].name,0===g.indexOf("data-")&&(g=p.camelCase(g.slice(5)),z(f,g,r[g])));U.set(f,"hasDataAttrs",!0)}return r}return"object"==typeof c?this.each(function(){ma.set(this,c)}):va(this,
function(b){var e;if(f&&void 0===b){if((e=ma.get(f,c),void 0!==e)||(e=z(f,c),void 0!==e))return e}else this.each(function(){ma.set(this,c,b)})},null,b,1<arguments.length,null,!0)},removeData:function(c){return this.each(function(){ma.remove(this,c)})}});p.extend({queue:function(c,b,e){var g;if(c)return b=(b||"fx")+"queue",g=U.get(c,b),e&&(!g||p.isArray(e)?g=U.access(c,b,p.makeArray(e)):g.push(e)),g||[]},dequeue:function(c,b){b=b||"fx";var e=p.queue(c,b),g=e.length,r=e.shift(),f=p._queueHooks(c,b),
k=function(){p.dequeue(c,b)};"inprogress"===r&&(r=e.shift(),g--);r&&("fx"===b&&e.unshift("inprogress"),delete f.stop,r.call(c,k,f));!g&&f&&f.empty.fire()},_queueHooks:function(c,b){var e=b+"queueHooks";return U.get(c,e)||U.access(c,e,{empty:p.Callbacks("once memory").add(function(){U.remove(c,[b+"queue",e])})})}});p.fn.extend({queue:function(c,b){var e=2;return"string"!=typeof c&&(b=c,c="fx",e--),arguments.length<e?p.queue(this[0],c):void 0===b?this:this.each(function(){var e=p.queue(this,c,b);p._queueHooks(this,
c);"fx"===c&&"inprogress"!==e[0]&&p.dequeue(this,c)})},dequeue:function(c){return this.each(function(){p.dequeue(this,c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,b){var e,g=1,r=p.Deferred(),f=this,k=this.length,h=function(){--g||r.resolveWith(f,[f])};"string"!=typeof c&&(b=c,c=void 0);for(c=c||"fx";k--;)(e=U.get(f[k],c+"queueHooks"))&&e.empty&&(g++,e.empty.add(h));return h(),r.promise(b)}});var fb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ea=new RegExp("^(?:([+-])=|)("+
fb+")([a-z%]*)$","i"),wa=["Top","Right","Bottom","Left"],Ja=function(c,b){return c=b||c,"none"===c.style.display||""===c.style.display&&p.contains(c.ownerDocument,c)&&"none"===p.css(c,"display")},gb=function(c,b,e,g){var r,f={};for(r in b)f[r]=c.style[r],c.style[r]=b[r];e=e.apply(c,g||[]);for(r in b)c.style[r]=f[r];return e},Va={};p.fn.extend({show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(c){return"boolean"==typeof c?c?this.show():this.hide():this.each(function(){Ja(this)?
p(this).show():p(this).hide()})}});var hb=/^(?:checkbox|radio)$/i,Wa=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Xa=/^$|\/(?:java|ecma)script/i,ka={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ka.optgroup=ka.option;ka.tbody=ka.tfoot=ka.colgroup=ka.caption=ka.thead;ka.th=ka.td;var wb=/<|&#?\w+;/;!function(){var c=
I.createDocumentFragment().appendChild(I.createElement("div")),b=I.createElement("input");b.setAttribute("type","radio");b.setAttribute("checked","checked");b.setAttribute("name","t");c.appendChild(b);aa.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;c.innerHTML="<textarea>x</textarea>";aa.noCloneChecked=!!c.cloneNode(!0).lastChild.defaultValue}();var Ma=I.documentElement,Kb=/^key/,Lb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ib=/^([^.]*)(?:\.(.+)|)/;p.event={global:{},add:function(c,
b,e,g,f){var r,k,h,n,m,u,q,y,G,v;if(m=U.get(c))for(e.handler&&(r=e,e=r.handler,f=r.selector),f&&p.find.matchesSelector(Ma,f),e.guid||(e.guid=p.guid++),(n=m.events)||(n=m.events={}),(k=m.handle)||(k=m.handle=function(b){return"undefined"!=typeof p&&p.event.triggered!==b.type?p.event.dispatch.apply(c,arguments):void 0}),b=(b||"").match(pa)||[""],m=b.length;m--;)h=ib.exec(b[m])||[],G=v=h[1],h=(h[2]||"").split(".").sort(),G&&(q=p.event.special[G]||{},G=(f?q.delegateType:q.bindType)||G,q=p.event.special[G]||
{},u=p.extend({type:G,origType:v,data:g,handler:e,guid:e.guid,selector:f,needsContext:f&&p.expr.match.needsContext.test(f),namespace:h.join(".")},r),(y=n[G])||(y=n[G]=[],y.delegateCount=0,q.setup&&!1!==q.setup.call(c,g,h,k)||c.addEventListener&&c.addEventListener(G,k)),q.add&&(q.add.call(c,u),u.handler.guid||(u.handler.guid=e.guid)),f?y.splice(y.delegateCount++,0,u):y.push(u),p.event.global[G]=!0)},remove:function(c,b,e,g,f){var r,k,h,n,m,u,q,y,G,v,I,A=U.hasData(c)&&U.get(c);if(A&&(n=A.events)){b=
(b||"").match(pa)||[""];for(m=b.length;m--;)if(h=ib.exec(b[m])||[],G=I=h[1],v=(h[2]||"").split(".").sort(),G){q=p.event.special[G]||{};G=(g?q.delegateType:q.bindType)||G;y=n[G]||[];h=h[2]&&new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)");for(k=r=y.length;r--;)u=y[r],!f&&I!==u.origType||e&&e.guid!==u.guid||h&&!h.test(u.namespace)||g&&g!==u.selector&&("**"!==g||!u.selector)||(y.splice(r,1),u.selector&&y.delegateCount--,q.remove&&q.remove.call(c,u));k&&!y.length&&(q.teardown&&!1!==q.teardown.call(c,
v,A.handle)||p.removeEvent(c,G,A.handle),delete n[G])}else for(G in n)p.event.remove(c,G+b[m],e,g,!0);p.isEmptyObject(n)&&U.remove(c,"handle events")}},dispatch:function(c){var b=p.event.fix(c),e,g,r,f,k,h,n=Array(arguments.length);g=(U.get(this,"events")||{})[b.type]||[];var m=p.event.special[b.type]||{};n[0]=b;for(e=1;e<arguments.length;e++)n[e]=arguments[e];if(b.delegateTarget=this,!m.preDispatch||!1!==m.preDispatch.call(this,b)){h=p.event.handlers.call(this,b,g);for(e=0;(f=h[e++])&&!b.isPropagationStopped();)for(b.currentTarget=
f.elem,g=0;(k=f.handlers[g++])&&!b.isImmediatePropagationStopped();)b.rnamespace&&!b.rnamespace.test(k.namespace)||(b.handleObj=k,b.data=k.data,r=((p.event.special[k.origType]||{}).handle||k.handler).apply(f.elem,n),void 0!==r&&!1===(b.result=r)&&(b.preventDefault(),b.stopPropagation()));return m.postDispatch&&m.postDispatch.call(this,b),b.result}},handlers:function(c,b){var e,g,r,f,k,h=[],n=b.delegateCount,m=c.target;if(n&&m.nodeType&&!("click"===c.type&&1<=c.button))for(;m!==this;m=m.parentNode||
this)if(1===m.nodeType&&("click"!==c.type||!0!==m.disabled)){f=[];k={};for(e=0;e<n;e++)g=b[e],r=g.selector+" ",void 0===k[r]&&(k[r]=g.needsContext?-1<p(r,this).index(m):p.find(r,this,null,[m]).length),k[r]&&f.push(g);f.length&&h.push({elem:m,handlers:f})}return m=this,n<b.length&&h.push({elem:m,handlers:b.slice(n)}),h},addProp:function(c,b){Object.defineProperty(p.Event.prototype,c,{enumerable:!0,configurable:!0,get:p.isFunction(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[c]},
set:function(b){Object.defineProperty(this,c,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(c){return c[p.expando]?c:new p.Event(c)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==J()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===J()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&p.nodeName(this,"input"))return this.click(),!1},_default:function(c){return p.nodeName(c.target,
"a")}},beforeunload:{postDispatch:function(c){void 0!==c.result&&c.originalEvent&&(c.originalEvent.returnValue=c.result)}}}};p.removeEvent=function(c,b,e){c.removeEventListener&&c.removeEventListener(b,e)};p.Event=function(c,b){return this instanceof p.Event?(c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||void 0===c.defaultPrevented&&!1===c.returnValue?D:H,this.target=c.target&&3===c.target.nodeType?c.target.parentNode:c.target,this.currentTarget=c.currentTarget,
this.relatedTarget=c.relatedTarget):this.type=c,b&&p.extend(this,b),this.timeStamp=c&&c.timeStamp||p.now(),void(this[p.expando]=!0)):new p.Event(c,b)};p.Event.prototype={constructor:p.Event,isDefaultPrevented:H,isPropagationStopped:H,isImmediatePropagationStopped:H,isSimulated:!1,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=D;c&&!this.isSimulated&&c.preventDefault()},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=D;c&&!this.isSimulated&&
c.stopPropagation()},stopImmediatePropagation:function(){var c=this.originalEvent;this.isImmediatePropagationStopped=D;c&&!this.isSimulated&&c.stopImmediatePropagation();this.stopPropagation()}};p.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,
toElement:!0,touches:!0,which:function(c){var b=c.button;return null==c.which&&Kb.test(c.type)?null!=c.charCode?c.charCode:c.keyCode:!c.which&&void 0!==b&&Lb.test(c.type)?1&b?1:2&b?3:4&b?2:0:c.which}},p.event.addProp);p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(c,b){p.event.special[c]={delegateType:b,bindType:b,handle:function(c){var e,g=c.relatedTarget,f=c.handleObj;return g&&(g===this||p.contains(this,g))||(c.type=f.origType,
e=f.handler.apply(this,arguments),c.type=b),e}}});p.fn.extend({on:function(c,b,e,g){return w(this,c,b,e,g)},one:function(c,b,e,g){return w(this,c,b,e,g,1)},off:function(c,b,e){var g,f;if(c&&c.preventDefault&&c.handleObj)return g=c.handleObj,p(c.delegateTarget).off(g.namespace?g.origType+"."+g.namespace:g.origType,g.selector,g.handler),this;if("object"==typeof c){for(f in c)this.off(f,b,c[f]);return this}return!1!==b&&"function"!=typeof b||(e=b,b=void 0),!1===e&&(e=H),this.each(function(){p.event.remove(this,
c,e,b)})}});var Mb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Nb=/<script|<style|<link/i,yb=/checked\s*(?:[^=]|=\s*.checked.)/i,xb=/^true\/(.*)/,zb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;p.extend({htmlPrefilter:function(c){return c.replace(Mb,"<$1></$2>")},clone:function(c,b,e){var g,f,r,k,h=c.cloneNode(!0),n=p.contains(c.ownerDocument,c);if(!(aa.noCloneChecked||1!==c.nodeType&&11!==c.nodeType||p.isXMLDoc(c)))for(k=x(h),r=x(c),g=0,f=r.length;g<
f;g++){var m=r[g],u=k[g],q=u.nodeName.toLowerCase();"input"===q&&hb.test(m.type)?u.checked=m.checked:"input"!==q&&"textarea"!==q||(u.defaultValue=m.defaultValue)}if(b)if(e)for(r=r||x(c),k=k||x(h),g=0,f=r.length;g<f;g++)B(r[g],k[g]);else B(c,h);return k=x(h,"script"),0<k.length&&C(k,!n&&x(c,"script")),h},cleanData:function(c){for(var b,e,g,f=p.event.special,r=0;void 0!==(e=c[r]);r++)if(La(e)){if(b=e[U.expando]){if(b.events)for(g in b.events)f[g]?p.event.remove(e,g):p.removeEvent(e,g,b.handle);e[U.expando]=
void 0}e[ma.expando]&&(e[ma.expando]=void 0)}}});p.fn.extend({detach:function(c){return P(this,c,!0)},remove:function(c){return P(this,c)},text:function(c){return va(this,function(c){return void 0===c?p.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=c)})},null,c,arguments.length)},append:function(){return A(this,arguments,function(c){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||R(this,c).appendChild(c)})},prepend:function(){return A(this,
arguments,function(c){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=R(this,c);b.insertBefore(c,b.firstChild)}})},before:function(){return A(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this)})},after:function(){return A(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this.nextSibling)})},empty:function(){for(var c,b=0;null!=(c=this[b]);b++)1===c.nodeType&&(p.cleanData(x(c,!1)),c.textContent="");return this},clone:function(c,
b){return c=null!=c&&c,b=null==b?c:b,this.map(function(){return p.clone(this,c,b)})},html:function(c){return va(this,function(c){var b=this[0]||{},e=0,g=this.length;if(void 0===c&&1===b.nodeType)return b.innerHTML;if("string"==typeof c&&!Nb.test(c)&&!ka[(Wa.exec(c)||["",""])[1].toLowerCase()]){c=p.htmlPrefilter(c);try{for(;e<g;e++)b=this[e]||{},1===b.nodeType&&(p.cleanData(x(b,!1)),b.innerHTML=c);b=0}catch(fc){}}b&&this.empty().append(c)},null,c,arguments.length)},replaceWith:function(){var c=[];
return A(this,arguments,function(b){var e=this.parentNode;0>p.inArray(this,c)&&(p.cleanData(x(this)),e&&e.replaceChild(b,this))},c)}});p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,b){p.fn[c]=function(c){for(var e=[],g=p(c),f=g.length-1,r=0;r<=f;r++)c=r===f?this:this.clone(!0),p(g[r])[b](c),qa.apply(e,c.get());return this.pushStack(e)}});var Ya=/^margin/,Na=new RegExp("^("+fb+")(?!px)[a-z%]+$","i"),Ka=function(b){var e=
b.ownerDocument.defaultView;return e&&e.opener||(e=c),e.getComputedStyle(b)};!function(){function b(){if(n){n.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";n.innerHTML="";Ma.appendChild(h);var b=c.getComputedStyle(n);e="1%"!==b.top;k="2px"===b.marginLeft;g="4px"===b.width;n.style.marginRight="50%";f="4px"===b.marginRight;Ma.removeChild(h);n=null}}var e,g,f,k,h=I.createElement("div"),n=I.createElement("div");n.style&&(n.style.backgroundClip=
"content-box",n.cloneNode(!0).style.backgroundClip="",aa.clearCloneStyle="content-box"===n.style.backgroundClip,h.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",h.appendChild(n),p.extend(aa,{pixelPosition:function(){return b(),e},boxSizingReliable:function(){return b(),g},pixelMarginRight:function(){return b(),f},reliableMarginLeft:function(){return b(),k}}))}();var Ob=/^(none|table(?!-c[ea]).+)/,Pb={position:"absolute",visibility:"hidden",
display:"block"},jb={letterSpacing:"0",fontWeight:"400"},$a=["Webkit","Moz","ms"],Za=I.createElement("div").style;p.extend({cssHooks:{opacity:{get:function(c,b){if(b){var e=O(c,"opacity");return""===e?"1":e}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(c,b,e,g){if(c&&3!==c.nodeType&&8!==c.nodeType&&c.style){var f,r,
k,h=p.camelCase(b),n=c.style;return b=p.cssProps[h]||(p.cssProps[h]=ha(h)||h),k=p.cssHooks[b]||p.cssHooks[h],void 0===e?k&&"get"in k&&void 0!==(f=k.get(c,!1,g))?f:n[b]:(r=typeof e,"string"===r&&(f=Ea.exec(e))&&f[1]&&(e=u(c,b,f),r="number"),null!=e&&e===e&&("number"===r&&(e+=f&&f[3]||(p.cssNumber[h]?"":"px")),aa.clearCloneStyle||""!==e||0!==b.indexOf("background")||(n[b]="inherit"),k&&"set"in k&&void 0===(e=k.set(c,e,g))||(n[b]=e)),void 0)}},css:function(c,b,e,g){var f,r,k,h=p.camelCase(b);return b=
p.cssProps[h]||(p.cssProps[h]=ha(h)||h),k=p.cssHooks[b]||p.cssHooks[h],k&&"get"in k&&(f=k.get(c,!0,e)),void 0===f&&(f=O(c,b,g)),"normal"===f&&b in jb&&(f=jb[b]),""===e||e?(r=parseFloat(f),!0===e||isFinite(r)?r||0:f):f}});p.each(["height","width"],function(c,b){p.cssHooks[b]={get:function(c,e,g){if(e)return!Ob.test(p.css(c,"display"))||c.getClientRects().length&&c.getBoundingClientRect().width?ba(c,b,g):gb(c,Pb,function(){return ba(c,b,g)})},set:function(c,e,g){var f,r=g&&Ka(c);g=g&&la(c,b,g,"border-box"===
p.css(c,"boxSizing",!1,r),r);return g&&(f=Ea.exec(e))&&"px"!==(f[3]||"px")&&(c.style[b]=e,e=p.css(c,b)),ca(c,e,g)}}});p.cssHooks.marginLeft=Q(aa.reliableMarginLeft,function(c,b){if(b)return(parseFloat(O(c,"marginLeft"))||c.getBoundingClientRect().left-gb(c,{marginLeft:0},function(){return c.getBoundingClientRect().left}))+"px"});p.each({margin:"",padding:"",border:"Width"},function(c,b){p.cssHooks[c+b]={expand:function(e){var g=0,f={};for(e="string"==typeof e?e.split(" "):[e];4>g;g++)f[c+wa[g]+b]=
e[g]||e[g-2]||e[0];return f}};Ya.test(c)||(p.cssHooks[c+b].set=ca)});p.fn.extend({css:function(c,b){return va(this,function(c,b,e){var g,f={},k=0;if(p.isArray(b)){e=Ka(c);for(g=b.length;k<g;k++)f[b[k]]=p.css(c,b[k],!1,e);return f}return void 0!==e?p.style(c,b,e):p.css(c,b)},c,b,1<arguments.length)}});p.Tween=X;X.prototype={constructor:X,init:function(c,b,e,g,f,k){this.elem=c;this.prop=e;this.easing=f||p.easing._default;this.options=b;this.start=this.now=this.cur();this.end=g;this.unit=k||(p.cssNumber[e]?
"":"px")},cur:function(){var c=X.propHooks[this.prop];return c&&c.get?c.get(this):X.propHooks._default.get(this)},run:function(c){var b,e=X.propHooks[this.prop];return this.options.duration?this.pos=b=p.easing[this.easing](c,this.options.duration*c,0,1,this.options.duration):this.pos=b=c,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),e&&e.set?e.set(this):X.propHooks._default.set(this),this}};X.prototype.init.prototype=X.prototype;X.propHooks=
{_default:{get:function(c){var b;return 1!==c.elem.nodeType||null!=c.elem[c.prop]&&null==c.elem.style[c.prop]?c.elem[c.prop]:(b=p.css(c.elem,c.prop,""),b&&"auto"!==b?b:0)},set:function(c){p.fx.step[c.prop]?p.fx.step[c.prop](c):1!==c.elem.nodeType||null==c.elem.style[p.cssProps[c.prop]]&&!p.cssHooks[c.prop]?c.elem[c.prop]=c.now:p.style(c.elem,c.prop,c.now+c.unit)}}};X.propHooks.scrollTop=X.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=c.now)}};p.easing={linear:function(c){return c},
swing:function(c){return.5-Math.cos(c*Math.PI)/2},_default:"swing"};p.fx=X.prototype.init;p.fx.step={};var Aa,ya,Qb=/^(?:toggle|show|hide)$/,Rb=/queueHooks$/;p.Animation=p.extend(K,{tweeners:{"*":[function(c,b){var e=this.createTween(c,b);return u(e.elem,c,Ea.exec(b),e),e}]},tweener:function(c,b){p.isFunction(c)?(b=c,c=["*"]):c=c.match(pa);for(var e,g=0,f=c.length;g<f;g++)e=c[g],K.tweeners[e]=K.tweeners[e]||[],K.tweeners[e].unshift(b)},prefilters:[function(c,b,e){var g,f,k,h,r,n,m,u,q="width"in b||
"height"in b,y=this,I={},A=c.style,x=c.nodeType&&Ja(c),t=U.get(c,"fxshow");e.queue||(h=p._queueHooks(c,"fx"),null==h.unqueued&&(h.unqueued=0,r=h.empty.fire,h.empty.fire=function(){h.unqueued||r()}),h.unqueued++,y.always(function(){y.always(function(){h.unqueued--;p.queue(c,"fx").length||h.empty.fire()})}));for(g in b)if(f=b[g],Qb.test(f)){if(delete b[g],k=k||"toggle"===f,f===(x?"hide":"show")){if("show"!==f||!t||void 0===t[g])continue;x=!0}I[g]=t&&t[g]||p.style(c,g)}if(n=!p.isEmptyObject(b),n||!p.isEmptyObject(I))for(g in q&&
1===c.nodeType&&(e.overflow=[A.overflow,A.overflowX,A.overflowY],m=t&&t.display,null==m&&(m=U.get(c,"display")),u=p.css(c,"display"),"none"===u&&(m?u=m:(v([c],!0),m=c.style.display||m,u=p.css(c,"display"),v([c]))),("inline"===u||"inline-block"===u&&null!=m)&&"none"===p.css(c,"float")&&(n||(y.done(function(){A.display=m}),null==m&&(u=A.display,m="none"===u?"":u)),A.display="inline-block")),e.overflow&&(A.overflow="hidden",y.always(function(){A.overflow=e.overflow[0];A.overflowX=e.overflow[1];A.overflowY=
e.overflow[2]})),n=!1,I)n||(t?"hidden"in t&&(x=t.hidden):t=U.access(c,"fxshow",{display:m}),k&&(t.hidden=!x),x&&v([c],!0),y.done(function(){x||v([c]);U.remove(c,"fxshow");for(g in I)p.style(c,g,I[g])})),n=na(x?t[g]:0,g,y),g in t||(t[g]=n.start,x&&(n.end=n.start,n.start=0))}],prefilter:function(c,b){b?K.prefilters.unshift(c):K.prefilters.push(c)}});p.speed=function(c,b,e){var g=c&&"object"==typeof c?p.extend({},c):{complete:e||!e&&b||p.isFunction(c)&&c,duration:c,easing:e&&b||b&&!p.isFunction(b)&&
b};return p.fx.off||I.hidden?g.duration=0:"number"!=typeof g.duration&&(g.duration in p.fx.speeds?g.duration=p.fx.speeds[g.duration]:g.duration=p.fx.speeds._default),null!=g.queue&&!0!==g.queue||(g.queue="fx"),g.old=g.complete,g.complete=function(){p.isFunction(g.old)&&g.old.call(this);g.queue&&p.dequeue(this,g.queue)},g};p.fn.extend({fadeTo:function(c,b,e,g){return this.filter(Ja).css("opacity",0).show().end().animate({opacity:b},c,e,g)},animate:function(c,b,e,g){var f=p.isEmptyObject(c),k=p.speed(b,
e,g);b=function(){var b=K(this,p.extend({},c),k);(f||U.get(this,"finish"))&&b.stop(!0)};return b.finish=b,f||!1===k.queue?this.each(b):this.queue(k.queue,b)},stop:function(c,b,e){var g=function(c){var b=c.stop;delete c.stop;b(e)};return"string"!=typeof c&&(e=b,b=c,c=void 0),b&&!1!==c&&this.queue(c||"fx",[]),this.each(function(){var b=!0,f=null!=c&&c+"queueHooks",k=p.timers,h=U.get(this);if(f)h[f]&&h[f].stop&&g(h[f]);else for(f in h)h[f]&&h[f].stop&&Rb.test(f)&&g(h[f]);for(f=k.length;f--;)k[f].elem!==
this||null!=c&&k[f].queue!==c||(k[f].anim.stop(e),b=!1,k.splice(f,1));!b&&e||p.dequeue(this,c)})},finish:function(c){return!1!==c&&(c=c||"fx"),this.each(function(){var b,e=U.get(this),g=e[c+"queue"];b=e[c+"queueHooks"];var f=p.timers,k=g?g.length:0;e.finish=!0;p.queue(this,c,[]);b&&b.stop&&b.stop.call(this,!0);for(b=f.length;b--;)f[b].elem===this&&f[b].queue===c&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<k;b++)g[b]&&g[b].finish&&g[b].finish.call(this);delete e.finish})}});p.each(["toggle","show",
"hide"],function(c,b){var e=p.fn[b];p.fn[b]=function(c,g,f){return null==c||"boolean"==typeof c?e.apply(this,arguments):this.animate(N(b,!0),c,g,f)}});p.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(c,b){p.fn[c]=function(c,e,g){return this.animate(b,c,e,g)}});p.timers=[];p.fx.tick=function(){var c,b=0,e=p.timers;for(Aa=p.now();b<e.length;b++)c=e[b],c()||e[b]!==c||e.splice(b--,1);e.length||
p.fx.stop();Aa=void 0};p.fx.timer=function(c){p.timers.push(c);c()?p.fx.start():p.timers.pop()};p.fx.interval=13;p.fx.start=function(){ya||(ya=c.requestAnimationFrame?c.requestAnimationFrame(ta):c.setInterval(p.fx.tick,p.fx.interval))};p.fx.stop=function(){c.cancelAnimationFrame?c.cancelAnimationFrame(ya):c.clearInterval(ya);ya=null};p.fx.speeds={slow:600,fast:200,_default:400};p.fn.delay=function(b,e){return b=p.fx?p.fx.speeds[b]||b:b,e=e||"fx",this.queue(e,function(e,g){var f=c.setTimeout(e,b);
g.stop=function(){c.clearTimeout(f)}})};(function(){var c=I.createElement("input"),b=I.createElement("select").appendChild(I.createElement("option"));c.type="checkbox";aa.checkOn=""!==c.value;aa.optSelected=b.selected;c=I.createElement("input");c.value="t";c.type="radio";aa.radioValue="t"===c.value})();var kb,Ga=p.expr.attrHandle;p.fn.extend({attr:function(c,b){return va(this,p.attr,c,b,1<arguments.length)},removeAttr:function(c){return this.each(function(){p.removeAttr(this,c)})}});p.extend({attr:function(c,
b,e){var g,f,k=c.nodeType;if(3!==k&&8!==k&&2!==k)return"undefined"==typeof c.getAttribute?p.prop(c,b,e):(1===k&&p.isXMLDoc(c)||(f=p.attrHooks[b.toLowerCase()]||(p.expr.match.bool.test(b)?kb:void 0)),void 0!==e?null===e?void p.removeAttr(c,b):f&&"set"in f&&void 0!==(g=f.set(c,e,b))?g:(c.setAttribute(b,e+""),e):f&&"get"in f&&null!==(g=f.get(c,b))?g:(g=p.find.attr(c,b),null==g?void 0:g))},attrHooks:{type:{set:function(c,b){if(!aa.radioValue&&"radio"===b&&p.nodeName(c,"input")){var e=c.value;return c.setAttribute("type",
b),e&&(c.value=e),b}}}},removeAttr:function(c,b){var e,g=0,f=b&&b.match(pa);if(f&&1===c.nodeType)for(;e=f[g++];)c.removeAttribute(e)}});kb={set:function(c,b,e){return!1===b?p.removeAttr(c,e):c.setAttribute(e,e),e}};p.each(p.expr.match.bool.source.match(/\w+/g),function(c,b){var e=Ga[b]||p.find.attr;Ga[b]=function(c,b,g){var f,k,h=b.toLowerCase();return g||(k=Ga[h],Ga[h]=f,f=null!=e(c,b,g)?h:null,Ga[h]=k),f}});var Sb=/^(?:input|select|textarea|button)$/i,Tb=/^(?:a|area)$/i;p.fn.extend({prop:function(c,
b){return va(this,p.prop,c,b,1<arguments.length)},removeProp:function(c){return this.each(function(){delete this[p.propFix[c]||c]})}});p.extend({prop:function(c,b,e){var g,f,k=c.nodeType;if(3!==k&&8!==k&&2!==k)return 1===k&&p.isXMLDoc(c)||(b=p.propFix[b]||b,f=p.propHooks[b]),void 0!==e?f&&"set"in f&&void 0!==(g=f.set(c,e,b))?g:c[b]=e:f&&"get"in f&&null!==(g=f.get(c,b))?g:c[b]},propHooks:{tabIndex:{get:function(c){var b=p.find.attr(c,"tabindex");return b?parseInt(b,10):Sb.test(c.nodeName)||Tb.test(c.nodeName)&&
c.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});aa.optSelected||(p.propHooks.selected={get:function(c){c=c.parentNode;return c&&c.parentNode&&c.parentNode.selectedIndex,null},set:function(c){c=c.parentNode;c&&(c.selectedIndex,c.parentNode&&c.parentNode.selectedIndex)}});p.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){p.propFix[this.toLowerCase()]=this});p.fn.extend({addClass:function(c){var b,e,g,
f,k,h,n=0;if(p.isFunction(c))return this.each(function(b){p(this).addClass(c.call(this,b,V(this)))});if("string"==typeof c&&c)for(b=c.match(pa)||[];e=this[n++];)if(f=V(e),g=1===e.nodeType&&" "+S(f)+" "){for(h=0;k=b[h++];)0>g.indexOf(" "+k+" ")&&(g+=k+" ");g=S(g);f!==g&&e.setAttribute("class",g)}return this},removeClass:function(c){var b,e,g,f,k,h,n=0;if(p.isFunction(c))return this.each(function(b){p(this).removeClass(c.call(this,b,V(this)))});if(!arguments.length)return this.attr("class","");if("string"==
typeof c&&c)for(b=c.match(pa)||[];e=this[n++];)if(f=V(e),g=1===e.nodeType&&" "+S(f)+" "){for(h=0;k=b[h++];)for(;-1<g.indexOf(" "+k+" ");)g=g.replace(" "+k+" "," ");g=S(g);f!==g&&e.setAttribute("class",g)}return this},toggleClass:function(c,b){var e=typeof c;return"boolean"==typeof b&&"string"===e?b?this.addClass(c):this.removeClass(c):p.isFunction(c)?this.each(function(e){p(this).toggleClass(c.call(this,e,V(this),b),b)}):this.each(function(){var b,g,f,k;if("string"===e)for(g=0,f=p(this),k=c.match(pa)||
[];b=k[g++];)f.hasClass(b)?f.removeClass(b):f.addClass(b);else void 0!==c&&"boolean"!==e||(b=V(this),b&&U.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===c?"":U.get(this,"__className__")||""))})},hasClass:function(c){var b,e=0;for(c=" "+c+" ";b=this[e++];)if(1===b.nodeType&&-1<(" "+S(V(b))+" ").indexOf(c))return!0;return!1}});var Ub=/\r/g;p.fn.extend({val:function(c){var b,e,g,f=this[0];if(arguments.length)return g=p.isFunction(c),this.each(function(e){var f;1===this.nodeType&&
(f=g?c.call(this,e,p(this).val()):c,null==f?f="":"number"==typeof f?f+="":p.isArray(f)&&(f=p.map(f,function(c){return null==c?"":c+""})),b=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,f,"value")||(this.value=f))});if(f)return b=p.valHooks[f.type]||p.valHooks[f.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(e=b.get(f,"value"))?e:(e=f.value,"string"==typeof e?e.replace(Ub,""):null==e?"":e)}});p.extend({valHooks:{option:{get:function(c){var b=p.find.attr(c,
"value");return null!=b?b:S(p.text(c))}},select:{get:function(c){var b,e,g=c.options,f=c.selectedIndex,k="select-one"===c.type,h=k?null:[],n=k?f+1:g.length;for(e=0>f?n:k?f:0;e<n;e++)if(b=g[e],!(!b.selected&&e!==f||b.disabled||b.parentNode.disabled&&p.nodeName(b.parentNode,"optgroup"))){if(c=p(b).val(),k)return c;h.push(c)}return h},set:function(c,b){for(var e,g,f=c.options,k=p.makeArray(b),h=f.length;h--;)g=f[h],(g.selected=-1<p.inArray(p.valHooks.option.get(g),k))&&(e=!0);return e||(c.selectedIndex=
-1),k}}}});p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(c,b){if(p.isArray(b))return c.checked=-1<p.inArray(p(c).val(),b)}};aa.checkOn||(p.valHooks[this].get=function(c){return null===c.getAttribute("value")?"on":c.value})});var lb=/^(?:focusinfocus|focusoutblur)$/;p.extend(p.event,{trigger:function(b,e,g,f){var k,h,n,m,r,u,q,y=[g||I],v=Ba.call(b,"type")?b.type:b;k=Ba.call(b,"namespace")?b.namespace.split("."):[];if(h=n=g=g||I,3!==g.nodeType&&8!==g.nodeType&&!lb.test(v+p.event.triggered)&&
(-1<v.indexOf(".")&&(k=v.split("."),v=k.shift(),k.sort()),r=0>v.indexOf(":")&&"on"+v,b=b[p.expando]?b:new p.Event(v,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=k.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+k.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=g),e=null==e?[b]:p.makeArray(e,[b]),q=p.event.special[v]||{},f||!q.trigger||!1!==q.trigger.apply(g,e))){if(!f&&!q.noBubble&&!p.isWindow(g)){m=q.delegateType||v;for(lb.test(m+v)||(h=h.parentNode);h;h=
h.parentNode)y.push(h),n=h;n===(g.ownerDocument||I)&&y.push(n.defaultView||n.parentWindow||c)}for(k=0;(h=y[k++])&&!b.isPropagationStopped();)b.type=1<k?m:q.bindType||v,(u=(U.get(h,"events")||{})[b.type]&&U.get(h,"handle"))&&u.apply(h,e),(u=r&&h[r])&&u.apply&&La(h)&&(b.result=u.apply(h,e),!1===b.result&&b.preventDefault());return b.type=v,f||b.isDefaultPrevented()||q._default&&!1!==q._default.apply(y.pop(),e)||!La(g)||r&&p.isFunction(g[v])&&!p.isWindow(g)&&(n=g[r],n&&(g[r]=null),p.event.triggered=
v,g[v](),p.event.triggered=void 0,n&&(g[r]=n)),b.result}},simulate:function(c,b,e){c=p.extend(new p.Event,e,{type:c,isSimulated:!0});p.event.trigger(c,null,b)}});p.fn.extend({trigger:function(c,b){return this.each(function(){p.event.trigger(c,b,this)})},triggerHandler:function(c,b){var e=this[0];if(e)return p.event.trigger(c,b,e,!0)}});p.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),
function(c,b){p.fn[b]=function(c,e){return 0<arguments.length?this.on(b,null,c,e):this.trigger(b)}});p.fn.extend({hover:function(c,b){return this.mouseenter(c).mouseleave(b||c)}});aa.focusin="onfocusin"in c;aa.focusin||p.each({focus:"focusin",blur:"focusout"},function(c,b){var e=function(c){p.event.simulate(b,c.target,p.event.fix(c))};p.event.special[b]={setup:function(){var g=this.ownerDocument||this,f=U.access(g,b);f||g.addEventListener(c,e,!0);U.access(g,b,(f||0)+1)},teardown:function(){var g=
this.ownerDocument||this,f=U.access(g,b)-1;f?U.access(g,b,f):(g.removeEventListener(c,e,!0),U.remove(g,b))}}});var Ha=c.location,mb=p.now(),Ra=/\?/;p.parseXML=function(b){var e;if(!b||"string"!=typeof b)return null;try{e=(new c.DOMParser).parseFromString(b,"text/xml")}catch(Ca){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||p.error("Invalid XML: "+b),e};var Ab=/\[\]$/,nb=/\r?\n/g,Vb=/^(?:submit|button|image|reset|file)$/i,Wb=/^(?:input|select|textarea|keygen)/i;p.param=function(c,
b){var e,g=[],f=function(c,b){var e=p.isFunction(b)?b():b;g[g.length]=encodeURIComponent(c)+"="+encodeURIComponent(null==e?"":e)};if(p.isArray(c)||c.jquery&&!p.isPlainObject(c))p.each(c,function(){f(this.name,this.value)});else for(e in c)ia(e,c[e],b,f);return g.join("&")};p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var c=p.prop(this,"elements");return c?p.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&
!p(this).is(":disabled")&&Wb.test(this.nodeName)&&!Vb.test(c)&&(this.checked||!hb.test(c))}).map(function(c,b){var e=p(this).val();return null==e?null:p.isArray(e)?p.map(e,function(c){return{name:b.name,value:c.replace(nb,"\r\n")}}):{name:b.name,value:e.replace(nb,"\r\n")}}).get()}});var Xb=/%20/g,Yb=/#.*$/,Zb=/([?&])_=[^&]*/,$b=/^(.*?):[ \t]*([^\r\n]*)$/gm,ac=/^(?:GET|HEAD)$/,bc=/^\/\//,ob={},Oa={},pb="*/".concat("*"),Sa=I.createElement("a");Sa.href=Ha.href;p.extend({active:0,lastModified:{},etag:{},
ajaxSettings:{url:Ha.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ha.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":pb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,
"text html":!0,"text json":JSON.parse,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,b){return b?da(da(c,p.ajaxSettings),b):da(p.ajaxSettings,c)},ajaxPrefilter:ja(ob),ajaxTransport:ja(Oa),ajax:function(b,e){function g(b,e,g,n){var u,y,v,I,E=e;if(!r){r=!0;m&&c.clearTimeout(m);f=void 0;h=n||"";D.readyState=0<b?4:0;n=200<=b&&300>b||304===b;if(g){v=A;for(var oa=D,fa,M,H,B,J=v.contents,G=v.dataTypes;"*"===G[0];)G.shift(),void 0===fa&&(fa=v.mimeType||oa.getResponseHeader("Content-Type"));
if(fa)for(M in J)if(J[M]&&J[M].test(fa)){G.unshift(M);break}if(G[0]in g)H=G[0];else{for(M in g){if(!G[0]||v.converters[M+" "+G[0]]){H=M;break}B||(B=M)}H=H||B}g=H?(H!==G[0]&&G.unshift(H),g[H]):void 0;v=g}var P;a:{g=A;fa=v;M=D;H=n;var w,R,ea;v={};oa=g.dataTypes.slice();if(oa[1])for(w in g.converters)v[w.toLowerCase()]=g.converters[w];for(B=oa.shift();B;)if(g.responseFields[B]&&(M[g.responseFields[B]]=fa),!ea&&H&&g.dataFilter&&(fa=g.dataFilter(fa,g.dataType)),ea=B,B=oa.shift())if("*"===B)B=ea;else if("*"!==
ea&&ea!==B){if(w=v[ea+" "+B]||v["* "+B],!w)for(P in v)if(R=P.split(" "),R[1]===B&&(w=v[ea+" "+R[0]]||v["* "+R[0]])){!0===w?w=v[P]:!0!==v[P]&&(B=R[0],oa.unshift(R[1]));break}if(!0!==w)if(w&&g["throws"])fa=w(fa);else try{fa=w(fa)}catch(Fb){P={state:"parsererror",error:w?Fb:"No conversion from "+ea+" to "+B};break a}}P={state:"success",data:fa}}v=P;n?(A.ifModified&&(I=D.getResponseHeader("Last-Modified"),I&&(p.lastModified[k]=I),I=D.getResponseHeader("etag"),I&&(p.etag[k]=I)),204===b||"HEAD"===A.type?
E="nocontent":304===b?E="notmodified":(E=v.state,u=v.data,y=v.error,n=!y)):(y=E,!b&&E||(E="error",0>b&&(b=0)));D.status=b;D.statusText=(e||E)+"";n?F.resolveWith(t,[u,E,D]):F.rejectWith(t,[D,E,y]);D.statusCode(C);C=void 0;q&&x.trigger(n?"ajaxSuccess":"ajaxError",[D,A,n?u:y]);z.fireWith(t,[D,E]);q&&(x.trigger("ajaxComplete",[D,A]),--p.active||p.event.trigger("ajaxStop"))}}"object"==typeof b&&(e=b,b=void 0);e=e||{};var f,k,h,n,m,u,r,q,y,v,A=p.ajaxSetup({},e),t=A.context||A,x=A.context&&(t.nodeType||
t.jquery)?p(t):p.event,F=p.Deferred(),z=p.Callbacks("once memory"),C=A.statusCode||{},E={},oa={},fa="canceled",D={readyState:0,getResponseHeader:function(c){var b;if(r){if(!n)for(n={};b=$b.exec(h);)n[b[1].toLowerCase()]=b[2];b=n[c.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return r?h:null},setRequestHeader:function(c,b){return null==r&&(c=oa[c.toLowerCase()]=oa[c.toLowerCase()]||c,E[c]=b),this},overrideMimeType:function(c){return null==r&&(A.mimeType=c),this},statusCode:function(c){var b;
if(c)if(r)D.always(c[D.status]);else for(b in c)C[b]=[C[b],c[b]];return this},abort:function(c){c=c||fa;return f&&f.abort(c),g(0,c),this}};if(F.promise(D),A.url=((b||A.url||Ha.href)+"").replace(bc,Ha.protocol+"//"),A.type=e.method||e.type||A.method||A.type,A.dataTypes=(A.dataType||"*").toLowerCase().match(pa)||[""],null==A.crossDomain){u=I.createElement("a");try{u.href=A.url,u.href=u.href,A.crossDomain=Sa.protocol+"//"+Sa.host!=u.protocol+"//"+u.host}catch(Pa){A.crossDomain=!0}}if(A.data&&A.processData&&
"string"!=typeof A.data&&(A.data=p.param(A.data,A.traditional)),W(ob,A,e,D),r)return D;(q=p.event&&A.global)&&0===p.active++&&p.event.trigger("ajaxStart");A.type=A.type.toUpperCase();A.hasContent=!ac.test(A.type);k=A.url.replace(Yb,"");A.hasContent?A.data&&A.processData&&0===(A.contentType||"").indexOf("application/x-www-form-urlencoded")&&(A.data=A.data.replace(Xb,"+")):(v=A.url.slice(k.length),A.data&&(k+=(Ra.test(k)?"&":"?")+A.data,delete A.data),!1===A.cache&&(k=k.replace(Zb,"$1"),v=(Ra.test(k)?
"&":"?")+"_="+mb++ +v),A.url=k+v);A.ifModified&&(p.lastModified[k]&&D.setRequestHeader("If-Modified-Since",p.lastModified[k]),p.etag[k]&&D.setRequestHeader("If-None-Match",p.etag[k]));(A.data&&A.hasContent&&!1!==A.contentType||e.contentType)&&D.setRequestHeader("Content-Type",A.contentType);D.setRequestHeader("Accept",A.dataTypes[0]&&A.accepts[A.dataTypes[0]]?A.accepts[A.dataTypes[0]]+("*"!==A.dataTypes[0]?", "+pb+"; q=0.01":""):A.accepts["*"]);for(y in A.headers)D.setRequestHeader(y,A.headers[y]);
if(A.beforeSend&&(!1===A.beforeSend.call(t,D,A)||r))return D.abort();if(fa="abort",z.add(A.complete),D.done(A.success),D.fail(A.error),f=W(Oa,A,e,D)){if(D.readyState=1,q&&x.trigger("ajaxSend",[D,A]),r)return D;A.async&&0<A.timeout&&(m=c.setTimeout(function(){D.abort("timeout")},A.timeout));try{r=!1,f.send(E,g)}catch(Pa){if(r)throw Pa;g(-1,Pa)}}else g(-1,"No Transport");return D},getJSON:function(c,b,e){return p.get(c,b,e,"json")},getScript:function(c,b){return p.get(c,void 0,b,"script")}});p.each(["get",
"post"],function(c,b){p[b]=function(c,e,g,f){return p.isFunction(e)&&(f=f||g,g=e,e=void 0),p.ajax(p.extend({url:c,type:b,dataType:f,data:e,success:g},p.isPlainObject(c)&&c))}});p._evalUrl=function(c){return p.ajax({url:c,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})};p.fn.extend({wrapAll:function(c){var b;return this[0]&&(p.isFunction(c)&&(c=c.call(this[0])),b=p(c,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var c=
this;c.firstElementChild;)c=c.firstElementChild;return c}).append(this)),this},wrapInner:function(c){return p.isFunction(c)?this.each(function(b){p(this).wrapInner(c.call(this,b))}):this.each(function(){var b=p(this),e=b.contents();e.length?e.wrapAll(c):b.append(c)})},wrap:function(c){var b=p.isFunction(c);return this.each(function(e){p(this).wrapAll(b?c.call(this,e):c)})},unwrap:function(c){return this.parent(c).not("body").each(function(){p(this).replaceWith(this.childNodes)}),this}});p.expr.pseudos.hidden=
function(c){return!p.expr.pseudos.visible(c)};p.expr.pseudos.visible=function(c){return!!(c.offsetWidth||c.offsetHeight||c.getClientRects().length)};p.ajaxSettings.xhr=function(){try{return new c.XMLHttpRequest}catch(r){}};var cc={0:200,1223:204},Ia=p.ajaxSettings.xhr();aa.cors=!!Ia&&"withCredentials"in Ia;aa.ajax=Ia=!!Ia;p.ajaxTransport(function(b){var e,g;if(aa.cors||Ia&&!b.crossDomain)return{send:function(f,k){var h,n=b.xhr();if(n.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(h in b.xhrFields)n[h]=
b.xhrFields[h];b.mimeType&&n.overrideMimeType&&n.overrideMimeType(b.mimeType);b.crossDomain||f["X-Requested-With"]||(f["X-Requested-With"]="XMLHttpRequest");for(h in f)n.setRequestHeader(h,f[h]);e=function(c){return function(){e&&(e=g=n.onload=n.onerror=n.onabort=n.onreadystatechange=null,"abort"===c?n.abort():"error"===c?"number"!=typeof n.status?k(0,"error"):k(n.status,n.statusText):k(cc[n.status]||n.status,n.statusText,"text"!==(n.responseType||"text")||"string"!=typeof n.responseText?{binary:n.response}:
{text:n.responseText},n.getAllResponseHeaders()))}};n.onload=e();g=n.onerror=e("error");void 0!==n.onabort?n.onabort=g:n.onreadystatechange=function(){4===n.readyState&&c.setTimeout(function(){e&&g()})};e=e("abort");try{n.send(b.hasContent&&b.data||null)}catch(ub){if(e)throw ub;}},abort:function(){e&&e()}}});p.ajaxPrefilter(function(c){c.crossDomain&&(c.contents.script=!1)});p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},
converters:{"text script":function(c){return p.globalEval(c),c}}});p.ajaxPrefilter("script",function(c){void 0===c.cache&&(c.cache=!1);c.crossDomain&&(c.type="GET")});p.ajaxTransport("script",function(c){if(c.crossDomain){var b,e;return{send:function(g,f){b=p("<script>").prop({charset:c.scriptCharset,src:c.url}).on("load error",e=function(c){b.remove();e=null;c&&f("error"===c.type?404:200,c.type)});I.head.appendChild(b[0])},abort:function(){e&&e()}}}});var qb=[],Ta=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",
jsonpCallback:function(){var c=qb.pop()||p.expando+"_"+mb++;return this[c]=!0,c}});p.ajaxPrefilter("json jsonp",function(b,e,g){var f,k,h,n=!1!==b.jsonp&&(Ta.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ta.test(b.data)&&"data");if(n||"jsonp"===b.dataTypes[0])return f=b.jsonpCallback=p.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,n?b[n]=b[n].replace(Ta,"$1"+f):!1!==b.jsonp&&(b.url+=(Ra.test(b.url)?"&":"?")+b.jsonp+
"="+f),b.converters["script json"]=function(){return h||p.error(f+" was not called"),h[0]},b.dataTypes[0]="json",k=c[f],c[f]=function(){h=arguments},g.always(function(){void 0===k?p(c).removeProp(f):c[f]=k;b[f]&&(b.jsonpCallback=e.jsonpCallback,qb.push(f));h&&p.isFunction(k)&&k(h[0]);h=k=void 0}),"script"});aa.createHTMLDocument=function(){var c=I.implementation.createHTMLDocument("").body;return c.innerHTML="<form></form><form></form>",2===c.childNodes.length}();p.parseHTML=function(c,b,e){if("string"!=
typeof c)return[];"boolean"==typeof b&&(e=b,b=!1);var g,f,k;return b||(aa.createHTMLDocument?(b=I.implementation.createHTMLDocument(""),g=b.createElement("base"),g.href=I.location.href,b.head.appendChild(g)):b=I),f=db.exec(c),k=!e&&[],f?[b.createElement(f[1])]:(f=F([c],b,k),k&&k.length&&p(k).remove(),p.merge([],f.childNodes))};p.fn.load=function(c,b,e){var g,f,k,h=this,n=c.indexOf(" ");return-1<n&&(g=S(c.slice(n)),c=c.slice(0,n)),p.isFunction(b)?(e=b,b=void 0):b&&"object"==typeof b&&(f="POST"),0<
h.length&&p.ajax({url:c,type:f||"GET",dataType:"html",data:b}).done(function(c){k=arguments;h.html(g?p("<div>").append(p.parseHTML(c)).find(g):c)}).always(e&&function(c,b){h.each(function(){e.apply(this,k||[c.responseText,b,c])})}),this};p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(c,b){p.fn[b]=function(c){return this.on(b,c)}});p.expr.pseudos.animated=function(c){return p.grep(p.timers,function(b){return c===b.elem}).length};p.offset={setOffset:function(c,
b,e){var g,f,k,h,n,m,u=p.css(c,"position"),q=p(c),y={};"static"===u&&(c.style.position="relative");n=q.offset();k=p.css(c,"top");m=p.css(c,"left");("absolute"===u||"fixed"===u)&&-1<(k+m).indexOf("auto")?(g=q.position(),h=g.top,f=g.left):(h=parseFloat(k)||0,f=parseFloat(m)||0);p.isFunction(b)&&(b=b.call(c,e,p.extend({},n)));null!=b.top&&(y.top=b.top-n.top+h);null!=b.left&&(y.left=b.left-n.left+f);"using"in b?b.using.call(c,y):q.css(y)}};p.fn.extend({offset:function(c){if(arguments.length)return void 0===
c?this:this.each(function(b){p.offset.setOffset(this,c,b)});var b,e,g,f,k=this[0];if(k)return k.getClientRects().length?(g=k.getBoundingClientRect(),g.width||g.height?(f=k.ownerDocument,e=ga(f),b=f.documentElement,{top:g.top+e.pageYOffset-b.clientTop,left:g.left+e.pageXOffset-b.clientLeft}):g):{top:0,left:0}},position:function(){if(this[0]){var c,b,e=this[0],g={top:0,left:0};return"fixed"===p.css(e,"position")?b=e.getBoundingClientRect():(c=this.offsetParent(),b=this.offset(),p.nodeName(c[0],"html")||
(g=c.offset()),g={top:g.top+p.css(c[0],"borderTopWidth",!0),left:g.left+p.css(c[0],"borderLeftWidth",!0)}),{top:b.top-g.top-p.css(e,"marginTop",!0),left:b.left-g.left-p.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent;c&&"static"===p.css(c,"position");)c=c.offsetParent;return c||Ma})}});p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,b){var e="pageYOffset"===b;p.fn[c]=function(g){return va(this,function(c,g,f){var k=ga(c);
return void 0===f?k?k[b]:c[g]:void(k?k.scrollTo(e?k.pageXOffset:f,e?f:k.pageYOffset):c[g]=f)},c,g,arguments.length)}});p.each(["top","left"],function(c,b){p.cssHooks[b]=Q(aa.pixelPosition,function(c,e){if(e)return e=O(c,b),Na.test(e)?p(c).position()[b]+"px":e})});p.each({Height:"height",Width:"width"},function(c,b){p.each({padding:"inner"+c,content:b,"":"outer"+c},function(e,g){p.fn[g]=function(f,k){var h=arguments.length&&(e||"boolean"!=typeof f),n=e||(!0===f||!0===k?"margin":"border");return va(this,
function(b,e,f){var k;return p.isWindow(b)?0===g.indexOf("outer")?b["inner"+c]:b.document.documentElement["client"+c]:9===b.nodeType?(k=b.documentElement,Math.max(b.body["scroll"+c],k["scroll"+c],b.body["offset"+c],k["offset"+c],k["client"+c])):void 0===f?p.css(b,e,n):p.style(b,e,f,n)},b,h?f:void 0,h)}})});p.fn.extend({bind:function(c,b,e){return this.on(c,null,b,e)},unbind:function(c,b){return this.off(c,null,b)},delegate:function(c,b,e,g){return this.on(b,c,e,g)},undelegate:function(c,b,e){return 1===
arguments.length?this.off(c,"**"):this.off(b,c||"**",e)}});p.parseJSON=JSON.parse;"function"==typeof define&&define.amd&&define("jquery",[],function(){return p});var dc=c.jQuery,ec=c.$;return p.noConflict=function(b){return c.$===p&&(c.$=ec),b&&c.jQuery===p&&(c.jQuery=dc),p},b||(c.jQuery=c.$=p),p});var engine2D=window.engine2D||{};engine2D.drawDoor=function(c){void 0!==scene2DDoorGroup[c].children[0]&&(scene2DDoorGroup[c].visible=!0,paper.project.layers.push(scene2DDoorGroup[c]))};
engine2D.makeDoor=function(c,b,e,f,h,q,m,t){h="hinge.single";c=new paper.Group;f=new paper.Path;t=new paper.Path;var k=new paper.Group,n=new paper.Group,g=new paper.Path,y=new paper.Path;f.moveTo(new paper.Point(0,0));f.lineTo(new paper.Point(b,0));t.moveTo(new paper.Point(0,0));t.lineTo(new paper.Point(b,0));t.strokeColor="#ffff";t.strokeWidth=22;f.strokeColor="#000000";f.strokeWidth=10;g.moveTo(new paper.Point(10,-12));g.lineTo(new paper.Point(10,12));y.moveTo(new paper.Point(f.length-10,-12));
y.lineTo(new paper.Point(f.length-10,12));g.strokeColor=y.strokeColor="#00CC33";g.strokeWidth=y.strokeWidth=3;k.opacity=n.opacity=0;b=new paper.Path.RegularPolygon(new paper.Point(0,0),3,12);var z=new paper.Path.RegularPolygon(new paper.Point(f.length,0),3,12);b.rotate(30);z.rotate(-30);b.fillColor=z.fillColor="#00CC33";k.addChild(g);k.addChild(b);n.addChild(y);n.addChild(z);c.addChild(t);c.addChild(f);c.addChild(k);c.addChild(n);f.group=c;"fold.single"===h?engine2D.makeFoldSingleDoor(c,f,k,n,q,m):
"fold.double"===h?engine2D.makeFoldDoubleDoor(c,f,k,n,q,m):"hinge.single"===h?engine2D.makeHingeSingleDoor(c,f,k,n,q,m):"hinge.double"===h&&engine2D.makeHingeDoubleDoor(c,f,k,n,q,m);c.position=new paper.Point(e.x,e.y);return c};
engine2D.makeFoldSingleDoor=function(c,b,e,f,h,q){var m,t,k,n=new paper.Path,g=new paper.Path;n.strokeColor="#000000";n.strokeWidth=4;"right"===h?(t=new paper.Point(0,0),k=new paper.Point(b.length,0)):"left"===h&&(t=new paper.Point(b.length,0),k=new paper.Point(0,0));n.moveTo(k);"in"===q?(n.lineTo(new paper.Point(k.x,k.y+b.length/2)),h=-45):(n.lineTo(new paper.Point(k.x,k.y-b.length/2)),h=45);g=n.clone();g.rotate(h,g.segments[1].point);t=new paper.Path.Line(t,void 0);c.addChild(t);c.addChild(n);c.addChild(g);
e.attach("mousedrag",function(c){});f.attach("mousedrag",function(c){});b.attach("mouseenter",function(){e.opacity=1;f.opacity=1;e.drag=!1;f.drag=!1});b.attach("mousemove",function(){clearTimeout(m);m=setTimeout(function(){e.opacity=0;f.opacity=0},400)});c.attach("mousedrag",function(b){!0!==e.drag&&!0!==f.drag&&(c.position=b.point,e.opacity=0,f.opacity=0)})};engine2D.makeFoldDoubleDoor=function(c,b,e,f,h,q){};engine2D.makeHingeDoubleDoor=function(c,b,e,f,h,q){};
engine2D.makeHingeSingleDoor=function(c,b,e,f,h,q){function m(e,g,k){e.drag=!0;e.position.x=g.point.x;e.opacity=1;f.opacity=1;b.segments[k].point.x=g.point.x;guide.segments[k].point.x=g.point.x;x.segments[1].point.y="in"===q?x.segments[0].point.y+b.length:x.segments[0].point.y-b.length;F.clear();D.clear();J.clear();H.clear();w.clear();"right"===h&&(0===k?F=new Path.Arc(g.point,new Point(x.segments[0].point.x-b.length*u,x.segments[0].point.y-b.length*v),new Point(x.segments[1].point.x,x.segments[1].point.y)):
(x.segments[0].point.x=g.point.x,x.segments[1].point.x=g.point.x,y=x.segments[0].point.x-b.length*u,z=x.segments[0].point.y-b.length*v,F=new Path.Arc(new Point(b.segments[0].point.x,b.segments[0].point.y),new Point(y,z),new Point(x.segments[1].point.x,x.segments[1].point.y))),F.strokeColor="#000000",F.strokeWidth=1,D=new Path.Arc(new Point(b.segments[1].point.x,b.segments[1].point.y-b.length),new Point(b.segments[0].point.x,b.segments[0].point.y),new Point(b.segments[1].point.x,b.segments[1].point.y+
b.length)),J=new Path.Arc(new Point(b.segments[0].point.x,b.segments[0].point.y-b.length),new Point(b.segments[1].point.x,b.segments[1].point.y),new Point(b.segments[0].point.x,b.segments[0].point.y+b.length)),H=D.clone(),w=J.clone(),D.strokeColor=J.strokeColor="#000000",D.strokeWidth=J.strokeWidth=1,D.dashArray=J.dashArray=[10,10],D.opacity=J.opacity=0,H.strokeColor=w.strokeColor="#000000",H.strokeWidth=w.strokeWidth=20,H.opacity=w.opacity=0,c.appendBottom(F),c.appendBottom(H),c.appendBottom(D),
c.appendBottom(w),c.appendBottom(J))}var t,k,n,g,y,z;n=Math.PI/180*45;var u=Math.sin(n),v=Math.cos(n),x=new paper.Path;x.strokeColor="#000000";x.strokeWidth=4;var C=new paper.Path.Circle(new paper.Point(0,0),10);C.fillColor="#FFCC00";C.opacity=0;"right"===h?(k=new paper.Point(0,0),g=new paper.Point(b.length,0)):"left"===h&&(k=new paper.Point(b.length,0),g=new paper.Point(0,0));x.moveTo(g);"in"===q?(x.lineTo(new paper.Point(g.x,g.y+b.length)),n=new paper.Point(g.x,g.y+b.length),y=g.x+b.length*u,z=
g.y+b.length*v):(x.lineTo(new paper.Point(g.x,g.y-b.length)),n=new paper.Point(g.x,g.y-b.length),y=g.x-b.length*u,z=g.y-b.length*v);var F=new paper.Path.Arc(k,new paper.Point(y,z),n);F.strokeColor="#000000";F.strokeWidth=1;k=new paper.Point(b.length,0-b.length);n=new paper.Point(b.length,0+b.length);mp=new paper.Point(0,0);var D=new paper.Path.Arc(k,mp,n),H=new paper.Path.Arc(k,mp,n);k=new paper.Point(0,0-b.length);n=new paper.Point(0,0+b.length);mp=new paper.Point(0,b.length);var J=new paper.Path.Arc(k,
mp,n),w=new paper.Path.Arc(k,mp,n);D.strokeColor=J.strokeColor="#000000";D.strokeWidth=J.strokeWidth=1;D.dashArray=J.dashArray=[10,10];D.opacity=J.opacity=0;H.strokeColor=w.strokeColor="#000000";H.strokeWidth=w.strokeWidth=20;H.opacity=w.opacity=0;c.addChild(x);c.addChild(F);c.addChild(H);c.addChild(D);c.addChild(w);c.addChild(J);c.addChild(C);b.attach("mouseenter",function(){e.opacity=1;f.opacity=1;e.drag=!1;f.drag=!1;C.opacity=0;D.opacity=0;J.opacity=0});b.attach("mousemove",function(){clearTimeout(t);
t=setTimeout(function(){e.opacity=0;f.opacity=0},400)});e.attach("mousedrag",function(c){m(this,c,0)});f.attach("mousedrag",function(c){m(this,c,1)});H.on("mouseenter",function(){e.opacity=0;f.opacity=0;C.opacity=1;D.opacity=1;J.opacity=0;F.opacity=.1;x.opacity=.1});H.attach("mousemove",function(c){clearTimeout(t);C.position=c.point;t=setTimeout(function(){C.opacity=0;D.opacity=0;F.opacity=1;x.opacity=1},400)});w.attach("mouseenter",function(){e.opacity=0;f.opacity=0;C.opacity=1;D.opacity=0;J.opacity=
1;F.opacity=.1;x.opacity=.1});w.attach("mousemove",function(c){clearTimeout(t);C.position=c.point;t=setTimeout(function(){C.opacity=0;J.opacity=0;F.opacity=1;x.opacity=1},400)});c.attach("mousedrag",function(b){!0!==e.drag&&!0!==f.drag&&(c.position=b.point,e.opacity=0,f.opacity=0,C.opacity=0,D.opacity=0,J.opacity=0)})};engine2D=window.engine2D||{};
engine2D.show=function(){console.log("engine2d.show()");SCENE="2d";animateStop();engine3D.freeMemory();engine2D.freeMemory();engine3D.hide();engine2D.makeGrid();$("#engine2D").show();engineGUI.menuToggleRight("menuRight",!0);engineGUI.menuToggleLeft("menuLeft2D",!0);$("#menuFloorSelector").show();$("#menuBottomPlan").show();var c=document.getElementById("zoom2DProgress");c&&(zoom2Dimg=new Image,zoom2DCTX=c.getContext("2d"),zoom2DSlider=document.getElementById("zoom2DSlider"),zoom2Dimg.onload=drawImage,
zoom2Dimg.src="images/progress-tiles.jpg");$("#zoom2DLevel").show();engineGUI.menuSelect(6,"menuTopItem","#ff3700");engineGUI.menuCorrectHeight();engine2D.showFloor(FLOOR)};engine2D.showFloor=function(c){FLOOR=c;engine2D.clear();engine2D.drawFloor(FLOOR);engine2D.drawWall(FLOOR);engine2D.drawDoor(FLOOR);engine2D.drawWindow(FLOOR);engine2D.attachObjectsToWalls(FLOOR,scene2DDoorGroup);engine2D.attachObjectsToWalls(FLOOR,scene2DWindowGroup)};engine2D.addFloor=function(c){};
engine2D.clear=function(){for(var c=0;c<scene2DWallGroup.length;c++){for(var b=0;b<scene2DWallGroup[c].children.length;b++)scene2DWallGroup[c].children[b].visible=!1;scene2DFloorShape[c].visible=!1;scene2DLabelGroup[c].visible=!1;scene2DDoorGroup[c].visible=!1;scene2DWindowGroup[c].visible=!1}};
engine2D.hide=function(){if(canvas2D){for(var c=0;c<scene2DWallGroup.length;c++)engine2D.clear(c,!1);canvas2D.off("mouseenter");canvas2D.off("mouseleave");canvas2D.off("mousedown");canvas2D.off("mouseup");canvas2D.off("mousedrag");canvas2D.off("mousemove");canvas2D.off("doubleclick")}try{$("#menu2DTools").tooltipster("hide")}catch(b){}$("#engine2D").hide();$("#menuLeft2D").hide();$("#menuRight2D").hide();$("#menuBottomPlan").hide()};
engine2D.drawGrid=function(c,b){for(var e=0;e<=paper.view.size.width;e+=c){var f=new paper.Path.Line(new paper.Point(e,0),new paper.Point(e,paper.view.size.width)),h=new paper.Path.Line(new paper.Point(0,e),new paper.Point(paper.view.size.width,e));f.strokeColor=h.strokeColor=b;canvas2D.addChild(f);canvas2D.addChild(h)}};
engine2D.makeGrid=function(){canvas2D=new paper.Group;var c=new paper.Path.Circle(new paper.Point(0,0),450);c.fillColor="#CCCCCC";c.opacity=.2;c.position.x=paper.view.center.x+40;c.position.y=paper.view.center.y+80;var b=new paper.Path.Rectangle(new paper.Point(0,0),paper.view.viewSize);b.fillColor="#ffffff";canvas2D.addChild(b);canvas2D.addChild(c);engine2D.drawGrid(40,"#6dcff6");engine2D.drawGrid(20,"#E0E0E0")};
engine2D.lockObject=function(c){var b=scene2D.getObjects().filter(function(b){return b.id===c});!0===b[0].lockMovementX?(b[0].item(2).set({visible:!1}),b[0].set({lockMovementX:!1,lockMovementY:!1})):(b[0].item(2).set({visible:!0}),b[0].set({lockMovementX:!0,lockMovementY:!0}));return!1};
engine2D.collectArrayFromContainer=function(c){var b=[],e,f;for(f in scene2DWallMesh[c])"wall"===f.name&&(e={wall:"standard",interior:"",exterior:""},e.id=f.id,e.locked=f.lockMovementX,e.position.x1=f.item(0).path[0][1],e.position.y1=f.item(0).path[0][2],e.position.x2=f.item(0).path[1][3],e.position.y2=f.item(0).path[1][4],e.curve.x=f.item(0).path[1][1],e.curve.y=f.item(0).path[1][2],b.push(e));for(f in scene2DDoorMesh[c])"door"===f.name&&(e={},e.door=f.name,e.id=f.id,e.locked=f.lockMovementX,e.open=
f.open,e.direction=f.direction,e.position.x1=f.get("x1"),e.position.y1=f.get("y1"),e.position.x2=f.get("x2"),e.position.y2=f.get("y2"),e.position.z=f.z,e.curve.x=0,e.curve.y=0,b.push(e));return b};engine2D.freeMemory=function(){for(var c=paper.project.activeLayer.children,b=0;b<c.length-1;b++)c[b].remove()};engine2D=window.engine2D||{};engine2D.drawFloor=function(c){void 0!==scene2DFloorShape[c].children[0]&&(scene2DFloorShape[c].visible=!0,scene2DLabelGroup[c].visible=!0,paper.project.layers.push(scene2DFloorShape[c]),paper.project.layers.push(scene2DLabelGroup[c]),scene2DFloorShape[c].on("mousedown",engine2D.drawWall_onMouseDown),engine2D.calculateWallMeasureColor(c))};
engine2D.makeFloor=function(c){if(void 0!==scene2DWallGroup[c].children[0]){console.log("2D Floor Generate ["+c+"] "+scene2DWallGroup[c].children.length);var b=new paper.Path;b.closed=!0;var e=scene2DWallGroup[c].children[0].children[0].children[0],f=e.segments[0].point;b.moveTo(f);for(var h=0;h<scene2DWallGroup[c].children.length;h++)for(var e=scene2DWallGroup[c].children[h].children[4].children[0],q=0;q<scene2DWallGroup[c].children.length;q++){var m=scene2DWallGroup[c].children[q].children[4].children[0];
if(e.id!=m.id&&e.hitTest(m.segments[0].point)){b.quadraticCurveTo(f,m.segments[1].point);f=m.segments[1].point;break}}b.fillColor="#D8D8D8";b.remove();scene2DFloorShape[c]=new paper.Group([b]);var t=document.createElement("canvas");t.width=b.bounds.width;t.height=b.bounds.height;var k=t.getContext("2d"),e=new Image;e.src="objects/FloorPlan/Default/4.png";e.onload=function(){k.fillStyle=k.createPattern(this,"repeat");k.fillRect(0,0,b.bounds.width,b.bounds.height);k.fill();var e=new paper.Raster(t,
new paper.Point(b.bounds.x,b.bounds.y));e.fitBounds(b.bounds,!0);scene2DFloorShape[c]=new paper.Group([b,e]);scene2DFloorShape[c].clipped=!0};scene2DFloorShape[c].visible=!1}};engine2D.makeLabel=function(c,b,e,f,h){c=new paper.PointText;c.content=b+"\n"+e;c.justification="center";c.fontSize=28;c.position=new paper.Point(f,h);return c};
engine2D.fillFloor=function(c,b){for(var e=1,f={x:0,y:0},h=0;h<scene2DWallMesh[c].length;h++){var q=scene2DWallMesh[c][h],m={x:q.item(0).path[0][1],y:q.item(0).path[0][2]},t={x:q.item(0).path[1][3],y:q.item(0).path[1][4]};1==e&&(b.path[0][1]=m.x,b.path[0][2]=m.y);b.path[e][1]=q.item(0).path[1][1];b.path[e][2]=q.item(0).path[1][2];t.x==f.x&&t.y==f.y&&(t=m);b.path[e][3]=t.x;b.path[e][4]=t.y;f=t;e++}};engine2D=window.engine2D||{};engine2D.History=[];engine2D.HistoryForward=function(){};engine2D.HistoryBack=function(){};engine2D.HistoryAdd=function(){};var engine2D=window.engine2D||{},panAndZoom;engine2D.initialize=function(){var c=document.getElementById("engine2D");paper.setup(c);paper.view.setViewSize(window.innerWidth,window.innerHeight);panAndZoom=new SimplePanAndZoom;$("#engine2D").bind("mousewheel",function(c){if(c.shiftKey)paper.view.center=panAndZoom.changeCenter(paper.view.center,c.deltaX,c.deltaY,c.deltaFactor);else{var b=panAndZoom.changeZoom(paper.view.zoom,-c.deltaY);5>=b&&1<=b&&(paper.view.zoom=b)}return c.preventDefault()})};
engine2D["new"]=function(){};engine2D.newFloor=function(c){scene2DWallMesh[c]=[];scene2DWallDimentions[c]=[];scene2DInteriorMesh[c]=[];scene2DExteriorMesh[c]=[];scene2DFloorShape[c]=new paper.Group;scene2DDoorGroup[c]=new paper.Group;scene2DWindowGroup[c]=new paper.Group;scene2DWallGroup[c]=new paper.Group;scene2DWallPointGroup[c]=new paper.Group;scene2DLabelGroup[c]=new paper.Group};
engine2D.open=function(){for(var c=0;c<json.plan.length;c++)engine2D.newFloor(c),$.each(json.plan[c],function(){void 0!==this.door&&scene2DDoorGroup[c].addChild(engine2D.makeDoor(c,this.length,{x:this.x,y:this.y},this.z,this.type,this.open,this.direction,this.door));void 0!==this.window&&scene2DWindowGroup[c].addChild(engine2D.makeWindow(c,this.length,{x:this.x,y:this.y},this.z,this.open,this.direction,this.window));void 0!==this.wall&&scene2DWallGroup[c].addChild(engine2D.makeWall(c,{x:this.x1,y:this.y1},
{x:this.x2,y:this.y2},{x:this.cx,y:this.cy},this.h));void 0!==this.label&&scene2DLabelGroup[c].addChild(engine2D.makeLabel(c,this.label,this.size,this.x,this.y))}),engine2D.makeFloor(c)};engine2D=window.engine2D||{};engine2D.makeStairs=function(c,b,e){c=new paper.Group;new paper.Path;return c};var engine2D=window.engine2D||{},drawWall={radius:4,tolerance:20,handle:null,path:null,curPoint:null,prevPoint:null,curHandleSeg:null};engine2D.drawWall=function(c){if(void 0!==scene2DWallGroup[c].children[0]){for(var b=0;b<scene2DWallGroup[c].children.length;b++)scene2DWallGroup[c].children[b].visible=!0;engine2D.calculateWallCorners(c);paper.project.layers.push(scene2DWallGroup[c]);paper.project.layers.push(scene2DWallPointGroup[c]);canvas2D.on("mousedown",engine2D.drawWall_onMouseDown)}};
engine2D.drawWall_onMouseDown=function(c){this.on("mouseup",engine2D.drawWall_onMouseUp);this.on("mousedrag",engine2D.drawWall_onMouseDrag);drawWall.path=new paper.Path({segments:[c.point,c.point],strokeColor:"#ff5733",strokeWidth:10,strokeCap:"round"});drawWall.prevPoint=drawWall.path.firstSegment.point;drawWall.curPoint=drawWall.path.lastSegment.point;drawWall.curHandleSeg=null;drawWall.path.on("mouseup",engine2D.drawWall_onMouseUp);paper.project.layers.push(drawWall.path)};
engine2D.drawWall_onMouseUp=function(c){this.off("mouseup",engine2D.drawWall_onMouseUp);this.off("mousedrag",engine2D.drawWall_onMouseDrag);drawWall.path.off("mouseup",engine2D.drawWall_onMouseUp);for(c=0;c<drawWall.path.segments.length;c+=2){var b=drawWall.path.segments[c].point,e=drawWall.path.segments[c+1].point;console.log("Wall draw Segment "+b+":"+e);for(var b=new paper.Path({segments:[b,e]}),f,h,e=0;e<scene2DWallGroup[FLOOR].children.length&&!(f=scene2DWallGroup[FLOOR].children[e],h=f.children[4].children[0].getIntersections(b),
0<h.length);e++);if(0<h.length)for(b=0;b<h.length;b++)console.log("Convert to wall Path + Attach "+h[b].intersection.point),engine2D.splitWall(f,h[b]);else console.log("Convert to wall Path")}drawWall.path.visible=!1;drawWall.path.remove()};
engine2D.drawWall_onMouseDrag=function(c){var b=c.point;c=b.x-drawWall.prevPoint.x;var e=b.y-drawWall.prevPoint.y,f=(new paper.Point(c,e)).abs();f.x<f.y?(drawWall.curPoint.x=drawWall.prevPoint.x,drawWall.curPoint.y=b.y):(drawWall.curPoint.x=b.x,drawWall.curPoint.y=drawWall.prevPoint.y);c=drawWall.curPoint.x-drawWall.prevPoint.x;e=drawWall.curPoint.y-drawWall.prevPoint.y;b=new paper.Point(c,e);b.length=1;drawWall.curHandleSeg&&(c=drawWall.prevPoint.x+b.x*drawWall.radius,e=drawWall.prevPoint.y+b.y*
drawWall.radius,drawWall.curHandleSeg.point=new paper.Point(c,e),c=b.x*-drawWall.handle,e=b.y*-drawWall.handle,drawWall.curHandleSeg.handleIn=new paper.Point(c,e));Math.min(f.x,f.y)>drawWall.tolerance&&(c=drawWall.curPoint.x-b.x*drawWall.radius,e=drawWall.curPoint.y-b.y*drawWall.radius,c=new paper.Point(c,e),c=new paper.Segment(c,null,b*drawWall.handle),drawWall.path.insert(drawWall.path.segments.length-1,c),drawWall.curHandleSeg=drawWall.path.lastSegment,drawWall.prevPoint=drawWall.curHandleSeg.point.clone(),
drawWall.path.add(drawWall.curHandleSeg),drawWall.curPoint=drawWall.path.lastSegment.point)};
engine2D.makeWall=function(c,b,e,f,h){console.log("Wall "+b.x+":"+b.y+"-"+e.x+":"+e.y);c=new paper.Group;var q=new paper.Path;q.doors=[];q.windows=[];var m=new paper.Path.Circle(new paper.Point(f.x,f.y),10);m.fillColor="#33CCFF";m.opacity=.5;var t=new paper.Path.Circle(new paper.Point(0,0),8);t.fillColor="#FFCC00";t.visible=!1;q.moveTo(new paper.Point(b.x,b.y));q.quadraticCurveTo(new paper.Point(f.x,f.y),e.x,e.y);b=q.clone();b.strokeColor="#00FF00";b.strokeWidth=1;b.visible=!1;e=new paper.Path;f=
new paper.Path;var k=new paper.PointText,n=new paper.Path.Rectangle(new paper.Rectangle(0,0,50,18)),g=new paper.Group,y=new paper.Group;g.fontSize=y.fontSize=14;n.fillColor="#ffffff";var z=q.segments[0].point.subtract(q.segments[1].point).angle;e=engine2D.pathOffset(q,-20,1);f=engine2D.pathOffset(q,20,1);k.rotation=z;n.rotation=z;k.content=(e.children[0].length/100).toFixed(1)+"m";n.position=e.position;k.position=e.position;g.addChild(n.clone());g.addChild(k.clone());k.content=(f.children[0].length/
100).toFixed(1)+"m";n.position=f.position;k.position=f.position;y.addChild(n);y.addChild(k.clone());k.remove();q.strokeColor="black";q.strokeWidth=20;120>q.length&&(m.visible=!1,t.visible=!1);80>q.length&&(e.visible=!1,f.visible=!1,g.visible=!1,y.visible=!1);k=new paper.Group([q]);c.addChild(e);c.addChild(f);c.addChild(g);c.addChild(y);c.addChild(k);c.addChild(b);c.addChild(t);c.addChild(m);c.addChild(engine2D.calculatePathOffset(q,-10,1,1.5));c.addChild(engine2D.calculatePathOffset(q,10,1,1.5));
paper.project.layers.push(c);m.attach("mouseenter",function(){this.opacity=1});m.attach("mouseleave",function(){this.opacity=.5});m.attach("doubleclick",function(c){c=new paper.Path;c.moveTo(q.segments[0].point);c.lineTo(q.segments[1].point);onPathDrag(this.parent,c.getLocationAt(c.length/2))});m.attach("mousedrag",function(c){onPathDrag(this.parent,c)});k.on("mouseenter",engine2D.wall_onMouseEnter);k.on("mousemove",engine2D.wall_onMouseMove);k.on("mouseleave",engine2D.wall_onMouseLeave);onPathDrag=
function(c,b){c.children[7].position=b.point;var e=c.children[4].children[0],g=c.children[5],f=e.segments[0].point,k=e.segments[1].point;e.clear();e.moveTo(f);e.quadraticCurveTo(b.point,k);g.clear();g.moveTo(f);g.quadraticCurveTo(b.point,k)};onPathTouchDrag=function(c){c=c.originalEvent.changedTouches[0];onPathDrag({clientX:c.pageX,clientY:c.pageY});return!1};c.h=h;return c};
engine2D.wall_onMouseEnter=function(c){this.children[0].parent.parent.children[5].visible=!0;this.children[0].parent.parent.children[6].visible=!0};engine2D.wall_onMouseLeave=function(c){this.children[0].parent.parent.children[5].visible=!1;this.children[0].parent.parent.children[6].visible=!1};engine2D.wall_onMouseMove=function(c){this.children[0].parent.parent.children[6].position=this.children[0].getNearestPoint(c.point)};
engine2D.edge_onMouseEnter=function(c){this.children[2].opacity=1;this.children[3].opacity=1;this.on("mousedown",engine2D.edge_onMouseDown);this.on("mouseleave",engine2D.edge_onMouseLeave)};engine2D.edge_onMouseLeave=function(c){this.children[2].opacity=0;this.children[3].opacity=0};engine2D.wallRelativePoints=function(c,b,e){var f=c.point,h=e[1].point;b.hitTest(h)&&(f=e[0].point,h=c.point);return{start:f,end:h}};
engine2D.edge_onMouseDrag=function(c){!1===this.dragging&&(this.dragging=!0,this.off("mouseenter",engine2D.edge_onMouseEnter),this.off("mouseleave",engine2D.edge_onMouseLeave));for(i=0;i<this.attachments.length;i++){var b=this.attachments[i];b.parent.parent.children[7].visible=120<b.length?!0:!1;var e=engine2D.wallRelativePoints(c,this.children[2],b.segments),f=b.segments[0].point.x+b.segments[1].point.x,h=b.segments[0].point.y+b.segments[1].point.y,q=b.segments[0].point.subtract(b.segments[1].point).angle,
m=e.start.subtract(e.end).angle,f=new paper.Point(f/2,h/2),h=b.doors.length;if(0<h)for(d=0;d<h;d++)b.doors[d].rotate(m-q),b.doors[d].position=f;else b.parent.parent.children[7].position=f;b.clear();b.moveTo(e.start);b.quadraticCurveTo(f,e.end);b.parent.parent.children[0].clear();b.parent.parent.children[1].clear();b.parent.parent.children[0]=engine2D.pathOffset(b,-20,1,b.parent.parent.children[0].strokeColor);b.parent.parent.children[1]=engine2D.pathOffset(b,20,1,b.parent.parent.children[1].strokeColor);
b.parent.parent.children[2].position=b.parent.parent.children[0].children[0].getLocationAt(b.parent.parent.children[0].children[0].length/2).point;b.parent.parent.children[3].position=b.parent.parent.children[1].children[0].getLocationAt(b.parent.parent.children[1].children[0].length/2).point;b.parent.parent.children[2].children[0].rotation=m-q;b.parent.parent.children[3].children[0].rotation=m-q;b.parent.parent.children[2].children[1].rotation=q;b.parent.parent.children[3].children[1].rotation=q;
b.parent.parent.children[2].children[1].content=(b.parent.parent.children[0].children[0].length/100).toFixed(2)+"m";b.parent.parent.children[3].children[1].content=(b.parent.parent.children[1].children[0].length/100).toFixed(2)+"m";b.parent.parent.children[8]=engine2D.calculatePathOffset(b,-10,1,1.5);b.parent.parent.children[9]=engine2D.calculatePathOffset(b,10,1,1.5)}this.position=c.point;engine2D.edgeSmashCorner(this)};
engine2D.edgeSmashCorner=function(c){if(2<=c.attachments.length)for(var b=0;b<c.attachments.length;b+=2)if(void 0!==c.attachments[b+1]){var e=engine2D.calculateWallAngle(c.attachments[b],c.attachments[b+1]),e=Math.abs(e)+180,e=Math.abs(e-360);c.children[4].children[3].content=Math.round(e)+"\u00b0";c.children[4].children[0].clear();c.children[4].children[1].clear();var e=c.attachments[b].parent.parent.children[9].getIntersections(c.attachments[b+1].parent.parent.children[9]),f=c.attachments[b].parent.parent.children[8].getIntersections(c.attachments[b+
1].parent.parent.children[8]),h=c.attachments[b].parent.parent.children[9].getIntersections(c.attachments[b+1].parent.parent.children[8]),q=c.attachments[b].parent.parent.children[8].getIntersections(c.attachments[b+1].parent.parent.children[9]);c.children[1].clear();e[0]&&(c.children[1].moveTo(e[0].point),h[0]&&q[0]&&(c.children[1].lineTo(h[0].point),c.children[1].lineTo(q[0].point)));f[0]&&(e[0]?c.children[1].lineTo(f[0].point):c.children[1].moveTo(f[0].point),h[0]&&q[0]&&(c.children[1].lineTo(h[0].point),
c.children[1].lineTo(q[0].point)))}};engine2D.edge_onMouseDown=function(c){this.on("mouseup",engine2D.edge_onMouseUp);this.on("mousedrag",engine2D.edge_onMouseDrag)};
engine2D.edge_onMouseUp=function(c){this.dragging=!1;this.off("mousedrag",engine2D.edge_onMouseDrag);for(i=0;i<this.attachments.length;i++){c=this.attachments[i];var b=c.parent.parent.children[5],e=this.attachments[i].getLocationAt(this.attachments[i].length/2).point;b.clear();b.moveTo(this.attachments[i].segments[0].point);b.quadraticCurveTo(e,this.attachments[i].segments[1].point);engine2D.calculateWallMeasureWidth(this,c.parent.parent.children[0]);engine2D.calculateWallMeasureWidth(this,c.parent.parent.children[1])}this.children[2].opacity=
0;this.children[3].opacity=0;this.off("mouseleave",engine2D.edge_onMouseLeave);this.off("mousedown",engine2D.edge_onMouseDown);this.on("mouseenter",engine2D.edge_onMouseEnter);engine2D.makeFloor(FLOOR)};
paper.Shape.ArrowLine=function(c,b,e,f,h){function q(c,b,e,g){var f=[],k=Math.sqrt(Math.pow(e-c,2)+Math.pow(g-b,2));f[0]=e-10*((e-c)*Math.cos(.5)-(g-b)*Math.sin(.5))/k;f[1]=g-10*((g-b)*Math.cos(.5)+(e-c)*Math.sin(.5))/k;f[2]=e-10*((e-c)*Math.cos(.5)+(g-b)*Math.sin(.5))/k;f[3]=g-10*((g-b)*Math.cos(.5)-(e-c)*Math.sin(.5))/k;return f}var m=q(c,b,e,f),t=q(e,f,c,b),k=m[0],n=m[1],g=m[2],y=m[3],m=t[0],z=t[1],u=t[2],t=t[3],v=new paper.Path({segments:[new paper.Point(c,b),new paper.Point(e,f)],strokeWidth:1});
e=new paper.Path({segments:[new paper.Point(k,n),new paper.Point(e,f),new paper.Point(g,y)]});e=new paper.CompoundPath([v,e]);!0===h&&(c=new paper.Path({segments:[new paper.Point(m,z),new paper.Point(c,b),new paper.Point(u,t)]}),e.addChild(c));return e};engine2D.calculatePathOffset=function(c,b,e,f){for(var h=new paper.Path,q=0;q<e+1;q++){var m=q/e*c.length,t=c.getPointAt(m),m=c.getNormalAt(m);m.length=b;h.add(t.add(m))}h.scale(f);h.smooth();h.remove();return h};
engine2D.pathOffset=function(c,b,e,f){c=engine2D.calculatePathOffset(c,b,e,1);c=new paper.Shape.ArrowLine(c.segments[0].point.x,c.segments[0].point.y,c.segments[1].point.x,c.segments[1].point.y,!0);c.strokeColor=f;c.strokeWidth=1;return c};engine2D.calculateWallMeasureWidth=function(c,b){for(i=0;i<c.attachments.length;i++)for(l=0;2>l;l++)if(c.attachments[i].hitTest(b.children[0].segments[l].point)){b.scale(.8);break}};
engine2D.calculateWallMeasureColor=function(c,b){for(a=0;a<scene2DWallGroup[c].children.length;a++)for(l=0;2>l;l++){var e=scene2DWallGroup[c].children[a].children[l];scene2DFloorShape[c].hitTest(e.children[0].segments[0].point)?e.strokeColor="#606060":e.strokeColor="#000000"}};
engine2D.addWallCorner=function(c,b,e){b=new paper.Path.Circle(e,60);var f=new paper.Path.Circle(e,8);e=new paper.Path.Circle(e,17);e.strokeColor=f.fillColor="#00CC33";e.strokeWidth=3;e.opacity=f.opacity=0;var h=new paper.Path;h.fillColor="#000000";b=new paper.Group([b,h,f,e]);b.dragging=!1;b.attachments=[];b.on("mouseenter",engine2D.edge_onMouseEnter);scene2DWallPointGroup[c].addChild(b)};
engine2D.calculateWallCorners=function(c){console.log("Fix Wall Corner Geometry "+scene2DWallGroup[c].children.length);scene2DWallPointGroup[c]=new paper.Group;for(var b,e=0;e<scene2DWallGroup[c].children.length;e++)for(var f=scene2DWallGroup[c].children[e].children[4].children[0].segments,h=0;h<f.length;h++){var q=scene2DWallPointGroup[c].hitTest(f[h].point);if(q)for(var m=0;m<scene2DWallGroup[c].children.length;m++){b=q.item.parent;var t=scene2DWallGroup[c].children[m].children[4].children[0];t.hitTest(b.position)&&
b.attachments.push(t)}else engine2D.addWallCorner(c,f,f[h].point)}for(e=0;e<scene2DWallPointGroup[c].children.length;e++)b=scene2DWallPointGroup[c].children[e],engine2D.calculateWallEdge(b),engine2D.edgeSmashCorner(b)};
engine2D.calculateWallEdge=function(c){for(a=0;a<c.attachments.length&&void 0!==c.attachments[a+1];a+=2){var b=c.bounds.width/2,e=new paper.Path,f=new paper.Path,h=new paper.Path,q=new paper.Path.Arc,m=new paper.PointText;if(c.attachments[a].length>b&&c.attachments[a+1].length>b){q=new paper.Point(c.bounds.center.x,c.bounds.center.y);e=c.attachments[a].getLocationAt(b).point;f=c.attachments[a+1].getLocationAt(b).point;Math.round(q.subtract(e).length)>b&&(e=c.attachments[a].getLocationAt(c.attachments[a].length-
b).point);Math.round(q.subtract(f).length)>b&&(f=c.attachments[a+1].getLocationAt(c.attachments[a+1].length-b).point);e=new paper.Path.Line(q,e);f=new paper.Path.Line(q,f);e.strokeColor="#ffffff";e.strokeWidth=1;f.style=e.style;b=engine2D.calculateWallAngle(c.attachments[a],c.attachments[a+1]);h.add(e.segments[1].point);h.add(f.segments[1].point);var t=h.getLocationAt(h.length/2).point;m.position=t;h.clear();h.add(t);h.add(q);h.scale(2);t=h.segments[0].point;h.remove();q=new paper.Path.Arc(e.segments[1].point,
t,f.segments[1].point);q.strokeColor="#000000";q.strokeWidth=1;m.content=Math.abs(b)+"\u00b0";m.justification="center";m.fontSize=14}h=new paper.Group([e,f,q,m]);c.addChild(h)}};engine2D.calculateWallAngle=function(c,b){var e=c.segments[0].point.subtract(c.segments[1].point).angle,f=b.segments[0].point.subtract(b.segments[1].point).angle;return e-f};engine2D.joinWall=function(c){};engine2D.splitWall=function(c,b){console.log(c)};
engine2D.joinWallEdgeCircle=function(c){scene2D.getObjects().filter(function(b){return b.id===c});return!1};engine2D.splitWallEdgeCircle=function(c){for(var b=scene2D.getObjects().filter(function(b){return b.id===c}),e=scene2DMakeWallEdgeCircle(b[0].left,b[0].top,!1),f=1;4>f;f++)b[0].line[f]&&(e.line[f]=b[0].line[f],b[0].line[f]=void 0,b[0].bend[f]=void 0),b[0].pivot[f]&&(e.pivot[f]=b[0].pivot[f],b[0].pivot[f]=void 0);scene2D.add(e);return!1};
engine2D.snapObjectToWall=function(c,b){var e=c.segments[0].point.subtract(c.segments[1].point).angle;b.rotation=e};
engine2D.attachObjectsToWalls=function(c,b){if(void 0!==scene2DWallGroup[c].children[0]){console.log("2D Attach Objects to Walls ["+c+"] "+b[c].children.length);console.log(b[c].children);for(var e=0;e<b[c].children.length;e++)for(var f=b[c].children[e],h=0;h<scene2DWallGroup[c].children.length;h++){var q=scene2DWallGroup[c].children[h],m=q.children[4].children[0].getIntersections(f.children[1]);if(m[0]){h=q.children[4].children[0].hitTest(m[0].point);b===scene2DDoorGroup?h.item.doors.push(b[c].children[e]):
b===scene2DWindowGroup&&h.item.windows.push(b[c].children[e]);engine2D.snapObjectToWall(h.item,f);q.children[7].visible=!1;break}}}};engine2D=window.engine2D||{};engine2D.drawWindow=function(c){void 0!==scene2DWindowGroup[c].children&&(scene2DWindowGroup[c].visible=!0,paper.project.layers.push(scene2DWindowGroup[c]))};
engine2D.makeWindow=function(c,b,e,f,h,q,m){var t=new paper.Group;c=new paper.Path;f=new paper.Path;var k=new paper.Group,n=new paper.Group;c.moveTo(new paper.Point(0,0));c.lineTo(new paper.Point(b,0));c.strokeColor="#000000";c.strokeWidth=10;f.moveTo(new paper.Point(0,0));f.lineTo(new paper.Point(b,0));f.strokeColor="#ffff";f.strokeWidth=22;t.addChild(f);t.addChild(c);c.group=t;t.position=new paper.Point(e.x,e.y);t.attach("mousedrag",function(c){1!=k.drag&&1!=n.drag&&(t.position=c.point,k.opacity=
0,n.opacity=0)});return t};var SimplePanAndZoom,StableZoom;SimplePanAndZoom=function(){function c(){}c.prototype.changeZoom=function(c,e){return 0>e?1.05*c:0<e?c/1.05:c};c.prototype.changeCenter=function(c,e,f,h){e=new paper.Point(e,-f);e=e.multiply(h);return c.add(e)};return c}();function zoom2DdrawBase(c){zoom2DCTX.drawImage(zoom2Dimg,0,0,zoom2Dwidth,zoom2Dheight,0,0,zoom2Dwidth,zoom2Dheight)}
function zoom2DdrawProgress(c){c=zoom2DSlider.value;var b;b=65+1.55*c;zoom2DCTX.drawImage(zoom2Dimg,0,zoom2Dheight,b,zoom2Dheight,0,0,b,zoom2Dheight);c=Math.round(c/10);zoom2DCTX.fillStyle="grey";zoom2DCTX.font="12pt Arial";zoom2DCTX.fillText(c,20,35)}function drawImage(){zoom2DdrawBase(zoom2DCTX);zoom2DdrawProgress(zoom2DCTX)};var engine3D=window.engine3D||{};engine3D.makeCeiling=function(){scene3DCeilingShapeContainer[i]=new THREE.Object3D};engine3D=window.engine3D||{};function camera3DFloorFlyIn(c){(new TWEEN.Tween(camera3D.position)).to({x:0,y:10,z:0},2E3).easing(TWEEN.Easing.Quadratic.InOut).start();(new TWEEN.Tween(controls3D.target)).to({x:0,y:0,z:0},2E3).easing(TWEEN.Easing.Quadratic.InOut).onComplete(function(){FLOOR=c;engine3D.showFloor()}).start()}function camera3DNoteAdd(){}engine3D.scene3DFloorInsertAR=function(){};
engine3D.scene3DFloorInsertPicture=function(){camera3DPositionCache=camera3D.position.clone();camera3DPivotCache=controls3D.target.clone();camera3DInsertPictureEnter()};function camera3DInsertPictureEnter(){(new TWEEN.Tween(camera3D.position)).to({x:0,y:10,z:0},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}
function camera3DInsertPictureExit(){(new TWEEN.Tween(camera3D.position)).to({x:camera3DPositionCache.x,y:camera3DPositionCache.y,z:camera3DPositionCache.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}
function camera3DPictureEnter(){var c=(new THREE.Vector3(0,-1.75,-.4)).applyMatrix4(camera3D.matrixWorld);(new TWEEN.Tween(SelectedPicture.position)).to(c,2E3).easing(TWEEN.Easing.Quadratic.InOut).onComplete(function(){engine3D.initPanorama("#WebGLPanorama","3428",.7,.64)}).start();(new TWEEN.Tween(SelectedPicture.rotation)).to({x:camera3D.rotation.x,y:camera3D.rotation.y,z:camera3D.rotation.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}
function camera3DPictureExit(){(new TWEEN.Tween(SelectedPicture.position)).to({x:camera3DPositionCache.x,y:camera3DPositionCache.y,z:camera3DPositionCache.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start();(new TWEEN.Tween(SelectedPicture.rotation)).to({x:camera3DPivotCache.x,y:camera3DPivotCache.y,z:camera3DPivotCache.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}
function camera3DNoteEnter(){if(""!==SelectedNote.name){var c=(new THREE.Vector3(0,-.5,-.6)).applyMatrix4(camera3D.matrixWorld);(new TWEEN.Tween(SelectedNote.position)).to(c,2E3).easing(TWEEN.Easing.Quadratic.InOut).onComplete(function(){$("#WebGLNote").show()}).start();(new TWEEN.Tween(SelectedNote.rotation)).to({x:camera3D.rotation.x,y:camera3D.rotation.y,z:camera3D.rotation.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}}
function camera3DNoteExit(){$("#WebGLNote").hide();(new TWEEN.Tween(SelectedNote.position)).to({x:camera3DPositionCache.x,y:camera3DPositionCache.y,z:camera3DPositionCache.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start();(new TWEEN.Tween(SelectedNote.rotation)).to({x:camera3DPivotCache.x,y:camera3DPivotCache.y,z:camera3DPivotCache.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}
engine3D.cameraAnimate=function(c,b,e,f){scene3DAnimateRotate||((new TWEEN.Tween(camera3D.position)).to({x:c,y:b,z:e},f).easing(TWEEN.Easing.Quadratic.InOut).start(),(new TWEEN.Tween(controls3D.target)).to({x:0,y:0,z:0},f).easing(TWEEN.Easing.Quadratic.InOut).start())};
engine3D.cameraWalkViewToggle=function(){if(controls3D instanceof THREE.FirstPersonControls)camera3DPositionCache=new THREE.Vector3(0,6,20),camera3DPivotCache=new THREE.Vector3(0,0,0),engine3D.cameraAnimateResetView(),engine3D.enableOrbitControls(camera3D,renderer.domElement);else if(controls3D instanceof THREE.OrbitControls){var c=alertify.confirm("");c.ok=function(){camera3DPositionCache=camera3D.position.clone();camera3DPivotCache=controls3D.target.clone();scene3DAnimateRotate=!1;(new TWEEN.Tween(camera3D.position)).to({x:0,
y:1.5,z:18},2E3).easing(TWEEN.Easing.Quadratic.InOut).start();(new TWEEN.Tween(controls3D.target)).to({x:0,y:1.5,z:0},2E3).easing(TWEEN.Easing.Quadratic.InOut).onComplete(function(){engine3D.enableFirstPersonControls()}).start()};c.show();$(".alertify-title").append($.parseHTML("<img src='images/help/wasd-keyboard.jpg' /><br/><br/>Use (W,A,S,D) or arrow keys to move."))}else alertify.alert("Not Available in Edit Mode").show()};engine3D.cameraAnimateResetView=function(){};
engine3D.enableTransformControls=function(c){controls3D=new THREE.TransformControls(camera3D,renderer.domElement);controls3D.attach(SelectedObject);controls3D.setMode(c);$("#WebGLInteractiveMenu").hide();$("#WebGLTextureSelect").hide()};engine3D.enableOrbitControls=function(c,b){controls3D instanceof THREE.OrbitControls||(controls3D=new THREE.OrbitControls(c,b),controls3D.minDistance=3,controls3D.maxDistance=25,controls3D.maxPolarAngle=Math.PI/2);controls3D.enabled=!0};
engine3D.enableFirstPersonControls=function(){controls3D.enabled=!1;controls3D=new THREE.FirstPersonControls(camera3D,renderer.domElement);controls3D.movementSpeed=5;controls3D.lookSpeed=.15;controls3D.noFly=!0;controls3D.lookVertical=!1;controls3D.activeLook=!0;controls3D.lon=-90;controls3D.lat=0;controls3D.enabled=!0};
engine3D.open3DModel=function(c,b,e,f,h,q,m,t,k,n){try{c.split(".").pop();var g=c.substring(0,c.lastIndexOf("/")+1)+"Textures/",y=function(g){g.name=c;g.boundingBox=[];g.boundingBox.max=[];g.boundingBox.max.x=0;g.boundingBox.max.y=0;g.boundingBox.max.z=0;g.traverse(function(c){c instanceof THREE.Mesh?(c.geometry.computeFaceNormals(),c.geometry.computeVertexNormals(),c.geometry.computeBoundingBox(),g.boundingBox.max.x<c.geometry.boundingBox.max.x&&(g.boundingBox.max.x=c.geometry.boundingBox.max.x),
g.boundingBox.max.y<c.geometry.boundingBox.max.y&&(g.boundingBox.max.y=c.geometry.boundingBox.max.y),g.boundingBox.max.z<c.geometry.boundingBox.max.z&&(g.boundingBox.max.z=c.geometry.boundingBox.max.z),c.castShadow=!0,k&&(c.receiveShadow=!0),null!==c.material&&(c.material.side=THREE.DoubleSide,1<c.material.shininess-10?c.material.shininess-=10:0===c.material.shininess&&(c.material.shininess=.1),c.material.transparent=1>c.material.opacity?!0:!1)):c instanceof THREE.PointLight&&console.log("light found!")});
g.position.x=e;g.position.y=f;g.position.z=h;g.rotation.x=q;g.rotation.y=m+Math.PI;console.log("ObjectLoader add model to scene "+g.name);b.add(g);var u,y;if(n){u=new THREE.MeshBasicMaterial({color:0});engine3D.fontLoader.load("fonts/helvetiker_regular.typeface.json",function(c){y=new THREE.TextGeometry(n,{font:c,weight:"normal",size:.05,height:.01})});var t=new THREE.Mesh(y,u);t.position.x=1.25;t.position.y=.5;t.position.z=.05;t.rotation.y=1.5;t.name=n;engine3D.open3DModel("objects/Platform/note.jsz",
g,1.25,.1,-.3,0,1.5,1,!1,null);g.add(t);console.log(c+" Add Note: '"+n+"'")}if(b==scene3DFloorFurnitureContainer[FLOOR]){u=new THREE.LineBasicMaterial({color:0,linewidth:2});y=new THREE.Geometry;var F=e-3*g.boundingBox.max.x,z=h-3*g.boundingBox.max.z,t=e+3*g.boundingBox.max.x,H=h+3*g.boundingBox.max.z;y.vertices.push(new THREE.Vector3(F,0,z));y.vertices.push(new THREE.Vector3(t,0,z));y.vertices.push(new THREE.Vector3(F,0,z));y.vertices.push(new THREE.Vector3(F,0,H));var J=new THREE.Line(y,u,THREE.LineSegments);
J.position.y=.01;var w=[],R=[];w[0]=400*g.boundingBox.max.z;w[1]=400*g.boundingBox.max.x;engine3D.fontLoader.load("font/helvetiker_regular.typeface.json",function(c){for(var b=0;1>=b;b++){var g;g=100<w[b]?(w[b]/100).toFixed(2)+" m":Math.round(w[b])+" cm";R[b]=new THREE.TextGeometry(g,{font:c,weight:"normal",size:.2,height:.01});R[b].computeBoundingBox()}c=new THREE.Mesh(R[0],u);c.position.x=e-R[0].boundingBox.max.x/2;c.position.y=.01;c.position.z=z-.1;c.rotation.x=-1.5;b=new THREE.Mesh(R[1],u);b.position.x=
F-.1;b.position.y=.01;b.position.z=h+R[1].boundingBox.max.x/2;b.rotation.x=-1.55;b.rotation.z=1.6;J.add(c);J.add(b)});g.add(J);J.visible=!1}};if("jsz"===c.split(".").pop()){var z=c.split("/").pop().slice(0,-4)+".json";$.ajax(c,{contentType:"application/zip",beforeSend:function(c){c.overrideMimeType("text/plain; charset=x-user-defined")},success:function(c){(new JSZip).loadAsync(c).then(function(c){c.file(z).async("string").then(function(c){c=JSON.parse(c);var b=new THREE.ObjectLoader(engine3D.jsonLoader);
b.setTexturePath(g);if("BufferGeometry"===c.geometries[0].type)b.parse(c,y,{useWorker:!0,useBuffers:!0});else{for(var e=0;e<c.textures.length;e++)c.textures[e].mapping&&(c.textures[e].mapping=THREE[c.textures[e].mapping]),c.textures[e].minFilter&&(c.textures[e].minFilter=THREE[c.textures[e].minFilter]),c.textures[e].magFilter&&(c.textures[e].magFilter=THREE[c.textures[e].magFilter]),c.textures[e].wrap&&(c.textures[e].wrap=[THREE.RepeatWrapping,THREE.RepeatWrapping]);for(e=0;e<c.object.children.length;e++){for(var f=
1,k=0;k<c.geometries.length;k++)if(c.geometries[k].uuid==c.object.children[e].geometry){f=c.geometries[k].materials[0].opacity;break}0===f&&(f=.99);for(k=0;k<c.materials.length;k++){for(var h=0;h<c.textures.length;h++)if(c.textures[h].uuid==c.materials[k].map){c.textures[h].uuid=THREE.Math.generateUUID();c.materials[k].map=c.textures[h].uuid;break}if(c.materials[k].uuid==c.object.children[e].material){c.materials[k].opacity=f;f=THREE.Math.generateUUID();for(h=0;h<c.object.children.length;h++)c.object.children[h].material==
c.materials[k].uuid&&(c.object.children[h].material=f);c.materials[k].uuid=f;break}}}b.parse(c,y)}})})},error:function(b,e,g){alertify.alert("3D Model ("+c+") Loading Error").show()}})}else"obj"==c.split(".").pop()&&(loader=new THREE.OBJLoader,loader.load(c,function(g){g.name=c;g.position.x=e;g.position.y=f;g.position.z=h;g.rotation.x=q;g.rotation.y=m;console.log("OBJMTL add model to scene"+c.slice(0,-4));console.log(g);b.add(g)},onProgress,onError))}catch(u){console.log("open3DModel Error "+u)}};
engine3D.showHouse=function(){console.log("showHouse()");engine3D.freeMemory();engine3D.hide();engine2D.hide();SCENE="house";engineGUI.initMenu("menuRight3DHouse","Exterior/index.json");engine3D.enableOrbitControls(camera3D,renderer.domElement);SSAOProcessing.enabled=!1;$(renderer.domElement).bind("mousedown",on3DHouseMouseDown);$(renderer.domElement).bind("mouseup",on3DHouseMouseUp);$(renderer.domElement).bind("mousemove",on3DHouseMouseMove);$(renderer.domElement).bind("dblclick",onDocumentDoubleClick);
"moveXY"==TOOL3DINTERACTIVE?engineGUI.menuSelect(0,"menuInteractiveItem","#ff3700"):"moveZ"==TOOL3DINTERACTIVE?engineGUI.menuSelect(1,"menuInteractiveItem","#ff3700"):"rotate"==TOOL3DINTERACTIVE&&engineGUI.menuSelect(2,"menuInteractiveItem","#ff3700");$("#menuBottomHouse").show();engineGUI.menuToggleRight("menuRight",!0);engineGUI.menuToggleLeft("menuLeft3DHouse",!0);engineGUI.menuSelect(1,"menuTopItem","#ff3700");engineGUI.menuCorrectHeight();engine3D.setSky();engine3D.setLights();engine3D.setWeather();
scene3D.add(skyMesh);engine3D.makeFloor();scene3D.add(scene3DHouseGroundContainer);scene3D.add(scene3DHouseContainer);scene3D.add(scene3DRoofContainer);if(void 0!=scene2DWallGroup[FLOOR]){for(var c=[-1,0,1,2,3,4],b=0;b<scene2DFloorShape.length;b++){var e=.1+c[b]*scene2DWallGroup[FLOOR].children[0].h;scene3DFloorShapeContainer[b].position.y=e;scene3DCeilingShapeContainer[b].position.y=e+scene2DWallGroup[FLOOR].children[0].h;scene3D.add(scene3DFloorShapeContainer[b]);scene3D.add(scene3DCeilingShapeContainer[b])}for(var b=
0;b<scene3DFloorFurnitureContainer.length;b++)scene3D.add(scene3DFloorFurnitureContainer[b])}scene3DCube&&scene3DCube.add(scene3DCubeMesh);$("#engine3D").show();$("#WebGLCanvas").show();setTimeout(function(){engine3D.cameraAnimate(0,6,18,1E3)},1E3);engine3D.animate()};
engine3D.showLandscape=function(){scene3DAnimateRotate=!1;engine3D.freeMemory();engine3D.hide();engine2D.hide();SCENE="landscape";engine3D.setSky("day");engine3D.setLights();engine3D.enableOrbitControls(camera3D,renderer.domElement);camera3D.position.set(10,10,15);camera3D.lookAt(scene3D.position);TOOL3DLANDSCAPE="rotate";scene3D.add(skyMesh);scene3D.add(terrain3D);$(renderer.domElement).bind("mousedown",on3DLandscapeMouseDown);$(renderer.domElement).bind("mouseup",on3DLandscapeMouseUp);$(renderer.domElement).bind("mousemove",
on3DLandscapeMouseMove);engineGUI.menuToggleLeft("menuLeft3DLandscape",!0);engineGUI.menuSelect(0,"menuLeft3DLandscapeItem","#ff3700");engineGUI.menuSelect(2,"menuTopItem","#ff3700");engineGUI.menuCorrectHeight();$("#engine3D").show();$("#WebGLCanvas").show();engine3D.animate()};
engine3D.showFloor=function(c){console.log("showFloor()");FLOOR=c;scene3DAnimateRotate=!1;engine3D.freeMemory();engine3D.hide();engine2D.hide();SCENE="floor";engineGUI.initMenu("menuRight3DFloor","Interior/index.json");engine3D.enableOrbitControls(camera3D,renderer.domElement);engine3D.buildPanorama(skyFloorMesh,"0000",75,75,75,"",null);scene3D.add(skyFloorMesh);engine3D.setLights();engine3D.makeFloor();engine3D.makeWalls();scene3D.add(scene3DFloorFurnitureContainer[FLOOR]);scene3D.add(scene3DFloorShapeContainer[FLOOR]);
scene3D.add(scene3DFloorGroundContainer);scene3DFloorShapeContainer[FLOOR].position.y=.1;if("measure"==TOOL3DFLOOR)for(scene3DFloorMeasurementsGenerate(),c=0;c<scene3DFloorFurnitureContainer[FLOOR].children.length;c++)scene3DFloorFurnitureContainer[FLOOR].children[c].children[1]&&(scene3DFloorFurnitureContainer[FLOOR].children[c].children[1].visible=!0);scene3D.add(scene3DFloorWallContainer[FLOOR]);scene3D.add(scene3DFloorShapeContainer[FLOOR]);$(renderer.domElement).bind("mousedown",on3DFloorMouseDown);
$(renderer.domElement).bind("mouseup",on3DFloorMouseUp);$(renderer.domElement).bind("mousemove",on3DFloorMouseMove);$(renderer.domElement).bind("dblclick",onDocumentDoubleClick);$("#menuFloorSelectorText").html(scene3DFloorFurnitureContainer[FLOOR].name);$("#menuFloorSelector").show();$("#menuBottomFloor").show();engineGUI.menuToggleRight("menuRight",!0);engineGUI.menuToggleLeft("menuLeft3DFloor",!0);engineGUI.menuSelect(5,"menuTopItem","#ff3700");engineGUI.menuSelect(0,"menuLeft3DFloorItem","#ff3700");
engineGUI.menuCorrectHeight();scene3DCube&&scene3DCube.add(scene3DCubeMesh);$("#engine3D").show();$("#WebGLCanvas").show();setTimeout(function(){engine3D.cameraAnimate(0,10,12,1E3)},500);engine3D.animate()};
engine3D.showFloorLevel=function(){scene3DAnimateRotate=!1;engine3D.freeMemory();engine3D.hide();engine2D.hide();SCENE="floorlevel";engine3D.setSky("day");engine3D.setLights();engine3D.enableOrbitControls(camera3D,renderer.domElement);camera3D.position.set(10,10,15);camera3D.lookAt(scene3D.position);engine3D.generateLevelWalls();scene3D.add(skyMesh);scene3D.add(scene3DHouseGroundContainer);engineGUI.menuSelect(3,"menuTopItem","#ff3700");engineGUI.menuCorrectHeight();$("#engine3D").show();$("#WebGLCanvas").show();
engine3D.animate()};
engine3D.showRoofDesign=function(){scene3DAnimateRotate=!1;engine3D.freeMemory();engine3D.hide();engine2D.hide();SCENE="roof";engineGUI.initMenu("menuRight3DRoof","Roof/index.json");engine3D.setLights();engine3D.initRendererQuad();scene3D.add(camera3DQuadGrid);scene3D.add(scene3DRoofContainer);$("#WebGLSplitCanvas-0").bind("mousemove",on3DRoofSplit0MouseMove);$("#WebGLSplitCanvas").bind("mouseup",on3DRoofVDividerMouseUp);engineGUI.menuToggleRight("menuRight",!0);engineGUI.menuSelect(4,"menuTopItem",
"#ff3700");engineGUI.menuCorrectHeight();$("#engine3D").show();$("#WebGLSplitCanvas").show();engine3D.animate()};
engine3D.hide=function(){$("#engine3D").hide();if(void 0!==renderer){scene3DCube&&scene3DCube.remove(scene3DCubeMesh);for(i=0;i<scene2DFloorShape.length;i++)scene3D.remove(scene3DFloorShapeContainer[i]),scene3D.remove(scene3DCeilingShapeContainer[i]);$(renderer.domElement).unbind("mousedown",on3DHouseMouseDown);$(renderer.domElement).unbind("mouseup",on3DHouseMouseUp);$(renderer.domElement).unbind("mousemove",on3DHouseMouseMove);$(renderer.domElement).unbind("dblclick",onDocumentDoubleClick);$("#WebGLSplitCanvas-0").unbind("mousemove",
on3DRoofSplit0MouseMove);$("#WebGLSplitCanvas").unbind("mouseup",on3DRoofVDividerMouseUp);$(renderer.domElement).unbind("mousedown",on3DFloorMouseDown);$(renderer.domElement).unbind("mouseup",on3DFloorMouseUp);$(renderer.domElement).unbind("mousemove",on3DFloorMouseMove);$(renderer.domElement).unbind("mousedown",on3DLandscapeMouseDown);$(renderer.domElement).unbind("mouseup",on3DLandscapeMouseUp);$(renderer.domElement).unbind("mousemove",on3DLandscapeMouseMove);engine3D.disposePanorama("#WebGLPanorama");
$("#WebGLCanvas").hide();$("#WebGLSplitCanvas").hide();$("#menuLeft3DHouse").hide();$("#menuLeft3DLandscape").hide();$("#menuLeft3DFloor").hide();$("#menuRight3DHouse").hide();$("#menuRight3DFloor").hide();$("#menuRight3DRoof").hide();$("#menuRightObjects").hide();$("#menuRight").hide();$("#menuFloorSelector").hide();$("#menuWallInput").hide();$("#menuBottomHouse").hide();$("#menuBottomFloor").hide()}};
engine3D.addFloor=function(c){var b=scene3DFloorFurnitureContainer.length;null===c&&(c="Floor "+b);scene3DFloorFurnitureContainer[b]=new THREE.Object3D;scene3DFloorFurnitureContainer[b].name=c;scene3DFloorMeasurementsContainer[b]=new THREE.Object3D;scene3DFloorWallContainer[b]=new THREE.Object3D;scene3DFloorShapeContainer[b]=new THREE.Object3D;scene3DCeilingShapeContainer[b]=new THREE.Object3D;scene2DWallMesh[b]=[];scene2DWallDimentions[b]=[]};
function selectDayNight(){"day"==DAY?DAY="night":"night"==DAY&&(DAY="day");scene3D.remove(skyMesh);engine3D.setSky(DAY);engine3D.setLights();engine3D.setWeather();scene3D.add(skyMesh)}engine3D.selectWeather=function(){"sunny"===WEATHER?WEATHER="snowy":"snowy"===WEATHER?WEATHER="rainy":"rainy"===WEATHER&&(WEATHER="sunny");engine3D.setWeather()};
function scene3DObjectSelectRemove(){"house"==SCENE?scene3DHouseContainer.remove(SelectedObject):"floor"==SCENE&&scene3DFloorFurnitureContainer[FLOOR].remove(SelectedObject);scene3DObjectUnselect()}
function scene3DObjectSelectMenuPosition(c,b){var e=new THREE.Vector3(c,b,.1),f,h;null!==SelectedObject?e=e.setFromMatrixPosition(SelectedObject.matrixWorld):null!==SelectedWall&&(e=e.setFromMatrixPosition(SelectedWall.matrixWorld));e.project(camera3D);f=(e.x+1)/2;h=(-e.y+1)/2;e.x=f*window.innerWidth;e.y=h*window.innerHeight;return e}
function scene3DObjectSelectMenu(c,b,e){c=scene3DObjectSelectMenuPosition(c,b);$(e).css("top",c.y-60).css("left",c.x);$(e).show();null===SelectedObject&&null!==SelectedWall&&($("#WebGLTextureSelect").css("top",c.y+$(e).height()).css("left",c.x-$("#WebGLTextureSelect").width()/2),$("#WebGLColorWheelSelect").css("top",c.y-$("#WebGLColorWheelSelect").height()-32).css("left",c.x-$("#WebGLColorWheelSelect").width()/2))}
function scene3DObjectSelect(c,b,e,f){if(controls3D instanceof THREE.OrbitControls)if(c=new THREE.Vector3(c,b,.5),c.unproject(e),e=(new THREE.Raycaster(e.position,c.sub(e.position).normalize())).intersectObjects(f.children,!0),0<e.length){if(SelectedObject!==e[0].object){scene3DObjectUnselect();controls3D.enabled=!1;SelectedObject=scene3DObjectSelectedRoot(f,e[0].object.uuid);if(0<=e[0].object.name.indexOf("Platform/note.jsz"))SelectedNote=e[0].object,camera3DPositionCache=SelectedNote.position.clone(),
camera3DPivotCache=SelectedNote.rotation.clone(),camera3DNoteEnter();else if(!(0<=SelectedObject.name.indexOf("Platform/camera.jsz")))if(SelectedObject.children===scene3DFloorWallContainer[FLOOR].children)SelectedWall=e[0].object,scene3DObjectSelectMenu(mouse.x,mouse.y,"#WebGLWallPaintMenu");else{if(-1!=SelectedObject.name.indexOf("house"))return scene3DObjectUnselect(),!1;f=SelectedObject.children[SelectedObject.children.length-1];c=65280;rightButtonDown&&(c=16776960);c=new THREE.MeshBasicMaterial({color:c,
side:THREE.BackSide,opacity:.5,transparent:!0});"{highlighteMesh}"!==f.name?(f=SelectedObject.clone(),f.name="{highlighteMesh}",f.position.set(0,0,0),f.rotation.set(0,0,0),f.scale.multiplyScalar(1.06),SelectedObject.add(f)):f.visible=!0;for(b=0;b<f.children.length;b++)"Mesh"===f.children[b].type?(f.children[b].material=c,f.children[b].material.depthWrite=!0,f.children[b].material.depthTest=!0):f.remove(f.children[b]);if("house"!==SCENE){var h=$("#WebGLSelectMenu");h.tooltipster("content",'<a href="#item" onclick="" class="lo-icon icon-info" style="color:#606060"></a><a href="#" onclick="" class="lo-icon icon-settings" style="color:#606060"></a>')}SelectedObject.boundingBox&&
8<e[0].distance&&4>SelectedObject.boundingBox.max.x&&(camera3DPositionCache=camera3D.position.clone(),camera3DPivotCache=controls3D.target.clone(),(new TWEEN.Tween(camera3D.position)).to({x:SelectedObject.position.x,y:SelectedObject.position.y+4,z:SelectedObject.position.z+5},1E3).easing(TWEEN.Easing.Quadratic.InOut).onComplete(function(){}).start(),(new TWEEN.Tween(controls3D.target)).to({x:SelectedObject.position.x,y:SelectedObject.position.y,z:SelectedObject.position.z},1E3).easing(TWEEN.Easing.Quadratic.InOut).start());
void 0!==h&&(console.log(SCENE),f=scene3DObjectSelectMenuPosition(mouse.x,mouse.y),h.css({position:"absolute",left:f.x,top:f.y-50,"z-index":0}),h.tooltipster("open"));engineGUI.toggleSideMenus(!1)}return!0}}else scene3DObjectUnselect();return!1}function scene3DObjectSelectedRoot(c,b){for(var e=0;e<c.children.length;e++)for(var f=0;f<c.children[e].children.length;f++)if(c.children[e].children[f].uuid===b)return c.children[e];return c}
function scene3DObjectUnselect(){if(controls3D instanceof THREE.OrbitControls){if(null!==SelectedObject){var c=SelectedObject.children[SelectedObject.children.length-1];"{highlighteMesh}"===c.name&&(c.visible=!1);SelectedWall=SelectedObject=null;$("#WebGLSelectMenu").tooltipster("hide");$("#WebGLInteractiveMenu").hide();$("#WebGLWallPaintMenu").hide();$("#WebGLColorWheelSelect").hide();$("#WebGLTextureSelect").hide()}else null!==SelectedNote?(SelectedNote=null,camera3DNoteExit()):null!==SelectedPicture&&
(SelectedPicture=null,camera3DPictureExit());controls3D.enabled=!0;camera3DPivotCache=camera3DPositionCache=null}}
engine3D.collectArrayFromContainer=function(c){for(var b=[],e=0;e<c.children.length;e++){var f={};f.file=c.children[e].children[0].name;try{f.note=c.children[e].children[2].name}catch(h){}f.textures="Textures";f.position.x=c.children[e].children[0].position.x;f.position.y=c.children[e].children[0].position.y;f.position.z=c.children[e].children[0].position.z;f.rotation.x=c.children[e].children[0].rotation.x;f.rotation.y=c.children[e].children[0].rotation.y;f.rotation.z=c.children[e].children[0].rotation.z;
b.push(f)}return b};function scene3DFloorMeasurementsGenerate(){material=new THREE.LineBasicMaterial({color:0,linewidth:2})}
function scene3DFloorMeasurementShow(){for(var c=!0,b=0;b<scene3DFloorFurnitureContainer[FLOOR].children.length;b++).8>scene3DFloorFurnitureContainer[FLOOR].children[b].position.y&&(scene3DFloorFurnitureContainer[FLOOR].children[b].children[1].visible=!scene3DFloorFurnitureContainer[FLOOR].children[b].children[1].visible),c=scene3DFloorFurnitureContainer[FLOOR].children[b].children[1].visible;c?(engineGUI.menuSelect(0,"menuLeft3DFloorItem","#ff3700"),TOOL3DFLOOR="measure"):(engineGUI.menuSelect(0,
"menuLeft3DFloorItem","black"),TOOL3DFLOOR="")}
engine3D.setBackground=function(c){var b=document.createElement("canvas");b.width=window.innerWidth;b.height=window.innerHeight;var e=b.getContext("2d");"blue"===c?(c=e.createLinearGradient(0,0,0,b.height),c.addColorStop(0,"#1e4877"),c.addColorStop(.5,"#4584b4"),e.fillStyle=c,e.fillRect(0,0,b.width,b.height),document.getElementById("engine3D").style.background="url("+b.toDataURL("image/png")+")"):"split"===c?(e.lineWidth=1,e.beginPath(),e.moveTo(.5*window.innerWidth,0),e.lineTo(.5*window.innerWidth,
window.innerHeight),e.stroke(),e.beginPath(),e.moveTo(0,.5*window.innerHeight),e.lineTo(window.innerWidth,.5*window.innerHeight),e.stroke(),document.getElementById("engine3D").style.background="url("+b.toDataURL("image/png")+")"):document.body.style.background="#fff"};
engine3D.setLights=function(){scene3D.remove(sceneAmbientLight);scene3D.remove(sceneDirectionalLight);scene3D.remove(sceneSpotLight);"house"===SCENE?"day"===DAY?json.weather.sunlight?(sceneAmbientLight=new THREE.AmbientLight,scene3D.add(sceneAmbientLight),scene3D.add(sceneDirectionalLight),sceneSpotLight.intensity=1,sceneSpotLight.castShadow=!1,scene3D.add(sceneSpotLight)):(sceneAmbientLight=new THREE.AmbientLight(16777215,.7),scene3D.add(sceneAmbientLight),scene3D.add(sceneDirectionalLight)):(sceneSpotLight.intensity=
.8,sceneSpotLight.castShadow=!1,scene3D.add(sceneSpotLight)):"landscape"===SCENE?(sceneAmbientLight=new THREE.AmbientLight(16777215,.5),scene3D.add(sceneAmbientLight),scene3D.add(sceneDirectionalLight)):"roof"===SCENE?(sceneAmbientLight=new THREE.AmbientLight(16777215,.1),scene3D.add(sceneAmbientLight),sceneSpotLight.intensity=.6,sceneSpotLight.castShadow=!1,scene3D.add(sceneSpotLight)):"floorlevel"===SCENE?(sceneAmbientLight=new THREE.AmbientLight(16777215,.5),scene3D.add(sceneAmbientLight),scene3D.add(sceneDirectionalLight)):
"floor"===SCENE&&(sceneAmbientLight=new THREE.AmbientLight,scene3D.add(sceneAmbientLight),sceneDirectionalLight.intensity=.6,scene3D.add(sceneDirectionalLight))};
engine3D.insert3DModel=function(c){"database"===RUNMODE&&(c="php/objects.php?id="+c,$.ajax({type:"GET",dataType:"json",url:c,async:!1,success:function(b){c=b.file},error:function(c,b,e){alertify.alert("Database Error - 3D Object Not Found").show()}}));var b=0,e=0,f=0;if("house"===SCENE){f=scene3DHouseContainer.children.length-1;e=b=0;try{b=scene3DHouseContainer.children[f].position.x+scene3DHouseContainer.children[f].geometry.boundingBox.max.x,e=scene3DHouseContainer.children[f].position.z+scene3DHouseContainer.children[f].geometry.boundingBox.max.z}catch(h){}engine3D.open3DModel(c,
scene3DHouseContainer,b,0,e,0,0,1,!0,null)}else"floor"===SCENE&&(f=scene3DFloorFurnitureContainer[FLOOR].children.length-1,b=scene3DFloorFurnitureContainer[FLOOR].children[f].position.x+scene3DFloorFurnitureContainer[FLOOR].children[f].geometry.boundingBox.max.x,e=scene3DFloorFurnitureContainer[FLOOR].children[f].position.z+scene3DFloorFurnitureContainer[FLOOR].children[f].geometry.boundingBox.max.z,engine3D.open3DModel(c,scene3DFloorFurnitureContainer[FLOOR],b,0,e,0,0,1,!0,null))};
engine3D.calculateCutawayGeometry=function(){var c=alertify.confirm("This feature is experimental and may not work properly. Continue?");c.ok=function(){var c=new THREE.BoxGeometry(20,16,6),c=new THREE.Mesh(c);c.position.z=scene3DRoofContainer.children[0].position.z+scene3DRoofContainer.children[0].boundingBox.max.z/2;for(var c=new ThreeBSP(c),e=0;e<scene3DRoofContainer.children.length;e++)for(var f=0;f<scene3DRoofContainer.children[e].children.length;f++){var h=(new ThreeBSP(scene3DRoofContainer.children[e].children[f].geometry)).subtract(c),
h=new THREE.Mesh(h.toGeometry(),new THREE.MeshNormalMaterial({shading:THREE.SmoothShading}));h.geometry.computeVertexNormals();h.geometry.computeFaceNormals();scene3DRoofContainer.children[e].children[f].geometry=h.geometry}};c.show()};
function animateHouseRotate(){requestAnimationID=window.requestAnimationFrame(animateHouseRotate);if(scene3DAnimateRotate){var c=.19*clock.getDelta(),b=camera3D.position.x,e=camera3D.position.z,f=Math.cos(c),c=Math.sin(c);camera3D.position.x=b*f+e*c;camera3D.position.z=e*f-b*c;camera3D.lookAt(scene3D.position);animateClouds();renderer.render(scene3D,camera3D)}else engine3D.animate()}
function animateFloor(){requestAnimationID=window.requestAnimationFrame(animateFloor);sceneSpotLight.visible=!1;controls3D.update();leftButtonDown?renderer.render(scene3D,camera3D):(SSAOProcessing.enabled&&(scene3D.overrideMaterial=depthMaterial,renderer.render(scene3D,camera3D,depthRenderTarget,!0),scene3D.overrideMaterial=null),effectComposer.render());TWEEN.update()}
function animateLandscape(){requestAnimationID=window.requestAnimationFrame(animateLandscape);leftButtonDown&&"rotate"==TOOL3DLANDSCAPE&&controls3D.update();terrain3D.water.material.uniforms.time.value=(new Date).getTime()%1E4;renderer.render(scene3D,camera3D)}
function renderSunlight(){if(json.weather.sunlight){var c=new THREE.Vector3(0,10,-10),b=new THREE.MeshDepthMaterial,e=new THREE.Vector3;e.copy(c).project(camera3D);e.x+=1;e.y+=1;sunlight.godrayGenUniforms.vSunPositionScreenSpace.value.x=e.x;sunlight.godrayGenUniforms.vSunPositionScreenSpace.value.y=e.y;sunlight.godraysFakeSunUniforms.vSunPositionScreenSpace.value.x=e.x;sunlight.godraysFakeSunUniforms.vSunPositionScreenSpace.value.y=e.y;renderer.clearTarget(sunlight.rtTextureColors,!0,!0,!1);var c=
.74*window.innerHeight,f=.74*window.innerHeight;e.x*=window.innerWidth;e.y*=window.innerHeight;renderer.setScissor(e.x-f/2,e.y-c/2,f,c);renderer.enableScissorTest(!0);sunlight.godraysFakeSunUniforms.fAspect.value=window.innerWidth/window.innerHeight;sunlight.scene.overrideMaterial=sunlight.materialGodraysFakeSun;renderer.render(sunlight.scene,sunlight.camera,sunlight.rtTextureColors);renderer.enableScissorTest(!1);scene3D.overrideMaterial=null;renderer.render(scene3D,camera3D,sunlight.rtTextureColors);
scene3D.overrideMaterial=b;renderer.render(scene3D,camera3D,sunlight.rtTextureDepth,!0);b=1*Math.pow(6,-1);sunlight.godrayGenUniforms.fStepSize.value=b;sunlight.godrayGenUniforms.tInput.value=sunlight.rtTextureDepth;sunlight.scene.overrideMaterial=sunlight.materialGodraysGenerate;renderer.render(sunlight.scene,sunlight.camera,sunlight.rtTextureGodRays2);b=1*Math.pow(6,-2);sunlight.godrayGenUniforms.fStepSize.value=b;sunlight.godrayGenUniforms.tInput.value=sunlight.rtTextureGodRays2;renderer.render(sunlight.scene,
sunlight.camera,sunlight.rtTextureGodRays1);b=1*Math.pow(6,-3);sunlight.godrayGenUniforms.fStepSize.value=b;sunlight.godrayGenUniforms.tInput.value=sunlight.rtTextureGodRays1;renderer.render(sunlight.scene,sunlight.camera,sunlight.rtTextureGodRays2);sunlight.godrayCombineUniforms.tColors.value=sunlight.rtTextureColors;sunlight.godrayCombineUniforms.tGodRays.value=sunlight.rtTextureGodRays2;sunlight.scene.overrideMaterial=sunlight.materialGodraysCombine;renderer.render(sunlight.scene,sunlight.camera);
sunlight.scene.overrideMaterial=null}else renderer.render(scene3D,camera3D)}function animateClouds(){weatherSkyCloudsMesh.rotation.y=camera3D.rotation.y;weatherSkyCloudsMesh.rotation.z=camera3D.rotation.z;weatherSkyCloudsMesh.rotation.x=camera3D.rotation.x;weatherSkyCloudsMesh.position.x=camera3D.position.x/1.5}
function animateHouse(){requestAnimationID=window.requestAnimationFrame(animateHouse);scene3DAnimateRotate?engine3D.animate():(animateClouds(),controls3D.enabled&&(controls3D.update(),rendererCube&&rendererCube.render(scene3DCube,camera3DCube)),leftButtonDown?renderer.render(scene3D,camera3D):(SSAOProcessing.enabled&&(scene3D.overrideMaterial=depthMaterial,renderer.render(scene3D,camera3D,depthRenderTarget,!0),scene3D.overrideMaterial=null),effectComposer.render()),TWEEN.update())}
function animateRoof(){requestAnimationID=window.requestAnimationFrame(animateRoof);for(i=0;4>i;i++)rendererQuad[i].render(scene3D,camera3DQuad[i])}function animateRoof0(){requestAnimationID=window.requestAnimationFrame(animateRoof);rendererQuad[0].render(scene3D,camera3DQuad[0])}function animateStop(){requestAnimationID&&(window.cancelAnimationFrame(requestAnimationID),requestId=void 0)}
engine3D.animate=function(){animateStop();"house"==SCENE?scene3DAnimateRotate?animateHouseRotate():animateHouse():"floor"==SCENE?animateFloor():"landscape"==SCENE||"floorlevel"==SCENE?animateLandscape():"roof"==SCENE&&animateRoof()};
function fileSelect(c){window.File&&window.FileReader&&window.FileList&&window.Blob?($("#fileInput").click(),"2ddraftplan"==c?$("#fileInput").bind("change",handleFile2DImageSelect):"2dautocad"==c?$("#fileInput").bind("change",handleFile2DAutoCADConvert):"3dobject"==c&&$("#fileInput").bind("change",handleFile3DObjectSelect)):alert("The File APIs are not fully supported in this browser.")}
function errorHandler(c){switch(c.target.error.code){case c.target.error.NOT_FOUND_ERR:alert("File Not Found!");break;case c.target.error.NOT_READABLE_ERR:alert("File is not readable");break;case c.target.error.ABORT_ERR:break;default:alert("An error occurred reading this file.")}}
function ajaxBeforeSubmit(){var c=$("#fileInput")[0].files[0].size,b=$("#fileInput")[0].files[0].type;switch(b){case "application/zip":case "application/octet-stream":break;default:return alert(b+" is unsupported file type!"),!1}if(10485760<c)return alert("<b>"+c+"</b> Too big file! <br />File is too big, it should be less than 5 MB."),!1}
function handleFile3DObjectSelect(c){switch(c.target.files[0].type){case "application/zip":case "application/octet-stream":var b={beforeSubmit:ajaxBeforeSubmit,resetForm:!0};$("#uploadForm").submit(function(){$(this).ajaxSubmit(b);return!1});break;case "application/x-javascript":fileReader=new FileReader;fileReader.onerror=errorHandler;fileReader.onloadstart=function(c){};fileReader.onload=function(b){console.log("Load File: "+$("#fileInput").value+":"+c.target.files[0].name);engine3D.open(b.target.result);
engine2D.open(b.target.result)};fileReader.readAsText(file);break;default:return alert("file type should be .js, .json or .zip"),!1}}function handleFile2DAutoCADConvert(c){fileReader=new FileReader;fileReader.onerror=errorHandler;fileReader.onload=function(c){c=new DXFParser(c.target.result);console.log(c)};fileReader.readAsText(c.target.files[0]);$("#fileInput").unbind("change",handleFile2DAutoCADConvert)}
function handleFile2DImageSelect(c){c.target.files[0].type.match("image.*")?(fileReader=new FileReader,fileReader.onerror=errorHandler,fileReader.onabort=function(c){alert("File read cancelled")},fileReader.onload=function(c){var b=new Image;b.src=c.target.result;scene2DFloorDraftPlanImage[FLOOR]=new fabric.Image(b,{top:1,left:1,width:window.innerWidth,height:window.innerHeight,opacity:.6,selectable:!1});scene2D.add(scene2DFloorDraftPlanImage[FLOOR]);scene2D.sendToBack(scene2DFloorDraftPlanImage[FLOOR]);
scene2D.renderAll()},fileReader.readAsDataURL(c.target.files[0]),$("#fileInput").unbind("change",handleFile2DImageSelect)):alert("Currently only photos are supported")}
function toggleTextureSelect(){if($("#WebGLTextureSelect").is(":visible"))$("#WebGLTextureSelect").hide(),$("#WebGLColorWheelSelect").hide();else{$("#WebGLTextureSelect").empty();if(null!==SelectedWall){var c=$("<div>",{"class":"scroll","data-ui":"jscroll-default",style:"width:100%;height:80px"}),b=$("<div>",{"class":"objectItem",style:"width:100px;height:64px"}),e=$("<a>",{href:"#"}).append($("<img>",{id:"test",src:"objects/Wall/Textures/W2367.jpg"}));b.append(e);e=$("<a>",{href:"#"}).append($("<img>",
{id:"test",src:"objects/Wall/Textures/W3465.jpg"}));b.append(e);$("#WebGLTextureSelect").append(c.append(b))}$("#WebGLTextureSelect").show();null!==SelectedWall&&$("#WebGLColorWheelSelect").show()}}
engine3D.freeMemory=function(){if(scene3D instanceof THREE.Scene){for(;0<scene3D.children.length;){var c=scene3D.children[scene3D.children.length-1];c.geometry&&c.geometry.dispose();c.material&&(c.material.map&&c.material.map.dispose(),c.material.dispose());scene3D.remove(c)}scene3DObjectUnselect()}if(camera3DQuad[0]instanceof THREE.OrthographicCamera)for(i=0;4>i;i++)camera3DQuad[i]=null,rendererQuad[i]=null};var engine3D=window.engine3D||{},isDragging=!1;
function onWindowResize(){camera3D.aspect=window.innerWidth/window.innerHeight;camera3D.updateProjectionMatrix();SSAOProcessing.enabled&&SSAOPass.uniforms.resolution.value.set(1/(window.innerWidth*dpr),1/(window.innerHeight*dpr));FXAAProcessing.enabled&&FXAAPass.uniforms.resolution.value.set(1/(window.innerWidth*dpr),1/(window.innerHeight*dpr));effectComposer.setSize(window.innerWidth*dpr,window.innerHeight*dpr);renderer.setSize(window.innerWidth,window.innerHeight);engine3D.initRendererQuadSize();
engineGUI.menuCorrectHeight()}function onCubeMouseMove(c){}
function onDocumentDoubleClick(c){scene3D.visible&&controls3D instanceof THREE.OrbitControls&&null===SelectedObject&&(vector=new THREE.Vector3(c.clientX/window.innerWidth*2-1,2*-(c.clientY/window.innerHeight)+1,.5),vector.unproject(camera3D),c=(new THREE.Raycaster(camera3D.position,vector.sub(camera3D.position).normalize())).intersectObjects(scene3DHouseGroundContainer.children,!0),0<c.length&&(clearTimeout(doubleClickTime),scene3DPivotPoint.position.set(c[0].point.x,0,c[0].point.z),(new TWEEN.Tween(controls3D.target)).to({x:c[0].point.x,
y:0,z:c[0].point.z},800).easing(TWEEN.Easing.Quadratic.InOut).start(),doubleClickTime=setTimeout(function(){scene3D.remove(scene3DPivotPoint)},4E3)))}
function on3DLandscapeMouseMove(c){if("angle"==TOOL3DLANDSCAPE)leftButtonDown&&(terrain3D.rotation.y=c.clientX>window.innerWidth/2?terrain3D.rotation.y+.015:terrain3D.rotation.y-.015);else if(c=new THREE.Vector3(c.clientX/window.innerWidth*2-1,2*-(c.clientY/window.innerHeight)+1,.5),c.unproject(camera3D),c=(new THREE.Raycaster(camera3D.position,c.sub(camera3D.position).normalize())).intersectObjects(terrain3D.children),0<c.length&&(terrain3DMouse.vertex.x=Math.floor(c[0].point.x*plot_vertices-map_left*
plot_vertices),terrain3DMouse.vertex.y=Math.floor(c[0].point.z*plot_vertices-map_top*plot_vertices),terrain3D.material.uniforms.ring_center.value.x=c[0].point.x,terrain3D.material.uniforms.ring_center.value.y=-c[0].point.z),leftButtonDown)landscape.onmousemove()}
function on3DLandscapeMouseDown(c){1==c.which&&(leftButtonDown=!0);controls3D.enabled=!1;if("rotate"==TOOL3DLANDSCAPE)controls3D.enabled=!0;else if("hill"==TOOL3DLANDSCAPE||"valley"==TOOL3DLANDSCAPE)terrain3DMouse.x=c.clientX,terrain3DMouse.y=c.clientY}function on3DLandscapeMouseUp(c){leftButtonDown=!1;controls3D.enabled=!1;if("hill"==TOOL3DLANDSCAPE||"valley"==TOOL3DLANDSCAPE)terrain3DMouse.x=c.clientX,terrain3DMouse.y=c.clientY}
$(document).on("keyup",function(c){c.preventDefault();"house"===SCENE&&27===c.which&&(camera3DPositionCache=new THREE.Vector3(0,6,20),camera3DPivotCache=new THREE.Vector3(0,0,0),engine3D.cameraAnimateResetView())});function on3DRoofVDividerMouseUp(c){engine3D.initRendererQuadSize()}function on3DRoofSplit0MouseMove(c){}function on3DRoofSplit1MouseMove(c){}function on3DRoofSplit2MouseMove(c){}function on3DRoofSplit3MouseMove(c){}function on3DHouseMouseUp(c){on3DMouseUp(c)}
function on3DHouseMouseDown(c){on3DMouseDown(c);scene3DObjectSelect(mouse.x,mouse.y,camera3D,scene3DHouseContainer)||scene3D.add(scene3DPivotPoint)}function on3DHouseMouseMove(c){isDragging&&null!==SelectedObject&&on3DObjectMove(scene3DHouseGroundContainer,c)}function on3DFloorMouseDown(c){on3DMouseDown(c);scene3DObjectSelect(mouse.x,mouse.y,camera3D,scene3DFloorFurnitureContainer[FLOOR])||scene3D.add(scene3DPivotPoint)}
function on3DFloorMouseUp(c){on3DMouseUp(c);c=.1;null===SelectedObject&&(c=.5);for(var b=0;b<scene3DFloorWallContainer[FLOOR].children.length;b++)tween=(new TWEEN.Tween(scene3DFloorWallContainer[FLOOR].children[b].material)).to({opacity:c},500).start()}
function on3DCubeMove(){0!=engine3D.showCube&&(camera3DCube.position.copy(camera3D.position),camera3DCube.position.sub(controls3D.center),camera3DCube.position.setLength(18),camera3DCube.lookAt(scene3DCube.position),camera3DCube.updateMatrixWorld())}
function on3DObjectMove(c,b){var e=new THREE.Vector3(b.clientX/window.innerWidth*2-1,2*-(b.clientY/window.innerHeight)+1,-2);e.unproject(camera3D);e=(new THREE.Raycaster(camera3D.position,e.sub(camera3D.position).normalize())).intersectObjects(c.children,!0);if(0<e.length){var f=$("#WebGLSelectMenu");leftButtonDown?(f.tooltipster("close"),SelectedObject.position.x=e[0].point.x,SelectedObject.position.z=e[0].point.z):rightButtonDown&&(f.tooltipster("close"),SelectedObject.rotation.y=e[0].point.x)}}
function on3DFloorMouseMove(c){if(0===TWEEN.getAll().length)if(null!==SelectedObject)on3DObjectMove(scene3DFloorGroundContainer,c);else{c=new THREE.Vector3(0,0,8);c.applyQuaternion(camera3D.quaternion);scene3DCutawayPlaneMesh.position.copy(c);scene3DCutawayPlaneMesh.lookAt(camera3D.position);c=[];for(var b=scene3DCutawayPlaneMesh.position.clone(),e=0;e<scene3DCutawayPlaneMesh.geometry.vertices.length;e++){var f=scene3DCutawayPlaneMesh.geometry.vertices[e].clone().applyMatrix4(scene3DCutawayPlaneMesh.matrix).sub(scene3DCutawayPlaneMesh.position),
h=(new THREE.Raycaster(b,f.clone().normalize())).intersectObjects(scene3DFloorWallContainer[FLOOR].children);0<h.length&&h[0].distance<f.length()&&((new TWEEN.Tween(h[0].object.material)).to({opacity:.1},800).start(),c.push(h[0].object.id))}on3DCubeMove()}}
function on3DMouseMove(c){!leftButtonDown||!rightButtonDown||controls3D instanceof THREE.TransformControls||controls3D instanceof THREE.FirstPersonControls||(clearTimeout(clickMenuTime),camera3DCube.position.copy(camera3D.position),camera3DCube.position.sub(controls3D.center),camera3DCube.position.setLength(18),camera3DCube.lookAt(scene3DCube.position))}
function on3DMouseDown(c){1===c.which&&(leftButtonDown=!0);3===c.which&&(rightButtonDown=!0);mouse.x=c.clientX/window.innerWidth*2-1;mouse.y=2*-(c.clientY/window.innerHeight)+1;scene3DObjectUnselect();scene3DAnimateRotate=!1;clickTime=setTimeout(function(){isDragging=!0;0<=document.getElementById("arrow-right").src.indexOf("images/arrowright.png")&&engineGUI.toggleSideMenus(!1)},500)}
function on3DMouseUp(c){isDragging=!1;1==c.which&&(leftButtonDown=!1);3==c.which&&(rightButtonDown=!1);controls3D instanceof THREE.TransformControls||controls3D instanceof THREE.FirstPersonControls||(scene3D.remove(scene3DPivotPoint),clearTimeout(clickTime),null!=SelectedObject?(mouse.x=c.clientX/window.innerWidth*2-1,mouse.y=2*-(c.clientY/window.innerHeight)+1):clickTime=setTimeout(function(){0<=document.getElementById("arrow-right").src.indexOf("images/arrowleft.png")&&engineGUI.toggleSideMenus(!0)},
1E3))};engine3D=window.engine3D||{};
engine3D.makeFloor=function(){for(var c=0;c<scene2DFloorShape.length;c++)if(void 0!==scene2DFloorShape[c].children[0]){console.log("3D Floor Generate ["+c+"] "+scene2DWallGroup[c].children.length);scene3DFloorShapeContainer[c]=new THREE.Object3D;scene3DCeilingShapeContainer[c]=new THREE.Object3D;var b=new THREE.Shape;for(a=0;a<scene2DFloorShape[c].children[0].segments.length;a++){var e=scene2DFloorShape[c].children[0].segments[a].point,f=e.x/100*2-1,e=2*-(e.y/100)+1,f=f-13,e=e+7;0===a?b.moveTo(f,
e):b.lineTo(f,e)}var f=new THREE.ShapeGeometry(b),e=new THREE.MeshBasicMaterial,h=engine3D.textureLoader.load(json.floor[c].texture);h.wrapS=THREE.RepeatWrapping;h.wrapT=THREE.RepeatWrapping;e.map=h;e=new THREE.Mesh(f,e);e.rotation.x=-(90*RADIAN);scene3DFloorShapeContainer[c].add(e);h=engine3D.textureLoader.load(json.ceiling[c].texture);h.wrapS=THREE.RepeatWrapping;h.wrapT=THREE.RepeatWrapping;f=new THREE.MeshBasicMaterial;f.map=h;f.side=THREE.BackSide;e=e.clone();e.material=f;scene3DCeilingShapeContainer[c].add(e);
if(0==c){f=new THREE.Mesh(new THREE.ExtrudeGeometry(b,{amount:-2,bevelEnabled:!1}));f.rotation.x=-(90*RADIAN);var q=new ThreeBSP(f);scene3DFloorShapeContainer[c].add(f);_scene3DHouseGroundContainer.traverse(function(c){if(c instanceof THREE.Mesh){var b=new ThreeBSP(c),b=q.subtract(b).toMesh();b.geometry.computeVertexNormals();c.geometry=b.geometry}});scene3DHouseGroundContainer.visible=!1;_scene3DHouseGroundContainer.position.z=-10;scene3D.add(_scene3DHouseGroundContainer)}}};engine3D=window.engine3D||{};engine3D.History=[];engine3D.historyForward=function(){};engine3D.historyBack=function(){};engine3D.historyAdd=function(){};engine3D.initialize=function(){if(Detector.webgl){"local"===RUNMODE&&($("#menuTopItem12").hide(),$("#menuTopItem15").hide());$("#menuTop").show();$("#menuBottomHouse").show();0===window.innerWidth&&(window.innerWidth=parent.innerWidth,window.innerHeight=parent.innerHeight);spinner=$("<div>",{"class":"cssload-container",style:"position:absolute;top:32%;left:40%;"}).append($("<ul>",{"class":"cssload-flex-container"}).append($("<li>").append($("<span>",{"class":"cssload-loading"}))));scene3D=new THREE.Scene;
projector=new THREE.Projector;clock=new THREE.Clock;mouse=new THREE.Vector2;touch=new THREE.Vector2;target=new THREE.Vector3;engine3D.jsonLoader=new THREE.LoadingManager;engine3D.fontLoader=new THREE.FontLoader;engine3D.textureLoader=new THREE.TextureLoader;scene3DFloorGroundContainer=new THREE.Object3D;scene3DPivotPoint=new THREE.Object3D;var c=new THREE.BoxGeometry(15,15,3);c.computeBoundingBox();material=new THREE.MeshBasicMaterial({color:16776960,side:THREE.DoubleSide});scene3DCutawayPlaneMesh=
new THREE.Mesh(c,material);!0===engine3D.showCube&&(c=[new THREE.MeshBasicMaterial({color:3385941,transparent:!0,opacity:.9,shading:THREE.FlatShading,vertexColors:THREE.VertexColors}),new THREE.MeshBasicMaterial({color:5622784,transparent:!0,opacity:.9,shading:THREE.FlatShading,vertexColors:THREE.VertexColors}),new THREE.MeshBasicMaterial({color:0,transparent:!0,opacity:.9,shading:THREE.FlatShading,vertexColors:THREE.VertexColors}),new THREE.MeshBasicMaterial({color:0,transparent:!0,opacity:.9,shading:THREE.FlatShading,
vertexColors:THREE.VertexColors}),new THREE.MeshBasicMaterial({color:255,transparent:!0,opacity:.9,shading:THREE.FlatShading,vertexColors:THREE.VertexColors}),new THREE.MeshBasicMaterial({color:5592490,transparent:!0,opacity:.9,shading:THREE.FlatShading,vertexColors:THREE.VertexColors})],material=new THREE.MultiMaterial(c),material.vertexColors=THREE.FaceColors,c=engine3D.initCube(8),c.computeLineDistances(),scene3DCubeMesh=new THREE.Line(c,new THREE.LineDashedMaterial({color:16725760,dashSize:3,
gapSize:1,linewidth:2}),THREE.LineSegments),scene3DCubeMesh.geometry.dynamic=!0);engine3D.initRenderer();engine3D.initTerrainGround();engine3D.initTerrainWater();engine2D.initialize();engine3D["new"]();engine3D.showHouse();$(window).bind("resize",onWindowResize);$(window).bind("beforeunload",function(){return"Are you sure you want to leave?"})}else/MSIE (\d+\.\d+);/.test(navigator.userAgent)?$("body").append("<br/><br/><br/><div><center><img src='images/webgl.gif' /><h1>Looks like you broke the Internet!</h1><br/><h2>...your WebGL not enabled?</h2><br/><br/>You are running Internet Explorer, the browser does not support WebGL, please install one of these popular browsers<br/><br/><a href='http://www.mozilla.org/en-US/firefox'><img src='images/firefox.png'/></a> <a href='http://www.google.ca/chrome'><img src='images/chrome.png'/></a></center></div>"):
/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&$("body").append("<br/><br/><br/><div><center><img src='images/webgl.gif' /><h1>Looks like you broke the Internet!</h1><br/><h2>...your WebGL not enabled?</h2><img src='images/firefox-webgl.png'/></center></div>"),document.getElementsByTagName("body")[0].style.overflow="auto",document.getElementsByTagName("html")[0].style.overflow="auto"};
engine3D.initRenderer=function(){camera3D=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,.1,80);dpr=1;void 0!==window.devicePixelRatio&&(dpr=window.devicePixelRatio);renderer=new THREE.WebGLRenderer({devicePixelRatio:dpr,antialias:!1});renderer.shadowMap.enabled=!0;renderer.shadowMapSoft=!0;renderer.shadowMapAutoUpdate=!0;renderer.setSize(window.innerWidth,window.innerHeight);document.getElementById("WebGLCanvas").appendChild(renderer.domElement);!0===engine3D.showCube&&(scene3DCube=
new THREE.Scene,camera3DCube=new THREE.PerspectiveCamera(60,1,1,50),camera3DCube.up=camera3D.up,scene3DCube.add(scene3DCubeMesh),rendererCube=new THREE.WebGLRenderer({devicePixelRatio:dpr,antialias:!1,alpha:!0}),rendererCube.setSize(100,100),document.getElementById("WebGLCubeCanvas").appendChild(rendererCube.domElement))};
engine3D.initRendererQuad=function(){$("div.split-pane").splitPane();for(i=0;4>i;i++)rendererQuad[i]=new THREE.WebGLRenderer({devicePixelRatio:dpr,antialias:!1}),rendererQuad[i].setClearColor(16777215),$("#WebGLSplitCanvas-"+i).append(rendererQuad[i].domElement);camera3DQuad[0]=new THREE.OrthographicCamera($("#WebGLSplitCanvas-0").parent().parent().width()/-60,$("#WebGLSplitCanvas-0").parent().parent().width()/60,$("#WebGLSplitCanvas-0").parent().parent().height()/10,$("#WebGLSplitCanvas-0").parent().parent().height()/
-10,-30,30);camera3DQuad[0].up=new THREE.Vector3(0,0,-1);camera3DQuad[0].lookAt(new THREE.Vector3(0,-1,0));camera3DQuad[1]=new THREE.OrthographicCamera($("#WebGLSplitCanvas-1").parent().parent().width()/-60,$("#WebGLSplitCanvas-1").parent().parent().width()/60,$("#WebGLSplitCanvas-1").parent().parent().height()/10,$("#WebGLSplitCanvas-1").parent().parent().height()/-10,-30,30);camera3DQuad[1].lookAt(new THREE.Vector3(1,0,0));camera3DQuad[1].position.set(0,0,0);camera3DQuad[2]=new THREE.OrthographicCamera($("#WebGLSplitCanvas-2").parent().parent().width()/
-60,$("#WebGLSplitCanvas-2").parent().parent().width()/60,$("#WebGLSplitCanvas-2").parent().parent().height()/10,$("#WebGLSplitCanvas-2").parent().parent().height()/-40,-30,30);camera3DQuad[2].lookAt(new THREE.Vector3(1,0,0));camera3DQuad[2].position.set(0,0,0);camera3DQuad[3]=new THREE.PerspectiveCamera(70,$("#WebGLSplitCanvas-3").parent().width()/$("#WebGLSplitCanvas-3").parent().height(),1,50);camera3DQuad[3].position.set(0,14,8);camera3DQuad[3].lookAt(new THREE.Vector3(0,0,0));camera3DQuadGrid=
new THREE.GridHelper(15,1,new THREE.Color(102),new THREE.Color(7196662));engine3D.initRendererQuadSize()};engine3D.initRendererQuadSize=function(){if(camera3DQuad[0]instanceof THREE.OrthographicCamera)for(i=0;4>i;i++){var c=$("#WebGLSplitCanvas-"+i).parent().parent().width(),b=$("#WebGLSplitCanvas-"+i).parent().parent().height();camera3DQuad[i].aspect=c/b;camera3DQuad[i].updateProjectionMatrix();rendererQuad[i].setSize(c,b)}};
engine3D.initPostprocessing=function(){console.log("init EffectComposer");effectComposer=new THREE.EffectComposer(renderer);effectComposer.setSize(window.innerWidth*dpr,window.innerHeight*dpr);var c=new THREE.RenderPass(scene3D,camera3D);effectComposer.addPass(c);SSAOProcessing.enabled&&(console.log("init SSAOShader"),depthMaterial=new THREE.MeshDepthMaterial,depthMaterial.depthPacking=THREE.RGBADepthPacking,depthMaterial.blending=THREE.NoBlending,depthRenderTarget=new THREE.WebGLRenderTarget(window.innerWidth,
window.innerHeight,{minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter}),SSAOPass=new THREE.ShaderPass(THREE.SSAOShader),SSAOPass.renderToScreen=!0,SSAOPass.uniforms.tDepth.value=depthRenderTarget,SSAOPass.uniforms.size.value.set(1/(window.innerWidth*dpr),1/(window.innerHeight*dpr)),SSAOPass.uniforms.cameraNear.value=camera3D.near,SSAOPass.uniforms.cameraFar.value=camera3D.far,SSAOPass.uniforms.onlyAO.value=1==SSAOProcessing.renderMode,SSAOPass.uniforms.aoClamp.value=.3,SSAOPass.uniforms.lumInfluence.value=
.5,effectComposer.addPass(SSAOPass));FXAAProcessing.enabled&&(console.log("init FXAAShader"),FXAAPass=new THREE.ShaderPass(THREE.FXAAShader),FXAAPass.uniforms.resolution.value.set(1/(window.innerWidth*dpr),1/(window.innerHeight*dpr)),FXAAPass.renderToScreen=!0,effectComposer.addPass(FXAAPass))};
engine3D.initLights=function(){sceneDirectionalLight=new THREE.DirectionalLight;sceneDirectionalLight.color.setHSL(.1,1,.95);sceneDirectionalLight.position.set(1,1.8,.8).normalize();sceneDirectionalLight.target.position.set(0,0,0);sceneDirectionalLight.position.multiplyScalar(50);sceneDirectionalLight.castShadow=!0;sceneDirectionalLight.shadow.mapSize.width=2048;sceneDirectionalLight.shadow.mapSize.height=2048;sceneDirectionalLight.shadow.camera.left=-15;sceneDirectionalLight.shadow.camera.left=15;
sceneDirectionalLight.shadow.camera.top=15;sceneDirectionalLight.shadow.camera.bottom=-15;sceneDirectionalLight.shadow.camera.far=2E3;sceneDirectionalLight.shadow.bias=-1E-4;sceneSpotLight=new THREE.SpotLight;sceneSpotLight.shadow.camera.near=1;sceneSpotLight.shadow.camera.far=38;sceneSpotLight.castShadow=!0;sceneSpotLight.intensity=.8;sceneSpotLight.position.set(-4,35,4)};engine3D.initPhysics=function(){};
engine3D.initCube=function(c){c*=.5;geometry=new THREE.Geometry;geometry.vertices.push(new THREE.Vector3(-c,-c,-c),new THREE.Vector3(-c,c,-c),new THREE.Vector3(-c,c,-c),new THREE.Vector3(c,c,-c),new THREE.Vector3(c,c,-c),new THREE.Vector3(c,-c,-c),new THREE.Vector3(c,-c,-c),new THREE.Vector3(-c,-c,-c),new THREE.Vector3(-c,-c,c),new THREE.Vector3(-c,c,c),new THREE.Vector3(-c,c,c),new THREE.Vector3(c,c,c),new THREE.Vector3(c,c,c),new THREE.Vector3(c,-c,c),new THREE.Vector3(c,-c,c),new THREE.Vector3(-c,
-c,c),new THREE.Vector3(-c,-c,-c),new THREE.Vector3(-c,-c,c),new THREE.Vector3(-c,c,-c),new THREE.Vector3(-c,c,c),new THREE.Vector3(c,c,-c),new THREE.Vector3(c,c,c),new THREE.Vector3(c,-c,-c),new THREE.Vector3(c,-c,c));return geometry};
engine3D.newFloor=function(c){scene3DFloorFurnitureContainer[c]=new THREE.Object3D;scene3DFloorMeasurementsContainer[c]=new THREE.Object3D;scene3DFloorWallContainer[c]=new THREE.Object3D;scene3DFloorShapeContainer[c]=new THREE.Object3D;scene3DCeilingShapeContainer[c]=new THREE.Object3D;scene3DWallInteriorTextures[c]=[];scene3DWallExteriorTextures[c]=[]};
engine3D["new"]=function(c){scene3DRoofContainer=new THREE.Object3D;scene3DHouseContainer=new THREE.Object3D;scene3DHouseGroundContainer=new THREE.Object3D;scene3DHouseFXContainer=new THREE.Object3D;scene3DLevelGroundContainer=new THREE.Object3D;scene3DLevelWallContainer=new THREE.Object3D;skyMesh=new THREE.Object3D;skyFloorMesh=new THREE.Object3D;engine3D.enableOrbitControls(camera3D,renderer.domElement);engine3D.initPostprocessing();engine3D.initLights();engine3D.open3DModel("objects/Platform/floor.jsz",
scene3DFloorGroundContainer,0,0,0,0,0,1,!1,null);engine3D.open3DModel("objects/Landscape/round.jsz",scene3DHouseGroundContainer,0,0,0,0,0,1,!0,null);engine3D.open3DModel("objects/Platform/pivotpoint.jsz",scene3DPivotPoint,0,0,.1,0,0,1,!1,null)};
engine3D.open=function(){scene3DHouseGroundContainer=new THREE.Object3D;$.each(json.terrain,function(){engine3D.open3DModel(this.file,scene3DHouseGroundContainer,this["position.x"],this["position.y"],this["position.z"],this["rotation.x"],this["rotation.y"],1,!0,null)});$.each(json.roof,function(){engine3D.open3DModel(this.file,scene3DRoofContainer,this["position.x"],this["position.y"],this["position.z"],this["rotation.x"],this["rotation.y"],1,!0,null)});$.each(json.house,function(){engine3D.open3DModel(this.file,
scene3DHouseContainer,this["position.x"],this["position.y"],this["position.z"],this["rotation.x"],this["rotation.y"],1,!0,null)});for(var c=0;c<json.furniture.length;c++)engine3D.newFloor(c),$.each(json.furniture[c],function(){var b=null;void 0!==this.note&&(b=this.note);void 0!==this.file&&engine3D.open3DModel(this.file,scene3DFloorFurnitureContainer[c],this["position.x"],this["position.y"],this["position.z"],this["rotation.x"],this["rotation.y"],1,!0,b)})};var engine3D=window.engine3D||{},rendererPanorama,scene3DPanorama,camera3DPanorama,controls3DPanorama;
engine3D.initPanorama=function(c,b,e,f){$(c).show();$(c).append(spinner);scene3DPanorama=new THREE.Scene;camera3DPanorama=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,1,1E3);rendererPanorama=new THREE.WebGLRenderer({antialias:!1});rendererPanorama.setSize(window.innerWidth*e,window.innerHeight*f);$(c).append(rendererPanorama.domElement);controls3DPanorama=new THREE.OrbitControls(camera3DPanorama,rendererPanorama.domElement);controls3DPanorama.enableDamping=!0;controls3DPanorama.dampingFactor=
.25;controls3DPanorama.enableZoom=!1;controls3DPanorama.movementSpeed=5;controls3DPanorama.lookSpeed=.15;controls3DPanorama.noFly=!0;controls3DPanorama.lookVertical=!1;controls3DPanorama.activeLook=!0;controls3DPanorama.lon=-90;controls3DPanorama.lat=0;controls3DPanorama.enabled=!1;$(c).mousedown(function(){controls3DPanorama.enabled=!0});$(c).mouseup(function(){controls3DPanorama.enabled=!1});engine3D.buildPanorama(scene3DPanorama,b,1024,1024,1024,"_",null);engine3D.animatePanorama()};
engine3D.animatePanorama=function(){if(rendererPanorama instanceof THREE.WebGLRenderer){requestAnimationID=window.requestAnimationFrame(engine3D.animatePanorama);if(controls3DPanorama.enabled)controls3DPanorama.update();else{clock.getDelta();mouse.x+=.1;mouse.y=Math.max(-85,Math.min(85,mouse.y));var c=THREE.Math.degToRad(90-mouse.y),b=THREE.Math.degToRad(mouse.x);target.x=Math.sin(c)*Math.cos(b);target.y=Math.cos(c);target.z=Math.sin(c)*Math.sin(b);camera3DPanorama.lookAt(target)}rendererPanorama.render(scene3DPanorama,
camera3DPanorama)}else engine3D.animate()};engine3D.cubePanoramaImages=function(c,b){return["panoramas/"+c+"/"+b+"right.jpg","panoramas/"+c+"/"+b+"left.jpg","panoramas/"+c+"/"+b+"top.jpg","panoramas/"+c+"/"+b+"bottom.jpg","panoramas/"+c+"/"+b+"front.jpg","panoramas/"+c+"/"+b+"back.jpg"]};
engine3D.buildPanorama=function(c,b,e,f,h,q,m){console.log("Build Panorama :"+b);var t=engine3D.cubePanoramaImages(b,q),k=[new THREE.MeshBasicMaterial({map:engine3D.textureLoader.load(t[0]),side:THREE.BackSide}),new THREE.MeshBasicMaterial({map:engine3D.textureLoader.load(t[1]),side:THREE.BackSide}),new THREE.MeshBasicMaterial({map:engine3D.textureLoader.load(t[2]),side:THREE.BackSide}),new THREE.MeshBasicMaterial({map:engine3D.textureLoader.load(t[3]),side:THREE.BackSide}),new THREE.MeshBasicMaterial({map:engine3D.textureLoader.load(t[4]),
side:THREE.BackSide}),new THREE.MeshBasicMaterial({map:engine3D.textureLoader.load(t[5]),side:THREE.BackSide})];e=new THREE.BoxGeometry(e,f,h);m=new THREE.Mesh(e,new THREE.MultiMaterial(k));""!==q&&(spinner.remove(),t=engine3D.cubePanoramaImages(b,""),engine3D.textureLoader.load(t[0],function(c){k[0].map=c}),engine3D.textureLoader.load(t[1],function(c){k[1].map=c}),engine3D.textureLoader.load(t[2],function(c){k[2].map=c}),engine3D.textureLoader.load(t[3],function(c){k[3].map=c}),engine3D.textureLoader.load(t[4],
function(c){k[4].map=c}),engine3D.textureLoader.load(t[5],function(c){k[5].map=c}));c.add(m)};function onPanoramaWindowResize(){camera3DPanorama.aspect=window.innerWidth/window.innerHeight;camera3DPanorama.updateProjectionMatrix();rendererPanorama.setSize(window.innerWidth,window.innerHeight)}engine3D.disposePanorama=function(c){$(c).hide();$(c).empty();controls3DPanorama=scene3DPanorama=rendererPanorama=null};var engine3D=window.engine3D||{},plots_x=20,plots_y=20,plot_vertices=2,map_left=plots_x/-2,map_top=plots_y/-2,terrain3DMouse={x:0,y:0,vertex:{x:null,y:null}},verticeIndex=function(c){return c.x+c.y*(plots_x*plot_vertices+1)},findLattices=function(){return function(c,b){var e=[],f,h,q;f=[0];h=0;q=[];for(var m,t,k;h<=c;){for(yieldable=[];;){m=[];for(t=0;t<h+1;t++)k=f[t],Math.pow(t,2)+Math.pow(k,2)<=Math.pow(h,2)&&(m.push({x:t,y:k}),f[t]+=1);if(0===m.length)break;q=q.concat(m)}h+=1;f.push(0)}for(f=0;f<
q.length;f++)h=q[f],e.push(h),0!==h.x&&e.push({x:-h.x,y:h.y}),0!==h.y&&e.push({x:h.x,y:-h.y}),h.x&&h.y&&e.push({x:-h.x,y:-h.y});for(f=0;f<e.length;f++)e[f].x+=b.x,e[f].y+=b.y;return e}}(),landscape=new function(){var c=null;this.select=function(b){c=b};this.onmousemove=function(){if(!controls3D.enabled){var b=findLattices(3*plot_vertices,terrain3DMouse.vertex);this.tools[c](3*plot_vertices,b);for(var e,f=0;f<b.length;f++)e=verticeIndex(b[f]),6<terrain3D.displacement.array[e]&&(terrain3D.displacement.array[e]=
6),-5>terrain3D.displacement.array[e]&&(terrain3D.displacement.array[e]=-5),terrain3D.water.displacement.array[e]=terrain3D.displacement.array[e];terrain3D.water.displacement.needsUpdate=!0}};this.tools={hill:function(c,e){var b,h,q;for(b=0;b<e.length;b++)h=e[b],0>h.x||0>h.y||h.x>=plots_x*plot_vertices+1||h.y>=plots_y*plot_vertices+1||(q=verticeIndex(h),h=Math.sqrt(Math.pow(terrain3DMouse.vertex.x-h.x,2)+Math.pow(terrain3DMouse.vertex.y-h.y,2)),terrain3D.displacement.array[q]+=.03*Math.pow(c-h,.5),
terrain3D.displacement.needsUpdate=!0)},valley:function(c,e){var b,h,q;for(b=0;b<e.length;b++)h=e[b],0>h.x||0>h.y||h.x>=plots_x*plot_vertices+1||h.y>=plots_y*plot_vertices+1||(q=verticeIndex(h),h=Math.sqrt(Math.pow(terrain3DMouse.vertex.x-h.x,2)+Math.pow(terrain3DMouse.vertex.y-h.y,2)),terrain3D.displacement.array[q]-=.03*Math.pow(c-h,.5),terrain3D.displacement.needsUpdate=!0)}}};function Degrees2Radians(c){return Math.PI/180*c}
function scene3DLandscapeGetHeightData(c,b){void 0===b&&(b=1);var e=document.createElement("canvas");e.width=c.width;e.height=c.height;var f=e.getContext("2d"),h=c.width*c.height,e=new Float32Array(h);f.drawImage(c,0,0);for(var q=0;q<h;q++)e[q]=0;f=f.getImageData(0,0,c.width,c.height).data;for(q=h=0;q<f.length;q+=4){var m=f[q]+f[q+1]+f[q+2];e[h++]=m/(12*b)}return e}
engine3D.initTerrainGround=function(){if(void 0===terrain3DMaterial){var c=$.ajax({url:"shaders/ground.vertex.fx",dataType:"text",async:!1}).responseText,b=$.ajax({url:"shaders/ground.fragment.fx",dataType:"text",async:!1}).responseText;terrain3DMaterial=new THREE.ShaderMaterial({uniforms:{texture_grass:{type:"t",value:engine3D.textureLoader.load("objects/Landscape/Textures/G36096.jpg")},texture_bare:{type:"t",value:engine3D.textureLoader.load("objects/Landscape/Textures/F46734.jpg")},texture_snow:{type:"t",
value:engine3D.textureLoader.load("objects/Landscape/Textures/F46734.jpg")},show_ring:{type:"i",value:!0},ring_width:{type:"f",value:.15},ring_color:{type:"v4",value:new THREE.Vector4(1,0,0,1)},ring_center:{type:"v3",value:new THREE.Vector3},ring_radius:{type:"f",value:1.6}},vertexShader:c,fragmentShader:b});c=new THREE.PlaneBufferGeometry(plots_x,plots_y,plots_x*plot_vertices,plots_y*plot_vertices);b=new THREE.Float32BufferAttribute(1*c.attributes.position.count,1);c.addAttribute("displacement",
b);terrain3D=new THREE.Mesh(c,terrain3DMaterial);terrain3D.displacement=c.attributes.displacement;terrain3D.displacement.dynamic=!0;terrain3D.rotation.x=-Math.PI/2;var b=$.ajax({url:"shaders/water.vertex.fx",dataType:"text",async:!1}).responseText,e=$.ajax({url:"shaders/water.fragment.fx",dataType:"text",async:!1}).responseText;terrain3D.water=new THREE.Mesh(c,new THREE.ShaderMaterial({uniforms:{water_level:{type:"f",value:-1},time:{type:"f",value:0}},vertexShader:b,fragmentShader:e,transparent:!0}));
terrain3D.water.displacement=c.attributes.displacement;terrain3D.water.displacement.dynamic=!0;terrain3D.water.position.z=-1;terrain3D.add(terrain3D.water)}};function getRandomInt(c,b){return Math.floor(Math.random()*(b-c+1))+c}engine3D.initTerrainWater=function(){};engine3D=window.engine3D||{};
engine3D.makeWalls=function(){for(var c=0;c<scene2DWallGroup.length;c++)if(scene3DFloorWallContainer[c]=new THREE.Object3D,void 0!==scene2DWallGroup[c].children[0]){console.log("3D Wall Generate ["+c+"] "+scene2DWallGroup[c].children.length);for(var b=0;b<scene2DWallGroup[c].children.length;b++){var e=scene2DWallGroup[c].children[b].children[0].children[0],f=e.segments[0].point.x/100*2-1,h=2*-(e.segments[0].point.y/100)+1,q=(e.segments[0].point.x+e.segments[1].point.x)/2/100*2-1,m=-((e.segments[0].point.y+
e.segments[1].point.y)/2)/100*2+1,t=e.segments[1].point.x/100*2-1,e=2*-(e.segments[1].point.y/100)+1,f=Math.round(f-13),h=Math.round(h+7),q=Math.round(q-13),m=Math.round(m+7),t=Math.round(t-13),e=Math.round(e+7);console.log("x1:"+f+" y1:"+h+" x2:"+t+" y2:"+e+" cx:"+q+" cy:"+m);var k=new THREE.Shape;k.moveTo(f,h);k.quadraticCurveTo(q,m,t,e);k.moveTo(t,e);k.quadraticCurveTo(q,m,f,h);f=new THREE.ExtrudeGeometry(k,{amount:4,bevelEnabled:!1});f.computeBoundingBox();h=new THREE.MeshLambertMaterial({map:scene3DWallInteriorTextureDefault,
transparent:!0,opacity:.6});f=new THREE.Mesh(f,h);f.rotation.x=-(90*RADIAN);f.position.y=0;scene3DFloorWallContainer[c].add(f)}}};
engine3D.generateLevelWalls=function(){scene3DLevelWallContainer=new THREE.Object3D;var c=new THREE.BoxGeometry(15,4,13),b=new THREE.MeshBasicMaterial({color:14737632}),c=new THREE.Mesh(c,b);c.position.y=2;scene3DLevelWallContainer.add(c);c=new THREE.BoxGeometry(10,4,9);b=new THREE.MeshBasicMaterial({color:11579568});c=new THREE.Mesh(c,b);c.position.x=2.5;c.position.z=-2;c.position.y=6;scene3DLevelWallContainer.add(c);scene3D.add(scene3DLevelWallContainer)};
function scene3DFloorObjectWallMeasurementAjust(){};engine3D=window.engine3D||{};
engine3D.initSunlight=function(){if(json.weather.sunlight){new THREE.Vector3(0,10,-10);new THREE.MeshDepthMaterial;new THREE.Vector3;sunlight.scene=new THREE.Scene;sunlight.camera=new THREE.OrthographicCamera(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,-1E4,1E4);sunlight.camera.position.z=50;sunlight.scene.add(sunlight.camera);var c={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat};sunlight.rtTextureColors=new THREE.WebGLRenderTarget(window.innerWidth,
window.innerHeight,c);sunlight.rtTextureDepth=new THREE.WebGLRenderTarget(window.innerWidth,window.innerHeight,c);var b=window.innerWidth/4,e=window.innerHeight/4;sunlight.rtTextureGodRays1=new THREE.WebGLRenderTarget(b,e,c);sunlight.rtTextureGodRays2=new THREE.WebGLRenderTarget(b,e,c);c=THREE.ShaderGodRays.godrays_generate;sunlight.godrayGenUniforms=Object.assign({},c.uniforms);sunlight.materialGodraysGenerate=new THREE.ShaderMaterial({uniforms:sunlight.godrayGenUniforms,vertexShader:c.vertexShader,
fragmentShader:c.fragmentShader});c=THREE.ShaderGodRays.godrays_combine;sunlight.godrayCombineUniforms=Object.assign({},c.uniforms);sunlight.materialGodraysCombine=new THREE.ShaderMaterial({uniforms:sunlight.godrayCombineUniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader});c=THREE.ShaderGodRays.godrays_fake_sun;sunlight.godraysFakeSunUniforms=Object.assign({},c.uniforms);sunlight.materialGodraysFakeSun=new THREE.ShaderMaterial({uniforms:sunlight.godraysFakeSunUniforms,vertexShader:c.vertexShader,
fragmentShader:c.fragmentShader});sunlight.godraysFakeSunUniforms.bgColor.value.setHex(1297);sunlight.godraysFakeSunUniforms.sunColor.value.setHex(16772608);sunlight.godrayCombineUniforms.fGodRayIntensity.value=.4;sunlight.quad=new THREE.Mesh(new THREE.PlaneBufferGeometry(window.innerWidth,window.innerHeight),sunlight.materialGodraysGenerate);sunlight.quad.position.z=-9900;sunlight.scene.add(sunlight.quad)}};
engine3D.setWeather=function(){engine3D.initWeatherClouds();scene3D.remove(weatherSkyCloudsMesh);scene3D.remove(weatherSkyRainbowMesh);if("day"===DAY){if(json.weather.clouds&&(texture=engine3D.textureLoader.load("images/cloud.png"),weatherSkyMaterial.uniforms.map.value=texture,weatherSkyCloudsMesh=new THREE.Mesh(weatherSkyGeometry,weatherSkyMaterial),scene3D.add(weatherSkyCloudsMesh)),json.weather.rainbow){texture=engine3D.textureLoader.load("images/rainbow.png");var c=weatherSkyMaterial.clone();
c.uniforms=THREE.UniformsUtils.clone(weatherSkyMaterial.uniforms);c.uniforms.map.value=texture;geometry=new THREE.Geometry;var b=new THREE.Mesh(new THREE.PlaneGeometry(18,18));b.position.x=getRandomInt(1,15);b.position.y=getRandomInt(5,8);b.position.z=-2;b.updateMatrix();geometry.merge(b.geometry,b.matrix);weatherSkyRainbowMesh=new THREE.Mesh(geometry,c);scene3D.add(weatherSkyRainbowMesh)}}else"night"===DAY&&json.weather.clouds&&(texture=engine3D.textureLoader.load("images/cloud2.png"),texture.magFilter=
THREE.LinearFilter,texture.minFilter=THREE.LinearFilter,weatherSkyMaterial.uniforms.map.value=texture,weatherSkyCloudsMesh=new THREE.Mesh(weatherSkyGeometry,weatherSkyMaterial),scene3D.add(weatherSkyCloudsMesh))};
engine3D.initWeatherClouds=function(){if(void 0===weatherSkyMaterial){weatherSkyCloudsMesh=new THREE.Mesh;weatherSkyRainbowMesh=new THREE.Mesh;var c=$.ajax({url:"shaders/clouds.vertex.fx",async:!1}).responseText,b=$.ajax({url:"shaders/clouds.fragment.fx",async:!1}).responseText,e=new THREE.Fog(4555956,-100,1E3);weatherSkyMaterial=new THREE.ShaderMaterial({uniforms:{map:{type:"t"},fogColor:{type:"c",value:e.color},fogNear:{type:"f",value:e.near},fogFar:{type:"f",value:e.far}},vertexShader:c,fragmentShader:b,
depthWrite:!1,depthTest:!1,transparent:!0});weatherSkyGeometry=new THREE.Geometry;c=new THREE.Mesh(new THREE.PlaneGeometry(4,4));for(b=0;20>b;b++)c.position.x=getRandomInt(-20,20),c.position.y=getRandomInt(5.5,10),c.position.z=b,c.rotation.z=getRandomInt(5,10),c.scale.x=c.scale.y=getRandomInt(.5,1),c.updateMatrix(),weatherSkyGeometry.merge(c.geometry,c.matrix)}};
engine3D.setSky=function(c){var b="2056";"day"===c?b=json.settings.panorama_day:"night"===c&&(b=json.settings.panorama_night);skyMesh.name!=b&&(engine3D.buildPanorama(skyMesh,b,75,75,75,"",null),skyMesh.position.y=5,skyMesh.name=b)};engine3D.setSkyEffects=function(){};var engineGUI=window.engineGUI||{},jsonindex={id:"",name:"",plan:[1,2,3]};engineGUI.initialize=function(){window.location.href="#list";$("#menuTop").hide();$("#menuAgent").hide();$("#menuBottomHouse").hide();$("#menuBottomFloor").hide();$("#menuBottomPlan").hide();$("#WebGLInteractiveMenu").hide();$("#WebGLSelectMenu").hide();$("#menuLeft3DHouse").hide();$("#menuLeft3DLandscape").hide();$("#menuLeft3DFloor").hide();$("#menuLeft2D").hide();$("#menuFloorSelector").hide();engineGUI.initList()};
engineGUI.initHousePlanner=function(c,b){$(".tooltip").tooltipster({animation:"fade",delay:200,theme:"tooltipster-default",touchDevices:!1,trigger:"hover",position:"bottom",contentAsHTML:!0});$("#menu2DTools").tooltipster({theme:"tooltipster-light",trigger:"custom",touchDevices:!0,interactive:!0,contentAsHTML:!0,content:""});$("#WebGLSelectMenu").tooltipster({theme:"tooltipster-light",trigger:"custom",touchDevices:!0,delay:0,interactive:!0,position:"top",contentAsHTML:!0,content:""});$(".tooltip-right").tooltipster({animation:"fade",
delay:200,theme:"tooltipster-default",touchDevices:!1,trigger:"hover",position:"right"});$(".tooltip-top").tooltipster({animation:"fade",delay:200,theme:"tooltipster-default",touchDevices:!1,trigger:"hover",position:"top",contentAsHTML:!0});$(".cssmenu ul ul li:odd").addClass("odd");$(".cssmenu ul ul li:even").addClass("even");$(".cssmenu > ul > li > a").click(function(c){engineGUI.menuItemClick(this)});$("#menuTop p").click(function(){$(this).hide().after('<input type="text" class="editP" value="'+
$(this).html()+'" size="10" />');$(".editP").focus()});$(".editP").bind("blur",function(){$(this).hide().prev("#menuTop p").html($(this).val()).show()});stroll.bind(".cssmenu ul");engine3D.initialize()};
engineGUI.initTopMenu=function(){$(".tooltip-share-menu").tooltipster({interactive:!0,content:$('<a href="#" onclick="" class="hi-icon icon-html tooltip" title="Embed 3D Scene in Your Website" style="color:white"></a><br/><a href="#" class="hi-icon icon-print" style="color:white"></a><br/><a href="#" class="hi-icon icon-email" style="color:white"></a>')});$(".tooltip-save-menu").tooltipster({interactive:!0,content:$('<a href="#openLogin" onclick="engineGUI.save(true);" class="hi-icon icon-earth" style="color:white"></a><br/><a href="#openSaving" onclick="engineGUI.save(false);" class="hi-icon icon-usb" style="color:white"></a>')});
$(".tooltip-open-menu").tooltipster({interactive:!0,content:$('<a href="#openLogin" onclick="engineGUI.save(true);" class="hi-icon icon-earth" style="color:white"></a><br/><a href="#openSaving" onclick="fileSelect(\'opendesign\')" class="hi-icon icon-usb" style="color:white"></a>')});$(".tooltip-tools-menu").tooltipster({interactive:!0,content:$('<a href="#" onclick="makeScreenshot()" class="hi-icon icon-screenshot" style="color:white"></a><br/><a href="#" onclick="screenfull.request(document.documentElement)" class="hi-icon icon-expand" style="color:white"></a>')})};
engineGUI.initList=function(){$.ajax("scenes/index.json",{contentType:"application/json",dataType:"json",success:function(c){jsonindex=c;var b=$("#menuIndexList").empty();$.each(jsonindex.menu,function(){var c=$("<div>",{width:"300px",style:"padding:20px;display:inline-block;text-align:center;"}),f=$("<img>",{width:"300px",height:"150px","class":"lazy indexImage",id:this.name,"data-original":"scenes/"+this.id+"/index.jpg"}),f=$("<a>",{href:"javascript:engineGUI.initParallaxSlider('"+this.id+"')"}).append(f),
h=$("<p>").append(this.name),c=c.append(f).append(h);b.append(c)});new LazyLoad}})};
engineGUI.initMenu=function(c,b){b="database"==RUNMODE?"php/objects.php?menu="+b.split("/").shift():"objects/"+b;$.ajax(b,{dataType:"json",success:function(b){var e=$("#"+c+" .scroll");e.empty();$.each(b.menu,function(){e.append(engineGUI.menuGetItem(this))});$("#"+c+" .cssmenu > ul > li > a").click(function(c){engineGUI.menuItemClick(this)})},error:function(c,f,h){alertify.alert("Menu ("+b+") Loading Error").show()}});engineGUI.menuCorrectHeight();$("#"+c).show()};
engineGUI.menuSelect=function(c,b,e){if(null===c)for(c=0;6>=c;c++)$("#"+b+c).css("color","black");else engineGUI.menuSelect(null,b,e),$("#"+b+c).css("color",e)};
engineGUI.showRightObjectMenu=function(c){c="database"==RUNMODE?"php/objects.php?objects="+c:"objects/"+c+"/index.json";var b=$("#menuRightObjects .scroll");$("#menuRight3DHouse").hide();$("#menuRight3DFloor").hide();$("#menuRight3DRoof").hide();$("#menuRight2D").hide();$("#menuRightObjects").show();$.ajax(c,{dataType:"json",success:function(c){b.empty();try{$.each(c.menu,function(){0<Object.keys(c.menu).length?getMenuObjectItem(b,this):b.append("<li><span style='margin-let:auto;text-align:center;padding:20px'>No Objects In This Category</span></li>")})}catch(f){b.append("<li><span style='margin-let:auto;text-align:center;padding:20px'>No Objects In This Category</span></li>")}}})};
engineGUI.showRightCatalogMenu=function(){"house"===SCENE?$("#menuRight3DHouse").show():"floor"===SCENE&&$("#menuRight3DFloor").show();$("#menuRightObjects").hide();$("#menuRightObjects .scroll").empty()};engineGUI.toggleSideMenus=function(c){engineGUI.menuToggleRight("menuRight",c);"house"==SCENE?engineGUI.menuToggleLeft("menuLeft3DHouse",c):"floor"==SCENE&&engineGUI.menuToggleLeft("menuLeft3DFloor",c)};
engineGUI.menuToggleRight=function(c,b){var e=document.getElementById(c),f=document.getElementById("arrow-right");e.getAttribute("class");0<=f.src.indexOf("images/arrowleft.png")||b?(e.style.display="block",e.setAttribute("class","show-right"),engineGUI.menuDelay(f,"images/arrowright.png",400)):b||(e.setAttribute("class","hide-right"),engineGUI.menuDelay(f,"images/arrowleft.png",400))};
engineGUI.menuToggleLeft=function(c,b){var e=document.getElementById(c),f=document.getElementById("arrow-left");e.getAttribute("class");0<=f.src.indexOf("images/arrowright.png")||b?(e.style.display="block",e.setAttribute("class",c+"-show-left"),engineGUI.menuDelay(f,"images/arrowleft.png",400)):b||(e.setAttribute("class","hide-left"),engineGUI.menuDelay(f,"images/arrowright.png",400))};engineGUI.menuDelay=function(c,b,e){window.setTimeout(function(){c.setAttribute("src",b)},e)};
engineGUI.menuItemClick=function(c){$(".cssmenu > ul > li").removeClass("active");$(c).closest("li").addClass("active");var b=$(c).next();b.is("ul")&&b.is(":visible")&&($(c).closest("li").removeClass("active"),b.slideUp("normal"));b.is("ul")&&!b.is(":visible")&&($(".cssmenu ul ul:visible").slideUp("normal"),b.slideDown("normal"));return 0==$(c).closest("li").find("ul").children().length?!0:!1};
engineGUI.menuGetItem=function(c,b){var e="<li";c.sub?e+=" class='has-sub'":b&&(e+=" class='last-child'");var f="<a",f=null!=c.link?f+(" href=\"javascript:engineGUI.showRightObjectMenu('"+c.link+"');\""):f+' href="#"',f=f+(">"+c.name+"</a>"),e=$(e+">").append(f);if(c.sub){var h=$("<ul>");$.each(c.sub,function(b){b==c.sub.length-1?h.append(engineGUI.menuGetItem(this,!0)):h.append(engineGUI.menuGetItem(this,!1))});e.append(h)}return e};
engineGUI.initParallaxSlider=function(c){getCookie("firstTimer")?(createCookie("firstTimer","1",15),window.location.href="#start"):window.location.href="#scene";engineGUI.initHousePlanner();var b=$(".pxs_slider").empty(),e=$(".pxs_thumbnails").empty();$.each(jsonindex.menu,function(f){if(this.id===c){for(f=this.plan[0];f<=this.plan[this.plan.length-1];f++){var h=$("<img>",{src:"scenes/"+c+"/"+f+".jpg"}),h=$("<li>").append($("<a>",{href:"javascript:engineGUI.open("+f+",'"+c+"')"}).append(h));b.append(h)}for(f=
this.plan[0];f<=this.plan[this.plan.length-1];f++)h=$("<img>",{src:"scenes/"+c+"/_"+f+".jpg"}),h=$("<li>").append(h),e.append(h);return!0}});$("#pxs_container").parallaxSlider();$(".pxs_bg1").css("background-image","images/bg1.jpg");engineGUI.initTopMenu()};
function getMenuObjectItem(c,b){var e=$("<img>",{id:b.name,src:"images/loader.gif","data-src":b.image,"data-src-retina":b.image.slice(0,-4)+"@2x."+b.image.split(".").pop(),style:"opacity: 0;transition: opacity .3s ease-in;height:100%"}),f=$("<a>",{href:"javascript:engine3D.insert3DModel('"+b.file+"')"}).append(e),f=$("<li style='border:1px solid #aaa;text-align:center'>").append($("<div style='background-color:#fff;height:120px'>").append(f).append("<span class='objectItemInfo' style='height:40px'>"));
c.append(f);$(e).unveil(200,function(){$(this).load(function(){this.style.opacity=1})})}
engineGUI.menuCorrectHeight=function(){var c=window.innerHeight-250,b;if("house"==SCENE)$("#menuRight3DHouse .cssmenu").height(),b=$("#menuRight2D .cssmenu");else if("floor"==SCENE)$("#menuRight3DFloor .cssmenu").height(),b=$("#menuRight2D .cssmenu");else if("roof"==SCENE)$("#menuRight3DRoof .cssmenu").height(),b=$("#menuRight2D .cssmenu");else if("2d"==SCENE)$("#menuRight2D .cssmenu").height(),b=$("#menuRight2D .cssmenu");else return;$("#menuRightObjects .scroll").css("height",c);b.height()<c?b.css("height",
"100%"):b.css("height",c)};engineGUI.selectFloor=function(c){c=FLOOR+c;c<FLOOR?"floor"==SCENE?engine3D.showFloor(c):"2d"==SCENE&&engine2D.showFloor(c):alertify.confirm("Add New Floor?",function(c){c&&("floor"==SCENE?engine3D.addFloor("New Floor"):"2d"==SCENE&&engine2D.addFloor("New Floor"))})};function selectMeasurement(){REALSIZERATIO=1.8311874==REALSIZERATIO?1:1.8311874}engineGUI.sceneMapBox=function(){};engineGUI.makeScreenshot=function(){getScreenshotData=!0};
engineGUI.addNewFloor=function(){if($("#addNewFloor").val()){engine3D.newFloor($("#addNewFloor").val());var c="<a href='#' onclick='camera3DFloorFlyIn("+scene3DFloorFurnitureContainer.length+")'><span>"+$("#addNewFloor").val()+"</span></a>",c=$("<li>").append(c);$("#menuLeft3DHouseFloorList").append(c)}};
engineGUI.generateItemList=function(){$("#generateItemList").empty();for(var c=0;c<scene3DFloorFurnitureContainer.length;c++){console.log(scene3DFloorFurnitureContainer[c].name);for(var b=0;b<scene3DFloorFurnitureContainer[c].children.length;b++)console.log(scene3DFloorFurnitureContainer[c].children[b].children[0].name)}for(c=0;c<scene3DHouseContainer.children.length;c++)console.log(scene3DHouseContainer.children[c].children[0].name)};engineGUI.exportPDF=function(){};
function scene3DSplitViewTop(){var c=window.innerWidth/1.4,b=.2*window.innerHeight;$("#left-component-1").css({width:c});$("#right-component-1").css({left:c});$("#vertical-divider-1").css({left:c});$("#bottom-component").css({height:b});$("#top-component").css({bottom:b});$("#horizontal-divider").css({bottom:b});engine3D.initRendererQuadSize()}
function scene3DSplitViewFront(){var c=.3*window.innerWidth,b=.2*window.innerHeight;$("#left-component-1").css({width:c});$("#right-component-1").css({left:c});$("#vertical-divider-1").css({left:c});$("#bottom-component").css({height:b});$("#top-component").css({bottom:b});$("#horizontal-divider").css({bottom:b});engine3D.initRendererQuadSize()}
function scene3DSplitViewSide(){var c=.15*window.innerWidth,b=window.innerHeight/1.4;$("#left-component-1").css({width:c});$("#right-component-1").css({left:c});$("#vertical-divider-1").css({left:c});$("#bottom-component").css({height:b});$("#top-component").css({bottom:b});$("#horizontal-divider").css({bottom:b});engine3D.initRendererQuadSize()}function scene3DSplitView3D(){}function getCookie(c){c=("; "+document.cookie).split("; "+c+"=");if(2==c.length)return c.pop().split(";").shift()}
function createCookie(c,b,e){if(e){var f=new Date;f.setTime(f.getTime()+864E5*e);e="; expires="+f.toGMTString()}else e="";document.cookie=c+"="+b+e+"; path=/"};window.onload=function(){!function(c){function b(c){c&&(c.preventDefault?c.preventDefault():c.returnValue=!1)}function e(c){this.message=c;this.type="alert"}function f(c){this.message=c;this.type="confirm"}function h(c,b){this.message=c;this.value=b;this.type="prompt"}function q(){return{settings:n.settings,alert:function(c){return new e(c)},confirm:function(c){return new f(c)},prompt:function(c,b){return new h(c,b)}}}var m=function(){return document.addEventListener?function(c,b,e){c.addEventListener(b,
e,!1)}:document.attachEvent?function(c,b,e){c.attachEvent("on"+b,e)}:void 0}(),t=function(){return document.removeEventListener?function(c,b,e){c.removeEventListener(b,e,!1)}:document.detachEvent?function(c,b,e){c.detachEvent("on"+b,e)}:void 0}(),k=function(){var c,b,e=!1,f=document.createElement("fakeelement"),k={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(c in k)if(void 0!==f.style[c]){b=k[c];e=!0;break}return{type:b,
supported:e}}(),n=function(){function c(g){b(g);clearTimeout(F);e();"function"==typeof C.onfocus&&C.onfocus();t(C.el,k.type,c)}function e(c){if(m(document.body,"keyup",x),"prompt"===C.type)w.focus(),w.select();else if(c)"alert"===C.type?D.focus():E.children[0].focus();else switch(C.settings.focus){case "ok":D.focus();break;case "cancel":H.focus();break;default:D.focus()}}function f(c){b(c);e(!0)}function h(c){b(c);C.close();"function"==typeof C.ok&&C.ok(w.value)}function q(c){b(c);C.close();"function"==
typeof C.cancel&&C.cancel()}function x(c){var b=c.keyCode;b===A.ENTER&&h(c);b===A.ESC&&/prompt|confirm/.test(C.type)&&q(c)}var C,F,D=document.getElementById("alertifyButtonOk"),H=document.getElementById("alertifyButtonCancel"),J=document.getElementById("alertifyFocusReset"),w=document.getElementById("alertifyInput"),R=document.getElementById("alertifyTitle"),M=document.getElementById("alertifyCover"),E=document.getElementById("alertifyButtons"),B=!1,A={ENTER:13,ESC:27};return document.body.setAttribute("tabindex",
"0"),{el:document.getElementById("alertifyDialog"),activeElement:document.body,settings:{ok:"OK",cancel:"Cancel",focus:"ok"},isOpen:function(){return B},show:function(){var b;B?b=!1:(B=!0,C=this,R.innerHTML=C.message,D.innerHTML=C.settings.ok,H.innerHTML=C.settings.cancel,w.value=C.value||"",b=(n.activeElement=document.activeElement,m(D,"click",h),m(H,"click",q),m(J,"focus",f),k.supported&&(m(this.el,k.type,c),clearTimeout(F),F=setTimeout(c,1E3)),M.className="alertify-cover",this.el.className="alertify alertify--"+
this.type,k.supported||e(),"function"==typeof this.onshow&&this.onshow(),!0));return b},close:function(){t(D,"click",h);t(H,"click",q);t(document.body,"keyup",x);t(J,"focus",f);M.className="alertify-cover alertify-hidden";this.el.className+=" alertify-close";n.activeElement.focus();B=!1;"function"==typeof this.onclose&&this.onclose()}}}();e.prototype=n;f.prototype=n;h.prototype=n;"function"==typeof define?define([],function(){return new q}):c.alertify||(c.alertify=new q)}(this)};$(function(){var c=!0,b=document.getElementById("picker"),e=b.getContext("2d"),f=new Image;f.onload=function(){e.drawImage(f,0,0,f.width,f.height)};var h="images/colorwheel1.png";switch($(b).attr("var")){case "2":h="images/colorwheel2.png";break;case "3":h="images/colorwheel3.png";break;case "4":h="images/colorwheel4.png";break;case "5":h="images/colorwheel5.png"}f.src=h;$("#picker").mousemove(function(f){if(c){var h=$(b).offset();f=e.getImageData(Math.floor(f.pageX-h.left),Math.floor(f.pageY-h.top),
1,1).data;h="rgb("+f[0]+", "+f[1]+", "+f[2]+")";$(".preview").css("backgroundColor",h);$("#rVal").val(f[0]);$("#gVal").val(f[1]);$("#bVal").val(f[2]);$("#rgbVal").val(f[0]+","+f[1]+","+f[2]);f=f[2]+256*f[1]+65536*f[0];$("#hexVal").val("#"+("0000"+f.toString(16)).substr(-6))}});$("#picker").click(function(b){c=!c});$(".preview").click(function(b){$(".colorpicker").fadeToggle("slow","linear");c=!0})});var saveAs=saveAs||function(c){if(!("undefined"===typeof c||"undefined"!==typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var b=c.document.createElementNS("http://www.w3.org/1999/xhtml","a"),e="download"in b,f=/constructor/i.test(c.HTMLElement)||c.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent),q=function(b){(c.setImmediate||c.setTimeout)(function(){throw b;},0)},m=function(b){setTimeout(function(){"string"===typeof b?(c.URL||c.webkitURL||c).revokeObjectURL(b):b.remove()},4E4)},t=function(c){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?
new Blob([String.fromCharCode(65279),c],{type:c.type}):c},k=function(g,k,n){n||(g=t(g));var u=this,y="application/octet-stream"===g.type,z,C=function(){for(var c=["writestart","progress","write","writeend"],c=[].concat(c),b=c.length;b--;){var e=u["on"+c[b]];if("function"===typeof e)try{e.call(u,u)}catch(J){q(J)}}};u.readyState=u.INIT;e?(z=(c.URL||c.webkitURL||c).createObjectURL(g),setTimeout(function(){b.href=z;b.download=k;var c=new MouseEvent("click");b.dispatchEvent(c);C();m(z);u.readyState=u.DONE})):
function(){if((h||y&&f)&&c.FileReader){var b=new FileReader;b.onloadend=function(){var e=h?b.result:b.result.replace(/^data:[^;]*;/,"data:attachment/file;");c.open(e,"_blank")||(c.location.href=e);u.readyState=u.DONE;C()};b.readAsDataURL(g);u.readyState=u.INIT}else z||(z=(c.URL||c.webkitURL||c).createObjectURL(g)),y?c.location.href=z:c.open(z,"_blank")||(c.location.href=z),u.readyState=u.DONE,C(),m(z)}()},n=k.prototype;if("undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob)return function(c,
b,e){b=b||c.name||"download";e||(c=t(c));return navigator.msSaveOrOpenBlob(c,b)};n.abort=function(){};n.readyState=n.INIT=0;n.WRITING=1;n.DONE=2;n.error=n.onwritestart=n.onprogress=n.onwrite=n.onabort=n.onerror=n.onwriteend=null;return function(c,b,e){return new k(c,b||c.name||"download",e)}}}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||this.content);
"undefined"!==typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!==typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return saveAs});(function(c){c.easing.jswing=c.easing.swing;c.extend(c.easing,{def:"easeOutQuad",swing:function(b,e,f,h,q){return c.easing[c.easing.def](b,e,f,h,q)},easeInQuad:function(c,e,f,h,q){return h*(e/=q)*e+f},easeOutQuad:function(c,e,f,h,q){return-h*(e/=q)*(e-2)+f},easeInOutQuad:function(c,e,f,h,q){return 1>(e/=q/2)?h/2*e*e+f:-h/2*(--e*(e-2)-1)+f},easeInCubic:function(c,e,f,h,q){return h*(e/=q)*e*e+f},easeOutCubic:function(c,e,f,h,q){return h*((e=e/q-1)*e*e+1)+f},easeInOutCubic:function(c,e,f,h,q){return 1>
(e/=q/2)?h/2*e*e*e+f:h/2*((e-=2)*e*e+2)+f},easeInQuart:function(c,e,f,h,q){return h*(e/=q)*e*e*e+f},easeOutQuart:function(c,e,f,h,q){return-h*((e=e/q-1)*e*e*e-1)+f},easeInOutQuart:function(c,e,f,h,q){return 1>(e/=q/2)?h/2*e*e*e*e+f:-h/2*((e-=2)*e*e*e-2)+f},easeInQuint:function(c,e,f,h,q){return h*(e/=q)*e*e*e*e+f},easeOutQuint:function(c,e,f,h,q){return h*((e=e/q-1)*e*e*e*e+1)+f},easeInOutQuint:function(c,e,f,h,q){return 1>(e/=q/2)?h/2*e*e*e*e*e+f:h/2*((e-=2)*e*e*e*e+2)+f},easeInSine:function(c,e,
f,h,q){return-h*Math.cos(e/q*(Math.PI/2))+h+f},easeOutSine:function(c,e,f,h,q){return h*Math.sin(e/q*(Math.PI/2))+f},easeInOutSine:function(c,e,f,h,q){return-h/2*(Math.cos(Math.PI*e/q)-1)+f},easeInExpo:function(c,e,f,h,q){return 0==e?f:h*Math.pow(2,10*(e/q-1))+f},easeOutExpo:function(c,e,f,h,q){return e==q?f+h:h*(-Math.pow(2,-10*e/q)+1)+f},easeInOutExpo:function(c,e,f,h,q){return 0==e?f:e==q?f+h:1>(e/=q/2)?h/2*Math.pow(2,10*(e-1))+f:h/2*(-Math.pow(2,-10*--e)+2)+f},easeInCirc:function(c,e,f,h,q){return-h*
(Math.sqrt(1-(e/=q)*e)-1)+f},easeOutCirc:function(c,e,f,h,q){return h*Math.sqrt(1-(e=e/q-1)*e)+f},easeInOutCirc:function(c,e,f,h,q){return 1>(e/=q/2)?-h/2*(Math.sqrt(1-e*e)-1)+f:h/2*(Math.sqrt(1-(e-=2)*e)+1)+f},easeInElastic:function(c,e,f,h,q){c=1.70158;var b=0,t=h;if(0==e)return f;if(1==(e/=q))return f+h;b||(b=.3*q);t<Math.abs(h)?(t=h,c=b/4):c=b/(2*Math.PI)*Math.asin(h/t);return-(t*Math.pow(2,10*--e)*Math.sin(2*(e*q-c)*Math.PI/b))+f},easeOutElastic:function(c,e,f,h,q){c=1.70158;var b=0,t=h;if(0==
e)return f;if(1==(e/=q))return f+h;b||(b=.3*q);t<Math.abs(h)?(t=h,c=b/4):c=b/(2*Math.PI)*Math.asin(h/t);return t*Math.pow(2,-10*e)*Math.sin(2*(e*q-c)*Math.PI/b)+h+f},easeInOutElastic:function(c,e,f,h,q){c=1.70158;var b=0,t=h;if(0==e)return f;if(2==(e/=q/2))return f+h;b||(b=.3*q*1.5);t<Math.abs(h)?(t=h,c=b/4):c=b/(2*Math.PI)*Math.asin(h/t);return 1>e?-.5*t*Math.pow(2,10*--e)*Math.sin(2*(e*q-c)*Math.PI/b)+f:t*Math.pow(2,-10*--e)*Math.sin(2*(e*q-c)*Math.PI/b)*.5+h+f},easeInBack:function(c,e,f,h,q,m){void 0==
m&&(m=1.70158);return h*(e/=q)*e*((m+1)*e-m)+f},easeOutBack:function(c,e,f,h,q,m){void 0==m&&(m=1.70158);return h*((e=e/q-1)*e*((m+1)*e+m)+1)+f},easeInOutBack:function(c,e,f,h,q,m){void 0==m&&(m=1.70158);return 1>(e/=q/2)?h/2*e*e*(((m*=1.525)+1)*e-m)+f:h/2*((e-=2)*e*(((m*=1.525)+1)*e+m)+2)+f},easeInBounce:function(b,e,f,h,q){return h-c.easing.easeOutBounce(b,q-e,0,h,q)+f},easeOutBounce:function(c,e,f,h,q){return(e/=q)<1/2.75?7.5625*h*e*e+f:e<2/2.75?h*(7.5625*(e-=1.5/2.75)*e+.75)+f:e<2.5/2.75?h*(7.5625*
(e-=2.25/2.75)*e+.9375)+f:h*(7.5625*(e-=2.625/2.75)*e+.984375)+f},easeInOutBounce:function(b,e,f,h,q){return e<q/2?.5*c.easing.easeInBounce(b,2*e,0,h,q)+f:.5*c.easing.easeOutBounce(b,2*e-q,0,h,q)+.5*h+f}})})(jQuery);!function(c){"function"==typeof define&&define.amd?define(["jquery"],c):"object"==typeof exports?module.exports=c:c(jQuery)}(function(c){function b(b){var g=b||window.event,k=t.call(arguments,1),m,q=0,x=0,C=0,F=0,D=0;if(b=c.event.fix(g),b.type="mousewheel","detail"in g&&(x=-1*g.detail),"wheelDelta"in g&&(x=g.wheelDelta),"wheelDeltaY"in g&&(x=g.wheelDeltaY),"wheelDeltaX"in g&&(q=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(q=-1*x,x=0),m=0===x?q:x,"deltaY"in g&&(x=-1*g.deltaY,m=x),"deltaX"in
g&&(q=g.deltaX,0===x&&(m=-1*q)),0!==x||0!==q){if(1===g.deltaMode){var H=c.data(this,"mousewheel-line-height");m*=H;x*=H;q*=H}else 2===g.deltaMode&&(H=c.data(this,"mousewheel-page-height"),m*=H,x*=H,q*=H);if(C=Math.max(Math.abs(x),Math.abs(q)),(!h||h>C)&&(h=C,n.settings.adjustOldDeltas&&"mousewheel"===g.type&&0===C%120&&(h/=40)),n.settings.adjustOldDeltas&&"mousewheel"===g.type&&0===C%120&&(m/=40,q/=40,x/=40),m=Math[1<=m?"floor":"ceil"](m/h),q=Math[1<=q?"floor":"ceil"](q/h),x=Math[1<=x?"floor":"ceil"](x/
h),n.settings.normalizeOffset&&this.getBoundingClientRect)g=this.getBoundingClientRect(),F=b.clientX-g.left,D=b.clientY-g.top;return b.deltaX=q,b.deltaY=x,b.deltaFactor=h,b.offsetX=F,b.offsetY=D,b.deltaMode=0,k.unshift(b,m,q,x),f&&clearTimeout(f),f=setTimeout(e,200),(c.event.dispatch||c.event.handle).apply(this,k)}}function e(){h=null}var f,h,q=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],m="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],
t=Array.prototype.slice;if(c.event.fixHooks)for(var k=q.length;k;)c.event.fixHooks[q[--k]]=c.event.mouseHooks;var n=c.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=m.length;e;)this.addEventListener(m[--e],b,!1);else this.onmousewheel=b;c.data(this,"mousewheel-line-height",n.getLineHeight(this));c.data(this,"mousewheel-page-height",n.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=m.length;e;)this.removeEventListener(m[--e],
b,!1);else this.onmousewheel=null;c.removeData(this,"mousewheel-line-height");c.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){b=c(b);var e=b["offsetParent"in c.fn?"offsetParent":"parent"]();return e.length||(e=c("body")),parseInt(e.css("fontSize"),10)||parseInt(b.css("fontSize"),10)||16},getPageHeight:function(b){return c(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};c.fn.extend({mousewheel:function(c){return c?this.bind("mousewheel",c):this.trigger("mousewheel")},
unmousewheel:function(c){return this.unbind("mousewheel",c)}})});!function(c){"object"==typeof exports&&"undefined"!=typeof module?module.exports=c():"function"==typeof define&&define.amd?define([],c):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).JSZip=c()}(function(){return function b(e,f,h){function q(k,n){if(!f[k]){if(!e[k]){var g="function"==typeof require&&require;if(!n&&g)return g(k,!0);if(m)return m(k,!0);g=Error("Cannot find module '"+k+"'");throw g.code="MODULE_NOT_FOUND",g;}g=f[k]={exports:{}};
e[k][0].call(g.exports,function(b){var g=e[k][1][b];return q(g?g:b)},g,g.exports,b,e,f,h)}return f[k].exports}for(var m="function"==typeof require&&require,t=0;t<h.length;t++)q(h[t]);return q}({1:[function(b,e,f){var h=b("./utils"),q=b("./support");f.encode=function(b){for(var e,f,n,g,m,q,u,v=[],x=0,C=b.length,F="string"!==h.getTypeOf(b);x<b.length;)u=C-x,F?(e=b[x++],f=x<C?b[x++]:0,n=x<C?b[x++]:0):(e=b.charCodeAt(x++),f=x<C?b.charCodeAt(x++):0,n=x<C?b.charCodeAt(x++):0),g=e>>2,m=(3&e)<<4|f>>4,q=1<
u?(15&f)<<2|n>>6:64,u=2<u?63&n:64,v.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(g)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(m)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(q)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(u));return v.join("")};f.decode=function(b){var e,f,h,g,m,z=0,u=0;if("data:"===b.substr(0,5))throw Error("Invalid base64 input, it looks like a data url.");
b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");g=3*b.length/4;if("="===b.charAt(b.length-1)&&g--,"="===b.charAt(b.length-2)&&g--,0!==g%1)throw Error("Invalid base64 input, bad content length.");var v;for(v=q.uint8array?new Uint8Array(0|g):Array(0|g);z<b.length;)e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(z++)),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(z++)),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(z++)),
m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(z++)),e=e<<2|f>>4,f=(15&f)<<4|g>>2,h=(3&g)<<6|m,v[u++]=e,64!==g&&(v[u++]=f),64!==m&&(v[u++]=h);return v}},{"./support":30,"./utils":32}],2:[function(b,e,f){function h(b,e,f,k,h){this.compressedSize=b;this.uncompressedSize=e;this.crc32=f;this.compression=k;this.compressedContent=h}var q=b("./external"),m=b("./stream/DataWorker"),t=b("./stream/DataLengthProbe"),k=b("./stream/Crc32Probe"),t=b("./stream/DataLengthProbe");
h.prototype={getContentWorker:function(){var b=(new m(q.Promise.resolve(this.compressedContent))).pipe(this.compression.uncompressWorker()).pipe(new t("data_length")),e=this;return b.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw Error("Bug : uncompressed data size mismatch");}),b},getCompressedWorker:function(){return(new m(q.Promise.resolve(this.compressedContent))).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",
this.crc32).withStreamInfo("compression",this.compression)}};h.createWorkerFrom=function(b,e,f){return b.pipe(new k).pipe(new t("uncompressedSize")).pipe(e.compressWorker(f)).pipe(new t("compressedSize")).withStreamInfo("compression",e)};e.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(b,e,f){var h=b("./stream/GenericWorker");f.STORE={magic:"\x00\x00",compressWorker:function(b){return new h("STORE compression")},uncompressWorker:function(){return new h("STORE decompression")}};
f.DEFLATE=b("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(b,e,f){var h=b("./utils"),q=function(){for(var b,e=[],f=0;256>f;f++){b=f;for(var h=0;8>h;h++)b=1&b?3988292384^b>>>1:b>>>1;e[f]=b}return e}();e.exports=function(b,e){if("undefined"==typeof b||!b.length)return 0;var f;if("string"!==h.getTypeOf(b)){var n=0+b.length;f=(0|e)^-1;for(var g=0;g<n;g++)f=f>>>8^q[255&(f^b[g])]}else for(n=0+b.length,f=(0|e)^-1,g=0;g<n;g++)f=f>>>8^q[255&(f^b.charCodeAt(g))];return f^=-1}},{"./utils":32}],
5:[function(b,e,f){f.base64=!1;f.binary=!1;f.dir=!1;f.createFolders=!0;f.date=null;f.compression=null;f.compressionOptions=null;f.comment=null;f.unixPermissions=null;f.dosPermissions=null},{}],6:[function(b,e,f){b="undefined"!=typeof Promise?Promise:b("lie");e.exports={Promise:b}},{lie:58}],7:[function(b,e,f){function h(b,e){t.call(this,"FlateWorker/"+b);this._pako=new q[b]({raw:!0,level:e.level||-1});this.meta={};var g=this;this._pako.onData=function(b){g.push({data:b,meta:g.meta})}}e="undefined"!=
typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array;var q=b("pako"),m=b("./utils"),t=b("./stream/GenericWorker"),k=e?"uint8array":"array";f.magic="\b\x00";m.inherits(h,t);h.prototype.processChunk=function(b){this.meta=b.meta;this._pako.push(m.transformTo(k,b.data),!1)};h.prototype.flush=function(){t.prototype.flush.call(this);this._pako.push([],!0)};h.prototype.cleanUp=function(){t.prototype.cleanUp.call(this);this._pako=null};f.compressWorker=function(b){return new h("Deflate",
b)};f.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:59}],8:[function(b,e,f){function h(b,e,g,f){m.call(this,"ZipFileWorker");this.bytesWritten=0;this.zipComment=e;this.zipPlatform=g;this.encodeFileName=f;this.streamFiles=b;this.accumulate=!1;this.contentBuffer=[];this.dirRecords=[];this.entriesCount=this.currentSourceOffset=0;this.currentFile=null;this._sources=[]}var q=b("../utils"),m=b("../stream/GenericWorker"),t=b("../utf8"),k=b("../crc32"),
n=b("../signature"),g=function(b,e){var g,f="";for(g=0;g<e;g++)f+=String.fromCharCode(255&b),b>>>=8;return f},y=function(b,e,f,h,m,y){var u,v;u=b.file;var z=b.compression,F=y!==t.utf8encode,C=q.transformTo("string",y(u.name)),E=q.transformTo("string",t.utf8encode(u.name)),x=u.comment;y=q.transformTo("string",y(x));var A=q.transformTo("string",t.utf8encode(x)),D=E.length!==u.name.length,O=A.length!==x.length,Q=x="",ha="";v=u.dir;var ca=u.date,la=0,ba=0,X=0;e&&!f||(la=b.crc32,ba=b.compressedSize,X=
b.uncompressedSize);b=0;e&&(b|=8);F||!D&&!O||(b|=2048);e=0;v&&(e|=16);"UNIX"===m?(m=798,u=F=u.unixPermissions,v=(F||(u=v?16893:33204),(65535&u)<<16),e|=v):(m=20,e|=63&(u.dosPermissions||0));u=ca.getUTCHours();u=u<<6|ca.getUTCMinutes();u=u<<5|ca.getUTCSeconds()/2;v=ca.getUTCFullYear()-1980;v=v<<4|ca.getUTCMonth()+1;v=v<<5|ca.getUTCDate();D&&(Q=g(1,1)+g(k(C),4)+E,x+="up"+g(Q.length,2)+Q);O&&(ha=g(1,1)+g(k(y),4)+A,x+="uc"+g(ha.length,2)+ha);E="\n\x00"+g(b,2);E+=z.magic;E+=g(u,2);E+=g(v,2);E+=g(la,4);
E+=g(ba,4);E+=g(X,4);E+=g(C.length,2);E+=g(x.length,2);z=n.LOCAL_FILE_HEADER+E+C+x;h=n.CENTRAL_FILE_HEADER+g(m,2)+E+g(y.length,2)+"\x00\x00\x00\x00"+g(e,4)+g(h,4)+C+x+y;return{fileRecord:z,dirRecord:h}},z=function(b){return n.DATA_DESCRIPTOR+g(b.crc32,4)+g(b.compressedSize,4)+g(b.uncompressedSize,4)};q.inherits(h,m);h.prototype.push=function(b){var e=b.meta.percent||0,g=this.entriesCount,f=this._sources.length;this.accumulate?this.contentBuffer.push(b):(this.bytesWritten+=b.data.length,m.prototype.push.call(this,
{data:b.data,meta:{currentFile:this.currentFile,percent:g?(e+100*(g-f-1))/g:100}}))};h.prototype.openedSource=function(b){this.currentSourceOffset=this.bytesWritten;this.currentFile=b.file.name;var e=this.streamFiles&&!b.file.dir;e?(b=y(b,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName),this.push({data:b.fileRecord,meta:{percent:0}})):this.accumulate=!0};h.prototype.closedSource=function(b){this.accumulate=!1;var e=this.streamFiles&&!b.file.dir,g=y(b,e,!0,this.currentSourceOffset,
this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),e)this.push({data:z(b),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null};h.prototype.flush=function(){for(var b=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var e=this.dirRecords.length,f=this.bytesWritten-b,k=q.transformTo("string",(0,this.encodeFileName)(this.zipComment)),
b=n.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+g(e,2)+g(e,2)+g(f,4)+g(b,4)+g(k.length,2)+k;this.push({data:b,meta:{percent:100}})};h.prototype.prepareNextSource=function(){this.previous=this._sources.shift();this.openedSource(this.previous.streamInfo);this.isPaused?this.previous.pause():this.previous.resume()};h.prototype.registerPrevious=function(b){this._sources.push(b);var e=this;return b.on("data",function(b){e.processChunk(b)}),b.on("end",function(){e.closedSource(e.previous.streamInfo);e._sources.length?
e.prepareNextSource():e.end()}),b.on("error",function(b){e.error(b)}),this};h.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))};h.prototype.error=function(b){var e=this._sources;if(!m.prototype.error.call(this,b))return!1;for(var g=0;g<e.length;g++)try{e[g].error(b)}catch(C){}return!0};h.prototype.lock=function(){m.prototype.lock.call(this);
for(var b=this._sources,e=0;e<b.length;e++)b[e].lock()};e.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(b,e,f){var h=b("../compressions"),q=b("./ZipFileWorker");f.generateWorker=function(b,e,f){var k=new q(e.streamFiles,f,e.platform,e.encodeFileName),g=0;try{b.forEach(function(b,f){g++;var n=f.options.compression||e.compression,m=h[n];if(!m)throw Error(n+" is not a valid compression method !");var n=f.dir,q=f.date;f._compressWorker(m,
f.options.compressionOptions||e.compressionOptions||{}).withStreamInfo("file",{name:b,dir:n,date:q,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(k)}),k.entriesCount=g}catch(y){k.error(y)}return k}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(b,e,f){function h(){if(!(this instanceof h))return new h;if(arguments.length)throw Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=
{};this.comment=null;this.root="";this.clone=function(){var b=new h,e;for(e in this)"function"!=typeof this[e]&&(b[e]=this[e]);return b}}h.prototype=b("./object");h.prototype.loadAsync=b("./load");h.support=b("./support");h.defaults=b("./defaults");h.version="3.1.3";h.loadAsync=function(b,e){return(new h).loadAsync(b,e)};h.external=b("./external");e.exports=h},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(b,e,f){function h(b){return new m.Promise(function(e,
g){var f=b.decompressed.getContentWorker().pipe(new n);f.on("error",function(b){g(b)}).on("end",function(){f.streamInfo.crc32!==b.decompressed.crc32?g(Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}var q=b("./utils"),m=b("./external"),t=b("./utf8"),q=b("./utils"),k=b("./zipEntries"),n=b("./stream/Crc32Probe"),g=b("./nodejsUtils");e.exports=function(b,e){var f=this;return e=q.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:t.utf8decode}),g.isNode&&
g.isStream(b)?m.Promise.reject(Error("JSZip can't accept a stream when loading a zip file.")):q.prepareContent("the loaded zip file",b,!0,e.optimizedBinaryString,e.base64).then(function(b){var g=new k(e);return g.load(b),g}).then(function(b){var g=[m.Promise.resolve(b)];b=b.files;if(e.checkCRC32)for(var f=0;f<b.length;f++)g.push(h(b[f]));return m.Promise.all(g)}).then(function(b){b=b.shift();for(var g=b.files,k=0;k<g.length;k++){var h=g[k];f.file(h.fileNameStr,h.decompressed,{binary:!0,optimizedBinaryString:!0,
date:h.date,dir:h.dir,comment:h.fileCommentStr.length?h.fileCommentStr:null,unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions,createFolders:e.createFolders})}return b.zipComment.length&&(f.comment=b.zipComment),f})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(b,e,f){function h(b,e){q.call(this,"Nodejs stream input adapter for "+b);this._upstreamEnded=!1;this._bindStream(e)}f=b("../utils");var q=b("../stream/GenericWorker");
f.inherits(h,q);h.prototype._bindStream=function(b){var e=this;this._stream=b;b.pause();b.on("data",function(b){e.push({data:b,meta:{percent:0}})}).on("error",function(b){e.isPaused?this.generatedError=b:e.error(b)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})};h.prototype.pause=function(){return!!q.prototype.pause.call(this)&&(this._stream.pause(),!0)};h.prototype.resume=function(){return!!q.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)};
e.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(b,e,f){function h(b,e,f){q.call(this,e);this._helper=b;var k=this;b.on("data",function(b,e){k.push(b)||k._helper.pause();f&&f(e)}).on("error",function(b){k.emit("error",b)}).on("end",function(){k.push(null)})}var q=b("readable-stream").Readable;b("util").inherits(h,q);h.prototype._read=function(){this._helper.resume()};e.exports=h},{"readable-stream":16,util:void 0}],14:[function(b,e,f){e.exports={isNode:"undefined"!=typeof Buffer,
newBuffer:function(b,e){return new Buffer(b,e)},isBuffer:function(b){return Buffer.isBuffer(b)},isStream:function(b){return b&&"function"==typeof b.on&&"function"==typeof b.pause&&"function"==typeof b.resume}}},{}],15:[function(b,e,f){var h=b("./utf8"),q=b("./utils"),m=b("./stream/GenericWorker"),t=b("./stream/StreamHelper"),k=b("./defaults"),n=b("./compressedObject"),g=b("./zipObject"),y=b("./generate"),z=b("./nodejsUtils"),u=b("./nodejs/NodejsStreamInputAdapter"),v=function(b,e,f){var h,y=q.getTypeOf(e),
v=q.extend(f||{},k);v.date=v.date||new Date;null!==v.compression&&(v.compression=v.compression.toUpperCase());"string"==typeof v.unixPermissions&&(v.unixPermissions=parseInt(v.unixPermissions,8));v.unixPermissions&&16384&v.unixPermissions&&(v.dir=!0);v.dosPermissions&&16&v.dosPermissions&&(v.dir=!0);v.dir&&(b=x(b));var t;if(t=v.createFolders)h=b,"/"===h.slice(-1)&&(h=h.substring(0,h.length-1)),t=h.lastIndexOf("/"),t=h=0<t?h.substring(0,t):"";t&&C.call(this,h,!0);y="string"===y&&!1===v.binary&&!1===
v.base64;f&&"undefined"!=typeof f.binary||(v.binary=!y);(e instanceof n&&0===e.uncompressedSize||v.dir||!e||0===e.length)&&(v.base64=!1,v.binary=!0,e="",v.compression="STORE");e=e instanceof n||e instanceof m?e:z.isNode&&z.isStream(e)?new u(b,e):q.prepareContent(b,e,v.binary,v.optimizedBinaryString,v.base64);v=new g(b,e,v);this.files[b]=v},x=function(b){return"/"!==b.slice(-1)&&(b+="/"),b},C=function(b,e){return e="undefined"!=typeof e?e:k.createFolders,b=x(b),this.files[b]||v.call(this,b,null,{dir:!0,
createFolders:e}),this.files[b]};e.exports={load:function(){throw Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");},forEach:function(b){var e,g,f;for(e in this.files)this.files.hasOwnProperty(e)&&(f=this.files[e],g=e.slice(this.root.length,e.length),g&&e.slice(0,this.root.length)===this.root&&b(g,f))},filter:function(b){var e=[];return this.forEach(function(g,f){b(g,f)&&e.push(f)}),e},file:function(b,e,g){if(1===arguments.length){if("[object RegExp]"===Object.prototype.toString.call(b)){var f=
b;return this.filter(function(b,e){return!e.dir&&f.test(b)})}var k=this.files[this.root+b];return k&&!k.dir?k:null}return b=this.root+b,v.call(this,b,e,g),this},folder:function(b){if(!b)return this;if("[object RegExp]"===Object.prototype.toString.call(b))return this.filter(function(e,g){return g.dir&&b.test(e)});var e=C.call(this,this.root+b),g=this.clone();return g.root=e.name,g},remove:function(b){b=this.root+b;var e=this.files[b];if(e||("/"!==b.slice(-1)&&(b+="/"),e=this.files[b]),e&&!e.dir)delete this.files[b];
else for(var e=this.filter(function(e,g){return g.name.slice(0,b.length)===b}),g=0;g<e.length;g++)delete this.files[e[g].name];return this},generate:function(b){throw Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");},generateInternalStream:function(b){var e,g={};try{if(g=q.extend(b||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode}),g.type=g.type.toLowerCase(),
g.compression=g.compression.toUpperCase(),"binarystring"===g.type&&(g.type="string"),!g.type)throw Error("No output type specified.");q.checkSupport(g.type);"darwin"!==g.platform&&"freebsd"!==g.platform&&"linux"!==g.platform&&"sunos"!==g.platform||(g.platform="UNIX");"win32"===g.platform&&(g.platform="DOS");e=y.generateWorker(this,g,g.comment||this.comment||"")}catch(J){e=new m("error"),e.error(J)}return new t(e,g.type||"string",g.mimeType)},generateAsync:function(b,e){return this.generateInternalStream(b).accumulate(e)},
generateNodeStream:function(b,e){return b=b||{},b.type||(b.type="nodebuffer"),this.generateInternalStream(b).toNodejsStream(e)}}},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(b,e,f){e.exports=b("stream")},{stream:void 0}],17:[function(b,e,f){function h(b){q.call(this,b);for(var e=0;e<this.data.length;e++)b[e]&=255}var q=
b("./DataReader");b("../utils").inherits(h,q);h.prototype.byteAt=function(b){return this.data[this.zero+b]};h.prototype.lastIndexOfSignature=function(b){var e=b.charCodeAt(0),f=b.charCodeAt(1),h=b.charCodeAt(2);b=b.charCodeAt(3);for(var g=this.length-4;0<=g;--g)if(this.data[g]===e&&this.data[g+1]===f&&this.data[g+2]===h&&this.data[g+3]===b)return g-this.zero;return-1};h.prototype.readAndCheckSignature=function(b){var e=b.charCodeAt(0),f=b.charCodeAt(1),h=b.charCodeAt(2);b=b.charCodeAt(3);var g=this.readData(4);
return e===g[0]&&f===g[1]&&h===g[2]&&b===g[3]};h.prototype.readData=function(b){if(this.checkOffset(b),0===b)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,e};e.exports=h},{"../utils":32,"./DataReader":18}],18:[function(b,e,f){function h(b){this.data=b;this.length=b.length;this.zero=this.index=0}var q=b("../utils");h.prototype={checkOffset:function(b){this.checkIndex(this.index+b)},checkIndex:function(b){if(this.length<this.zero+b||0>b)throw Error("End of data reached (data length = "+
this.length+", asked index = "+b+"). Corrupted zip ?");},setIndex:function(b){this.checkIndex(b);this.index=b},skip:function(b){this.setIndex(this.index+b)},byteAt:function(b){},readInt:function(b){var e,f=0;this.checkOffset(b);for(e=this.index+b-1;e>=this.index;e--)f=(f<<8)+this.byteAt(e);return this.index+=b,f},readString:function(b){return q.transformTo("string",this.readData(b))},readData:function(b){},lastIndexOfSignature:function(b){},readAndCheckSignature:function(b){},readDate:function(){var b=
this.readInt(4);return new Date(Date.UTC((b>>25&127)+1980,(b>>21&15)-1,b>>16&31,b>>11&31,b>>5&63,(31&b)<<1))}};e.exports=h},{"../utils":32}],19:[function(b,e,f){function h(b){q.call(this,b)}var q=b("./Uint8ArrayReader");b("../utils").inherits(h,q);h.prototype.readData=function(b){this.checkOffset(b);var e=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,e};e.exports=h},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(b,e,f){function h(b){q.call(this,b)}var q=
b("./DataReader");b("../utils").inherits(h,q);h.prototype.byteAt=function(b){return this.data.charCodeAt(this.zero+b)};h.prototype.lastIndexOfSignature=function(b){return this.data.lastIndexOf(b)-this.zero};h.prototype.readAndCheckSignature=function(b){var e=this.readData(4);return b===e};h.prototype.readData=function(b){this.checkOffset(b);var e=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,e};e.exports=h},{"../utils":32,"./DataReader":18}],21:[function(b,e,f){function h(b){q.call(this,
b)}var q=b("./ArrayReader");b("../utils").inherits(h,q);h.prototype.readData=function(b){if(this.checkOffset(b),0===b)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+b);return this.index+=b,e};e.exports=h},{"../utils":32,"./ArrayReader":17}],22:[function(b,e,f){var h=b("../utils"),q=b("../support"),m=b("./ArrayReader"),t=b("./StringReader"),k=b("./NodeBufferReader"),n=b("./Uint8ArrayReader");e.exports=function(b){var e=h.getTypeOf(b);return h.checkSupport(e),
"string"!==e||q.uint8array?"nodebuffer"===e?new k(b):q.uint8array?new n(h.transformTo("uint8array",b)):new m(h.transformTo("array",b)):new t(b)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(b,e,f){f.LOCAL_FILE_HEADER="PK\u0003\u0004";f.CENTRAL_FILE_HEADER="PK\u0001\u0002";f.CENTRAL_DIRECTORY_END="PK\u0005\u0006";f.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\u0006\u0007";f.ZIP64_CENTRAL_DIRECTORY_END="PK\u0006\u0006";
f.DATA_DESCRIPTOR="PK\u0007\b"},{}],24:[function(b,e,f){function h(b){q.call(this,"ConvertWorker to "+b);this.destType=b}var q=b("./GenericWorker"),m=b("../utils");m.inherits(h,q);h.prototype.processChunk=function(b){this.push({data:m.transformTo(this.destType,b.data),meta:b.meta})};e.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(b,e,f){function h(){q.call(this,"Crc32Probe");this.withStreamInfo("crc32",0)}var q=b("./GenericWorker"),m=b("../crc32");b("../utils").inherits(h,q);h.prototype.processChunk=
function(b){this.streamInfo.crc32=m(b.data,this.streamInfo.crc32||0);this.push(b)};e.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(b,e,f){function h(b){q.call(this,"DataLengthProbe for "+b);this.propName=b;this.withStreamInfo(b,0)}f=b("../utils");var q=b("./GenericWorker");f.inherits(h,q);h.prototype.processChunk=function(b){b&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+b.data.length);q.prototype.processChunk.call(this,b)};e.exports=h},{"../utils":32,
"./GenericWorker":28}],27:[function(b,e,f){function h(b){m.call(this,"DataWorker");var e=this;this.dataIsReady=!1;this.max=this.index=0;this.data=null;this.type="";this._tickScheduled=!1;b.then(function(b){e.dataIsReady=!0;e.data=b;e.max=b&&b.length||0;e.type=q.getTypeOf(b);e.isPaused||e._tickAndRepeat()},function(b){e.error(b)})}var q=b("../utils"),m=b("./GenericWorker");q.inherits(h,m);h.prototype.cleanUp=function(){m.prototype.cleanUp.call(this);this.data=null};h.prototype.resume=function(){return!!m.prototype.resume.call(this)&&
(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,q.delay(this._tickAndRepeat,[],this)),!0)};h.prototype._tickAndRepeat=function(){this._tickScheduled=!1;this.isPaused||this.isFinished||(this._tick(),this.isFinished||(q.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))};h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var b=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case "string":b=this.data.substring(this.index,
e);break;case "uint8array":b=this.data.subarray(this.index,e);break;case "array":case "nodebuffer":b=this.data.slice(this.index,e)}return this.index=e,this.push({data:b,meta:{percent:this.max?this.index/this.max*100:0}})};e.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(b,e,f){function h(b){this.name=b||"default";this.streamInfo={};this.generatedError=null;this.extraStreamInfo={};this.isPaused=!0;this.isLocked=this.isFinished=!1;this._listeners={data:[],end:[],error:[]};this.previous=
null}h.prototype={push:function(b){this.emit("data",b)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(q){this.emit("error",q)}return!0},error:function(b){return!this.isFinished&&(this.isPaused?this.generatedError=b:(this.isFinished=!0,this.emit("error",b),this.previous&&this.previous.error(b),this.cleanUp()),!0)},on:function(b,e){return this._listeners[b].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=
null;this._listeners=[]},emit:function(b,e){if(this._listeners[b])for(var f=0;f<this._listeners[b].length;f++)this._listeners[b][f].call(this,e)},pipe:function(b){return b.registerPrevious(this)},registerPrevious:function(b){if(this.isLocked)throw Error("The stream '"+this+"' has already been used.");this.streamInfo=b.streamInfo;this.mergeStreamInfo();this.previous=b;var e=this;return b.on("data",function(b){e.processChunk(b)}),b.on("end",function(){e.end()}),b.on("error",function(b){e.error(b)}),
this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var b=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),b=!0),this.previous&&this.previous.resume(),!b},flush:function(){},processChunk:function(b){this.push(b)},withStreamInfo:function(b,e){return this.extraStreamInfo[b]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var b in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(b)&&
(this.streamInfo[b]=this.extraStreamInfo[b])},lock:function(){if(this.isLocked)throw Error("The stream '"+this+"' has already been used.");this.isLocked=!0;this.previous&&this.previous.lock()},toString:function(){var b="Worker "+this.name;return this.previous?this.previous+" -> "+b:b}};e.exports=h},{}],29:[function(b,e,f){function h(b,e){var g,f=0,k;for(g=k=0;g<e.length;g++)k+=e[g].length;switch(b){case "string":return e.join("");case "array":return Array.prototype.concat.apply([],e);case "uint8array":k=
new Uint8Array(k);for(g=0;g<e.length;g++)k.set(e[g],f),f+=e[g].length;return k;case "nodebuffer":return Buffer.concat(e);default:throw Error("concat : unsupported type '"+b+"'");}}function q(b,e){return new y.Promise(function(f,k){var n=[],q=b._internalType,m=b._outputType,u=b._mimeType;b.on("data",function(b,g){n.push(b);e&&e(g)}).on("error",function(b){n=[];k(b)}).on("end",function(){try{var b;a:{var e=n,y=null;switch(m){case "blob":b=t.newBlob(e,u);break a;case "base64":b=(y=h(q,e),g.encode(y));
break a;default:b=(y=h(q,e),t.transformTo(m,y))}}f(b)}catch(E){k(E)}n=[]}).resume()})}function m(b,e,g){var f=e;switch(e){case "blob":f="arraybuffer";break;case "arraybuffer":f="uint8array";break;case "base64":f="string"}try{this._internalType=f,this._outputType=e,this._mimeType=g,t.checkSupport(f),this._worker=b.pipe(new k(f)),b.lock()}catch(F){this._worker=new n("error"),this._worker.error(F)}}var t=b("../utils"),k=b("./ConvertWorker"),n=b("./GenericWorker"),g=b("../base64");f=b("../support");var y=
b("../external"),z=null;if(f.nodestream)try{z=b("../nodejs/NodejsStreamOutputAdapter")}catch(u){}m.prototype={accumulate:function(b){return q(this,b)},on:function(b,e){var g=this;return"data"===b?this._worker.on(b,function(b){e.call(g,b.data,b.meta)}):this._worker.on(b,function(){t.delay(e,arguments,g)}),this},resume:function(){return t.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(t.checkSupport("nodestream"),"nodebuffer"!==
this._outputType)throw Error(this._outputType+" is not supported by this method");return new z(this,{objectMode:"nodebuffer"!==this._outputType},b)}};e.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(b,e,f){if(f.base64=!0,f.array=!0,f.string=!0,f.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,f.nodebuffer="undefined"!=typeof Buffer,f.uint8array="undefined"!=
typeof Uint8Array,"undefined"==typeof ArrayBuffer)f.blob=!1;else{e=new ArrayBuffer(0);try{f.blob=0===(new Blob([e],{type:"application/zip"})).size}catch(q){try{var h=new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);h.append(e);f.blob=0===h.getBlob("application/zip").size}catch(m){f.blob=!1}}}try{f.nodestream=!!b("readable-stream").Readable}catch(q){f.nodestream=!1}},{"readable-stream":16}],31:[function(b,e,f){function h(){n.call(this,"utf-8 decode");
this.leftOver=null}function q(){n.call(this,"utf-8 encode")}var m=b("./utils"),t=b("./support"),k=b("./nodejsUtils"),n=b("./stream/GenericWorker"),g=Array(256);for(b=0;256>b;b++)g[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;g[254]=g[254]=1;f.utf8encode=function(b){if(t.nodebuffer)b=k.newBuffer(b,"utf-8");else{var e,g,f,h,n,q=b.length,m=0;for(h=0;h<q;h++)g=b.charCodeAt(h),55296===(64512&g)&&h+1<q&&(f=b.charCodeAt(h+1),56320===(64512&f)&&(g=65536+(g-55296<<10)+(f-56320),h++)),m+=128>g?1:2048>
g?2:65536>g?3:4;e=t.uint8array?new Uint8Array(m):Array(m);for(h=n=0;n<m;h++)g=b.charCodeAt(h),55296===(64512&g)&&h+1<q&&(f=b.charCodeAt(h+1),56320===(64512&f)&&(g=65536+(g-55296<<10)+(f-56320),h++)),128>g?e[n++]=g:2048>g?(e[n++]=192|g>>>6,e[n++]=128|63&g):65536>g?(e[n++]=224|g>>>12,e[n++]=128|g>>>6&63,e[n++]=128|63&g):(e[n++]=240|g>>>18,e[n++]=128|g>>>12&63,e[n++]=128|g>>>6&63,e[n++]=128|63&g);b=e}return b};f.utf8decode=function(b){var e;if(t.nodebuffer)e=m.transformTo("nodebuffer",b).toString("utf-8");
else{var f=b=m.transformTo(t.uint8array?"uint8array":"array",b),k,h,n,q=f.length;b=Array(2*q);for(k=h=0;k<q;)if(e=f[k++],128>e)b[h++]=e;else if(n=g[e],4<n)b[h++]=65533,k+=n-1;else{for(e&=2===n?31:3===n?15:7;1<n&&k<q;)e=e<<6|63&f[k++],n--;1<n?b[h++]=65533:65536>e?b[h++]=e:(e-=65536,b[h++]=55296|e>>10&1023,b[h++]=56320|1023&e)}e=(b.length!==h&&(b.subarray?b=b.subarray(0,h):b.length=h),m.applyFromCharCode(b))}return e};m.inherits(h,n);h.prototype.processChunk=function(b){var e=m.transformTo(t.uint8array?
"uint8array":"array",b.data);if(this.leftOver&&this.leftOver.length){if(t.uint8array){var k=e,e=new Uint8Array(k.length+this.leftOver.length);e.set(this.leftOver,0);e.set(k,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var h,k=e.length;k>e.length&&(k=e.length);for(h=k-1;0<=h&&128===(192&e[h]);)h--;k=0>h?k:0===h?k:h+g[e[h]]>k?h:k;h=e;k!==e.length&&(t.uint8array?(h=e.subarray(0,k),this.leftOver=e.subarray(k,e.length)):(h=e.slice(0,k),this.leftOver=e.slice(k,e.length)));this.push({data:f.utf8decode(h),
meta:b.meta})};h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:f.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)};f.Utf8DecodeWorker=h;m.inherits(q,n);q.prototype.processChunk=function(b){this.push({data:f.utf8encode(b.data),meta:b.meta})};f.Utf8EncodeWorker=q},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(b,e,f){function h(b){return b}function q(b,e){for(var g=0;g<b.length;++g)e[g]=255&b.charCodeAt(g);return e}
function m(b){var e=65536,g=f.getTypeOf(b),k=!0;if("uint8array"===g?k=x.applyCanBeUsed.uint8array:"nodebuffer"===g&&(k=x.applyCanBeUsed.nodebuffer),k)for(;1<e;)try{return x.stringifyByChunk(b,g,e)}catch(w){e=Math.floor(e/2)}return x.stringifyByChar(b)}function t(b,e){for(var g=0;g<b.length;g++)e[g]=b[g];return e}var k=b("./support"),n=b("./base64"),g=b("./nodejsUtils"),y=b("core-js/library/fn/set-immediate"),z=b("./external");f.newBlob=function(b,e){f.checkSupport("blob");try{return new Blob(b,{type:e})}catch(w){try{for(var g=
new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder),k=0;k<b.length;k++)g.append(b[k]);return g.getBlob(e)}catch(R){throw Error("Bug : can't construct the Blob.");}}};var u;try{u=k.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(F){u=!1}b=u;var v;try{v=k.nodebuffer&&1===String.fromCharCode.apply(null,g.newBuffer(1)).length}catch(F){v=!1}var x={stringifyByChunk:function(b,e,g){var f=[],k=0,h=b.length;if(h<=g)return String.fromCharCode.apply(null,
b);for(;k<h;)"array"===e||"nodebuffer"===e?f.push(String.fromCharCode.apply(null,b.slice(k,Math.min(k+g,h)))):f.push(String.fromCharCode.apply(null,b.subarray(k,Math.min(k+g,h)))),k+=g;return f.join("")},stringifyByChar:function(b){for(var e="",g=0;g<b.length;g++)e+=String.fromCharCode(b[g]);return e},applyCanBeUsed:{uint8array:b,nodebuffer:v}};f.applyFromCharCode=m;var C={};C.string={string:h,array:function(b){return q(b,Array(b.length))},arraybuffer:function(b){return C.string.uint8array(b).buffer},
uint8array:function(b){return q(b,new Uint8Array(b.length))},nodebuffer:function(b){return q(b,g.newBuffer(b.length))}};C.array={string:m,array:h,arraybuffer:function(b){return(new Uint8Array(b)).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return g.newBuffer(b)}};C.arraybuffer={string:function(b){return m(new Uint8Array(b))},array:function(b){return t(new Uint8Array(b),Array(b.byteLength))},arraybuffer:h,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return g.newBuffer(new Uint8Array(b))}};
C.uint8array={string:m,array:function(b){return t(b,Array(b.length))},arraybuffer:function(b){var e=new Uint8Array(b.length);return b.length&&e.set(b,0),e.buffer},uint8array:h,nodebuffer:function(b){return g.newBuffer(b)}};C.nodebuffer={string:m,array:function(b){return t(b,Array(b.length))},arraybuffer:function(b){return C.nodebuffer.uint8array(b).buffer},uint8array:function(b){return t(b,new Uint8Array(b.length))},nodebuffer:h};f.transformTo=function(b,e){if(e||(e=""),!b)return e;f.checkSupport(b);
var g=f.getTypeOf(e);return C[g][b](e)};f.getTypeOf=function(b){return"string"==typeof b?"string":"[object Array]"===Object.prototype.toString.call(b)?"array":k.nodebuffer&&g.isBuffer(b)?"nodebuffer":k.uint8array&&b instanceof Uint8Array?"uint8array":k.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0};f.checkSupport=function(b){if(!k[b.toLowerCase()])throw Error(b+" is not supported by this platform");};f.MAX_VALUE_16BITS=65535;f.MAX_VALUE_32BITS=-1;f.pretty=function(b){var e,g,f="";for(g=
0;g<(b||"").length;g++)e=b.charCodeAt(g),f+="\\x"+(16>e?"0":"")+e.toString(16).toUpperCase();return f};f.delay=function(b,e,g){y(function(){b.apply(g||null,e||[])})};f.inherits=function(b,e){var g=function(){};g.prototype=e.prototype;b.prototype=new g};f.extend=function(){var b,e,g={};for(b=0;b<arguments.length;b++)for(e in arguments[b])arguments[b].hasOwnProperty(e)&&"undefined"==typeof g[e]&&(g[e]=arguments[b][e]);return g};f.prepareContent=function(b,e,g,h,m){return z.Promise.resolve(e).then(function(b){return k.blob&&
(b instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(b)))&&"undefined"!=typeof FileReader?new z.Promise(function(e,g){var f=new FileReader;f.onload=function(b){e(b.target.result)};f.onerror=function(b){g(b.target.error)};f.readAsArrayBuffer(b)}):b}).then(function(e){var u=f.getTypeOf(e);u?"arraybuffer"===u?e=f.transformTo("uint8array",e):"string"===u&&(m?e=n.decode(e):g&&!0!==h&&(u=null,e=(u=k.uint8array?new Uint8Array(e.length):Array(e.length),q(e,u)))):
e=z.Promise.reject(Error("The data of '"+b+"' is in an unsupported format !"));return e})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"core-js/library/fn/set-immediate":36}],33:[function(b,e,f){function h(b){this.files=[];this.loadOptions=b}var q=b("./reader/readerFor"),m=b("./utils"),t=b("./signature"),k=b("./zipEntry"),n=(b("./utf8"),b("./support"));h.prototype={checkSignature:function(b){if(!this.reader.readAndCheckSignature(b)){this.reader.index-=4;var e=this.reader.readString(4);
throw Error("Corrupted zip or bug : unexpected signature ("+m.pretty(e)+", expected "+m.pretty(b)+")");}},isSignature:function(b,e){var g=this.reader.index;this.reader.setIndex(b);var f=this.reader.readString(4)===e;return this.reader.setIndex(g),f},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2);this.diskWithCentralDirStart=this.reader.readInt(2);this.centralDirRecordsOnThisDisk=this.reader.readInt(2);this.centralDirRecords=this.reader.readInt(2);this.centralDirSize=this.reader.readInt(4);
this.centralDirOffset=this.reader.readInt(4);this.zipCommentLength=this.reader.readInt(2);var b=this.reader.readData(this.zipCommentLength),b=m.transformTo(n.uint8array?"uint8array":"array",b);this.zipComment=this.loadOptions.decodeFileName(b)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8);this.reader.skip(4);this.diskNumber=this.reader.readInt(4);this.diskWithCentralDirStart=this.reader.readInt(4);this.centralDirRecordsOnThisDisk=this.reader.readInt(8);this.centralDirRecords=
this.reader.readInt(8);this.centralDirSize=this.reader.readInt(8);this.centralDirOffset=this.reader.readInt(8);this.zip64ExtensibleData={};for(var b,e,f,k=this.zip64EndOfCentralSize-44;0<k;)b=this.reader.readInt(2),e=this.reader.readInt(4),f=this.reader.readData(e),this.zip64ExtensibleData[b]={id:b,length:e,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=
this.reader.readInt(4),1<this.disksCount)throw Error("Multi-volumes zip are not supported");},readLocalFiles:function(){var b,e;for(b=0;b<this.files.length;b++)e=this.files[b],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(t.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var b;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(t.CENTRAL_FILE_HEADER);)b=new k({zip64:this.zip64},this.loadOptions),
b.readCentralPart(this.reader),this.files.push(b);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length);},readEndOfCentral:function(){var b=this.reader.lastIndexOfSignature(t.CENTRAL_DIRECTORY_END);if(0>b)throw this.isSignature(0,t.LOCAL_FILE_HEADER)?Error("Corrupted zip : can't find end of central directory"):Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html");
this.reader.setIndex(b);var e=b;if(this.checkSignature(t.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===m.MAX_VALUE_16BITS||this.diskWithCentralDirStart===m.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===m.MAX_VALUE_16BITS||this.centralDirRecords===m.MAX_VALUE_16BITS||this.centralDirSize===m.MAX_VALUE_32BITS||this.centralDirOffset===m.MAX_VALUE_32BITS){if(this.zip64=!0,b=this.reader.lastIndexOfSignature(t.ZIP64_CENTRAL_DIRECTORY_LOCATOR),0>b)throw Error("Corrupted zip : can't find the ZIP64 end of central directory locator");
if(this.reader.setIndex(b),this.checkSignature(t.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,t.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(t.ZIP64_CENTRAL_DIRECTORY_END),0>this.relativeOffsetEndOfZip64CentralDir))throw Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir);this.checkSignature(t.ZIP64_CENTRAL_DIRECTORY_END);
this.readBlockZip64EndOfCentral()}b=this.centralDirOffset+this.centralDirSize;this.zip64&&(b+=20,b+=12+this.zip64EndOfCentralSize);b=e-b;if(0<b)this.isSignature(e,t.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(0>b)throw Error("Corrupted zip: missing "+Math.abs(b)+" bytes.");},prepareReader:function(b){this.reader=q(b)},load:function(b){this.prepareReader(b);this.readEndOfCentral();this.readCentralDir();this.readLocalFiles()}};e.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,
"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(b,e,f){function h(b,e){this.options=b;this.loadOptions=e}var q=b("./reader/readerFor"),m=b("./utils"),t=b("./compressedObject"),k=b("./crc32"),n=b("./utf8"),g=b("./compressions"),y=b("./support");h.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},readLocalPart:function(b){var e,f;if(b.skip(22),this.fileNameLength=b.readInt(2),f=b.readInt(2),this.fileName=b.readData(this.fileNameLength),
b.skip(f),-1===this.compressedSize||-1===this.uncompressedSize)throw Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");var k;a:{f=this.compressionMethod;for(k in g)if(g.hasOwnProperty(k)&&g[k].magic===f){k=g[k];break a}k=null}if(e=k,null===e)throw Error("Corrupted zip : compression "+m.pretty(this.compressionMethod)+" unknown (inner file : "+m.transformTo("string",this.fileName)+")");this.decompressed=new t(this.compressedSize,
this.uncompressedSize,this.crc32,e,b.readData(this.compressedSize))},readCentralPart:function(b){this.versionMadeBy=b.readInt(2);b.skip(2);this.bitFlag=b.readInt(2);this.compressionMethod=b.readString(2);this.date=b.readDate();this.crc32=b.readInt(4);this.compressedSize=b.readInt(4);this.uncompressedSize=b.readInt(4);var e=b.readInt(2);if(this.extraFieldsLength=b.readInt(2),this.fileCommentLength=b.readInt(2),this.diskNumberStart=b.readInt(2),this.internalFileAttributes=b.readInt(2),this.externalFileAttributes=
b.readInt(4),this.localHeaderOffset=b.readInt(4),this.isEncrypted())throw Error("Encrypted zip are not supported");b.skip(e);this.readExtraFields(b);this.parseZIP64ExtraField(b);this.fileComment=b.readData(this.fileCommentLength)},processAttributes:function(){this.dosPermissions=this.unixPermissions=null;var b=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes);0===b&&(this.dosPermissions=63&this.externalFileAttributes);3===b&&(this.unixPermissions=this.externalFileAttributes>>16&65535);
this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(b){this.extraFields[1]&&(b=q(this.extraFields[1].value),this.uncompressedSize===m.MAX_VALUE_32BITS&&(this.uncompressedSize=b.readInt(8)),this.compressedSize===m.MAX_VALUE_32BITS&&(this.compressedSize=b.readInt(8)),this.localHeaderOffset===m.MAX_VALUE_32BITS&&(this.localHeaderOffset=b.readInt(8)),this.diskNumberStart===m.MAX_VALUE_32BITS&&(this.diskNumberStart=b.readInt(4)))},readExtraFields:function(b){var e,
g,f,k=b.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});b.index<k;)e=b.readInt(2),g=b.readInt(2),f=b.readData(g),this.extraFields[e]={id:e,length:g,value:f}},handleUTF8:function(){var b=y.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=n.utf8decode(this.fileName),this.fileCommentStr=n.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();null!==e?this.fileNameStr=e:(e=m.transformTo(b,this.fileName),this.fileNameStr=this.loadOptions.decodeFileName(e));
e=this.findExtraFieldUnicodeComment();null!==e?this.fileCommentStr=e:(b=m.transformTo(b,this.fileComment),this.fileCommentStr=this.loadOptions.decodeFileName(b))}},findExtraFieldUnicodePath:function(){var b=this.extraFields[28789];if(b){var e=q(b.value);return 1!==e.readInt(1)?null:k(this.fileName)!==e.readInt(4)?null:n.utf8decode(e.readData(b.length-5))}return null},findExtraFieldUnicodeComment:function(){var b=this.extraFields[25461];if(b){var e=q(b.value);return 1!==e.readInt(1)?null:k(this.fileComment)!==
e.readInt(4)?null:n.utf8decode(e.readData(b.length-5))}return null}};e.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(b,e,f){var h=b("./stream/StreamHelper"),q=b("./stream/DataWorker"),m=b("./utf8"),t=b("./compressedObject"),k=b("./stream/GenericWorker");b=function(b,e,g){this.name=b;this.dir=g.dir;this.date=g.date;this.comment=g.comment;this.unixPermissions=g.unixPermissions;this.dosPermissions=g.dosPermissions;
this._data=e;this._dataBinary=g.binary;this.options={compression:g.compression,compressionOptions:g.compressionOptions}};b.prototype={internalStream:function(b){b=b.toLowerCase();var e="string"===b||"text"===b;"binarystring"!==b&&"text"!==b||(b="string");var g=this._decompressWorker(),f=!this._dataBinary;return f&&!e&&(g=g.pipe(new m.Utf8EncodeWorker)),!f&&e&&(g=g.pipe(new m.Utf8DecodeWorker)),new h(g,b,"")},async:function(b,e){return this.internalStream(b).accumulate(e)},nodeStream:function(b,e){return this.internalStream(b||
"nodebuffer").toNodejsStream(e)},_compressWorker:function(b,e){if(this._data instanceof t&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new m.Utf8EncodeWorker)),t.createWorkerFrom(g,b,e)},_decompressWorker:function(){return this._data instanceof t?this._data.getContentWorker():this._data instanceof k?this._data:new q(this._data)}};f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"];
for(var n=function(){throw Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");},g=0;g<f.length;g++)b.prototype[f[g]]=n;e.exports=b},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(b,e,f){b("../modules/web.immediate");e.exports=b("../modules/_core").setImmediate},{"../modules/_core":40,"../modules/web.immediate":56}],37:[function(b,e,f){e.exports=function(b){if("function"!=typeof b)throw TypeError(b+
" is not a function!");return b}},{}],38:[function(b,e,f){var h=b("./_is-object");e.exports=function(b){if(!h(b))throw TypeError(b+" is not an object!");return b}},{"./_is-object":51}],39:[function(b,e,f){var h={}.toString;e.exports=function(b){return h.call(b).slice(8,-1)}},{}],40:[function(b,e,f){b=e.exports={version:"2.3.0"};"number"==typeof __e&&(__e=b)},{}],41:[function(b,e,f){var h=b("./_a-function");e.exports=function(b,e,f){if(h(b),void 0===e)return b;switch(f){case 1:return function(f){return b.call(e,
f)};case 2:return function(f,h){return b.call(e,f,h)};case 3:return function(f,h,g){return b.call(e,f,h,g)}}return function(){return b.apply(e,arguments)}}},{"./_a-function":37}],42:[function(b,e,f){e.exports=!b("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":45}],43:[function(b,e,f){f=b("./_is-object");var h=b("./_global").document,q=f(h)&&f(h.createElement);e.exports=function(b){return q?h.createElement(b):{}}},{"./_global":46,"./_is-object":51}],
44:[function(b,e,f){var h=b("./_global"),q=b("./_core"),m=b("./_ctx"),t=b("./_hide"),k=function(b,e,f){var g,n,y=b&k.F,x=b&k.G,C=b&k.S,F=b&k.P,D=b&k.B,H=b&k.W,J=x?q:q[e]||(q[e]={}),w=J.prototype,C=x?h:C?h[e]:(h[e]||{}).prototype;x&&(f=e);for(g in f)(e=!y&&C&&void 0!==C[g])&&g in J||(n=e?C[g]:f[g],J[g]=x&&"function"!=typeof C[g]?f[g]:D&&e?m(n,h):H&&C[g]==n?function(b){var e=function(e,g,f){if(this instanceof b){switch(arguments.length){case 0:return new b;case 1:return new b(e);case 2:return new b(e,
g)}return new b(e,g,f)}return b.apply(this,arguments)};return e.prototype=b.prototype,e}(n):F&&"function"==typeof n?m(Function.call,n):n,F&&((J.virtual||(J.virtual={}))[g]=n,b&k.R&&w&&!w[g]&&t(w,g,n)))};k.F=1;k.G=2;k.S=4;k.P=8;k.B=16;k.W=32;k.U=64;k.R=128;e.exports=k},{"./_core":40,"./_ctx":41,"./_global":46,"./_hide":47}],45:[function(b,e,f){e.exports=function(b){try{return!!b()}catch(q){return!0}}},{}],46:[function(b,e,f){b=e.exports="undefined"!=typeof window&&Math==Math?window:"undefined"!=typeof self&&
self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=b)},{}],47:[function(b,e,f){var h=b("./_object-dp"),q=b("./_property-desc");e.exports=b("./_descriptors")?function(b,e,f){return h.f(b,e,q(1,f))}:function(b,e,f){return b[e]=f,b}},{"./_descriptors":42,"./_object-dp":52,"./_property-desc":53}],48:[function(b,e,f){e.exports=b("./_global").document&&document.documentElement},{"./_global":46}],49:[function(b,e,f){e.exports=!b("./_descriptors")&&!b("./_fails")(function(){return 7!=
Object.defineProperty(b("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":42,"./_dom-create":43,"./_fails":45}],50:[function(b,e,f){e.exports=function(b,e,f){var h=void 0===f;switch(e.length){case 0:return h?b():b.call(f);case 1:return h?b(e[0]):b.call(f,e[0]);case 2:return h?b(e[0],e[1]):b.call(f,e[0],e[1]);case 3:return h?b(e[0],e[1],e[2]):b.call(f,e[0],e[1],e[2]);case 4:return h?b(e[0],e[1],e[2],e[3]):b.call(f,e[0],e[1],e[2],e[3])}return b.apply(f,e)}},{}],51:[function(b,
e,f){e.exports=function(b){return"object"==typeof b?null!==b:"function"==typeof b}},{}],52:[function(b,e,f){var h=b("./_an-object"),q=b("./_ie8-dom-define"),m=b("./_to-primitive"),t=Object.defineProperty;f.f=b("./_descriptors")?Object.defineProperty:function(b,e,g){if(h(b),e=m(e,!0),h(g),q)try{return t(b,e,g)}catch(y){}if("get"in g||"set"in g)throw TypeError("Accessors not supported!");return"value"in g&&(b[e]=g.value),b}},{"./_an-object":38,"./_descriptors":42,"./_ie8-dom-define":49,"./_to-primitive":55}],
53:[function(b,e,f){e.exports=function(b,e){return{enumerable:!(1&b),configurable:!(2&b),writable:!(4&b),value:e}}},{}],54:[function(b,e,f){var h,q,m,t=b("./_ctx"),k=b("./_invoke"),n=b("./_html"),g=b("./_dom-create"),y=b("./_global"),z=y.process;f=y.setImmediate;var u=y.clearImmediate,v=y.MessageChannel,x=0,C={},F=function(){var b=+this;if(C.hasOwnProperty(b)){var e=C[b];delete C[b];e()}},D=function(b){F.call(b.data)};f&&u||(f=function(b){for(var e=[],g=1;arguments.length>g;)e.push(arguments[g++]);
return C[++x]=function(){k("function"==typeof b?b:Function(b),e)},h(x),x},u=function(b){delete C[b]},"process"==b("./_cof")(z)?h=function(b){z.nextTick(t(F,b,1))}:v?(q=new v,m=q.port2,q.port1.onmessage=D,h=t(m.postMessage,m,1)):y.addEventListener&&"function"==typeof postMessage&&!y.importScripts?(h=function(b){y.postMessage(b+"","*")},y.addEventListener("message",D,!1)):h="onreadystatechange"in g("script")?function(b){n.appendChild(g("script")).onreadystatechange=function(){n.removeChild(this);F.call(b)}}:
function(b){setTimeout(t(F,b,1),0)});e.exports={set:f,clear:u}},{"./_cof":39,"./_ctx":41,"./_dom-create":43,"./_global":46,"./_html":48,"./_invoke":50}],55:[function(b,e,f){var h=b("./_is-object");e.exports=function(b,e){if(!h(b))return b;var f,k;if(e&&"function"==typeof(f=b.toString)&&!h(k=f.call(b))||"function"==typeof(f=b.valueOf)&&!h(k=f.call(b))||!e&&"function"==typeof(f=b.toString)&&!h(k=f.call(b)))return k;throw TypeError("Can't convert object to primitive value");}},{"./_is-object":51}],56:[function(b,
e,f){e=b("./_export");b=b("./_task");e(e.G+e.B,{setImmediate:b.set,clearImmediate:b.clear})},{"./_export":44,"./_task":54}],57:[function(b,e,f){(function(b){function f(){y=!0;for(var b,e,g=z.length;g;){e=z;z=[];for(b=-1;++b<g;)e[b]();g=z.length}y=!1}var h,t=b.MutationObserver||b.WebKitMutationObserver;if(t){var k=0,t=new t(f),n=b.document.createTextNode("");t.observe(n,{characterData:!0});h=function(){n.data=k=++k%2}}else if(b.setImmediate||"undefined"==typeof b.MessageChannel)h="document"in b&&"onreadystatechange"in
b.document.createElement("script")?function(){var e=b.document.createElement("script");e.onreadystatechange=function(){f();e.onreadystatechange=null;e.parentNode.removeChild(e);e=null};b.document.documentElement.appendChild(e)}:function(){setTimeout(f,0)};else{var g=new b.MessageChannel;g.port1.onmessage=f;h=function(){g.port2.postMessage(0)}}var y,z=[];e.exports=function(b){1!==z.push(b)||y||h()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?
window:{})},{}],58:[function(b,e,f){function h(){}function q(b){if("function"!=typeof b)throw new TypeError("resolver must be a function");this.state=x;this.queue=[];this.outcome=void 0;b!==h&&n(this,b)}function m(b,e,g){this.promise=b;"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled);"function"==typeof g&&(this.onRejected=g,this.callRejected=this.otherCallRejected)}function t(b,e,g){y(function(){var f;try{f=e(g)}catch(J){return z.reject(b,J)}f===b?z.reject(b,new TypeError("Cannot resolve promise with itself")):
z.resolve(b,f)})}function k(b){var e=b&&b.then;if(b&&"object"==typeof b&&"function"==typeof e)return function(){e.apply(b,arguments)}}function n(b,e){function f(e){h||(h=!0,z.reject(b,e))}function k(e){h||(h=!0,z.resolve(b,e))}var h=!1,n=g(function(){e(k,f)});"error"===n.status&&f(n.value)}function g(b,e){var g={};try{g.value=b(e),g.status="success"}catch(H){g.status="error",g.value=H}return g}var y=b("immediate"),z={},u=["REJECTED"],v=["FULFILLED"],x=["PENDING"];e.exports=q;q.prototype["catch"]=
function(b){return this.then(null,b)};q.prototype.then=function(b,e){if("function"!=typeof b&&this.state===v||"function"!=typeof e&&this.state===u)return this;var g=new this.constructor(h);this.state!==x?t(g,this.state===v?b:e,this.outcome):this.queue.push(new m(g,b,e));return g};m.prototype.callFulfilled=function(b){z.resolve(this.promise,b)};m.prototype.otherCallFulfilled=function(b){t(this.promise,this.onFulfilled,b)};m.prototype.callRejected=function(b){z.reject(this.promise,b)};m.prototype.otherCallRejected=
function(b){t(this.promise,this.onRejected,b)};z.resolve=function(b,e){var f=g(k,e);if("error"===f.status)return z.reject(b,f.value);if(f=f.value)n(b,f);else{b.state=v;b.outcome=e;for(var f=-1,h=b.queue.length;++f<h;)b.queue[f].callFulfilled(e)}return b};z.reject=function(b,e){b.state=u;b.outcome=e;for(var g=-1,f=b.queue.length;++g<f;)b.queue[g].callRejected(e);return b};q.resolve=function(b){return b instanceof this?b:z.resolve(new this(h),b)};q.reject=function(b){var e=new this(h);return z.reject(e,
b)};q.all=function(b){function e(b,e){g.resolve(b).then(function(b){n[e]=b;++m!==f||k||(k=!0,z.resolve(y,n))},function(b){k||(k=!0,z.reject(y,b))})}var g=this;if("[object Array]"!==Object.prototype.toString.call(b))return this.reject(new TypeError("must be an array"));var f=b.length,k=!1;if(!f)return this.resolve([]);for(var n=Array(f),m=0,q=-1,y=new this(h);++q<f;)e(b[q],q);return y};q.race=function(b){function e(b){g.resolve(b).then(function(b){k||(k=!0,z.resolve(m,b))},function(b){k||(k=!0,z.reject(m,
b))})}var g=this;if("[object Array]"!==Object.prototype.toString.call(b))return this.reject(new TypeError("must be an array"));var f=b.length,k=!1;if(!f)return this.resolve([]);for(var n=-1,m=new this(h);++n<f;)e(b[n]);return m}},{immediate:57}],59:[function(b,e,f){f=b("./lib/utils/common").assign;var h=b("./lib/deflate"),q=b("./lib/inflate");b=b("./lib/zlib/constants");var m={};f(m,h,q,b);e.exports=m},{"./lib/deflate":60,"./lib/inflate":61,"./lib/utils/common":62,"./lib/zlib/constants":65}],60:[function(b,
e,f){function h(b){if(!(this instanceof h))return new h(b);b=this.options=t.assign({level:u,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},b||{});b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&16>b.windowBits&&(b.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new g;this.strm.avail_out=0;var e=m.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(e!==z)throw Error(n[e]);if(b.header&&m.deflateSetHeader(this.strm,
b.header),b.dictionary){var f;if(f="string"==typeof b.dictionary?k.string2buf(b.dictionary):"[object ArrayBuffer]"===y.call(b.dictionary)?new Uint8Array(b.dictionary):b.dictionary,e=m.deflateSetDictionary(this.strm,f),e!==z)throw Error(n[e]);this._dict_set=!0}}function q(b,e){var g=new h(e);if(g.push(b,!0),g.err)throw g.msg;return g.result}var m=b("./zlib/deflate"),t=b("./utils/common"),k=b("./utils/strings"),n=b("./zlib/messages"),g=b("./zlib/zstream"),y=Object.prototype.toString,z=0,u=-1,v=0,x=
8;h.prototype.push=function(b,e){var g,f,h=this.strm,n=this.options.chunkSize;if(this.ended)return!1;f=e===~~e?e:!0===e?4:0;"string"==typeof b?h.input=k.string2buf(b):"[object ArrayBuffer]"===y.call(b)?h.input=new Uint8Array(b):h.input=b;h.next_in=0;h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new t.Buf8(n),h.next_out=0,h.avail_out=n),g=m.deflate(h,f),1!==g&&g!==z)return this.onEnd(g),this.ended=!0,!1;0!==h.avail_out&&(0!==h.avail_in||4!==f&&2!==f)||("string"===this.options.to?this.onData(k.buf2binstring(t.shrinkBuf(h.output,
h.next_out))):this.onData(t.shrinkBuf(h.output,h.next_out)))}while((0<h.avail_in||0===h.avail_out)&&1!==g);return 4===f?(g=m.deflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===z):2!==f||(this.onEnd(z),h.avail_out=0,!0)};h.prototype.onData=function(b){this.chunks.push(b)};h.prototype.onEnd=function(b){b===z&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks));this.chunks=[];this.err=b;this.msg=this.strm.msg};f.Deflate=h;f.deflate=q;f.deflateRaw=
function(b,e){return e=e||{},e.raw=!0,q(b,e)};f.gzip=function(b,e){return e=e||{},e.gzip=!0,q(b,e)}},{"./utils/common":62,"./utils/strings":63,"./zlib/deflate":67,"./zlib/messages":72,"./zlib/zstream":74}],61:[function(b,e,f){function h(b){if(!(this instanceof h))return new h(b);var e=this.options=t.assign({chunkSize:16384,windowBits:0,to:""},b||{});e.raw&&0<=e.windowBits&&16>e.windowBits&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15));!(0<=e.windowBits&&16>e.windowBits)||b&&b.windowBits||
(e.windowBits+=32);15<e.windowBits&&48>e.windowBits&&0===(15&e.windowBits)&&(e.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new y;this.strm.avail_out=0;b=m.inflateInit2(this.strm,e.windowBits);if(b!==n.Z_OK)throw Error(g[b]);this.header=new z;m.inflateGetHeader(this.strm,this.header)}function q(b,e){var g=new h(e);if(g.push(b,!0),g.err)throw g.msg;return g.result}var m=b("./zlib/inflate"),t=b("./utils/common"),k=b("./utils/strings"),n=b("./zlib/constants"),g=b("./zlib/messages"),
y=b("./zlib/zstream"),z=b("./zlib/gzheader"),u=Object.prototype.toString;h.prototype.push=function(b,e){var g,f,h,q,y,v,x=this.strm,z=this.options.chunkSize,E=this.options.dictionary,B=!1;if(this.ended)return!1;f=e===~~e?e:!0===e?n.Z_FINISH:n.Z_NO_FLUSH;"string"==typeof b?x.input=k.binstring2buf(b):"[object ArrayBuffer]"===u.call(b)?x.input=new Uint8Array(b):x.input=b;x.next_in=0;x.avail_in=x.input.length;do{if(0===x.avail_out&&(x.output=new t.Buf8(z),x.next_out=0,x.avail_out=z),g=m.inflate(x,n.Z_NO_FLUSH),
g===n.Z_NEED_DICT&&E&&(v="string"==typeof E?k.string2buf(E):"[object ArrayBuffer]"===u.call(E)?new Uint8Array(E):E,g=m.inflateSetDictionary(this.strm,v)),g===n.Z_BUF_ERROR&&!0===B&&(g=n.Z_OK,B=!1),g!==n.Z_STREAM_END&&g!==n.Z_OK)return this.onEnd(g),this.ended=!0,!1;x.next_out&&(0!==x.avail_out&&g!==n.Z_STREAM_END&&(0!==x.avail_in||f!==n.Z_FINISH&&f!==n.Z_SYNC_FLUSH)||("string"===this.options.to?(h=k.utf8border(x.output,x.next_out),q=x.next_out-h,y=k.buf2string(x.output,h),x.next_out=q,x.avail_out=
z-q,q&&t.arraySet(x.output,x.output,h,q,0),this.onData(y)):this.onData(t.shrinkBuf(x.output,x.next_out))));0===x.avail_in&&0===x.avail_out&&(B=!0)}while((0<x.avail_in||0===x.avail_out)&&g!==n.Z_STREAM_END);return g===n.Z_STREAM_END&&(f=n.Z_FINISH),f===n.Z_FINISH?(g=m.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===n.Z_OK):f!==n.Z_SYNC_FLUSH||(this.onEnd(n.Z_OK),x.avail_out=0,!0)};h.prototype.onData=function(b){this.chunks.push(b)};h.prototype.onEnd=function(b){b===n.Z_OK&&("string"===this.options.to?
this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks));this.chunks=[];this.err=b;this.msg=this.strm.msg};f.Inflate=h;f.inflate=q;f.inflateRaw=function(b,e){return e=e||{},e.raw=!0,q(b,e)};f.ungzip=q},{"./utils/common":62,"./utils/strings":63,"./zlib/constants":65,"./zlib/gzheader":68,"./zlib/inflate":70,"./zlib/messages":72,"./zlib/zstream":74}],62:[function(b,e,f){b="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;f.assign=function(b){for(var e=
Array.prototype.slice.call(arguments,1);e.length;){var f=e.shift();if(f){if("object"!=typeof f)throw new TypeError(f+"must be non-object");for(var h in f)f.hasOwnProperty(h)&&(b[h]=f[h])}}return b};f.shrinkBuf=function(b,e){return b.length===e?b:b.subarray?b.subarray(0,e):(b.length=e,b)};var h={arraySet:function(b,e,f,h,g){if(e.subarray&&b.subarray)return void b.set(e.subarray(f,f+h),g);for(var k=0;k<h;k++)b[g+k]=e[f+k]},flattenChunks:function(b){var e,f,h,g,q;e=h=0;for(f=b.length;e<f;e++)h+=b[e].length;
q=new Uint8Array(h);e=h=0;for(f=b.length;e<f;e++)g=b[e],q.set(g,h),h+=g.length;return q}},q={arraySet:function(b,e,f,h,g){for(var k=0;k<h;k++)b[g+k]=e[f+k]},flattenChunks:function(b){return[].concat.apply([],b)}};f.setTyped=function(b){b?(f.Buf8=Uint8Array,f.Buf16=Uint16Array,f.Buf32=Int32Array,f.assign(f,h)):(f.Buf8=Array,f.Buf16=Array,f.Buf32=Array,f.assign(f,q))};f.setTyped(b)},{}],63:[function(b,e,f){function h(b,e){if(65537>e&&(b.subarray&&t||!b.subarray&&m))return String.fromCharCode.apply(null,
q.shrinkBuf(b,e));for(var g="",f=0;f<e;f++)g+=String.fromCharCode(b[f]);return g}var q=b("./common"),m=!0,t=!0;try{String.fromCharCode.apply(null,[0])}catch(n){m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(n){t=!1}var k=new q.Buf8(256);for(b=0;256>b;b++)k[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;k[254]=k[254]=1;f.string2buf=function(b){var e,f,k,h,n,m=b.length,t=0;for(h=0;h<m;h++)f=b.charCodeAt(h),55296===(64512&f)&&h+1<m&&(k=b.charCodeAt(h+1),56320===(64512&k)&&(f=65536+
(f-55296<<10)+(k-56320),h++)),t+=128>f?1:2048>f?2:65536>f?3:4;e=new q.Buf8(t);for(h=n=0;n<t;h++)f=b.charCodeAt(h),55296===(64512&f)&&h+1<m&&(k=b.charCodeAt(h+1),56320===(64512&k)&&(f=65536+(f-55296<<10)+(k-56320),h++)),128>f?e[n++]=f:2048>f?(e[n++]=192|f>>>6,e[n++]=128|63&f):65536>f?(e[n++]=224|f>>>12,e[n++]=128|f>>>6&63,e[n++]=128|63&f):(e[n++]=240|f>>>18,e[n++]=128|f>>>12&63,e[n++]=128|f>>>6&63,e[n++]=128|63&f);return e};f.buf2binstring=function(b){return h(b,b.length)};f.binstring2buf=function(b){for(var e=
new q.Buf8(b.length),f=0,k=e.length;f<k;f++)e[f]=b.charCodeAt(f);return e};f.buf2string=function(b,e){var g,f,n,q,m=e||b.length,t=Array(2*m);for(g=f=0;g<m;)if(n=b[g++],128>n)t[f++]=n;else if(q=k[n],4<q)t[f++]=65533,g+=q-1;else{for(n&=2===q?31:3===q?15:7;1<q&&g<m;)n=n<<6|63&b[g++],q--;1<q?t[f++]=65533:65536>n?t[f++]=n:(n-=65536,t[f++]=55296|n>>10&1023,t[f++]=56320|1023&n)}return h(t,f)};f.utf8border=function(b,e){var g;e=e||b.length;e>b.length&&(e=b.length);for(g=e-1;0<=g&&128===(192&b[g]);)g--;return 0>
g?e:0===g?e:g+k[b[g]]>e?g:e}},{"./common":62}],64:[function(b,e,f){e.exports=function(b,e,f,t){var k=65535&b|0;b=b>>>16&65535|0;for(var h;0!==f;){h=2E3<f?2E3:f;f-=h;do k=k+e[t++]|0,b=b+k|0;while(--h);k%=65521;b%=65521}return k|b<<16|0}},{}],65:[function(b,e,f){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,
Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],66:[function(b,e,f){var h=function(){for(var b,e=[],f=0;256>f;f++){b=f;for(var k=0;8>k;k++)b=1&b?3988292384^b>>>1:b>>>1;e[f]=b}return e}();e.exports=function(b,e,f,k){f=k+f;for(b^=-1;k<f;k++)b=b>>>8^h[255&(b^e[k])];return b^-1}},{}],67:[function(b,e,f){function h(b,e){return b.msg=E[e],e}function q(b){for(var e=b.length;0<=--e;)b[e]=0}function m(b){var e=
b.state,g=e.pending;g>b.avail_out&&(g=b.avail_out);0!==g&&(J.arraySet(b.output,e.pending_buf,e.pending_out,g,b.next_out),b.next_out+=g,e.pending_out+=g,b.total_out+=g,b.avail_out-=g,e.pending-=g,0===e.pending&&(e.pending_out=0))}function t(b,e){w._tr_flush_block(b,0<=b.block_start?b.block_start:-1,b.strstart-b.block_start,e);b.block_start=b.strstart;m(b.strm)}function k(b,e){b.pending_buf[b.pending++]=e}function n(b,e){b.pending_buf[b.pending++]=e>>>8&255;b.pending_buf[b.pending++]=255&e}function g(b,
e){var g,f,k=b.max_chain_length,h=b.strstart,n=b.prev_length,A=b.nice_match,q=b.strstart>b.w_size-V?b.strstart-(b.w_size-V):0,m=b.window,I=b.w_mask,u=b.prev,p=b.strstart+S,E=m[h+n-1],y=m[h+n];b.prev_length>=b.good_match&&(k>>=2);A>b.lookahead&&(A=b.lookahead);do if(g=e,m[g+n]===y&&m[g+n-1]===E&&m[g]===m[h]&&m[++g]===m[h+1]){h+=2;for(g++;m[++h]===m[++g]&&m[++h]===m[++g]&&m[++h]===m[++g]&&m[++h]===m[++g]&&m[++h]===m[++g]&&m[++h]===m[++g]&&m[++h]===m[++g]&&m[++h]===m[++g]&&h<p;);if(f=S-(p-h),h=p-S,f>
n){if(b.match_start=e,n=f,f>=A)break;E=m[h+n-1];y=m[h+n]}}while((e=u[e&I])>q&&0!==--k);return n<=b.lookahead?n:b.lookahead}function y(b){var e,g,f,h,k=b.w_size;do{if(h=b.window_size-b.lookahead-b.strstart,b.strstart>=k+(k-V)){J.arraySet(b.window,b.window,k,k,0);b.match_start-=k;b.strstart-=k;b.block_start-=k;e=g=b.hash_size;do f=b.head[--e],b.head[e]=f>=k?f-k:0;while(--g);e=g=k;do f=b.prev[--e],b.prev[e]=f>=k?f-k:0;while(--g);h+=k}if(0===b.strm.avail_in)break;e=b.strm;f=b.window;var n=b.strstart+
b.lookahead,A=e.avail_in;if(g=(A>h&&(A=h),0===A?0:(e.avail_in-=A,J.arraySet(f,e.input,e.next_in,A,n),1===e.state.wrap?e.adler=R(e.adler,f,A,n):2===e.state.wrap&&(e.adler=M(e.adler,f,A,n)),e.next_in+=A,e.total_in+=A,A)),b.lookahead+=g,b.lookahead+b.insert>=K)for(h=b.strstart-b.insert,b.ins_h=b.window[h],b.ins_h=(b.ins_h<<b.hash_shift^b.window[h+1])&b.hash_mask;b.insert&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[h+K-1])&b.hash_mask,b.prev[h&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=h,h++,b.insert--,
!(b.lookahead+b.insert<K)););}while(b.lookahead<V&&0!==b.strm.avail_in)}function z(b,e){for(var f,h;;){if(b.lookahead<V){if(y(b),b.lookahead<V&&e===B)return W;if(0===b.lookahead)break}if(f=0,b.lookahead>=K&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+K-1])&b.hash_mask,f=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),0!==f&&b.strstart-f<=b.w_size-V&&(b.match_length=g(b,f)),b.match_length>=K)if(h=w._tr_tally(b,b.strstart-b.match_start,b.match_length-K),b.lookahead-=
b.match_length,b.match_length<=b.max_lazy_match&&b.lookahead>=K){b.match_length--;do b.strstart++,b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+K-1])&b.hash_mask,f=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart;while(0!==--b.match_length);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+1])&b.hash_mask;else h=w._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(h&&
(t(b,!1),0===b.strm.avail_out))return W}return b.insert=b.strstart<K-1?b.strstart:K-1,e===A?(t(b,!0),0===b.strm.avail_out?ga:Z):b.last_lit&&(t(b,!1),0===b.strm.avail_out)?W:da}function u(b,e){for(var f,h,k;;){if(b.lookahead<V){if(y(b),b.lookahead<V&&e===B)return W;if(0===b.lookahead)break}if(f=0,b.lookahead>=K&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+K-1])&b.hash_mask,f=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),b.prev_length=b.match_length,b.prev_match=b.match_start,
b.match_length=K-1,0!==f&&b.prev_length<b.max_lazy_match&&b.strstart-f<=b.w_size-V&&(b.match_length=g(b,f),5>=b.match_length&&(b.strategy===ha||b.match_length===K&&4096<b.strstart-b.match_start)&&(b.match_length=K-1)),b.prev_length>=K&&b.match_length<=b.prev_length){k=b.strstart+b.lookahead-K;h=w._tr_tally(b,b.strstart-1-b.prev_match,b.prev_length-K);b.lookahead-=b.prev_length-1;b.prev_length-=2;do++b.strstart<=k&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+K-1])&b.hash_mask,f=b.prev[b.strstart&
b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart);while(0!==--b.prev_length);if(b.match_available=0,b.match_length=K-1,b.strstart++,h&&(t(b,!1),0===b.strm.avail_out))return W}else if(b.match_available){if(h=w._tr_tally(b,0,b.window[b.strstart-1]),h&&t(b,!1),b.strstart++,b.lookahead--,0===b.strm.avail_out)return W}else b.match_available=1,b.strstart++,b.lookahead--}return b.match_available&&(w._tr_tally(b,0,b.window[b.strstart-1]),b.match_available=0),b.insert=b.strstart<K-1?b.strstart:K-1,e===
A?(t(b,!0),0===b.strm.avail_out?ga:Z):b.last_lit&&(t(b,!1),0===b.strm.avail_out)?W:da}function v(b,e,g,f,h){this.good_length=b;this.max_lazy=e;this.nice_length=g;this.max_chain=f;this.func=h}function x(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=ba;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=
this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new J.Buf16(2*na);this.dyn_dtree=new J.Buf16(2*(2*Y+1));this.bl_tree=new J.Buf16(2*(2*N+1));q(this.dyn_ltree);q(this.dyn_dtree);q(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new J.Buf16(T+
1);this.heap=new J.Buf16(2*ta+1);q(this.heap);this.heap_max=this.heap_len=0;this.depth=new J.Buf16(2*ta+1);q(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function C(b){var e;return b&&b.state?(b.total_in=b.total_out=0,b.data_type=la,e=b.state,e.pending=0,e.pending_out=0,0>e.wrap&&(e.wrap=-e.wrap),e.status=e.wrap?ia:ja,b.adler=2===e.wrap?0:1,e.last_flush=B,w._tr_init(e),P):h(b,O)}function F(b){var e=
C(b);e===P&&(b=b.state,b.window_size=2*b.w_size,q(b.head),b.max_lazy_match=H[b.level].max_lazy,b.good_match=H[b.level].good_length,b.nice_match=H[b.level].nice_length,b.max_chain_length=H[b.level].max_chain,b.strstart=0,b.block_start=0,b.lookahead=0,b.insert=0,b.match_length=b.prev_length=K-1,b.match_available=0,b.ins_h=0);return e}function D(b,e,g,f,k,n){if(!b)return O;var A=1;if(e===Q&&(e=6),0>f?(A=0,f=-f):15<f&&(A=2,f-=16),1>k||k>X||g!==ba||8>f||15<f||0>e||9<e||0>n||n>ca)return h(b,O);8===f&&(f=
9);var m=new x;return b.state=m,m.strm=b,m.wrap=A,m.gzhead=null,m.w_bits=f,m.w_size=1<<m.w_bits,m.w_mask=m.w_size-1,m.hash_bits=k+7,m.hash_size=1<<m.hash_bits,m.hash_mask=m.hash_size-1,m.hash_shift=~~((m.hash_bits+K-1)/K),m.window=new J.Buf8(2*m.w_size),m.head=new J.Buf16(m.hash_size),m.prev=new J.Buf16(m.w_size),m.lit_bufsize=1<<k+6,m.pending_buf_size=4*m.lit_bufsize,m.pending_buf=new J.Buf8(m.pending_buf_size),m.d_buf=1*m.lit_bufsize,m.l_buf=3*m.lit_bufsize,m.level=e,m.strategy=n,m.method=g,F(b)}
var H,J=b("../utils/common"),w=b("./trees"),R=b("./adler32"),M=b("./crc32"),E=b("./messages"),B=0,A=4,P=0,O=-2,Q=-1,ha=1,ca=4,la=2,ba=8,X=9,ta=286,Y=30,N=19,na=2*ta+1,T=15,K=3,S=258,V=S+K+1,ia=42,ja=113,W=1,da=2,ga=3,Z=4;H=[new v(0,0,0,0,function(b,e){var g=65535;for(g>b.pending_buf_size-5&&(g=b.pending_buf_size-5);;){if(1>=b.lookahead){if(y(b),0===b.lookahead&&e===B)return W;if(0===b.lookahead)break}b.strstart+=b.lookahead;b.lookahead=0;var f=b.block_start+g;if((0===b.strstart||b.strstart>=f)&&(b.lookahead=
b.strstart-f,b.strstart=f,t(b,!1),0===b.strm.avail_out)||b.strstart-b.block_start>=b.w_size-V&&(t(b,!1),0===b.strm.avail_out))return W}return b.insert=0,e===A?(t(b,!0),0===b.strm.avail_out?ga:Z):(b.strstart>b.block_start&&t(b,!1),W)}),new v(4,4,8,4,z),new v(4,5,16,8,z),new v(4,6,32,32,z),new v(4,4,16,16,u),new v(8,16,32,32,u),new v(8,16,128,128,u),new v(8,32,128,256,u),new v(32,128,258,1024,u),new v(32,258,258,4096,u)];f.deflateInit=function(b,e){return D(b,e,ba,15,8,0)};f.deflateInit2=D;f.deflateReset=
F;f.deflateResetKeep=C;f.deflateSetHeader=function(b,e){return b&&b.state?2!==b.state.wrap?O:(b.state.gzhead=e,P):O};f.deflate=function(b,e){var g,f,u,E;if(!b||!b.state||5<e||0>e)return b?h(b,O):O;if(f=b.state,!b.output||!b.input&&0!==b.avail_in||666===f.status&&e!==A)return h(b,0===b.avail_out?-5:O);if(f.strm=b,g=f.last_flush,f.last_flush=e,f.status===ia)2===f.wrap?(b.adler=0,k(f,31),k(f,139),k(f,8),f.gzhead?(k(f,(f.gzhead.text?1:0)+(f.gzhead.hcrc?2:0)+(f.gzhead.extra?4:0)+(f.gzhead.name?8:0)+(f.gzhead.comment?
16:0)),k(f,255&f.gzhead.time),k(f,f.gzhead.time>>8&255),k(f,f.gzhead.time>>16&255),k(f,f.gzhead.time>>24&255),k(f,9===f.level?2:2<=f.strategy||2>f.level?4:0),k(f,255&f.gzhead.os),f.gzhead.extra&&f.gzhead.extra.length&&(k(f,255&f.gzhead.extra.length),k(f,f.gzhead.extra.length>>8&255)),f.gzhead.hcrc&&(b.adler=M(b.adler,f.pending_buf,f.pending,0)),f.gzindex=0,f.status=69):(k(f,0),k(f,0),k(f,0),k(f,0),k(f,0),k(f,9===f.level?2:2<=f.strategy||2>f.level?4:0),k(f,3),f.status=ja)):(u=ba+(f.w_bits-8<<4)<<8,
u|=(2<=f.strategy||2>f.level?0:6>f.level?1:6===f.level?2:3)<<6,0!==f.strstart&&(u|=32),f.status=ja,n(f,u+(31-u%31)),0!==f.strstart&&(n(f,b.adler>>>16),n(f,65535&b.adler)),b.adler=1);if(69===f.status)if(f.gzhead.extra){for(u=f.pending;f.gzindex<(65535&f.gzhead.extra.length)&&(f.pending!==f.pending_buf_size||(f.gzhead.hcrc&&f.pending>u&&(b.adler=M(b.adler,f.pending_buf,f.pending-u,u)),m(b),u=f.pending,f.pending!==f.pending_buf_size));)k(f,255&f.gzhead.extra[f.gzindex]),f.gzindex++;f.gzhead.hcrc&&f.pending>
u&&(b.adler=M(b.adler,f.pending_buf,f.pending-u,u));f.gzindex===f.gzhead.extra.length&&(f.gzindex=0,f.status=73)}else f.status=73;if(73===f.status)if(f.gzhead.name){u=f.pending;do{if(f.pending===f.pending_buf_size&&(f.gzhead.hcrc&&f.pending>u&&(b.adler=M(b.adler,f.pending_buf,f.pending-u,u)),m(b),u=f.pending,f.pending===f.pending_buf_size)){E=1;break}E=f.gzindex<f.gzhead.name.length?255&f.gzhead.name.charCodeAt(f.gzindex++):0;k(f,E)}while(0!==E);f.gzhead.hcrc&&f.pending>u&&(b.adler=M(b.adler,f.pending_buf,
f.pending-u,u));0===E&&(f.gzindex=0,f.status=91)}else f.status=91;if(91===f.status)if(f.gzhead.comment){u=f.pending;do{if(f.pending===f.pending_buf_size&&(f.gzhead.hcrc&&f.pending>u&&(b.adler=M(b.adler,f.pending_buf,f.pending-u,u)),m(b),u=f.pending,f.pending===f.pending_buf_size)){E=1;break}E=f.gzindex<f.gzhead.comment.length?255&f.gzhead.comment.charCodeAt(f.gzindex++):0;k(f,E)}while(0!==E);f.gzhead.hcrc&&f.pending>u&&(b.adler=M(b.adler,f.pending_buf,f.pending-u,u));0===E&&(f.status=103)}else f.status=
103;if(103===f.status&&(f.gzhead.hcrc?(f.pending+2>f.pending_buf_size&&m(b),f.pending+2<=f.pending_buf_size&&(k(f,255&b.adler),k(f,b.adler>>8&255),b.adler=0,f.status=ja)):f.status=ja),0!==f.pending){if(m(b),0===b.avail_out)return f.last_flush=-1,P}else if(0===b.avail_in&&(e<<1)-(4<e?9:0)<=(g<<1)-(4<g?9:0)&&e!==A)return h(b,-5);if(666===f.status&&0!==b.avail_in)return h(b,-5);if(0!==b.avail_in||0!==f.lookahead||e!==B&&666!==f.status){var v;if(2===f.strategy)a:{for(var x;;){if(0===f.lookahead&&(y(f),
0===f.lookahead)){if(e===B){v=W;break a}break}if(f.match_length=0,x=w._tr_tally(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++,x&&(t(f,!1),0===f.strm.avail_out)){v=W;break a}}v=(f.insert=0,e===A?(t(f,!0),0===f.strm.avail_out?ga:Z):f.last_lit&&(t(f,!1),0===f.strm.avail_out)?W:da)}else if(3===f.strategy)a:{var z,C;for(x=f.window;;){if(f.lookahead<=S){if(y(f),f.lookahead<=S&&e===B){v=W;break a}if(0===f.lookahead)break}if(f.match_length=0,f.lookahead>=K&&0<f.strstart&&(C=f.strstart-1,z=x[C],z===
x[++C]&&z===x[++C]&&z===x[++C])){for(g=f.strstart+S;z===x[++C]&&z===x[++C]&&z===x[++C]&&z===x[++C]&&z===x[++C]&&z===x[++C]&&z===x[++C]&&z===x[++C]&&C<g;);f.match_length=S-(g-C);f.match_length>f.lookahead&&(f.match_length=f.lookahead)}if(f.match_length>=K?(v=w._tr_tally(f,1,f.match_length-K),f.lookahead-=f.match_length,f.strstart+=f.match_length,f.match_length=0):(v=w._tr_tally(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++),v&&(t(f,!1),0===f.strm.avail_out)){v=W;break a}}v=(f.insert=0,e===A?
(t(f,!0),0===f.strm.avail_out?ga:Z):f.last_lit&&(t(f,!1),0===f.strm.avail_out)?W:da)}else v=H[f.level].func(f,e);if(v!==ga&&v!==Z||(f.status=666),v===W||v===ga)return 0===b.avail_out&&(f.last_flush=-1),P;if(v===da&&(1===e?w._tr_align(f):5!==e&&(w._tr_stored_block(f,0,0,!1),3===e&&(q(f.head),0===f.lookahead&&(f.strstart=0,f.block_start=0,f.insert=0))),m(b),0===b.avail_out))return f.last_flush=-1,P}return e!==A?P:0>=f.wrap?1:(2===f.wrap?(k(f,255&b.adler),k(f,b.adler>>8&255),k(f,b.adler>>16&255),k(f,
b.adler>>24&255),k(f,255&b.total_in),k(f,b.total_in>>8&255),k(f,b.total_in>>16&255),k(f,b.total_in>>24&255)):(n(f,b.adler>>>16),n(f,65535&b.adler)),m(b),0<f.wrap&&(f.wrap=-f.wrap),0!==f.pending?P:1)};f.deflateEnd=function(b){var e;return b&&b.state?(e=b.state.status,e!==ia&&69!==e&&73!==e&&91!==e&&103!==e&&e!==ja&&666!==e?h(b,O):(b.state=null,e===ja?h(b,-3):P)):O};f.deflateSetDictionary=function(b,e){var f,g,h,k,n,m,A;g=e.length;if(!b||!b.state||(f=b.state,k=f.wrap,2===k||1===k&&f.status!==ia||f.lookahead))return O;
1===k&&(b.adler=R(b.adler,e,g,0));f.wrap=0;g>=f.w_size&&(0===k&&(q(f.head),f.strstart=0,f.block_start=0,f.insert=0),n=new J.Buf8(f.w_size),J.arraySet(n,e,g-f.w_size,f.w_size,0),e=n,g=f.w_size);n=b.avail_in;m=b.next_in;A=b.input;b.avail_in=g;b.next_in=0;b.input=e;for(y(f);f.lookahead>=K;){g=f.strstart;h=f.lookahead-(K-1);do f.ins_h=(f.ins_h<<f.hash_shift^f.window[g+K-1])&f.hash_mask,f.prev[g&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=g,g++;while(--h);f.strstart=g;f.lookahead=K-1;y(f)}return f.strstart+=
f.lookahead,f.block_start=f.strstart,f.insert=f.lookahead,f.lookahead=0,f.match_length=f.prev_length=K-1,f.match_available=0,b.next_in=m,b.input=A,b.avail_in=n,f.wrap=k,P};f.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./messages":72,"./trees":73}],68:[function(b,e,f){e.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1}},{}],69:[function(b,e,f){e.exports=
function(b,e){var f,h,k,n,g,q,z,u,v,x,C,F,D,H,J,w,R,M,E,B,A,P,O,Q;f=b.state;h=b.next_in;O=b.input;k=h+(b.avail_in-5);n=b.next_out;Q=b.output;g=n-(e-b.avail_out);q=n+(b.avail_out-257);z=f.dmax;u=f.wsize;v=f.whave;x=f.wnext;C=f.window;F=f.hold;D=f.bits;H=f.lencode;J=f.distcode;w=(1<<f.lenbits)-1;R=(1<<f.distbits)-1;a:do b:for(15>D&&(F+=O[h++]<<D,D+=8,F+=O[h++]<<D,D+=8),M=H[F&w];;){if(E=M>>>24,F>>>=E,D-=E,E=M>>>16&255,0===E)Q[n++]=65535&M;else{if(!(16&E)){if(0===(64&E)){M=H[(65535&M)+(F&(1<<E)-1)];continue b}if(32&
E){f.mode=12;break a}b.msg="invalid literal/length code";f.mode=30;break a}B=65535&M;(E&=15)&&(D<E&&(F+=O[h++]<<D,D+=8),B+=F&(1<<E)-1,F>>>=E,D-=E);15>D&&(F+=O[h++]<<D,D+=8,F+=O[h++]<<D,D+=8);M=J[F&R];c:for(;;){if(E=M>>>24,F>>>=E,D-=E,E=M>>>16&255,!(16&E)){if(0===(64&E)){M=J[(65535&M)+(F&(1<<E)-1)];continue c}b.msg="invalid distance code";f.mode=30;break a}if(A=65535&M,E&=15,D<E&&(F+=O[h++]<<D,D+=8,D<E&&(F+=O[h++]<<D,D+=8)),A+=F&(1<<E)-1,A>z){b.msg="invalid distance too far back";f.mode=30;break a}if(F>>>=
E,D-=E,E=n-g,A>E){if(E=A-E,E>v&&f.sane){b.msg="invalid distance too far back";f.mode=30;break a}if(M=0,P=C,0===x){if(M+=u-E,E<B){B-=E;do Q[n++]=C[M++];while(--E);M=n-A;P=Q}}else if(x<E){if(M+=u+x-E,E-=x,E<B){B-=E;do Q[n++]=C[M++];while(--E);if(M=0,x<B){E=x;B-=E;do Q[n++]=C[M++];while(--E);M=n-A;P=Q}}}else if(M+=x-E,E<B){B-=E;do Q[n++]=C[M++];while(--E);M=n-A;P=Q}for(;2<B;)Q[n++]=P[M++],Q[n++]=P[M++],Q[n++]=P[M++],B-=3;B&&(Q[n++]=P[M++],1<B&&(Q[n++]=P[M++]))}else{M=n-A;do Q[n++]=Q[M++],Q[n++]=Q[M++],
Q[n++]=Q[M++],B-=3;while(2<B);B&&(Q[n++]=Q[M++],1<B&&(Q[n++]=Q[M++]))}break}}break}while(h<k&&n<q);B=D>>3;h-=B;D-=B<<3;b.next_in=h;b.next_out=n;b.avail_in=h<k?5+(k-h):5-(h-k);b.avail_out=n<q?257+(q-n):257-(n-q);f.hold=F&(1<<D)-1;f.bits=D}},{}],70:[function(b,e,f){function h(b){return(b>>>24&255)+(b>>>8&65280)+((65280&b)<<8)+((255&b)<<24)}function q(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=
0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new u.Buf16(320);this.work=new u.Buf16(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function m(b){var e;return b&&b.state?(e=b.state,b.total_in=b.total_out=e.total=0,b.msg="",e.wrap&&(b.adler=1&e.wrap),e.mode=J,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,
e.lencode=e.lendyn=new u.Buf32(w),e.distcode=e.distdyn=new u.Buf32(R),e.sane=1,e.back=-1,D):H}function t(b){var e;return b&&b.state?(e=b.state,e.wsize=0,e.whave=0,e.wnext=0,m(b)):H}function k(b,e){var f,g;return b&&b.state?(g=b.state,0>e?(f=0,e=-e):(f=(e>>4)+1,48>e&&(e&=15)),e&&(8>e||15<e)?H:(null!==g.window&&g.wbits!==e&&(g.window=null),g.wrap=f,g.wbits=e,t(b))):H}function n(b,e){var f,g;return b?(g=new q,b.state=g,g.window=null,f=k(b,e),f!==D&&(b.state=null),f):H}function g(b,e,f,g){var k;b=b.state;
return null===b.window&&(b.wsize=1<<b.wbits,b.wnext=0,b.whave=0,b.window=new u.Buf8(b.wsize)),g>=b.wsize?(u.arraySet(b.window,e,f-b.wsize,b.wsize,0),b.wnext=0,b.whave=b.wsize):(k=b.wsize-b.wnext,k>g&&(k=g),u.arraySet(b.window,e,f-g,k,b.wnext),g-=k,g?(u.arraySet(b.window,e,f-g,g,0),b.wnext=g,b.whave=b.wsize):(b.wnext+=k,b.wnext===b.wsize&&(b.wnext=0),b.whave<b.wsize&&(b.whave+=k))),0}var y,z,u=b("../utils/common"),v=b("./adler32"),x=b("./crc32"),C=b("./inffast"),F=b("./inftrees"),D=0,H=-2,J=1,w=852,
R=592,M=!0;f.inflateReset=t;f.inflateReset2=k;f.inflateResetKeep=m;f.inflateInit=function(b){return n(b,15)};f.inflateInit2=n;f.inflate=function(b,e){var f,k,n,m,q,t,E,B,w,R,Y,N,na,T,K,S,V,ia,ja,W,da,ga,Z=0,I=new u.Buf8(4),ua=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!b||!b.state||!b.output||!b.input&&0!==b.avail_in)return H;f=b.state;12===f.mode&&(f.mode=13);q=b.next_out;n=b.output;E=b.avail_out;m=b.next_in;k=b.input;t=b.avail_in;B=f.hold;w=f.bits;R=t;Y=E;da=D;a:for(;;)switch(f.mode){case J:if(0===
f.wrap){f.mode=13;break}for(;16>w;){if(0===t)break a;t--;B+=k[m++]<<w;w+=8}if(2&f.wrap&&35615===B){f.check=0;I[0]=255&B;I[1]=B>>>8&255;f.check=x(f.check,I,2,0);w=B=0;f.mode=2;break}if(f.flags=0,f.head&&(f.head.done=!1),!(1&f.wrap)||(((255&B)<<8)+(B>>8))%31){b.msg="incorrect header check";f.mode=30;break}if(8!==(15&B)){b.msg="unknown compression method";f.mode=30;break}if(B>>>=4,w-=4,W=(15&B)+8,0===f.wbits)f.wbits=W;else if(W>f.wbits){b.msg="invalid window size";f.mode=30;break}f.dmax=1<<W;b.adler=
f.check=1;f.mode=512&B?10:12;w=B=0;break;case 2:for(;16>w;){if(0===t)break a;t--;B+=k[m++]<<w;w+=8}if(f.flags=B,8!==(255&f.flags)){b.msg="unknown compression method";f.mode=30;break}if(57344&f.flags){b.msg="unknown header flags set";f.mode=30;break}f.head&&(f.head.text=B>>8&1);512&f.flags&&(I[0]=255&B,I[1]=B>>>8&255,f.check=x(f.check,I,2,0));w=B=0;f.mode=3;case 3:for(;32>w;){if(0===t)break a;t--;B+=k[m++]<<w;w+=8}f.head&&(f.head.time=B);512&f.flags&&(I[0]=255&B,I[1]=B>>>8&255,I[2]=B>>>16&255,I[3]=
B>>>24&255,f.check=x(f.check,I,4,0));w=B=0;f.mode=4;case 4:for(;16>w;){if(0===t)break a;t--;B+=k[m++]<<w;w+=8}f.head&&(f.head.xflags=255&B,f.head.os=B>>8);512&f.flags&&(I[0]=255&B,I[1]=B>>>8&255,f.check=x(f.check,I,2,0));w=B=0;f.mode=5;case 5:if(1024&f.flags){for(;16>w;){if(0===t)break a;t--;B+=k[m++]<<w;w+=8}f.length=B;f.head&&(f.head.extra_len=B);512&f.flags&&(I[0]=255&B,I[1]=B>>>8&255,f.check=x(f.check,I,2,0));w=B=0}else f.head&&(f.head.extra=null);f.mode=6;case 6:if(1024&f.flags&&(N=f.length,
N>t&&(N=t),N&&(f.head&&(W=f.head.extra_len-f.length,f.head.extra||(f.head.extra=Array(f.head.extra_len)),u.arraySet(f.head.extra,k,m,N,W)),512&f.flags&&(f.check=x(f.check,k,N,m)),t-=N,m+=N,f.length-=N),f.length))break a;f.length=0;f.mode=7;case 7:if(2048&f.flags){if(0===t)break a;N=0;do W=k[m+N++],f.head&&W&&65536>f.length&&(f.head.name+=String.fromCharCode(W));while(W&&N<t);if(512&f.flags&&(f.check=x(f.check,k,N,m)),t-=N,m+=N,W)break a}else f.head&&(f.head.name=null);f.length=0;f.mode=8;case 8:if(4096&
f.flags){if(0===t)break a;N=0;do W=k[m+N++],f.head&&W&&65536>f.length&&(f.head.comment+=String.fromCharCode(W));while(W&&N<t);if(512&f.flags&&(f.check=x(f.check,k,N,m)),t-=N,m+=N,W)break a}else f.head&&(f.head.comment=null);f.mode=9;case 9:if(512&f.flags){for(;16>w;){if(0===t)break a;t--;B+=k[m++]<<w;w+=8}if(B!==(65535&f.check)){b.msg="header crc mismatch";f.mode=30;break}w=B=0}f.head&&(f.head.hcrc=f.flags>>9&1,f.head.done=!0);b.adler=f.check=0;f.mode=12;break;case 10:for(;32>w;){if(0===t)break a;
t--;B+=k[m++]<<w;w+=8}b.adler=f.check=h(B);w=B=0;f.mode=11;case 11:if(0===f.havedict)return b.next_out=q,b.avail_out=E,b.next_in=m,b.avail_in=t,f.hold=B,f.bits=w,2;b.adler=f.check=1;f.mode=12;case 12:if(5===e||6===e)break a;case 13:if(f.last){B>>>=7&w;w-=7&w;f.mode=27;break}for(;3>w;){if(0===t)break a;t--;B+=k[m++]<<w;w+=8}switch(f.last=1&B,B>>>=1,--w,3&B){case 0:f.mode=14;break;case 1:T=f;if(M){y=new u.Buf32(512);z=new u.Buf32(32);for(S=0;144>S;)T.lens[S++]=8;for(;256>S;)T.lens[S++]=9;for(;280>S;)T.lens[S++]=
7;for(;288>S;)T.lens[S++]=8;F(1,T.lens,0,288,y,0,T.work,{bits:9});for(S=0;32>S;)T.lens[S++]=5;F(2,T.lens,0,32,z,0,T.work,{bits:5});M=!1}T.lencode=y;T.lenbits=9;T.distcode=z;T.distbits=5;if(f.mode=20,6===e){B>>>=2;w-=2;break a}break;case 2:f.mode=17;break;case 3:b.msg="invalid block type",f.mode=30}B>>>=2;w-=2;break;case 14:B>>>=7&w;for(w-=7&w;32>w;){if(0===t)break a;t--;B+=k[m++]<<w;w+=8}if((65535&B)!==(B>>>16^65535)){b.msg="invalid stored block lengths";f.mode=30;break}if(f.length=65535&B,B=0,w=
0,f.mode=15,6===e)break a;case 15:f.mode=16;case 16:if(N=f.length){if(N>t&&(N=t),N>E&&(N=E),0===N)break a;u.arraySet(n,k,m,N,q);t-=N;m+=N;E-=N;q+=N;f.length-=N;break}f.mode=12;break;case 17:for(;14>w;){if(0===t)break a;t--;B+=k[m++]<<w;w+=8}if(f.nlen=(31&B)+257,B>>>=5,w-=5,f.ndist=(31&B)+1,B>>>=5,w-=5,f.ncode=(15&B)+4,B>>>=4,w-=4,286<f.nlen||30<f.ndist){b.msg="too many length or distance symbols";f.mode=30;break}f.have=0;f.mode=18;case 18:for(;f.have<f.ncode;){for(;3>w;){if(0===t)break a;t--;B+=k[m++]<<
w;w+=8}f.lens[ua[f.have++]]=7&B;B>>>=3;w-=3}for(;19>f.have;)f.lens[ua[f.have++]]=0;if(f.lencode=f.lendyn,f.lenbits=7,ga={bits:f.lenbits},da=F(0,f.lens,0,19,f.lencode,0,f.work,ga),f.lenbits=ga.bits,da){b.msg="invalid code lengths set";f.mode=30;break}f.have=0;f.mode=19;case 19:for(;f.have<f.nlen+f.ndist;){for(;Z=f.lencode[B&(1<<f.lenbits)-1],K=Z>>>24,S=65535&Z,!(K<=w);){if(0===t)break a;t--;B+=k[m++]<<w;w+=8}if(16>S)B>>>=K,w-=K,f.lens[f.have++]=S;else{if(16===S){for(T=K+2;w<T;){if(0===t)break a;t--;
B+=k[m++]<<w;w+=8}if(B>>>=K,w-=K,0===f.have){b.msg="invalid bit length repeat";f.mode=30;break}W=f.lens[f.have-1];N=3+(3&B);B>>>=2;w-=2}else if(17===S){for(T=K+3;w<T;){if(0===t)break a;t--;B+=k[m++]<<w;w+=8}B>>>=K;w-=K;W=0;N=3+(7&B);B>>>=3;w-=3}else{for(T=K+7;w<T;){if(0===t)break a;t--;B+=k[m++]<<w;w+=8}B>>>=K;w-=K;W=0;N=11+(127&B);B>>>=7;w-=7}if(f.have+N>f.nlen+f.ndist){b.msg="invalid bit length repeat";f.mode=30;break}for(;N--;)f.lens[f.have++]=W}}if(30===f.mode)break;if(0===f.lens[256]){b.msg=
"invalid code -- missing end-of-block";f.mode=30;break}if(f.lenbits=9,ga={bits:f.lenbits},da=F(1,f.lens,0,f.nlen,f.lencode,0,f.work,ga),f.lenbits=ga.bits,da){b.msg="invalid literal/lengths set";f.mode=30;break}if(f.distbits=6,f.distcode=f.distdyn,ga={bits:f.distbits},da=F(2,f.lens,f.nlen,f.ndist,f.distcode,0,f.work,ga),f.distbits=ga.bits,da){b.msg="invalid distances set";f.mode=30;break}if(f.mode=20,6===e)break a;case 20:f.mode=21;case 21:if(6<=t&&258<=E){b.next_out=q;b.avail_out=E;b.next_in=m;b.avail_in=
t;f.hold=B;f.bits=w;C(b,Y);q=b.next_out;n=b.output;E=b.avail_out;m=b.next_in;k=b.input;t=b.avail_in;B=f.hold;w=f.bits;12===f.mode&&(f.back=-1);break}for(f.back=0;Z=f.lencode[B&(1<<f.lenbits)-1],K=Z>>>24,T=Z>>>16&255,S=65535&Z,!(K<=w);){if(0===t)break a;t--;B+=k[m++]<<w;w+=8}if(T&&0===(240&T)){V=K;ia=T;for(ja=S;Z=f.lencode[ja+((B&(1<<V+ia)-1)>>V)],K=Z>>>24,T=Z>>>16&255,S=65535&Z,!(V+K<=w);){if(0===t)break a;t--;B+=k[m++]<<w;w+=8}B>>>=V;w-=V;f.back+=V}if(B>>>=K,w-=K,f.back+=K,f.length=S,0===T){f.mode=
26;break}if(32&T){f.back=-1;f.mode=12;break}if(64&T){b.msg="invalid literal/length code";f.mode=30;break}f.extra=15&T;f.mode=22;case 22:if(f.extra){for(T=f.extra;w<T;){if(0===t)break a;t--;B+=k[m++]<<w;w+=8}f.length+=B&(1<<f.extra)-1;B>>>=f.extra;w-=f.extra;f.back+=f.extra}f.was=f.length;f.mode=23;case 23:for(;Z=f.distcode[B&(1<<f.distbits)-1],K=Z>>>24,T=Z>>>16&255,S=65535&Z,!(K<=w);){if(0===t)break a;t--;B+=k[m++]<<w;w+=8}if(0===(240&T)){V=K;ia=T;for(ja=S;Z=f.distcode[ja+((B&(1<<V+ia)-1)>>V)],K=
Z>>>24,T=Z>>>16&255,S=65535&Z,!(V+K<=w);){if(0===t)break a;t--;B+=k[m++]<<w;w+=8}B>>>=V;w-=V;f.back+=V}if(B>>>=K,w-=K,f.back+=K,64&T){b.msg="invalid distance code";f.mode=30;break}f.offset=S;f.extra=15&T;f.mode=24;case 24:if(f.extra){for(T=f.extra;w<T;){if(0===t)break a;t--;B+=k[m++]<<w;w+=8}f.offset+=B&(1<<f.extra)-1;B>>>=f.extra;w-=f.extra;f.back+=f.extra}if(f.offset>f.dmax){b.msg="invalid distance too far back";f.mode=30;break}f.mode=25;case 25:if(0===E)break a;if(N=Y-E,f.offset>N){if(N=f.offset-
N,N>f.whave&&f.sane){b.msg="invalid distance too far back";f.mode=30;break}N>f.wnext?(N-=f.wnext,na=f.wsize-N):na=f.wnext-N;N>f.length&&(N=f.length);T=f.window}else T=n,na=q-f.offset,N=f.length;N>E&&(N=E);E-=N;f.length-=N;do n[q++]=T[na++];while(--N);0===f.length&&(f.mode=21);break;case 26:if(0===E)break a;n[q++]=f.length;E--;f.mode=21;break;case 27:if(f.wrap){for(;32>w;){if(0===t)break a;t--;B|=k[m++]<<w;w+=8}if(Y-=E,b.total_out+=Y,f.total+=Y,Y&&(b.adler=f.check=f.flags?x(f.check,n,Y,q-Y):v(f.check,
n,Y,q-Y)),Y=E,(f.flags?B:h(B))!==f.check){b.msg="incorrect data check";f.mode=30;break}w=B=0}f.mode=28;case 28:if(f.wrap&&f.flags){for(;32>w;){if(0===t)break a;t--;B+=k[m++]<<w;w+=8}if(B!==(4294967295&f.total)){b.msg="incorrect length check";f.mode=30;break}w=B=0}f.mode=29;case 29:da=1;break a;case 30:da=-3;break a;case 31:return-4;default:return H}return b.next_out=q,b.avail_out=E,b.next_in=m,b.avail_in=t,f.hold=B,f.bits=w,(f.wsize||Y!==b.avail_out&&30>f.mode&&(27>f.mode||4!==e))&&g(b,b.output,b.next_out,
Y-b.avail_out)?(f.mode=31,-4):(R-=b.avail_in,Y-=b.avail_out,b.total_in+=R,b.total_out+=Y,f.total+=Y,f.wrap&&Y&&(b.adler=f.check=f.flags?x(f.check,n,Y,b.next_out-Y):v(f.check,n,Y,b.next_out-Y)),b.data_type=f.bits+(f.last?64:0)+(12===f.mode?128:0)+(20===f.mode||15===f.mode?256:0),(0===R&&0===Y||4===e)&&da===D&&(da=-5),da)};f.inflateEnd=function(b){if(!b||!b.state)return H;var e=b.state;return e.window&&(e.window=null),b.state=null,D};f.inflateGetHeader=function(b,e){var f;return b&&b.state?(f=b.state,
0===(2&f.wrap)?H:(f.head=e,e.done=!1,D)):H};f.inflateSetDictionary=function(b,e){var f,k,h=e.length;return b&&b.state?(f=b.state,0!==f.wrap&&11!==f.mode?H:11===f.mode&&(k=1,k=v(k,e,h,0),k!==f.check)?-3:g(b,e,h,h)?(f.mode=31,-4):(f.havedict=1,D)):H};f.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./inffast":69,"./inftrees":71}],71:[function(b,e,f){var h=b("../utils/common"),q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,
163,195,227,258,0,0],m=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],t=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],k=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(b,e,f,z,u,v,x,C){var g,n,y,J,w,R,M,E,B=C.bits,A,P,O,Q,ha,ca,la=0,ba,X=null,ta=0,Y=new h.Buf16(16);J=new h.Buf16(16);var N=null,na=0;for(A=0;15>=
A;A++)Y[A]=0;for(P=0;P<z;P++)Y[e[f+P]]++;Q=B;for(O=15;1<=O&&0===Y[O];O--);if(Q>O&&(Q=O),0===O)return u[v++]=20971520,u[v++]=20971520,C.bits=1,0;for(B=1;B<O&&0===Y[B];B++);Q<B&&(Q=B);for(A=g=1;15>=A;A++)if(g<<=1,g-=Y[A],0>g)return-1;if(0<g&&(0===b||1!==O))return-1;J[1]=0;for(A=1;15>A;A++)J[A+1]=J[A]+Y[A];for(P=0;P<z;P++)0!==e[f+P]&&(x[J[e[f+P]]++]=P);if(0===b?(X=N=x,w=19):1===b?(X=q,ta-=257,N=m,na-=257,w=256):(X=t,N=k,w=-1),ba=0,P=0,A=B,J=v,ha=Q,ca=0,y=-1,la=1<<Q,z=la-1,1===b&&852<la||2===b&&592<la)return 1;
for(var T=0;;){T++;R=A-ca;x[P]<w?(M=0,E=x[P]):x[P]>w?(M=N[na+x[P]],E=X[ta+x[P]]):(M=96,E=0);g=1<<A-ca;B=n=1<<ha;do n-=g,u[J+(ba>>ca)+n]=R<<24|M<<16|E|0;while(0!==n);for(g=1<<A-1;ba&g;)g>>=1;if(0!==g?(ba&=g-1,ba+=g):ba=0,P++,0===--Y[A]){if(A===O)break;A=e[f+x[P]]}if(A>Q&&(ba&z)!==y){0===ca&&(ca=Q);J+=B;ha=A-ca;for(g=1<<ha;ha+ca<O&&(g-=Y[ha+ca],!(0>=g));)ha++,g<<=1;if(la+=1<<ha,1===b&&852<la||2===b&&592<la)return 1;y=ba&z;u[y]=Q<<24|ha<<16|J-v|0}}return 0!==ba&&(u[J+ba]=A-ca<<24|4194304),C.bits=Q,0}},
{"../utils/common":62}],72:[function(b,e,f){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],73:[function(b,e,f){function h(b){for(var e=b.length;0<=--e;)b[e]=0}function q(b,e,f,g,k){this.static_tree=b;this.extra_bits=e;this.extra_base=f;this.elems=g;this.max_length=k;this.has_stree=b&&b.length}function m(b,e){this.dyn_tree=b;this.max_code=0;this.stat_desc=e}function t(b,
e){b.pending_buf[b.pending++]=255&e;b.pending_buf[b.pending++]=e>>>8&255}function k(b,e,f){b.bi_valid>la-f?(b.bi_buf|=e<<b.bi_valid&65535,t(b,b.bi_buf),b.bi_buf=e>>la-b.bi_valid,b.bi_valid+=f-la):(b.bi_buf|=e<<b.bi_valid&65535,b.bi_valid+=f)}function n(b,e,f){k(b,f[2*e],f[2*e+1])}function g(b,e){var f=0;do f|=1&b,b>>>=1,f<<=1;while(0<--e);return f>>>1}function y(b,e,f){var k,h=Array(ca+1),n=0;for(k=1;k<=ca;k++)h[k]=n=n+f[k-1]<<1;for(f=0;f<=e;f++)k=b[2*f+1],0!==k&&(b[2*f]=g(h[k]++,k))}function z(b){var e;
for(e=0;e<P;e++)b.dyn_ltree[2*e]=0;for(e=0;e<O;e++)b.dyn_dtree[2*e]=0;for(e=0;e<Q;e++)b.bl_tree[2*e]=0;b.dyn_ltree[2*ba]=1;b.opt_len=b.static_len=0;b.last_lit=b.matches=0}function u(b){8<b.bi_valid?t(b,b.bi_buf):0<b.bi_valid&&(b.pending_buf[b.pending++]=b.bi_buf);b.bi_buf=0;b.bi_valid=0}function v(b,e,f,g){var k=2*e,h=2*f;return b[k]<b[h]||b[k]===b[h]&&g[e]<=g[f]}function x(b,e,f){for(var g=b.heap[f],k=f<<1;k<=b.heap_len&&(k<b.heap_len&&v(e,b.heap[k+1],b.heap[k],b.depth)&&k++,!v(e,g,b.heap[k],b.depth));)b.heap[f]=
b.heap[k],f=k,k<<=1;b.heap[f]=g}function C(b,e,f){var g,h,m,q,u=0;if(0!==b.last_lit){do g=b.pending_buf[b.d_buf+2*u]<<8|b.pending_buf[b.d_buf+2*u+1],h=b.pending_buf[b.l_buf+u],u++,0===g?n(b,h,e):(m=ja[h],n(b,m+A+1,e),q=N[m],0!==q&&(h-=W[m],k(b,h,q)),g--,m=256>g?ia[g]:ia[256+(g>>>7)],n(b,m,f),q=na[m],0!==q&&(g-=da[m],k(b,g,q)));while(u<b.last_lit)}n(b,ba,e)}function F(b,e){var f,g,k,h=e.dyn_tree;g=e.stat_desc.static_tree;var n=e.stat_desc.has_stree,m=e.stat_desc.elems,q=-1;b.heap_len=0;b.heap_max=
ha;for(f=0;f<m;f++)0!==h[2*f]?(b.heap[++b.heap_len]=q=f,b.depth[f]=0):h[2*f+1]=0;for(;2>b.heap_len;)k=b.heap[++b.heap_len]=2>q?++q:0,h[2*k]=1,b.depth[k]=0,b.opt_len--,n&&(b.static_len-=g[2*k+1]);e.max_code=q;for(f=b.heap_len>>1;1<=f;f--)x(b,h,f);k=m;do f=b.heap[1],b.heap[1]=b.heap[b.heap_len--],x(b,h,1),g=b.heap[1],b.heap[--b.heap_max]=f,b.heap[--b.heap_max]=g,h[2*k]=h[2*f]+h[2*g],b.depth[k]=(b.depth[f]>=b.depth[g]?b.depth[f]:b.depth[g])+1,h[2*f+1]=h[2*g+1]=k,b.heap[1]=k++,x(b,h,1);while(2<=b.heap_len);
b.heap[--b.heap_max]=b.heap[1];var u,p,n=e.dyn_tree,m=e.max_code,t=e.stat_desc.static_tree,v=e.stat_desc.has_stree,B=e.stat_desc.extra_bits,E=e.stat_desc.extra_base,z=e.stat_desc.max_length,A=0;for(g=0;g<=ca;g++)b.bl_count[g]=0;n[2*b.heap[b.heap_max]+1]=0;for(f=b.heap_max+1;f<ha;f++)k=b.heap[f],g=n[2*n[2*k+1]+1]+1,g>z&&(g=z,A++),n[2*k+1]=g,k>m||(b.bl_count[g]++,u=0,k>=E&&(u=B[k-E]),p=n[2*k],b.opt_len+=p*(g+u),v&&(b.static_len+=p*(t[2*k+1]+u)));if(0!==A){do{for(g=z-1;0===b.bl_count[g];)g--;b.bl_count[g]--;
b.bl_count[g+1]+=2;b.bl_count[z]--;A-=2}while(0<A);for(g=z;0!==g;g--)for(k=b.bl_count[g];0!==k;)u=b.heap[--f],u>m||(n[2*u+1]!==g&&(b.opt_len+=(g-n[2*u+1])*n[2*u],n[2*u+1]=g),k--)}y(h,q,b.bl_count)}function D(b,e,f){var g,k,h=-1,n=e[1],m=0,q=7,u=4;0===n&&(q=138,u=3);e[2*(f+1)+1]=65535;for(g=0;g<=f;g++)k=n,n=e[2*(g+1)+1],++m<q&&k===n||(m<u?b.bl_tree[2*k]+=m:0!==k?(k!==h&&b.bl_tree[2*k]++,b.bl_tree[2*X]++):10>=m?b.bl_tree[2*ta]++:b.bl_tree[2*Y]++,m=0,h=k,0===n?(q=138,u=3):k===n?(q=6,u=3):(q=7,u=4))}
function H(b,e,f){var g,h,m=-1,q=e[1],u=0,t=7,v=4;0===q&&(t=138,v=3);for(g=0;g<=f;g++)if(h=q,q=e[2*(g+1)+1],!(++u<t&&h===q)){if(u<v){do n(b,h,b.bl_tree);while(0!==--u)}else 0!==h?(h!==m&&(n(b,h,b.bl_tree),u--),n(b,X,b.bl_tree),k(b,u-3,2)):10>=u?(n(b,ta,b.bl_tree),k(b,u-3,3)):(n(b,Y,b.bl_tree),k(b,u-11,7));u=0;m=h;0===q?(t=138,v=3):h===q?(t=6,v=3):(t=7,v=4)}}function J(b){var e,f=4093624447;for(e=0;31>=e;e++,f>>>=1)if(1&f&&0!==b.dyn_ltree[2*e])return M;if(0!==b.dyn_ltree[18]||0!==b.dyn_ltree[20]||
0!==b.dyn_ltree[26])return E;for(e=32;e<A;e++)if(0!==b.dyn_ltree[2*e])return E;return M}function w(b,e,f,g){k(b,(B<<1)+(g?1:0),3);u(b);t(b,f);t(b,~f);R.arraySet(b.pending_buf,b.window,e,f,b.pending);b.pending+=f}var R=b("../utils/common"),M=0,E=1,B=0,A=256,P=A+1+29,O=30,Q=19,ha=2*P+1,ca=15,la=16,ba=256,X=16,ta=17,Y=18,N=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],na=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],K=[16,
17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S=Array(2*(P+2));h(S);var V=Array(2*O);h(V);var ia=Array(512);h(ia);var ja=Array(256);h(ja);var W=Array(29);h(W);var da=Array(O);h(da);var ga,Z,I,ua=!1;f._tr_init=function(b){if(!ua){var e,f,k,h=Array(ca+1);for(k=f=0;28>k;k++)for(W[k]=f,e=0;e<1<<N[k];e++)ja[f++]=k;ja[f-1]=k;for(k=f=0;16>k;k++)for(da[k]=f,e=0;e<1<<na[k];e++)ia[f++]=k;for(f>>=7;k<O;k++)for(da[k]=f<<7,e=0;e<1<<na[k]-7;e++)ia[256+f++]=k;for(e=0;e<=ca;e++)h[e]=0;for(e=0;143>=e;)S[2*e+1]=8,e++,
h[8]++;for(;255>=e;)S[2*e+1]=9,e++,h[9]++;for(;279>=e;)S[2*e+1]=7,e++,h[7]++;for(;287>=e;)S[2*e+1]=8,e++,h[8]++;y(S,P+1,h);for(e=0;e<O;e++)V[2*e+1]=5,V[2*e]=g(e,5);ga=new q(S,N,A+1,P,ca);Z=new q(V,na,0,O,ca);I=new q([],T,0,Q,7);ua=!0}b.l_desc=new m(b.dyn_ltree,ga);b.d_desc=new m(b.dyn_dtree,Z);b.bl_desc=new m(b.bl_tree,I);b.bi_buf=0;b.bi_valid=0;z(b)};f._tr_stored_block=w;f._tr_flush_block=function(b,e,f,g){var h,n,m=0;if(0<b.level){2===b.strm.data_type&&(b.strm.data_type=J(b));F(b,b.l_desc);F(b,
b.d_desc);D(b,b.dyn_ltree,b.l_desc.max_code);D(b,b.dyn_dtree,b.d_desc.max_code);F(b,b.bl_desc);for(m=Q-1;3<=m&&0===b.bl_tree[2*K[m]+1];m--);m=(b.opt_len+=3*(m+1)+14,m);h=b.opt_len+3+7>>>3;n=b.static_len+3+7>>>3;n<=h&&(h=n)}else h=n=f+5;if(f+4<=h&&-1!==e)w(b,e,f,g);else if(4===b.strategy||n===h)k(b,2+(g?1:0),3),C(b,S,V);else{k(b,4+(g?1:0),3);e=b.l_desc.max_code+1;f=b.d_desc.max_code+1;m+=1;k(b,e-257,5);k(b,f-1,5);k(b,m-4,4);for(h=0;h<m;h++)k(b,b.bl_tree[2*K[h]+1],3);H(b,b.dyn_ltree,e-1);H(b,b.dyn_dtree,
f-1);C(b,b.dyn_ltree,b.dyn_dtree)}z(b);g&&u(b)};f._tr_tally=function(b,e,f){return b.pending_buf[b.d_buf+2*b.last_lit]=e>>>8&255,b.pending_buf[b.d_buf+2*b.last_lit+1]=255&e,b.pending_buf[b.l_buf+b.last_lit]=255&f,b.last_lit++,0===e?b.dyn_ltree[2*f]++:(b.matches++,e--,b.dyn_ltree[2*(ja[f]+A+1)]++,b.dyn_dtree[2*(256>e?ia[e]:ia[256+(e>>>7)])]++),b.last_lit===b.lit_bufsize-1};f._tr_align=function(b){k(b,2,3);n(b,ba,S);16===b.bi_valid?(t(b,b.bi_buf),b.bi_buf=0,b.bi_valid=0):8<=b.bi_valid&&(b.pending_buf[b.pending++]=
255&b.bi_buf,b.bi_buf>>=8,b.bi_valid-=8)}},{"../utils/common":62}],74:[function(b,e,f){e.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}},{}]},{},[10])(10)});!function(c,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():c.LazyLoad=b()}(this,function(){function c(b,c,e){return n?void b.addEventListener(c,e):void(g&&(b.attachEvent("on"+c,function(b){return function(){e.call(b,window.event)}}(b)),b=null))}function b(b,c,e){return n?void b.removeEventListener(c,e):void(g&&b.detachEvent("on"+c,e))}function e(b,c,e){function f(b){return b.getBoundingClientRect().top+q-m.documentElement.clientTop}function g(b){return b.getBoundingClientRect().left+
u-m.documentElement.clientLeft}function k(){var f;return f=c===window?(window.innerWidth||m.documentElement.clientWidth||document.body.clientWidth)+window.pageXOffset:g(c)+(window.innerWidth||m.documentElement.clientWidth||document.body.clientWidth),f<=g(b)-e}function h(){var g;return g=c===window?q:f(c),g>=f(b)+e+b.offsetHeight}function n(){var f;return f=c===window?u:g(c),f>=g(b)+e+b.offsetWidth}var m,q,u;return m=b.ownerDocument,q=window.pageYOffset||m.body.scrollTop,u=window.pageXOffset||m.body.scrollLeft,
!(function(){var g;return g=c===window?(window.innerHeight||m.documentElement.clientHeight||document.body.clientHeight)+q:f(c)+c.offsetHeight,g<=f(b)-e}()||h()||k()||n())}function f(b,c){return y?void b.classList.add(c):void(b.className+=(b.className?" ":"")+c)}function h(b,c){return y?void b.classList.remove(c):void(b.className=b.className.replace(new RegExp("(^|\\s+)"+c+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,""))}function q(b,c,e,f){f=c.getAttribute("data-"+f);c=c.getAttribute("data-"+
e);e=b.tagName;return"IMG"===e?(c&&b.setAttribute("srcset",c),void(f&&b.setAttribute("src",f))):"IFRAME"===e?void(f&&b.setAttribute("src",f)):void(b.style.backgroundImage="url("+f+")")}function m(b,c){return function(){return b.apply(c,arguments)}}function t(b){z||(k={elements_selector:"img",container:window,threshold:300,throttle:50,data_src:"original",data_srcset:"original-set",class_loading:"loading",class_loaded:"loaded",skip_invisible:!0,show_while_loading:!0,callback_load:null,callback_error:null,
callback_set:null,callback_processed:null,placeholder:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},n=!!window.addEventListener,g=!!window.attachEvent,y=!!document.body.classList,z=!0);var e=k,f,h={};for(f in e)e.hasOwnProperty(f)&&(h[f]=e[f]);for(f in b)b.hasOwnProperty(f)&&(h[f]=b[f]);this._settings=h;this._queryOriginNode=this._settings.container===window?document:this._settings.container;this._previousLoopTime=0;this._loopTimeout=null;this._handleScrollFn=m(this.handleScroll,
this);c(window,"resize",this._handleScrollFn);this.update()}var k,n,g,y,z=!1;return t.prototype._showOnLoad=function(e){function g(){null!==n&&(n.callback_load&&n.callback_load(e),q(e,e,n.data_srcset,n.data_src),n.callback_set&&n.callback_set(e),h(e,n.class_loading),f(e,n.class_loaded),b(k,"load",g))}var k,n=this._settings;e.getAttribute("src")||e.setAttribute("src",n.placeholder);k=document.createElement("img");c(k,"load",g);c(k,"error",function(){h(e,n.class_loading);n.callback_error&&n.callback_error(e)});
f(e,n.class_loading);q(k,e,n.data_srcset,n.data_src)},t.prototype._showOnAppear=function(e){function g(){null!==k&&(k.callback_load&&k.callback_load(e),h(e,k.class_loading),f(e,k.class_loaded),b(e,"load",g))}var k=this._settings;"IMG"!==e.tagName&&"IFRAME"!==e.tagName||(c(e,"load",g),c(e,"error",function(){b(e,"load",g);h(e,k.class_loading);k.callback_error&&k.callback_error(e)}),f(e,k.class_loading));q(e,e,k.data_srcset,k.data_src);k.callback_set&&k.callback_set(e)},t.prototype._loopThroughElements=
function(){var b,c,f=this._settings,g=this._elements,k=g?g.length:0,h=[];for(b=0;b<k;b++)c=g[b],f.skip_invisible&&null===c.offsetParent||e(c,f.container,f.threshold)&&(f.show_while_loading?this._showOnAppear(c):this._showOnLoad(c),h.push(b),c.wasProcessed=!0);for(;0<h.length;)g.splice(h.pop(),1),f.callback_processed&&f.callback_processed(g.length);0===k&&this._stopScrollHandler()},t.prototype._purgeElements=function(){var b,c,e=this._elements,f=e.length,g=[];for(b=0;b<f;b++)c=e[b],c.wasProcessed&&
g.push(b);for(;0<g.length;)e.splice(g.pop(),1)},t.prototype._startScrollHandler=function(){this._isHandlingScroll||(this._isHandlingScroll=!0,c(this._settings.container,"scroll",this._handleScrollFn))},t.prototype._stopScrollHandler=function(){this._isHandlingScroll&&(this._isHandlingScroll=!1,b(this._settings.container,"scroll",this._handleScrollFn))},t.prototype.handleScroll=function(){var b,c,e;this._settings&&(c=(new Date).getTime(),e=this._settings.throttle,0!==e?(b=e-(c-this._previousLoopTime),
0>=b||b>e?(this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._previousLoopTime=c,this._loopThroughElements()):this._loopTimeout||(this._loopTimeout=setTimeout(m(function(){this._previousLoopTime=(new Date).getTime();this._loopTimeout=null;this._loopThroughElements()},this),b))):this._loopThroughElements())},t.prototype.update=function(){var b;var c=this._queryOriginNode.querySelectorAll(this._settings.elements_selector);try{b=Array.prototype.slice.call(c)}catch(F){var e=
[],f=c.length;for(b=0;b<f;b++)e.push(c[b]);b=e}this._elements=b;this._purgeElements();this._loopThroughElements();this._startScrollHandler()},t.prototype.destroy=function(){b(window,"resize",this._handleScrollFn);this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null);this._stopScrollHandler();this._settings=this._queryOriginNode=this._elements=null},t});!function(c,b,e){function f(){return"function"!=typeof b.createElement?b.createElement(arguments[0]):k?b.createElementNS.call(b,"http://www.w3.org/2000/svg",arguments[0]):b.createElement.apply(b,arguments)}var h=[],q=[];e={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(b,c){var e=this;setTimeout(function(){c(e[b])},0)},addTest:function(b,c,e){q.push({name:b,fn:c,options:e})},addAsyncTest:function(b){q.push({name:null,fn:b})}};var m=function(){};
m.prototype=e;m=new m;e._prefixes=e._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];var t=b.documentElement,k="svg"===t.nodeName.toLowerCase();k||!function(b,c){function e(){var b=E.elements;return"string"==typeof b?b.split(" "):b}function f(b){var c=M[b[w]];return c||(c={},R++,b[w]=R,M[R]=c),c}function g(b,e,g){if(e||(e=c),m)return e.createElement(b);g||(g=f(e));var k;return k=g.cache[b]?g.cache[b].cloneNode():J.test(b)?(g.cache[b]=g.createElem(b)).cloneNode():g.createElem(b),
!k.canHaveChildren||t.test(b)||k.tagUrn?k:g.frag.appendChild(k)}function k(b,c){c.cache||(c.cache={},c.createElem=b.createElement,c.createFrag=b.createDocumentFragment,c.frag=c.createFrag());b.createElement=function(e){return E.shivMethods?g(e,b,c):c.createElem(e)};b.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+e().join().replace(/[\w\-:]+/g,function(b){return c.createElem(b),c.frag.createElement(b),'c("'+b+'")'})+");return n}")(E,
c.frag)}function h(b){b||(b=c);var e=f(b);if(E.shivCSS&&!n&&!e.hasCSS){var g,h=b;g=h.createElement("p");h=h.getElementsByTagName("head")[0]||h.documentElement;g=(g.innerHTML="x<style>article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}</style>",h.insertBefore(g.lastChild,h.firstChild));e.hasCSS=!!g}return m||k(b,e),b}var n,m,q=b.html5||{},t=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,
J=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,w="_html5shiv",R=0,M={};!function(){try{var b=c.createElement("a");b.innerHTML="<xyz></xyz>";n="hidden"in b;var e;if(!(e=1==b.childNodes.length)){c.createElement("a");var f=c.createDocumentFragment();e="undefined"==typeof f.cloneNode||"undefined"==typeof f.createDocumentFragment||"undefined"==typeof f.createElement}m=e}catch(O){m=n=!0}}();var E={elements:q.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",
version:"3.7.3",shivCSS:!1!==q.shivCSS,supportsUnknownElements:m,shivMethods:!1!==q.shivMethods,type:"default",shivDocument:h,createElement:g,createDocumentFragment:function(b,g){if(b||(b=c),m)return b.createDocumentFragment();g=g||f(b);for(var k=g.frag.cloneNode(),h=0,n=e(),q=n.length;q>h;h++)k.createElement(n[h]);return k},addElements:function(b,c){var e=E.elements;"string"!=typeof e&&(e=e.join(" "));"string"!=typeof b&&(b=b.join(" "));E.elements=e+" "+b;h(c)}};b.html5=E;h(c);"object"==typeof module&&
module.exports&&(module.exports=E)}("undefined"!=typeof c?c:this,b);e.testStyles=function(c,e,h,m){var g,n,q,y,z=f("div"),D;q=b.body;D=(q||(q=f(k?"svg":"body"),q.fake=!0),q);if(parseInt(h,10))for(;h--;)q=f("div"),q.id=m?m[h]:"modernizr"+(h+1),z.appendChild(q);return g=f("style"),g.type="text/css",g.id="smodernizr",(D.fake?D:z).appendChild(g),D.appendChild(z),g.styleSheet?g.styleSheet.cssText=c:g.appendChild(b.createTextNode(c)),z.id="modernizr",D.fake&&(D.style.background="",D.style.overflow="hidden",
y=t.style.overflow,t.style.overflow="hidden",t.appendChild(D)),n=e(z,c),D.fake?(D.parentNode.removeChild(D),t.style.overflow=y,t.offsetHeight):z.parentNode.removeChild(z),!!n};(function(){var b,c,e,f,k,t;for(t in q)if(q.hasOwnProperty(t)){if(b=[],c=q[t],c.name&&(b.push(c.name.toLowerCase()),c.options&&c.options.aliases&&c.options.aliases.length))for(e=0;e<c.options.aliases.length;e++)b.push(c.options.aliases[e].toLowerCase());e="function"===typeof c.fn?c.fn():c.fn;for(f=0;f<b.length;f++)k=b[f],k=
k.split("."),1===k.length?m[k[0]]=e:(!m[k[0]]||m[k[0]]instanceof Boolean||(m[k[0]]=new Boolean(m[k[0]])),m[k[0]][k[1]]=e),h.push((e?"":"no-")+k.join("-"))}})();(function(b){var c=t.className,e=m._config.classPrefix||"";if(k&&(c=c.baseVal),m._config.enableJSClass)c=c.replace(new RegExp("(^|\\s)"+e+"no-js(\\s|$)"),"$1"+e+"js$2");m._config.enableClasses&&(c+=" "+e+b.join(" "+e),k?t.className.baseVal=c:t.className=c)})(h);delete e.addTest;delete e.addAsyncTest;for(e=0;e<m._q.length;e++)m._q[e]();c.Modernizr=
m}(window,document);(function(c){c.fn.parallaxSlider=function(q){var m=c.extend({},c.fn.parallaxSlider.defaults,q);return this.each(function(){var q=c(this),k=c.meta?c.extend({},m,q.data()):m,n=c(".pxs_slider",q),g=n.children(),y=g.length,z=c(".pxs_next",q),u=c(".pxs_prev",q),v=c(".pxs_bg1",q),x=c(".pxs_bg2",q),C=c(".pxs_bg3",q),F=0,D=c(".pxs_thumbnails",q),H=D.children(),J,w=c(".pxs_slider_wrapper",q),R=0;w.find("img").each(function(){var m=c(this);c("<img/>").on("load",function(){++R;if(R==2*y){w.show();var m=n.find("img:first").width();
h(n,g,y,v,x,C,m,z,u);D.css({width:m+"px","margin-left":-m/2+"px"});var q=m/(y+1);H.each(function(b){var e=c(this);b=q*(b+1)-e.width()/2;e.css("left",b+"px");k.thumbRotation&&(b=Math.floor(41*Math.random())-20,e.css({"-moz-transform":"rotate("+b+"deg)","-webkit-transform":"rotate("+b+"deg)",transform:"rotate("+b+"deg)"}));e.bind("mouseenter",function(){c(this).stop().animate({top:"-10px"},100)}).bind("mouseleave",function(){c(this).stop().animate({top:"0px"},100)})});f(H.eq(0));z.bind("click",function(){++F;
if(F>=y)if(k.circular)F=0;else return--F,!1;f(H.eq(F));e(F,n,C,x,v,k.speed,k.easing,k.easingBg)});u.bind("click",function(){--F;if(0>F)if(k.circular)F=y-1;else return++F,!1;f(H.eq(F));e(F,n,C,x,v,k.speed,k.easing,k.easingBg)});H.bind("click",function(){var b=c(this);f(b);k.auto&&clearInterval(J);F=b.index();e(F,n,C,x,v,k.speed,k.easing,k.easingBg)});0!=k.auto&&(k.circular=!0,J=setInterval(function(){z.trigger("click")},k.auto));c(window).resize(function(){b=c(window).width();h(n,g,y,v,x,C,m,z,u);
e(F,n,C,x,v,1,k.easing,k.easingBg)})}}).attr("src",m.attr("src"))})})};var b=c(window).width(),e=function(c,e,f,k,h,g,y,z){c=parseInt(-b*c);e.stop().animate({left:c+"px"},g,y);f.stop().animate({left:c/2+"px"},g,z);k.stop().animate({left:c/4+"px"},g,z);h.stop().animate({left:c/8+"px"},g,z)},f=function(b){b.siblings().removeClass("selected");b.addClass("selected")},h=function(c,e,f,k,h,g,y,z,u){f*=b;c.width(f+"px");e.width(b+"px");k.width(f+"px");h.width(f+"px");g.width(f+"px");z.css("right","20px");
u.css("left","20px")};c.fn.parallaxSlider.defaults={auto:0,speed:1E3,easing:"jswing",easingBg:"jswing",circular:!0,thumbRotation:!0}})(jQuery);var docCookies={getItem:function(c){return c&&this.hasItem(c)?unescape(document.cookie.replace(RegExp("(?:^|.*;\\s*)"+escape(c).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},setItem:function(c,b,e,f,h,q){if(c&&!/^(?:expires|max\-age|path|domain|secure)$/i.test(c)){var m="";if(e)switch(e.constructor){case Number:m=Infinity===e?"; expires=Tue, 19 Jan 2038 03:14:07 GMT":"; max-age="+e;break;case String:m="; expires="+e;break;case Date:m="; expires="+e.toGMTString()}document.cookie=
escape(c)+"="+escape(b)+m+(h?"; domain="+h:"")+(f?"; path="+f:"")+(q?"; secure":"")}},removeItem:function(c,b){c&&this.hasItem(c)&&(document.cookie=escape(c)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(b?"; path="+b:""))},hasItem:function(c){return RegExp("(?:^|;\\s*)"+escape(c).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}},JQ=jQuery;
window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(c){window.setTimeout(c,1E3/60)}}();
window.transitionEnd=function(c,b){var e=!1,f=document.createElement("div");JQ(["transition","WebkitTransition","MozTransition","msTransition"]).each(function(b,c){if(void 0!==f.style[c])return e=!0,!1});e?c.bind("webkitTransitionEnd oTransitionEnd MSTransitionEnd transitionend",function(e){c.unbind("webkitTransitionEnd oTransitionEnd MSTransitionEnd transitionend");b(e,c)}):setTimeout(function(){b(null,c)},0);return c};
var preloader={_overlay:null,_loader:null,_name:null,_percentage:null,_on_complete:null,_text_loader:null,_text_loader_overlay:null,_logo_loader:null,_logo_loader_meter:null,_total:0,_loaded:0,_image_queue:[],_percentage_loaded:0,_mode:"number",_text:"loading...",_text_colour:"#FFFFFF",_images:[],_show_progress:!0,_show_percentage:!0,_background:"#000000",_logo:"",_logo_size:[80,80],_cookie:!1,_timeout:10,_init:function(){JQ("img").each(function(c){JQ(this).attr("src")&&preloader._images.push(JQ(this).attr("src"))});
if(preloader._cookie){if(docCookies.getItem("melonhtml5_preloader_"+preloader._cookie)){JQ("#preloader").remove();JQ(document.body).removeClass("preloader");return}docCookies.setItem("melonhtml5_preloader_"+preloader._cookie,(new Date).getTime(),Infinity)}preloader._total=preloader._images.length;preloader._build();preloader._load()},_build:function(){this._overlay=JQ("#preloader");this._overlay.length||(this._overlay=JQ("<div>").attr("id","preloader").prependTo(JQ(document.body)));this._overlay.addClass("preloader_"+
this._mode);"line"!==this._mode&&this._overlay.css("background-color",this._background);switch(this._mode){case "number":var c=this._hexToRgb(this._text_colour);this._percentage=JQ("<div>").html("<div></div><span></span>").css({color:this._text_colour,"border-color":c?"rgba("+c.r+", "+c.g+", "+c.b+", 0.7)":this._text_colour}).addClass("preloader_percentage").appendTo(this._overlay);this._percentage.children("div").css("border-left-color",this._text_colour);break;case "text":this._text_loader=JQ("<div>").addClass("preloader_loader").text(this._text).css("color",
this._text_colour).appendTo(this._overlay);this._text_loader_overlay=JQ("<div>").css("background-color",this._background).appendTo(this._text_loader);break;case "scale_text":for(var c="",b=0;b<this._text.length;b++)c+="<span>"+this._htmlentities(this._text.charAt(b))+"</span>";this._text_loader=JQ("<div>").addClass("preloader_loader").html(c).css("color",this._text_colour).appendTo(this._overlay);break;case "logo":this._logo_loader=JQ("<div>").css({width:this._logo_size[0],height:this._logo_size[1],
"margin-left":this._logo_size[0]/2*-1,"margin-top":this._logo_size[1]/2*-1,"background-image":'url("'+this._logo+'")'}).addClass("preloader_loader").appendTo(this._overlay);this._logo_loader_meter=JQ("<div>").css("background-color",this._background).appendTo(this._logo_loader);this._show_progress&&(this._percentage=JQ("<div>").css({color:this._text_colour,width:this._logo_size[0],height:this._logo_size[1],"margin-left":this._logo_size[0]/2*-1,"margin-top":this._logo_size[1]/2,"background-color":this._background}).addClass("preloader_percentage").appendTo(this._overlay));
break;case "line":this._line_loader=JQ("<div>").addClass("preloader_loader").css("background-color",this._background).appendTo(this._overlay);JQ("<div>").addClass("preloader_peg").css("box-shadow","0 0 10px "+this._background).appendTo(this._line_loader);JQ(document.body).css("visibility","visible");break;case "progress":this._progress_loader=JQ("<div>").addClass("preloader_loader").appendTo(this._overlay),this._progress_loader_meter=JQ("<div>").addClass("preloader_meter").appendTo(this._progress_loader),
this._show_progress&&(this._percentage=JQ("<div>").addClass("preloader_percentage").text(0).appendTo(this._overlay))}this._overlay.appendTo(JQ(document.body));"text"!==this._mode&&"scale_text"!==this._mode||this._text_loader.css("margin-left",this._text_loader.width()/2*-1)},_load:function(){if(("number"===this._mode||"logo"===this._mode||"progress"===this._mode)&&this._show_progress){this._percentage.data("num",0);var c="0"+(preloader._show_percentage?"%":"");"number"===this._mode?this._percentage.children("span").text(c):
this._percentage.text(c)}JQ.each(this._images,function(b,c){var e=function(){preloader._imageOnLoad(c)},h=new Image;h.src=c;h.complete?e():(h.onload=e,h.onerror=e)});setTimeout(function(){preloader._overlay&&preloader._animatePercentage(preloader._percentage_loaded,100)},this._images.length?1E3*this._timeout:0)},_hexToRgb:function(c){return(c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(c))?{r:parseInt(c[1],16),g:parseInt(c[2],16),b:parseInt(c[3],16)}:null},_htmlentities:function(c){return c.toString().replace(/&/g,
"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;")},_animatePercentage:function(c,b){preloader._percentage_loaded=c;c<b&&(c++,setTimeout(function(){switch(preloader._mode){case "text":preloader._text_loader_overlay.css("left",c+"%");break;case "scale_text":var e=parseInt(preloader._text.length*c*.01,10);preloader._text_loader.children("span").eq(e).addClass("loaded");break;case "line":preloader._line_loader.width(c+"%");break;case "number":preloader._show_progress&&
(e=c+(preloader._show_percentage?"%":""),preloader._percentage.children("span").text(e));break;case "logo":preloader._show_progress&&(e=c+(preloader._show_percentage?"%":""),preloader._percentage.text(e));preloader._logo_loader_meter.css("bottom",c+"%");break;case "progress":preloader._show_progress&&(e=c+(preloader._show_percentage?"%":""),preloader._percentage.text(e)),preloader._progress_loader_meter.width(c+"%")}preloader._animatePercentage(c,b)},5),100===c&&preloader._loadFinish())},_imageOnLoad:function(c){this._image_queue.push(c);
this._image_queue.length&&this._image_queue[0]===c&&this._processQueue()},_reQueue:function(){preloader._image_queue.splice(0,1);preloader._processQueue()},_processQueue:function(){0!==this._image_queue.length&&(this._loaded++,preloader._animatePercentage(preloader._percentage_loaded,parseInt(this._loaded/this._total*100,10)),this._reQueue())},_loadFinish:function(){transitionEnd(this._overlay,function(c,b){preloader._overlay&&(preloader._overlay.remove(),preloader._overlay=null)});this._overlay.addClass("complete");
JQ(document.body).removeClass("preloader");this._on_complete&&this._on_complete()},config:function(c){"undefined"!==typeof c.mode&&(this._mode=c.mode);"undefined"!==typeof c.text&&(this._text=c.text);"undefined"!==typeof c.text_colour&&(this._text_colour=c.text_colour);"undefined"!==typeof c.timeout&&(this._timeout=parseInt(c.timeout,10));"undefined"!==typeof c.showProgress&&(this._show_progress=c.showProgress?!0:!1);"undefined"!==typeof c.showPercentage&&(this._show_percentage=c.showPercentage?!0:
!1);"undefined"!==typeof c.background&&(this._background=c.background);"undefined"!==typeof c.logo&&(this._logo=c.logo);"undefined"!==typeof c.logo_size&&(this._logo_size=c.logo_size);"undefined"!==typeof c.onComplete&&(this._on_complete=c.onComplete);"undefined"!==typeof c.images&&(this._images=c.images);"undefined"!==typeof c.cookie&&(this._cookie=c.cookie)}};setTimeout(function(){JQ(document).ready(preloader._init)});!function(){var c="undefined"!=typeof module&&module.exports,b="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,e=function(){var b,c,e=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),
"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],f=0;c=e.length;for(var k={};c>f;f++)if(b=e[f],b&&b[1]in document){f=0;for(c=b.length;c>f;f++)k[e[0][f]]=b[f];return k}return!1}(),f={request:function(c){var f=e.requestFullscreen;c=c||document.documentElement;/5\.1[\.\d]* Safari/.test(navigator.userAgent)?
c[f]():c[f](b&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[e.exitFullscreen]()},toggle:function(b){this.isFullscreen?this.exit():this.request(b)},raw:e};return e?(Object.defineProperties(f,{isFullscreen:{get:function(){return!!document[e.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[e.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[e.fullscreenEnabled]}}}),void(c?module.exports=f:window.screenfull=f)):void(c?module.exports=!1:window.screenfull=
!1)}();(function(c){function b(){var b=c(this),e=u(b);b.is(".fixed-top, .fixed-bottom, .horizontal-percent")?b.css("min-height",C(e.first)+C(e.last)+c(e.divider).height()+"px"):b.css("min-width",F(e.first)+F(e.last)+c(e.divider).width()+"px")}function e(b){b.preventDefault();var e=c(this),g=e.parent();e.addClass("dragged");b.type.match(/^touch/)&&e.addClass("touch");var k=m(g,v(b),x(b));c(document).on("touchmove mousemove",k);c(document).one("touchend mouseup",function(b){c(document).off("touchmove mousemove",
k);e.removeClass("dragged touch");g.trigger("dividerdragend",[f(g)])});g.trigger("dividerdragstart",[f(g)])}function f(b){var c=b.is(".fixed-top, .fixed-bottom, .horizontal-percent")?"height":"width";return{firstComponentSize:b.find(".split-pane-component:first")[c](),lastComponentSize:b.find(".split-pane-component:last")[c]()}}function h(){var b=c(this),e=q(b),f=b.parent().closest(".split-pane")[0]||window;c(f).on(f===window?"resize":"splitpaneresize",function(b){(b.target===document?window:b.target)===
f&&e(b)})}function q(b){var c=u(b);if(b.is(".fixed-top"))return function(e){e=C(c.last);e=c.splitPane.offsetHeight-e-c.divider.offsetHeight;c.first.offsetHeight>e&&D(c,e+"px");b.trigger("splitpaneresize")};if(b.is(".fixed-bottom"))return function(e){e=C(c.first);e=c.splitPane.offsetHeight-e-c.divider.offsetHeight;c.last.offsetHeight>e&&H(c,e+"px");b.trigger("splitpaneresize")};if(b.is(".horizontal-percent"))return function(e){e=C(c.last);var f=C(c.first),f=c.splitPane.offsetHeight-f-c.divider.offsetHeight;
c.last.offsetHeight>f?H(c,f/c.splitPane.offsetHeight*100+"%"):c.splitPane.offsetHeight-c.first.offsetHeight-c.divider.offsetHeight<e&&H(c,e/c.splitPane.offsetHeight*100+"%");b.trigger("splitpaneresize")};if(b.is(".fixed-left"))return function(e){e=F(c.last);e=c.splitPane.offsetWidth-e-c.divider.offsetWidth;c.first.offsetWidth>e&&J(c,e+"px");b.trigger("splitpaneresize")};if(b.is(".fixed-right"))return function(e){e=F(c.first);e=c.splitPane.offsetWidth-e-c.divider.offsetWidth;c.last.offsetWidth>e&&
w(c,e+"px");b.trigger("splitpaneresize")};if(b.is(".vertical-percent"))return function(e){e=F(c.last);var f=F(c.first),f=c.splitPane.offsetWidth-f-c.divider.offsetWidth;c.last.offsetWidth>f?w(c,f/c.splitPane.offsetWidth*100+"%"):c.splitPane.offsetWidth-c.first.offsetWidth-c.divider.offsetWidth<e&&w(c,e/c.splitPane.offsetWidth*100+"%");b.trigger("splitpaneresize")}}function m(b,c,e){var f=u(b);if(b.is(".fixed-top"))return t(f,e);if(b.is(".fixed-bottom"))return k(f,e);if(b.is(".horizontal-percent"))return n(f,
e);if(b.is(".fixed-left"))return g(f,c);if(b.is(".fixed-right"))return y(f,c);if(b.is(".vertical-percent"))return z(f,c)}function t(b,e){var f=C(b.first),g=b.splitPane.offsetHeight-C(b.last)-b.divider.offsetHeight,k=b.divider.offsetTop-e;return function(e){e.preventDefault&&e.preventDefault();e=k+x(e);D(b,Math.min(Math.max(f,e),g)+"px");c(b.splitPane).trigger("splitpaneresize")}}function k(b,e){var f=C(b.last),g=b.splitPane.offsetHeight-C(b.first)-b.divider.offsetHeight,k=b.last.offsetHeight+e;return function(e){e.preventDefault&&
e.preventDefault();e=Math.min(Math.max(f,k-x(e)),g);H(b,e+"px");c(b.splitPane).trigger("splitpaneresize")}}function n(b,e){var f=b.splitPane.offsetHeight,g=C(b.last),k=f-C(b.first)-b.divider.offsetHeight,h=b.last.offsetHeight+e;return function(e){e.preventDefault&&e.preventDefault();e=Math.min(Math.max(g,h-x(e)),k);H(b,e/f*100+"%");c(b.splitPane).trigger("splitpaneresize")}}function g(b,e){var f=F(b.first),g=b.splitPane.offsetWidth-F(b.last)-b.divider.offsetWidth,k=b.divider.offsetLeft-e;return function(e){e.preventDefault&&
e.preventDefault();e=k+v(e);J(b,Math.min(Math.max(f,e),g)+"px");c(b.splitPane).trigger("splitpaneresize")}}function y(b,e){var f=F(b.last),g=b.splitPane.offsetWidth-F(b.first)-b.divider.offsetWidth,k=b.last.offsetWidth+e;return function(e){e.preventDefault&&e.preventDefault();e=Math.min(Math.max(f,k-v(e)),g);w(b,e+"px");c(b.splitPane).trigger("splitpaneresize")}}function z(b,e){var f=b.splitPane.offsetWidth,g=F(b.last),k=f-F(b.first)-b.divider.offsetWidth,h=b.last.offsetWidth+e;return function(e){e.preventDefault&&
e.preventDefault();e=Math.min(Math.max(g,h-v(e)),k);w(b,e/f*100+"%");c(b.splitPane).trigger("splitpaneresize")}}function u(b){return{splitPane:b[0],first:b.children(".split-pane-component:first")[0],divider:b.children(".split-pane-divider")[0],last:b.children(".split-pane-component:last")[0]}}function v(b){if(void 0!==b.pageX)return b.pageX;if(void 0!==b.originalEvent.pageX)return b.originalEvent.pageX;if(b.originalEvent.touches)return b.originalEvent.touches[0].pageX}function x(b){if(void 0!==b.pageY)return b.pageY;
if(void 0!==b.originalEvent.pageY)return b.originalEvent.pageY;if(b.originalEvent.touches)return b.originalEvent.touches[0].pageY}function C(b){return parseInt(c(b).css("min-height"),10)||0}function F(b){return parseInt(c(b).css("min-width"),10)||0}function D(b,c){b.first.style.height=c;b.divider.style.top=c;b.last.style.top=c}function H(b,c){b.first.style.bottom=c;b.divider.style.bottom=c;b.last.style.height=c}function J(b,c){b.first.style.width=c;b.divider.style.left=c;b.last.style.left=c}function w(b,
c){b.first.style.right=c;b.divider.style.right=c;b.last.style.width=c}var R={init:function(){var f=this;f.each(b);f.children(".split-pane-divider").html('<div class="split-pane-divider-inner"></div>');f.children(".split-pane-divider").on("touchstart mousedown",e);setTimeout(function(){f.each(h);c(window).trigger("resize")},100)},firstComponentSize:function(b){this.each(function(){var e=c(this),f=u(e);e.is(".fixed-top")?t(f,f.divider.offsetTop)({pageY:b}):e.is(".fixed-bottom")?(b=f.splitPane.offsetHeight-
f.divider.offsetHeight-b,k(f,-f.last.offsetHeight)({pageY:-b})):e.is(".horizontal-percent")?(b=f.splitPane.offsetHeight-f.divider.offsetHeight-b,n(f,-f.last.offsetHeight)({pageY:-b})):e.is(".fixed-left")?g(f,f.divider.offsetLeft)({pageX:b}):e.is(".fixed-right")?(b=f.splitPane.offsetWidth-f.divider.offsetWidth-b,y(f,-f.last.offsetWidth)({pageX:-b})):e.is(".vertical-percent")&&(b=f.splitPane.offsetWidth-f.divider.offsetWidth-b,z(f,-f.last.offsetWidth)({pageX:-b}))})},lastComponentSize:function(b){this.each(function(){var e=
c(this),f=u(e);e.is(".fixed-top")?(b=f.splitPane.offsetHeight-f.divider.offsetHeight-b,t(f,f.divider.offsetTop)({pageY:b})):e.is(".fixed-bottom")?k(f,-f.last.offsetHeight)({pageY:-b}):e.is(".horizontal-percent")?n(f,-f.last.offsetHeight)({pageY:-b}):e.is(".fixed-left")?(b=f.splitPane.offsetWidth-f.divider.offsetWidth-b,g(f,f.divider.offsetLeft)({pageX:b})):e.is(".fixed-right")?y(f,-f.last.offsetWidth)({pageX:-b}):e.is(".vertical-percent")&&z(f,-f.last.offsetWidth)({pageX:-b})})}};c.fn.splitPane=function(b){R[b||
"init"].apply(this,c.grep(arguments,function(b,c){return 0<c}))}})(jQuery);(function(){function c(){if(n){requestAnimFrame(c);for(var b=0,e=k.length;b<e;b++)k[b].update()}}function b(b,h){if(b.nodeName&&!1!==/^(ul|ol)$/i.test(b.nodeName))f(b)&&e(b);else return!1;var g=t?new m(b):new q(b);h&&h.live&&(g.syncInterval=setInterval(function(){g.sync.call(g)},500));g.sync();k.push(g);1===k.length&&(n=!0,c())}function e(b){for(var c=0;c<k.length;c++){var e=k[c];e.element==b&&(e.destroy(),k.splice(c,1),c--)}0===k.length&&(n=!1)}function f(b){for(var c=0,e=k.length;c<e;c++)if(k[c].element==
b)return!0;return!1}function h(b,c,e){var f,g;if("string"===typeof b)for(b=document.querySelectorAll(b),f=0,g=b.length;f<g;f++)c.call(null,b[f],e);else if("object"===typeof b&&"number"===typeof b.length)for(f=0,g=b.length;f<g;f++)c.call(null,b[f],e);else if(b.nodeName)c.call(null,b,e);else throw"Stroll target was of unexpected type.";}function q(b){this.element=b}function m(b){this.element=b;this.element.style.overflow="hidden";this.top={value:0,natural:0};this.touch={value:0,offset:0,start:0,previous:0,
lastMove:Date.now(),accellerateTimeout:-1,isAccellerating:!1,isActive:!1};this.velocity=0}var t=!!("ontouchstart"in window),k=[],n=!1;q.prototype.sync=function(){this.items=Array.prototype.slice.apply(this.element.children);this.listHeight=this.element.offsetHeight;for(var b=0,c=this.items.length;b<c;b++){var e=this.items[b];e._offsetHeight=e.offsetHeight;e._offsetTop=e.offsetTop;e._offsetBottom=e._offsetTop+e._offsetHeight;e._state=""}this.update(!0)};q.prototype.update=function(b){var c=this.element.pageYOffset||
this.element.scrollTop,e=c+this.listHeight;if(c!==this.lastTop||b){this.lastTop=c;b=0;for(var f=this.items.length;b<f;b++){var g=this.items[b];g._offsetBottom<c?"past"!==g._state&&(g._state="past",g.classList.add("past"),g.classList.remove("future")):g._offsetTop>e?"future"!==g._state&&(g._state="future",g.classList.add("future"),g.classList.remove("past")):g._state&&("past"===g._state&&g.classList.remove("past"),"future"===g._state&&g.classList.remove("future"),g._state="")}}};q.prototype.destroy=
function(){clearInterval(this.syncInterval);for(var b=0,c=this.items.length;b<c;b++){var e=this.items[b];e.classList.remove("past");e.classList.remove("future")}};m.prototype=new q;m.prototype.sync=function(){this.items=Array.prototype.slice.apply(this.element.children);this.listHeight=this.element.offsetHeight;for(var b,c=0,e=this.items.length;c<e;c++)b=this.items[c],b._offsetHeight=b.offsetHeight,b._offsetTop=b.offsetTop,b._offsetBottom=b._offsetTop+b._offsetHeight,b._state="",b.style.opacity=1;
this.top.natural=this.element.scrollTop;this.top.value=this.top.natural;this.top.max=b._offsetBottom-this.listHeight;this.update(!0);this.bind()};m.prototype.bind=function(){var b=this;this.touchStartDelegate=function(c){b.onTouchStart(c)};this.touchMoveDelegate=function(c){b.onTouchMove(c)};this.touchEndDelegate=function(c){b.onTouchEnd(c)};this.element.addEventListener("touchstart",this.touchStartDelegate,!1);this.element.addEventListener("touchmove",this.touchMoveDelegate,!1);this.element.addEventListener("touchend",
this.touchEndDelegate,!1)};m.prototype.onTouchStart=function(b){b.preventDefault();if(1===b.touches.length)if(this.touch.isActive=!0,this.touch.start=b.touches[0].clientY,this.touch.previous=this.touch.start,this.touch.value=this.touch.start,this.touch.offset=0,this.velocity){this.touch.isAccellerating=!0;var c=this;this.touch.accellerateTimeout=setTimeout(function(){c.touch.isAccellerating=!1;c.velocity=0},500)}else this.velocity=0};m.prototype.onTouchMove=function(b){if(1===b.touches.length){var c=
this.touch.value;this.touch.value=b.touches[0].clientY;this.touch.lastMove=Date.now();b=this.touch.value>this.touch.previous&&0>this.velocity||this.touch.value<this.touch.previous&&0<this.velocity;this.touch.isAccellerating&&b?(clearInterval(this.touch.accellerateTimeout),this.velocity+=(this.touch.previous-this.touch.value)/10):(this.velocity=0,this.touch.isAccellerating=!1,this.touch.offset=Math.round(this.touch.start-this.touch.value));this.touch.previous=c}};m.prototype.onTouchEnd=function(b){var c=
this.touch.start-this.touch.value;this.touch.isAccellerating||(this.velocity=(this.touch.start-this.touch.value)/10);if(200<Date.now()-this.touch.lastMove||5>Math.abs(this.touch.previous-this.touch.value))this.velocity=0;this.top.value+=this.touch.offset;this.touch.offset=0;this.touch.start=0;this.touch.value=0;this.touch.isActive=!1;this.touch.isAccellerating=!1;clearInterval(this.touch.accellerateTimeout);(4<Math.abs(this.velocity)||10<Math.abs(c))&&b.preventDefault()};m.prototype.update=function(b){var c=
this.top.value+this.velocity+this.touch.offset;if(this.velocity||this.touch.offset)this.element.scrollTop=c,c=Math.max(0,Math.min(this.element.scrollTop,this.top.max)),this.top.value=c-this.touch.offset;if(!this.touch.isActive||this.touch.isAccellerating)this.velocity*=.95;.15>Math.abs(this.velocity)&&(this.velocity=0);if(c!==this.top.natural||b){this.top.natural=c;this.top.value=c-this.touch.offset;b=c+this.listHeight;for(var e=0,f=this.items.length;e<f;e++){var g=this.items[e];g._offsetBottom<c?
0>=this.velocity&&"past"!==g._state&&(g.classList.add("past"),g._state="past"):g._offsetTop>b?0<=this.velocity&&"future"!==g._state&&(g.classList.add("future"),g._state="future"):g._state&&("past"===g._state&&g.classList.remove("past"),"future"===g._state&&g.classList.remove("future"),g._state="")}}};m.prototype.destroy=function(){q.prototype.destroy.apply(this);this.element.removeEventListener("touchstart",this.touchStartDelegate,!1);this.element.removeEventListener("touchmove",this.touchMoveDelegate,
!1);this.element.removeEventListener("touchend",this.touchEndDelegate,!1)};window.stroll={bind:function(c,e){document.body.classList&&h(c,b,e)},unbind:function(b){document.body.classList&&h(b,e)}};window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){window.setTimeout(b,1E3/60)}}()})();!function(c,b){"function"==typeof define&&define.amd?define(["jquery"],function(c){return b(c)}):"object"==typeof exports?module.exports=b(require("jquery")):b(jQuery)}(this,function(c){function b(b){this.$container;this.constraints=null;this.__$tooltip;this.__init(b)}function e(b,e){var f=!0;return c.each(b,function(c,g){return void 0===e[c]||b[c]!==e[c]?(f=!1,!1):void 0}),f}function f(b){var e=b.attr("id");return(e=e?m.window.document.getElementById(e):null)?e===b[0]:c.contains(m.window.document.body,
b[0])}var h={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:"body",plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,
scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},q="undefined"!=typeof window?window:null,m={hasTouchCapability:!(!q||!("ontouchstart"in q||q.DocumentTouch&&q.document instanceof q.DocumentTouch||q.navigator.maxTouchPoints)),hasTransitions:function(){if(!q)return!1;var b=(q.document.body||q.document.documentElement).style,c="transition",e=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof b[c])return!0;for(var c=
c.charAt(0).toUpperCase()+c.substr(1),f=0;f<e.length;f++)if("string"==typeof b[e[f]+c])return!0;return!1}(),IE:!1,semVer:"4.1.6",window:q},t=function(){this.__$emitterPrivate=c({});this.__$emitterPublic=c({});this.__instancesLatestArr=[];this.__plugins={};this._env=m};t.prototype={__bridge:function(b,e,f){if(!e[f]){var g=function(){};g.prototype=b;var k=new g;k.__init&&k.__init(e);c.each(b,function(b,c){0!=b.indexOf("__")&&(e[b]?h.debug&&console.log("The "+b+" method of the "+f+" plugin conflicts with another plugin or native methods"):
(e[b]=function(){return k[b].apply(k,Array.prototype.slice.apply(arguments))},e[b].bridged=k))});e[f]=k}return this},__setWindow:function(b){return m.window=b,this},_getRuler:function(c){return new b(c)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,
Array.prototype.slice.apply(arguments)),this},_plugin:function(b){if("string"==typeof b){var e=null;return 0<b.indexOf(".")?e=this.__plugins[b]:c.each(this.__plugins,function(c,f){return f.name.substring(f.name.length-b.length-1)=="."+b?(e=f,!1):void 0}),e}if(0>b.name.indexOf("."))throw Error("Plugins must be namespaced");return this.__plugins[b.name]=b,b.core&&this.__bridge(b.core,this,b.name),this},_trigger:function(){var b=Array.prototype.slice.apply(arguments);return"string"==typeof b[0]&&(b[0]=
{type:b[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,b),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,b),this},instances:function(b){var e=[];return c(b||".tooltipstered").each(function(){var b=c(this),f=b.data("tooltipster-ns");f&&c.each(f,function(c,f){e.push(b.data(f))})}),e},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,
Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(b){return c((b?b+" ":"")+".tooltipstered").toArray()},setDefaults:function(b){return c.extend(h,b),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}};c.tooltipster=new t;c.Tooltipster=function(b,e){this.__callbacks={close:[],
open:[]};this.__closingTime;this.__Content;this.__contentBcr;this.__destroying=this.__destroyed=!1;this.__$emitterPrivate=c({});this.__$emitterPublic=c({});this.__enabled=!0;this.__garbageCollector;this.__Geometry;this.__lastPosition;this.__namespace="tooltipster-"+Math.round(1E6*Math.random());this.__options;this.__$originParents;this.__pointerIsOverOrigin=!1;this.__previousThemes=[];this.__state="closed";this.__timeouts={close:[],open:null};this.__touchEvents=[];this.__tracker=null;this._$origin;
this._$tooltip;this.__init(b,e)};c.Tooltipster.prototype={__init:function(b,e){var f=this;if(f._$origin=c(b),f.__options=c.extend(!0,{},h,e),f.__optionsFormat(),!m.IE||m.IE>=f.__options.IEmin){var k=null;if(void 0===f._$origin.data("tooltipster-initialTitle")&&(k=f._$origin.attr("title"),void 0===k&&(k=null),f._$origin.data("tooltipster-initialTitle",k)),null!==f.__options.content)f.__contentSet(f.__options.content);else{var n,q=f._$origin.attr("data-tooltip-content");q&&(n=c(q));n&&n[0]?f.__contentSet(n.first()):
f.__contentSet(k)}f._$origin.removeAttr("title").addClass("tooltipstered");f.__prepareOrigin();f.__prepareGC();c.each(f.__options.plugins,function(b,c){f._plug(c)});m.hasTouchCapability&&c("body").on("touchmove."+f.__namespace+"-triggerOpen",function(b){f._touchRecordEvent(b)});f._on("created",function(){f.__prepareTooltip()})._on("repositioned",function(b){f.__lastPosition=b.position})}else f.__options.disabled=!0},__contentInsert:function(){var b=this._$tooltip.find(".tooltipster-content"),c=this.__Content;
return this._trigger({type:"format",content:this.__Content,format:function(b){c=b}}),this.__options.functionFormat&&(c=this.__options.functionFormat.call(this,this,{origin:this._$origin[0]},this.__Content)),"string"!=typeof c||this.__options.contentAsHTML?b.empty().append(c):b.text(c),this},__contentSet:function(b){return b instanceof c&&this.__options.contentCloning&&(b=b.clone(!0)),this.__Content=b,this._trigger({type:"updated",content:b}),this},__destroyError:function(){throw Error("This tooltip has been destroyed and cannot execute your method call.");
},__geometry:function(){var b=this._$origin,e=this._$origin.is("area");if(e)var f=this._$origin.parent().attr("name"),b=c('img[usemap="#'+f+'"]');var h=b[0].getBoundingClientRect(),q=c(m.window.document),t=c(m.window),f=b,v={available:{document:null,window:null},document:{size:{height:q.height(),width:q.width()}},window:{scroll:{left:m.window.scrollX||m.window.document.documentElement.scrollLeft,top:m.window.scrollY||m.window.document.documentElement.scrollTop},size:{height:t.height(),width:t.width()}},
origin:{fixedLineage:!1,offset:{},size:{height:h.bottom-h.top,width:h.right-h.left},usemapImage:e?b[0]:null,windowOffset:{bottom:h.bottom,left:h.left,right:h.right,top:h.top}}};if(e){var e=this._$origin.attr("shape"),x=this._$origin.attr("coords");if(x&&(x=x.split(","),c.map(x,function(b,c){x[c]=parseInt(b)})),"default"!=e)switch(e){case "circle":e=x[0];b=x[1];h=x[2];v.origin.size.height=2*h;v.origin.size.width=v.origin.size.height;v.origin.windowOffset.left+=e-h;v.origin.windowOffset.top+=b-h;break;
case "rect":e=x[0];b=x[1];h=x[2];v.origin.size.height=x[3]-b;v.origin.size.width=h-e;v.origin.windowOffset.left+=e;v.origin.windowOffset.top+=b;break;case "poly":for(var q=h=b=e=0,t="even",C=0;C<x.length;C++){var F=x[C];"even"==t?(F>h&&(h=F,0===C&&(e=h)),e>F&&(e=F),t="odd"):(F>q&&(q=F,1==C&&(b=q)),b>F&&(b=F),t="even")}v.origin.size.height=q-b;v.origin.size.width=h-e;v.origin.windowOffset.left+=e;v.origin.windowOffset.top+=b}}this._trigger({type:"geometry",edit:function(b){v.origin.size.height=b.height;
v.origin.windowOffset.left=b.left;v.origin.windowOffset.top=b.top;v.origin.size.width=b.width},geometry:{height:v.origin.size.height,left:v.origin.windowOffset.left,top:v.origin.windowOffset.top,width:v.origin.size.width}});v.origin.windowOffset.right=v.origin.windowOffset.left+v.origin.size.width;v.origin.windowOffset.bottom=v.origin.windowOffset.top+v.origin.size.height;v.origin.offset.left=v.origin.windowOffset.left+v.window.scroll.left;v.origin.offset.top=v.origin.windowOffset.top+v.window.scroll.top;
v.origin.offset.bottom=v.origin.offset.top+v.origin.size.height;v.origin.offset.right=v.origin.offset.left+v.origin.size.width;v.available.document={bottom:{height:v.document.size.height-v.origin.offset.bottom,width:v.document.size.width},left:{height:v.document.size.height,width:v.origin.offset.left},right:{height:v.document.size.height,width:v.document.size.width-v.origin.offset.right},top:{height:v.origin.offset.top,width:v.document.size.width}};for(v.available.window={bottom:{height:Math.max(v.window.size.height-
Math.max(v.origin.windowOffset.bottom,0),0),width:v.window.size.width},left:{height:v.window.size.height,width:Math.max(v.origin.windowOffset.left,0)},right:{height:v.window.size.height,width:Math.max(v.window.size.width-Math.max(v.origin.windowOffset.right,0),0)},top:{height:Math.max(v.origin.windowOffset.top,0),width:v.window.size.width}};"html"!=f[0].tagName.toLowerCase();){if("fixed"==f.css("position")){v.origin.fixedLineage=!0;break}f=f.parent()}return v},__optionsFormat:function(){return"number"==
typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),"string"==typeof this.__options.parent&&
(this.__options.parent=c(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var b=this;return b.__options.selfDestruction?b.__garbageCollector=setInterval(function(){var e=(new Date).getTime();
b.__touchEvents=c.grep(b.__touchEvents,function(b,c){return 6E4<e-b.time});f(b._$origin)||b.destroy()},2E4):clearInterval(b.__garbageCollector),b},__prepareOrigin:function(){var b=this;if(b._$origin.off("."+b.__namespace+"-triggerOpen"),m.hasTouchCapability&&b._$origin.on("touchstart."+b.__namespace+"-triggerOpen touchend."+b.__namespace+"-triggerOpen touchcancel."+b.__namespace+"-triggerOpen",function(c){b._touchRecordEvent(c)}),b.__options.triggerOpen.click||b.__options.triggerOpen.tap&&m.hasTouchCapability){var c=
"";b.__options.triggerOpen.click&&(c+="click."+b.__namespace+"-triggerOpen ");b.__options.triggerOpen.tap&&m.hasTouchCapability&&(c+="touchend."+b.__namespace+"-triggerOpen");b._$origin.on(c,function(c){b._touchIsMeaningfulEvent(c)&&b._open(c)})}if(b.__options.triggerOpen.mouseenter||b.__options.triggerOpen.touchstart&&m.hasTouchCapability)c="",b.__options.triggerOpen.mouseenter&&(c+="mouseenter."+b.__namespace+"-triggerOpen "),b.__options.triggerOpen.touchstart&&m.hasTouchCapability&&(c+="touchstart."+
b.__namespace+"-triggerOpen"),b._$origin.on(c,function(c){!b._touchIsTouchEvent(c)&&b._touchIsEmulatedEvent(c)||(b.__pointerIsOverOrigin=!0,b._openShortly(c))});if(b.__options.triggerClose.mouseleave||b.__options.triggerClose.touchleave&&m.hasTouchCapability)c="",b.__options.triggerClose.mouseleave&&(c+="mouseleave."+b.__namespace+"-triggerOpen "),b.__options.triggerClose.touchleave&&m.hasTouchCapability&&(c+="touchend."+b.__namespace+"-triggerOpen touchcancel."+b.__namespace+"-triggerOpen"),b._$origin.on(c,
function(c){b._touchIsMeaningfulEvent(c)&&(b.__pointerIsOverOrigin=!1)});return b},__prepareTooltip:function(){var b=this,e=b.__options.interactive?"auto":"";return b._$tooltip.attr("id",b.__namespace).css({"pointer-events":e,zIndex:b.__options.zIndex}),c.each(b.__previousThemes,function(c,e){b._$tooltip.removeClass(e)}),c.each(b.__options.theme,function(c,e){b._$tooltip.addClass(e)}),b.__previousThemes=c.merge([],b.__options.theme),b},__scrollHandler:function(b){if(this.__options.triggerClose.scroll)this._close(b);
else{if(b.target===m.window.document)this.__Geometry.origin.fixedLineage||this.__options.repositionOnScroll&&this.reposition(b);else{var e=this.__geometry(),f=!1;("fixed"!=this._$origin.css("position")&&this.__$originParents.each(function(b,g){var h=c(g),k=h.css("overflow-x"),n=h.css("overflow-y");if("visible"!=k||"visible"!=n){var m=g.getBoundingClientRect();if("visible"!=k&&(e.origin.windowOffset.left<m.left||e.origin.windowOffset.right>m.right)||"visible"!=n&&(e.origin.windowOffset.top<m.top||
e.origin.windowOffset.bottom>m.bottom))return f=!0,!1}return"fixed"==h.css("position")?!1:void 0}),f)?this._$tooltip.css("visibility","hidden"):(this._$tooltip.css("visibility","visible"),this.__options.repositionOnScroll)?this.reposition(b):this._$tooltip.css({left:this.__lastPosition.coord.left+(e.origin.offset.left-this.__Geometry.origin.offset.left),top:this.__lastPosition.coord.top+(e.origin.offset.top-this.__Geometry.origin.offset.top)})}this._trigger({type:"scroll",event:b})}return this},__stateSet:function(b){return this.__state=
b,this._trigger({type:"state",state:b}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,c.each(this.__timeouts.close,function(b,c){clearTimeout(c)}),this.__timeouts.close=[],this},__trackerStart:function(){var b=this,c=b._$tooltip.find(".tooltipster-content");return b.__options.trackTooltip&&(b.__contentBcr=c[0].getBoundingClientRect()),b.__tracker=setInterval(function(){if(f(b._$origin)&&f(b._$tooltip)){if(b.__options.trackOrigin){var g=b.__geometry(),
h=!1;e(g.origin.size,b.__Geometry.origin.size)&&(b.__Geometry.origin.fixedLineage?e(g.origin.windowOffset,b.__Geometry.origin.windowOffset)&&(h=!0):e(g.origin.offset,b.__Geometry.origin.offset)&&(h=!0));h||(b.__options.triggerClose.mouseleave?b._close():b.reposition())}b.__options.trackTooltip&&(g=c[0].getBoundingClientRect(),g.height===b.__contentBcr.height&&g.width===b.__contentBcr.width||(b.reposition(),b.__contentBcr=g))}else b._close()},b.__options.trackerInterval),b},_close:function(b,e){var f=
this,h=!0;if(f._trigger({type:"close",event:b,stop:function(){h=!1}}),h||f.__destroying){e&&f.__callbacks.close.push(e);f.__callbacks.open=[];f.__timeoutsClear();var k=function(){c.each(f.__callbacks.close,function(c,e){e.call(f,f,{event:b,origin:f._$origin[0]})});f.__callbacks.close=[]};if("closed"!=f.__state){var n=!0,q=(new Date).getTime()+f.__options.animationDuration[1];if("disappearing"==f.__state&&q>f.__closingTime&&(n=!1),n)f.__closingTime=q,"disappearing"!=f.__state&&f.__stateSet("disappearing"),
n=function(){clearInterval(f.__tracker);f._trigger({type:"closing",event:b});f._$tooltip.off("."+f.__namespace+"-triggerClose").removeClass("tooltipster-dying");c(m.window).off("."+f.__namespace+"-triggerClose");f.__$originParents.each(function(b,e){c(e).off("scroll."+f.__namespace+"-triggerClose")});f.__$originParents=null;c("body").off("."+f.__namespace+"-triggerClose");f._$origin.off("."+f.__namespace+"-triggerClose");f._off("dismissable");f.__stateSet("closed");f._trigger({type:"after",event:b});
f.__options.functionAfter&&f.__options.functionAfter.call(f,f,{event:b,origin:f._$origin[0]});k()},m.hasTransitions?(f._$tooltip.css({"-moz-animation-duration":f.__options.animationDuration[1]+"ms","-ms-animation-duration":f.__options.animationDuration[1]+"ms","-o-animation-duration":f.__options.animationDuration[1]+"ms","-webkit-animation-duration":f.__options.animationDuration[1]+"ms","animation-duration":f.__options.animationDuration[1]+"ms","transition-duration":f.__options.animationDuration[1]+
"ms"}),f._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),0<f.__options.animationDuration[1]&&f._$tooltip.delay(f.__options.animationDuration[1]),f._$tooltip.queue(n)):f._$tooltip.stop().fadeOut(f.__options.animationDuration[1],n)}else k()}return f},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),
this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(b,e){var g=this;if(!g.__destroying&&f(g._$origin)&&g.__enabled){var h=!0;if("closed"==g.__state&&(g._trigger({type:"before",event:b,stop:function(){h=!1}}),h&&g.__options.functionBefore&&(h=g.__options.functionBefore.call(g,g,{event:b,origin:g._$origin[0]}))),!1!==h&&null!==g.__Content){e&&g.__callbacks.open.push(e);g.__callbacks.close=[];g.__timeoutsClear();
var k,n=function(){"stable"!=g.__state&&g.__stateSet("stable");c.each(g.__callbacks.open,function(b,c){c.call(g,g,{origin:g._$origin[0],tooltip:g._$tooltip[0]})});g.__callbacks.open=[]};if("closed"!==g.__state)k=0,"disappearing"===g.__state?(g.__stateSet("appearing"),m.hasTransitions?(g._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),0<g.__options.animationDuration[0]&&g._$tooltip.delay(g.__options.animationDuration[0]),g._$tooltip.queue(n)):g._$tooltip.stop().fadeIn(n)):
"stable"==g.__state&&n();else{if(g.__stateSet("appearing"),k=g.__options.animationDuration[0],g.__contentInsert(),g.reposition(b,!0),m.hasTransitions?(g._$tooltip.addClass("tooltipster-"+g.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":g.__options.animationDuration[0]+"ms","-ms-animation-duration":g.__options.animationDuration[0]+"ms","-o-animation-duration":g.__options.animationDuration[0]+"ms","-webkit-animation-duration":g.__options.animationDuration[0]+"ms",
"animation-duration":g.__options.animationDuration[0]+"ms","transition-duration":g.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=g.__state&&(g._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),0<g.__options.animationDuration[0]&&g._$tooltip.delay(g.__options.animationDuration[0]),g._$tooltip.queue(n))},0)):g._$tooltip.css("display","none").fadeIn(g.__options.animationDuration[0],n),g.__trackerStart(),c(m.window).on("resize."+g.__namespace+"-triggerClose",
function(b){var e=c(document.activeElement);(e.is("input")||e.is("textarea"))&&c.contains(g._$tooltip[0],e[0])||g.reposition(b)}).on("scroll."+g.__namespace+"-triggerClose",function(b){g.__scrollHandler(b)}),g.__$originParents=g._$origin.parents(),g.__$originParents.each(function(b,e){c(e).on("scroll."+g.__namespace+"-triggerClose",function(b){g.__scrollHandler(b)})}),g.__options.triggerClose.mouseleave||g.__options.triggerClose.touchleave&&m.hasTouchCapability){g._on("dismissable",function(b){b.dismissable?
b.delay?(F=setTimeout(function(){g._close(b.event)},b.delay),g.__timeouts.close.push(F)):g._close(b):clearTimeout(F)});var q=g._$origin,t="",C="",F=null;g.__options.interactive&&(q=q.add(g._$tooltip));g.__options.triggerClose.mouseleave&&(t+="mouseenter."+g.__namespace+"-triggerClose ",C+="mouseleave."+g.__namespace+"-triggerClose ");g.__options.triggerClose.touchleave&&m.hasTouchCapability&&(t+="touchstart."+g.__namespace+"-triggerClose",C+="touchend."+g.__namespace+"-triggerClose touchcancel."+
g.__namespace+"-triggerClose");q.on(C,function(b){!g._touchIsTouchEvent(b)&&g._touchIsEmulatedEvent(b)||g._trigger({delay:("mouseleave"==b.type?g.__options.delay:g.__options.delayTouch)[1],dismissable:!0,event:b,type:"dismissable"})}).on(t,function(b){!g._touchIsTouchEvent(b)&&g._touchIsEmulatedEvent(b)||g._trigger({dismissable:!1,event:b,type:"dismissable"})})}g.__options.triggerClose.originClick&&g._$origin.on("click."+g.__namespace+"-triggerClose",function(b){g._touchIsTouchEvent(b)||g._touchIsEmulatedEvent(b)||
g._close(b)});(g.__options.triggerClose.click||g.__options.triggerClose.tap&&m.hasTouchCapability)&&setTimeout(function(){if("closed"!=g.__state){var b="";g.__options.triggerClose.click&&(b+="click."+g.__namespace+"-triggerClose ");g.__options.triggerClose.tap&&m.hasTouchCapability&&(b+="touchend."+g.__namespace+"-triggerClose");c("body").on(b,function(b){g._touchIsMeaningfulEvent(b)&&(g._touchRecordEvent(b),g.__options.interactive&&c.contains(g._$tooltip[0],b.target)||g._close(b))});g.__options.triggerClose.tap&&
m.hasTouchCapability&&c("body").on("touchstart."+g.__namespace+"-triggerClose",function(b){g._touchRecordEvent(b)})}},0);g._trigger("ready");g.__options.functionReady&&g.__options.functionReady.call(g,g,{origin:g._$origin[0],tooltip:g._$tooltip[0]})}0<g.__options.timer&&(F=setTimeout(function(){g._close()},g.__options.timer+k),g.__timeouts.close.push(F))}}return g},_openShortly:function(b){var c=this,e=!0;if("stable"!=c.__state&&"appearing"!=c.__state&&!c.__timeouts.open&&(c._trigger({type:"start",
event:b,stop:function(){e=!1}}),e)){var f=0==b.type.indexOf("touch")?c.__options.delayTouch:c.__options.delay;f[0]?c.__timeouts.open=setTimeout(function(){c.__timeouts.open=null;c.__pointerIsOverOrigin&&c._touchIsMeaningfulEvent(b)?(c._trigger("startend"),c._open(b)):c._trigger("startcancel")},f[0]):(c._trigger("startend"),c._open(b))}return c},_optionsExtract:function(b,e){var f=this,h=c.extend(!0,{},e),k=f.__options[b];return k||(k={},c.each(e,function(b,c){var e=f.__options[b];void 0!==e&&(k[b]=
e)})),c.each(h,function(b,e){void 0!==k[b]&&("object"!=typeof e||e instanceof Array||null==e||"object"!=typeof k[b]||k[b]instanceof Array||null==k[b]?h[b]=k[b]:c.extend(h[b],k[b]))}),h},_plug:function(b){var e=c.tooltipster._plugin(b);if(!e)throw Error('The "'+b+'" plugin is not defined');return e.instance&&c.tooltipster.__bridge(e.instance,this,e.name),this},_touchIsEmulatedEvent:function(b){for(var c=!1,e=(new Date).getTime(),f=this.__touchEvents.length-1;0<=f;f--){var h=this.__touchEvents[f];if(!(500>
e-h.time))break;h.target===b.target&&(c=!0)}return c},_touchIsMeaningfulEvent:function(b){return this._touchIsTouchEvent(b)&&!this._touchSwiped(b.target)||!this._touchIsTouchEvent(b)&&!this._touchIsEmulatedEvent(b)},_touchIsTouchEvent:function(b){return 0==b.type.indexOf("touch")},_touchRecordEvent:function(b){return this._touchIsTouchEvent(b)&&(b.time=(new Date).getTime(),this.__touchEvents.push(b)),this},_touchSwiped:function(b){for(var c=!1,e=this.__touchEvents.length-1;0<=e;e--){var f=this.__touchEvents[e];
if("touchmove"==f.type){c=!0;break}if("touchstart"==f.type&&b===f.target)break}return c},_trigger:function(){var b=Array.prototype.slice.apply(arguments);return"string"==typeof b[0]&&(b[0]={type:b[0]}),b[0].instance=this,b[0].origin=this._$origin?this._$origin[0]:null,b[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,b),c.tooltipster._trigger.apply(c.tooltipster,b),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,b),this},_unplug:function(b){var e=
this;if(e[b]){var f=c.tooltipster._plugin(b);f.instance&&c.each(f.instance,function(c,f){e[c]&&e[c].bridged===e[b]&&delete e[c]});e[b].__destroy&&e[b].__destroy();delete e[b]}return e},close:function(b){return this.__destroyed?this.__destroyError():this._close(null,b),this},content:function(b){var c=this;if(void 0===b)return c.__Content;if(c.__destroyed)c.__destroyError();else if(c.__contentSet(b),null!==c.__Content){if("closed"!==c.__state&&(c.__contentInsert(),c.reposition(),c.__options.updateAnimation))if(m.hasTransitions){var e=
c.__options.updateAnimation;c._$tooltip.addClass("tooltipster-update-"+e);setTimeout(function(){"closed"!=c.__state&&c._$tooltip.removeClass("tooltipster-update-"+e)},1E3)}else c._$tooltip.fadeTo(200,.5,function(){"closed"!=c.__state&&c._$tooltip.fadeTo(200,1)})}else c._close();return c},destroy:function(){var b=this;return b.__destroyed?b.__destroyError():b.__destroying||(b.__destroying=!0,b._close(null,function(){b._trigger("destroy");b.__destroying=!1;b.__destroyed=!0;b._$origin.removeData(b.__namespace).off("."+
b.__namespace+"-triggerOpen");c("body").off("."+b.__namespace+"-triggerOpen");var e=b._$origin.data("tooltipster-ns");e&&(1===e.length?(e=null,"previous"==b.__options.restoration?e=b._$origin.data("tooltipster-initialTitle"):"current"==b.__options.restoration&&(e="string"==typeof b.__Content?b.__Content:c("<div></div>").append(b.__Content).html()),e&&b._$origin.attr("title",e),b._$origin.removeClass("tooltipstered"),b._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")):(e=
c.grep(e,function(c,e){return c!==b.__namespace}),b._$origin.data("tooltipster-ns",e)));b._trigger("destroyed");b._off();b.off();b.__Content=null;b.__$emitterPrivate=null;b.__$emitterPublic=null;b.__options.parent=null;b._$origin=null;b._$tooltip=null;c.tooltipster.__instancesLatestArr=c.grep(c.tooltipster.__instancesLatestArr,function(c,e){return b!==c});clearInterval(b.__garbageCollector)})),b},disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=
!1,this)},elementOrigin:function(){return this.__destroyed?void this.__destroyError():this._$origin[0]},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(b){return this.close(b)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,
Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(b){return this.__destroyed||this.__destroying?this.__destroyError():this._open(null,b),this},option:function(b,e){return void 0===e?this.__options[b]:(this.__destroyed?this.__destroyError():(this.__options[b]=e,this.__optionsFormat(),0<=c.inArray(b,["trigger","triggerClose","triggerOpen"])&&
this.__prepareOrigin(),"selfDestruction"===b&&this.__prepareGC()),this)},reposition:function(b,c){return this.__destroyed?this.__destroyError():"closed"!=this.__state&&f(this._$origin)&&(c||f(this._$tooltip))&&(c||this._$tooltip.detach(),this.__Geometry=this.__geometry(),this._trigger({type:"reposition",event:b,helper:{geo:this.__Geometry}})),this},show:function(b){return this.open(b)},status:function(){return{destroyed:this.__destroyed,destroying:this.__destroying,enabled:this.__enabled,open:"closed"!==
this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}};c.fn.tooltipster=function(){var b=Array.prototype.slice.apply(arguments);if(0===this.length)return this;if("string"==typeof b[0]){var e="#*$~&";return this.each(function(){var f=c(this).data("tooltipster-ns"),f=f?c(this).data(f[0]):null;if(!f)throw Error("You called Tooltipster's \""+
b[0]+'" method on an uninitialized element');if("function"!=typeof f[b[0]])throw Error('Unknown method "'+b[0]+'"');1<this.length&&"content"==b[0]&&(b[1]instanceof c||"object"==typeof b[1]&&null!=b[1]&&b[1].tagName)&&!f.__options.contentCloning&&f.__options.debug&&console.log("You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.");var g=f[b[0]](b[1],b[2]);return g!==f||"instance"===b[0]?(e=g,!1):void 0}),"#*$~&"!==e?e:this}c.tooltipster.__instancesLatestArr=
[];var f=b[0]&&void 0!==b[0].multiple,m=f&&b[0].multiple||!f&&h.multiple,f=(f=b[0]&&void 0!==b[0].content)&&b[0].content||!f&&h.content,q=b[0]&&void 0!==b[0].contentCloning,q=q&&b[0].contentCloning||!q&&h.contentCloning,t=b[0]&&void 0!==b[0].debug,v=t&&b[0].debug||!t&&h.debug;return 1<this.length&&(f instanceof c||"object"==typeof f&&null!=f&&f.tagName)&&!q&&v&&console.log("You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE."),
this.each(function(){var e=!1,f=c(this),g=f.data("tooltipster-ns"),h=null;g?m?e=!0:v&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):e=!0;e&&(h=new c.Tooltipster(this,b[0]),g||(g=[]),g.push(h.__namespace),f.data("tooltipster-ns",g),f.data(h.__namespace,h),h.__options.functionInit&&h.__options.functionInit.call(h,h,{origin:this}),h._trigger("init"));c.tooltipster.__instancesLatestArr.push(h)}),this};b.prototype={__init:function(b){this.__$tooltip=
b;this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto");this.$container=c('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo("body")},__forceRedraw:function(){var b=this.__$tooltip.parent();this.__$tooltip.detach();this.__$tooltip.appendTo(b)},constrain:function(b,c){return this.constraints={width:b,height:c},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:b}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",
overflow:""});this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var b=this.__$tooltip[0].getBoundingClientRect(),c={size:{height:b.height||b.bottom,width:b.width||b.right}};if(this.constraints){var e=this.__$tooltip.find(".tooltipster-content"),f=this.__$tooltip.outerHeight(),h=e[0].getBoundingClientRect(),b=b.width<=this.constraints.width&&h.width>=e[0].scrollWidth-
1;c.fits=f<=this.constraints.height&&b}return m.IE&&11>=m.IE&&c.size.width!==m.window.document.documentElement.clientWidth&&(c.size.width=Math.ceil(c.size.width)+1),c}};t=navigator.userAgent.toLowerCase();-1!=t.indexOf("msie")?m.IE=parseInt(t.split("msie")[1]):-1!==t.toLowerCase().indexOf("trident")&&-1!==t.indexOf(" rv:11")?m.IE=11:-1!=t.toLowerCase().indexOf("edge/")&&(m.IE=parseInt(t.toLowerCase().split("edge/")[1]));return c.tooltipster._plugin({name:"tooltipster.sideTip",instance:{__defaults:function(){return{arrow:!0,
distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(b){var c=this;c.__instance=b;c.__namespace="tooltipster-sideTip-"+Math.round(1E6*Math.random());c.__previousState="closed";c.__options;c.__optionsFormat();c.__instance._on("state."+c.__namespace,function(b){"closed"==b.state?c.__close():"appearing"==b.state&&"closed"==c.__previousState&&c.__create();c.__previousState=b.state});c.__instance._on("options."+c.__namespace,
function(){c.__optionsFormat()});c.__instance._on("reposition."+c.__namespace,function(b){c.__reposition(b.event,b.helper)})},__close:function(){this.__instance.content()instanceof c&&this.__instance.content().detach();this.__instance._$tooltip.remove();this.__instance._$tooltip=null},__create:function(){var b=c('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');
this.__options.arrow||b.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide();this.__options.minWidth&&b.css("min-width",this.__options.minWidth+"px");this.__options.maxWidth&&b.css("max-width",this.__options.maxWidth+"px");this.__instance._$tooltip=b;this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){if(this.__options=this.__instance._optionsExtract("tooltipster.sideTip",this.__defaults()),this.__options.position&&
(this.__options.side=this.__options.position),"object"!=typeof this.__options.distance&&(this.__options.distance=[this.__options.distance]),4>this.__options.distance.length&&(void 0===this.__options.distance[1]&&(this.__options.distance[1]=this.__options.distance[0]),void 0===this.__options.distance[2]&&(this.__options.distance[2]=this.__options.distance[0]),void 0===this.__options.distance[3]&&(this.__options.distance[3]=this.__options.distance[1]),this.__options.distance={top:this.__options.distance[0],
right:this.__options.distance[1],bottom:this.__options.distance[2],left:this.__options.distance[3]}),"string"==typeof this.__options.side)this.__options.side=[this.__options.side,{top:"bottom",right:"left",bottom:"top",left:"right"}[this.__options.side]],"left"==this.__options.side[0]||"right"==this.__options.side[0]?this.__options.side.push("top","bottom"):this.__options.side.push("right","left");6===c.tooltipster._env.IE&&!0!==this.__options.arrow&&(this.__options.arrow=!1)},__reposition:function(b,
e){var f,h=this,k=h.__targetFind(e),m=[];h.__instance._$tooltip.detach();var n=h.__instance._$tooltip.clone(),q=c.tooltipster._getRuler(n),t=!1,F=h.__instance.option("animation");switch(F&&n.removeClass("tooltipster-"+F),c.each(["window","document"],function(f,g){var u=null;if(h.__instance._trigger({container:g,helper:e,satisfied:t,takeTest:function(b){u=b},results:m,type:"positionTest"}),1==u||0!=u&&0==t&&("window"!=g||h.__options.viewportAware))for(f=0;f<h.__options.side.length;f++){var v={horizontal:0,
vertical:0},w=h.__options.side[f];"top"==w||"bottom"==w?v.vertical=h.__options.distance[w]:v.horizontal=h.__options.distance[w];h.__sideChange(n,w);c.each(["natural","constrained"],function(c,f){if(u=null,h.__instance._trigger({container:g,event:b,helper:e,mode:f,results:m,satisfied:t,side:w,takeTest:function(b){u=b},type:"positionTest"}),1==u||0!=u&&0==t){var n={container:g,distance:v,fits:null,mode:f,outerSize:null,side:w,size:null,target:k[w],whole:null},x=("natural"==f?q.free():q.constrain(e.geo.available[g][w].width-
v.horizontal,e.geo.available[g][w].height-v.vertical)).measure();if(n.size=x.size,n.outerSize={height:x.size.height+v.vertical,width:x.size.width+v.horizontal},"natural"==f?e.geo.available[g][w].width>=n.outerSize.width&&e.geo.available[g][w].height>=n.outerSize.height?n.fits=!0:n.fits=!1:n.fits=x.fits,"window"==g&&(n.fits?"top"==w||"bottom"==w?n.whole=e.geo.origin.windowOffset.right>=h.__options.minIntersection&&e.geo.window.size.width-e.geo.origin.windowOffset.left>=h.__options.minIntersection:
n.whole=e.geo.origin.windowOffset.bottom>=h.__options.minIntersection&&e.geo.window.size.height-e.geo.origin.windowOffset.top>=h.__options.minIntersection:n.whole=!1),m.push(n),n.whole)t=!0;else if("natural"==n.mode&&(n.fits||n.size.width<=e.geo.available[g][w].width))return!1}})}}),h.__instance._trigger({edit:function(b){m=b},event:b,helper:e,results:m,type:"positionTested"}),m.sort(function(b,c){if(b.whole&&!c.whole)return-1;if(!b.whole&&c.whole)return 1;if(b.whole&&c.whole){var e=h.__options.side.indexOf(b.side),
f=h.__options.side.indexOf(c.side);return f>e?-1:e>f?1:"natural"==b.mode?-1:1}return b.fits&&!c.fits?-1:!b.fits&&c.fits?1:b.fits&&c.fits?(e=h.__options.side.indexOf(b.side),f=h.__options.side.indexOf(c.side),f>e?-1:e>f?1:"natural"==b.mode?-1:1):"document"==b.container&&"bottom"==b.side&&"natural"==b.mode?-1:1}),f=m[0],f.coord={},f.side){case "left":case "right":f.coord.top=Math.floor(f.target-f.size.height/2);break;case "bottom":case "top":f.coord.left=Math.floor(f.target-f.size.width/2)}switch(f.side){case "left":f.coord.left=
e.geo.origin.windowOffset.left-f.outerSize.width;break;case "right":f.coord.left=e.geo.origin.windowOffset.right+f.distance.horizontal;break;case "top":f.coord.top=e.geo.origin.windowOffset.top-f.outerSize.height;break;case "bottom":f.coord.top=e.geo.origin.windowOffset.bottom+f.distance.vertical}"window"==f.container?"top"==f.side||"bottom"==f.side?0>f.coord.left?0<=e.geo.origin.windowOffset.right-this.__options.minIntersection?f.coord.left=0:f.coord.left=e.geo.origin.windowOffset.right-this.__options.minIntersection-
1:f.coord.left>e.geo.window.size.width-f.size.width&&(e.geo.origin.windowOffset.left+this.__options.minIntersection<=e.geo.window.size.width?f.coord.left=e.geo.window.size.width-f.size.width:f.coord.left=e.geo.origin.windowOffset.left+this.__options.minIntersection+1-f.size.width):0>f.coord.top?0<=e.geo.origin.windowOffset.bottom-this.__options.minIntersection?f.coord.top=0:f.coord.top=e.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:f.coord.top>e.geo.window.size.height-f.size.height&&
(e.geo.origin.windowOffset.top+this.__options.minIntersection<=e.geo.window.size.height?f.coord.top=e.geo.window.size.height-f.size.height:f.coord.top=e.geo.origin.windowOffset.top+this.__options.minIntersection+1-f.size.height):(f.coord.left>e.geo.window.size.width-f.size.width&&(f.coord.left=e.geo.window.size.width-f.size.width),0>f.coord.left&&(f.coord.left=0));h.__sideChange(n,f.side);e.tooltipClone=n[0];e.tooltipParent=h.__instance.option("parent").parent[0];e.mode=f.mode;e.whole=f.whole;e.origin=
h.__instance._$origin[0];e.tooltip=h.__instance._$tooltip[0];delete f.container;delete f.fits;delete f.mode;delete f.outerSize;delete f.whole;f.distance=f.distance.horizontal||f.distance.vertical;F=c.extend(!0,{},f);(h.__instance._trigger({edit:function(b){f=b},event:b,helper:e,position:F,type:"position"}),h.__options.functionPosition)&&(F=h.__options.functionPosition.call(h,h.__instance,e,F))&&(f=F);q.destroy();var D,H;"top"==f.side||"bottom"==f.side?(D={prop:"left",val:f.target-f.coord.left},H=
f.size.width-this.__options.minIntersection):(D={prop:"top",val:f.target-f.coord.top},H=f.size.height-this.__options.minIntersection);D.val<this.__options.minIntersection?D.val=this.__options.minIntersection:D.val>H&&(D.val=H);H=e.geo.origin.fixedLineage?e.geo.origin.windowOffset:{left:e.geo.origin.windowOffset.left+e.geo.window.scroll.left,top:e.geo.origin.windowOffset.top+e.geo.window.scroll.top};f.coord={left:H.left+(f.coord.left-e.geo.origin.windowOffset.left),top:H.top+(f.coord.top-e.geo.origin.windowOffset.top)};
h.__sideChange(h.__instance._$tooltip,f.side);e.geo.origin.fixedLineage?h.__instance._$tooltip.css("position","fixed"):h.__instance._$tooltip.css("position","");h.__instance._$tooltip.css({left:f.coord.left,top:f.coord.top,height:f.size.height,width:f.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(D.prop,D.val);h.__instance._$tooltip.appendTo(h.__instance.option("parent"));h.__instance._trigger({type:"repositioned",event:b,position:f})},__sideChange:function(b,c){b.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+
c)},__targetFind:function(b){var c={},e=this.__instance._$origin[0].getClientRects();1<e.length&&1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),e=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1));2>e.length?(c.top=Math.floor(b.geo.origin.windowOffset.left+b.geo.origin.size.width/2),c.bottom=c.top,c.left=Math.floor(b.geo.origin.windowOffset.top+b.geo.origin.size.height/2),c.right=c.left):(b=e[0],c.top=Math.floor(b.left+
(b.right-b.left)/2),b=2<e.length?e[Math.ceil(e.length/2)-1]:e[0],c.right=Math.floor(b.top+(b.bottom-b.top)/2),b=e[e.length-1],c.bottom=Math.floor(b.left+(b.right-b.left)/2),b=2<e.length?e[Math.ceil((e.length+1)/2)-1]:e[e.length-1],c.left=Math.floor(b.top+(b.bottom-b.top)/2));return c}}}),c});void 0===Date.now&&(Date.now=function(){return(new Date).valueOf()});
var TWEEN=TWEEN||function(){var c=[];return{REVISION:"14",getAll:function(){return c},removeAll:function(){c=[]},add:function(b){c.push(b)},remove:function(b){b=c.indexOf(b);-1!==b&&c.splice(b,1)},update:function(b){if(0===c.length)return!1;var e=0;for(b=void 0!==b?b:"undefined"!==typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now();e<c.length;)c[e].update(b)?e++:c.splice(e,1);return!0}}}();
TWEEN.Tween=function(c){var b={},e={},f={},h=1E3,q=0,m=!1,t=!1,k=0,n=null,g=TWEEN.Easing.Linear.None,y=TWEEN.Interpolation.Linear,z=[],u=null,v=!1,x=null,C=null,F=null,D;for(D in c)b[D]=parseFloat(c[D],10);this.to=function(b,c){void 0!==c&&(h=c);e=b;return this};this.start=function(g){TWEEN.add(this);t=!0;v=!1;n=void 0!==g?g:"undefined"!==typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now();n+=k;for(var h in e){if(e[h]instanceof Array){if(0===
e[h].length)continue;e[h]=[c[h]].concat(e[h])}b[h]=c[h];!1===b[h]instanceof Array&&(b[h]*=1);f[h]=b[h]||0}return this};this.stop=function(){if(!t)return this;TWEEN.remove(this);t=!1;null!==F&&F.call(c);this.stopChainedTweens();return this};this.stopChainedTweens=function(){for(var b=0,c=z.length;b<c;b++)z[b].stop()};this.delay=function(b){k=b;return this};this.repeat=function(b){q=b;return this};this.yoyo=function(b){m=b;return this};this.easing=function(b){g=b;return this};this.interpolation=function(b){y=
b;return this};this.chain=function(){z=arguments;return this};this.onStart=function(b){u=b;return this};this.onUpdate=function(b){x=b;return this};this.onComplete=function(b){C=b;return this};this.onStop=function(b){F=b;return this};this.update=function(t){var D;if(t<n)return!0;!1===v&&(null!==u&&u.call(c),v=!0);var w=(t-n)/h,w=1<w?1:w,F=g(w);for(D in e){var H=b[D]||0,E=e[D];E instanceof Array?c[D]=y(E,F):("string"===typeof E&&(E=H+parseFloat(E,10)),"number"===typeof E&&(c[D]=H+(E-H)*F))}null!==x&&
x.call(c,F);if(1==w)if(0<q){isFinite(q)&&q--;for(D in f)"string"===typeof e[D]&&(f[D]+=parseFloat(e[D],10)),m&&(w=f[D],f[D]=e[D],e[D]=w),b[D]=f[D];n=t+k}else{null!==C&&C.call(c);D=0;for(w=z.length;D<w;D++)z[D].start(t);return!1}return!0}};
TWEEN.Easing={Linear:{None:function(c){return c}},Quadratic:{In:function(c){return c*c},Out:function(c){return c*(2-c)},InOut:function(c){return 1>(c*=2)?.5*c*c:-.5*(--c*(c-2)-1)}},Cubic:{In:function(c){return c*c*c},Out:function(c){return--c*c*c+1},InOut:function(c){return 1>(c*=2)?.5*c*c*c:.5*((c-=2)*c*c+2)}},Quartic:{In:function(c){return c*c*c*c},Out:function(c){return 1- --c*c*c*c},InOut:function(c){return 1>(c*=2)?.5*c*c*c*c:-.5*((c-=2)*c*c*c-2)}},Quintic:{In:function(c){return c*c*c*c*c},Out:function(c){return--c*
c*c*c*c+1},InOut:function(c){return 1>(c*=2)?.5*c*c*c*c*c:.5*((c-=2)*c*c*c*c+2)}},Sinusoidal:{In:function(c){return 1-Math.cos(c*Math.PI/2)},Out:function(c){return Math.sin(c*Math.PI/2)},InOut:function(c){return.5*(1-Math.cos(Math.PI*c))}},Exponential:{In:function(c){return 0===c?0:Math.pow(1024,c-1)},Out:function(c){return 1===c?1:1-Math.pow(2,-10*c)},InOut:function(c){return 0===c?0:1===c?1:1>(c*=2)?.5*Math.pow(1024,c-1):.5*(-Math.pow(2,-10*(c-1))+2)}},Circular:{In:function(c){return 1-Math.sqrt(1-
c*c)},Out:function(c){return Math.sqrt(1- --c*c)},InOut:function(c){return 1>(c*=2)?-.5*(Math.sqrt(1-c*c)-1):.5*(Math.sqrt(1-(c-=2)*c)+1)}},Elastic:{In:function(c){var b,e=.1;if(0===c)return 0;if(1===c)return 1;!e||1>e?(e=1,b=.1):b=.4*Math.asin(1/e)/(2*Math.PI);return-(e*Math.pow(2,10*--c)*Math.sin(2*(c-b)*Math.PI/.4))},Out:function(c){var b,e=.1;if(0===c)return 0;if(1===c)return 1;!e||1>e?(e=1,b=.1):b=.4*Math.asin(1/e)/(2*Math.PI);return e*Math.pow(2,-10*c)*Math.sin(2*(c-b)*Math.PI/.4)+1},InOut:function(c){var b,
e=.1;if(0===c)return 0;if(1===c)return 1;!e||1>e?(e=1,b=.1):b=.4*Math.asin(1/e)/(2*Math.PI);return 1>(c*=2)?-.5*e*Math.pow(2,10*--c)*Math.sin(2*(c-b)*Math.PI/.4):.5*e*Math.pow(2,-10*--c)*Math.sin(2*(c-b)*Math.PI/.4)+1}},Back:{In:function(c){return c*c*(2.70158*c-1.70158)},Out:function(c){return--c*c*(2.70158*c+1.70158)+1},InOut:function(c){return 1>(c*=2)?.5*c*c*(3.5949095*c-2.5949095):.5*((c-=2)*c*(3.5949095*c+2.5949095)+2)}},Bounce:{In:function(c){return 1-TWEEN.Easing.Bounce.Out(1-c)},Out:function(c){return c<
1/2.75?7.5625*c*c:c<2/2.75?7.5625*(c-=1.5/2.75)*c+.75:c<2.5/2.75?7.5625*(c-=2.25/2.75)*c+.9375:7.5625*(c-=2.625/2.75)*c+.984375},InOut:function(c){return.5>c?.5*TWEEN.Easing.Bounce.In(2*c):.5*TWEEN.Easing.Bounce.Out(2*c-1)+.5}}};
TWEEN.Interpolation={Linear:function(c,b){var e=c.length-1,f=e*b,h=Math.floor(f),q=TWEEN.Interpolation.Utils.Linear;return 0>b?q(c[0],c[1],f):1<b?q(c[e],c[e-1],e-f):q(c[h],c[h+1>e?e:h+1],f-h)},Bezier:function(c,b){var e=0,f=c.length-1,h=Math.pow,q=TWEEN.Interpolation.Utils.Bernstein,m;for(m=0;m<=f;m++)e+=h(1-b,f-m)*h(b,m)*c[m]*q(f,m);return e},CatmullRom:function(c,b){var e=c.length-1,f=e*b,h=Math.floor(f),q=TWEEN.Interpolation.Utils.CatmullRom;return c[0]===c[e]?(0>b&&(h=Math.floor(f=e*(1+b))),q(c[(h-
1+e)%e],c[h],c[(h+1)%e],c[(h+2)%e],f-h)):0>b?c[0]-(q(c[0],c[0],c[1],c[1],-f)-c[0]):1<b?c[e]-(q(c[e],c[e],c[e-1],c[e-1],f-e)-c[e]):q(c[h?h-1:0],c[h],c[e<h+1?e:h+1],c[e<h+2?e:h+2],f-h)},Utils:{Linear:function(c,b,e){return(b-c)*e+c},Bernstein:function(c,b){var e=TWEEN.Interpolation.Utils.Factorial;return e(c)/e(b)/e(c-b)},Factorial:function(){var c=[1];return function(b){var e=1,f;if(c[b])return c[b];for(f=b;1<f;f--)e*=f;return c[b]=e}}(),CatmullRom:function(c,b,e,f,h){c=.5*(e-c);f=.5*(f-b);var q=h*
h;return(2*b-2*e+c+f)*h*q+(-3*b+3*e-2*c-f)*q+c*h+b}}};eval(function(c,b,e,f,h,q){h=function(b){return b};if(!"".replace(/^/,String)){for(;e--;)q[e]=f[e]||e;f=[function(b){return q[b]}];h=function(){return"\\w+"};e=1}for(;e--;)f[e]&&(c=c.replace(new RegExp("\\b"+h(e)+"\\b","g"),f[e]));return c}('9 8={"7":6,"5":"4 3 2","1":"0"};',10,10,"Desktop form_factor browser web generic complete_device_name false is_mobile WURFL var".split(" "),0,{}));engineGUI=window.engineGUI||{};
engineGUI.open=function(c,b){SCENEID=b;$("#start").remove();$("#scene").remove();spinner.appendTo("body");$.ajax("scenes/"+b+".json",{contentType:"application/json",dataType:"json",success:function(b){json=b;console.log(json);1===c?setTimeout(function(){engine3D.cameraAnimate(0,20,0,1500)},500):2===c?(SCENE="floor",engine3D.setLights(),engine3D.buildPanorama(skyFloorMesh,"0000",75,75,75,"",null),scene3D.remove(skyMesh),scene3D.remove(weatherSkyCloudsMesh),scene3D.remove(weatherSkyRainbowMesh),scene3D.remove(scene3DHouseGroundContainer),
scene3D.add(skyFloorMesh),scene3D.add(scene3DFloorGroundContainer),setTimeout(function(){engine3D.cameraAnimate(0,20,0,1500)},800)):3===c&&engine2D.show();engine2D.open();engine3D.open();setTimeout(function(){spinner.remove();$("#menuAgent").show();1==c?engine3D.showHouse():2==c?engine3D.showFloor(1):3==c&&engine2D.show();$.each(json.plan,function(){$.each(this,function(){console.log(this.name)})});setTimeout(function(){scene3DAnimateRotate=json.settings.autorotate},4E3)},2E3)},error:function(b,c,
h){spinner.remove();alertify.alert("Cannot load scene json file: "+b.responseText).show()}})};
engineGUI.save=function(c){setTimeout(function(){if(c)if(""===SESSION)window.location="#openLogin";else{var b=new FormData;b.append("file",json);$.ajax("php/objects.php?upload=scene",{type:"POST",contentType:"application/octet-stream",processData:!1,data:b,success:function(b,c){"error"!=b.status&&alert("ok")},error:function(){alert("not so ok")}});window.location="#close"}else saveAs(json,"scene.json"),window.location="#close"},4E3)};
function imageBase64(c){c=document.getElementById(c);var b=document.createElement("canvas");b.width=c.width;b.height=c.height;b.getContext("2d").drawImage(c,0,0);return b.toDataURL("image/png").replace(/^data:image\/(png|jpg);base64,/,"")};$(document).ready(function(){$("#search-box").keyup(function(c){if(38==c.keyCode)$("#search_suggestion_holder").is(":visible")&&($(".selected").is(":visible")?(c=$("#search_suggestion_holder li").index($("#search_suggestion_holder li.selected")),$("#search_suggestion_holder li.selected").removeClass("selected"),c--,$("#search_suggestion_holder li:eq("+c+")").addClass("selected")):$("#search_suggestion_holder li").last().addClass("selected"));else if(40==c.keyCode)$("#search_suggestion_holder").is(":visible")&&
($(".selected").is(":visible")?(c=$("#search_suggestion_holder li").index($("#search_suggestion_holder li.selected")),$("#search_suggestion_holder li.selected").removeClass("selected"),c++,$("#search_suggestion_holder li:eq("+c+")").addClass("selected")):$("#search_suggestion_holder li").first().addClass("selected"));else if(13==c.keyCode)$(".selected").is(":visible")&&(c=$(".selected").text(),$("#search-box").val(c),$("#search_suggestion_holder").hide());else{var b=$(this).val();$("#search-close").hide();
$("#loader").show();setTimeout(function(){$.ajax({url:"php/search.php",data:"keyword="+b,success:function(b){$("#search_suggestion_holder").html(b);$("#search_suggestion_holder").show();$("#loader").hide();$("#search-close").show()}})},400)}});$("#search_suggestion_holder").on("click","li",function(){$("#search_suggestion_holder").hide()})});var engine3D=window.engine3D||{},engine2D=window.engine2D||{},scene3D,scene3DCube,scene2D,canvas2D,scene2DAdvanced,physics3D,dpr,renderer,rendererCube,rendererQuad=[4],camera3DQuad=[4],camera3DQuadGrid,scene3DRoofContainer,scene3DHouseContainer,_scene3DHouseGroundContainer,scene3DHouseGroundContainer,scene3DHouseFXContainer,scene3DFloorGroundContainer,scene3DCutawayPlaneMesh,scene3DLevelGroundContainer,scene3DLevelWallContainer,scene3DFloorFurnitureContainer=[],scene3DFloorMeasurementsContainer=[],
scene3DFloorWallContainer=[],scene3DFloorDoorContainer=[],scene3DFloorWindowContainer=[],scene3DFloorShapeContainer=[],scene3DCeilingShapeContainer=[],scene2DFloorShape=[],scene2DFloorDraftPlanImage=[],scene3DPivotPoint,scene3DCubeMesh,sceneAmbientLight,sceneDirectionalLight,sceneSpotLight,sceneHemisphereLight,controls3D,camera3D,camera3DPositionCache,camera3DPivotCache,camera3DCube,groundGrid,groundMesh,skyMesh,skyFloorMesh,weatherSkyGeometry,weatherSkyMaterial,weatherSkyCloudsMesh,weatherSkyRainbowMesh,
SESSION="",RADIAN=Math.PI/180,SCENE="house",SCENEID="",TOOL3D="view",TOOL3DINTERACTIVE="",TOOL3DLANDSCAPE="rotate",TOOL3DFLOOR="measure",TOOL2D="vector",WEATHER="sunny",DAY="day",FLOOR=1,REALSIZERATIO=1,SelectedObject=null,SelectedNote=null,SelectedPicture=null,SelectedWall=null,leftButtonDown=!1,rightButtonDown=!1,clickTime,clickMenuTime,doubleClickTime,zoom2Dimg,zoom2Dheight=80,zoom2Dwidth=241,zoom2DCTX=null,zoom2DSlider=null,zoom2D=1,scene2DDrawLineGeometry=[],scene2DDrawLine,scene2DWallMesh=[],
scene2DWallGroup=[],scene2DWallPointGroup=[],scene2DWindowGroup=[],scene2DDoorGroup=[],scene2DLabelGroup=[],scene2DFloorMesh=[],scene2DDoorMesh=[],scene2DWindowMesh=[],scene2DInteriorMesh=[],scene2DExteriorMesh=[],scene2DWallDimentions=[],scene3DWallInteriorTextureDefault,scene3DWallExteriorTextureDefault,scene3DWallInteriorTextures=[],scene3DWallExteriorTextures=[],scene2DWallRegularMaterial,scene2DWallRegularMaterialSelect,scene2DWallBearingMaterial,scene2DWallBearingMaterialSelect,physics3DContainer,
animation=[],scene3DAnimateRotate=!1,requestAnimationID,spinner,json={info:{},settings:{},weather:{},terrain:[],roof:[],floor:[],ceiling:[],furniture:[],house:[],plan:[]},mouse,touch,target,clock,projector,vector,geometry,material,texture,mesh,terrain3D,terrain3DMaterial,fileReader,getScreenshotData=!1,FXAAPass,SSAOPass,effectComposer,depthMaterial,depthRenderTarget,depthScale=1,FXAAProcessing={enabled:!0},SSAOProcessing={enabled:!1,renderMode:0};engine3D.showCube=!1;
