!function(c,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=c.document?b(c,!0):function(c){if(!c.document)throw Error("jQuery requires a window with a document");return b(c)}:b(c)}("undefined"!=typeof window?window:this,function(c,b){function e(c,b){b=b||I;var r=b.createElement("script");r.text=c;b.head.appendChild(r).parentNode.removeChild(r)}function f(c){var r=!!c&&"length"in c&&c.length,b=q.type(c);return"function"!==b&&!q.isWindow(c)&&("array"===b||0===r||"number"==
typeof r&&0<r&&r-1 in c)}function k(c,b,e){return q.isFunction(b)?q.grep(c,function(c,r){return!!b.call(c,r,c)!==e}):b.nodeType?q.grep(c,function(c){return c===b!==e}):"string"!=typeof b?q.grep(c,function(c){return-1<ba.call(b,c)!==e}):sb.test(b)?q.filter(b,c,e):(b=q.filter(b,c),q.grep(c,function(c){return-1<ba.call(b,c)!==e&&1===c.nodeType}))}function m(c,b){for(;(c=c[b])&&1!==c.nodeType;);return c}function n(c){var r={};return q.each(c.match(ra)||[],function(c,b){r[b]=!0}),r}function t(c){return c}
function h(c){throw c;}function p(c,b,e){var r;try{c&&q.isFunction(r=c.promise)?r.call(c).done(b).fail(e):c&&q.isFunction(r=c.then)?r.call(c,b,e):b.call(void 0,c)}catch(Va){e.call(void 0,Va)}}function g(){I.removeEventListener("DOMContentLoaded",g);c.removeEventListener("load",g);q.ready()}function v(){this.expando=q.expando+v.uid++}function A(c,b,e){var r;if(void 0===e&&1===c.nodeType)if(r="data-"+b.replace(tb,"-$&").toLowerCase(),e=c.getAttribute(r),"string"==typeof e){try{r=e,e="true"===r||"false"!==
r&&("null"===r?null:r===+r+""?+r:ub.test(r)?JSON.parse(r):r)}catch(Va){}oa.set(c,b,e)}else e=void 0;return e}function z(c,b,e,g){var r,C=1,h=20,f=g?function(){return g.cur()}:function(){return q.css(c,b,"")},k=f(),p=e&&e[3]||(q.cssNumber[b]?"":"px"),n=(q.cssNumber[b]||"px"!==p&&+k)&&Fa.exec(q.css(c,b));if(n&&n[3]!==p){p=p||n[3];e=e||[];n=+k||1;do C=C||".5",n/=C,q.style(c,b,n+p);while(C!==(C=f()/k)&&1!==C&&--h)}return e&&(n=+n||+k||0,r=e[1]?n+(e[1]+1)*e[2]:+e[2],g&&(g.unit=p,g.start=n,g.end=r)),r}
function y(c,b){for(var r,e,g=[],C=0,h=c.length;C<h;C++)if(e=c[C],e.style)if(r=e.style.display,b){if("none"===r&&(g[C]=X.get(e,"display")||null,g[C]||(e.style.display="")),""===e.style.display&&Ka(e)){r=C;var f,k=void 0;f=e.ownerDocument;var p=e.nodeName;f=(e=Wa[p])?e:(k=f.body.appendChild(f.createElement(p)),e=q.css(k,"display"),k.parentNode.removeChild(k),"none"===e&&(e="block"),Wa[p]=e,e);g[r]=f}}else"none"!==r&&(g[C]="none",X.set(e,"display",r));for(C=0;C<h;C++)null!=g[C]&&(c[C].style.display=
g[C]);return c}function w(c,b){var r;return r="undefined"!=typeof c.getElementsByTagName?c.getElementsByTagName(b||"*"):"undefined"!=typeof c.querySelectorAll?c.querySelectorAll(b||"*"):[],void 0===b||b&&q.nodeName(c,b)?q.merge([c],r):r}function G(c,b){for(var r=0,e=c.length;r<e;r++)X.set(c[r],"globalEval",!b||X.get(b[r],"globalEval"))}function u(c,b,e,g,f){for(var r,C,h,k,p=b.createDocumentFragment(),n=[],m=0,wa=c.length;m<wa;m++)if(r=c[m],r||0===r)if("object"===q.type(r))q.merge(n,r.nodeType?[r]:
r);else if(xb.test(r)){C=C||p.appendChild(b.createElement("div"));h=(Xa.exec(r)||["",""])[1].toLowerCase();h=ma[h]||ma._default;C.innerHTML=h[1]+q.htmlPrefilter(r)+h[2];for(h=h[0];h--;)C=C.lastChild;q.merge(n,C.childNodes);C=p.firstChild;C.textContent=""}else n.push(b.createTextNode(r));p.textContent="";for(m=0;r=n[m++];)if(g&&-1<q.inArray(r,g))f&&f.push(r);else if(k=q.contains(r.ownerDocument,r),C=w(p.appendChild(r),"script"),k&&G(C),e)for(h=0;r=C[h++];)Ya.test(r.type||"")&&e.push(r);return p}function H(){return!0}
function J(){return!1}function K(){try{return I.activeElement}catch(r){}}function M(c,b,e,g,h,f){var r,C;if("object"==typeof b){"string"!=typeof e&&(g=g||e,e=void 0);for(C in b)M(c,C,e,g,b[C],f);return c}if(null==g&&null==h?(h=e,g=e=void 0):null==h&&("string"==typeof e?(h=g,g=void 0):(h=g,g=e,e=void 0)),!1===h)h=J;else if(!h)return c;return 1===f&&(r=h,h=function(c){return q().off(c),r.apply(this,arguments)},h.guid=r.guid||(r.guid=q.guid++)),c.each(function(){q.event.add(this,b,h,g,e)})}function Q(c,
b){return q.nodeName(c,"table")&&q.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?c.getElementsByTagName("tbody")[0]||c:c}function O(c){return c.type=(null!==c.getAttribute("type"))+"/"+c.type,c}function D(c){var r=yb.exec(c.type);return r?c.type=r[1]:c.removeAttribute("type"),c}function B(c,b){var r,e,g,C,h,f;if(1===b.nodeType){if(X.hasData(c)&&(r=X.access(c),e=X.set(b,r),f=r.events))for(g in delete e.handle,e.events={},f)for(r=0,e=f[g].length;r<e;r++)q.event.add(b,g,f[g][r]);oa.hasData(c)&&(C=oa.access(c),
h=q.extend({},C),oa.set(b,h))}}function E(c,b,g,h){b=S.apply([],b);var r,C,f,k,p=0,n=c.length,m=n-1,wa=b[0],z=q.isFunction(wa);if(z||1<n&&"string"==typeof wa&&!da.checkClone&&zb.test(wa))return c.each(function(r){var e=c.eq(r);z&&(b[0]=wa.call(this,r,e.html()));E(e,b,g,h)});if(n&&(r=u(b,c[0].ownerDocument,!1,c,h),C=r.firstChild,1===r.childNodes.length&&(r=C),C||h)){C=q.map(w(r,"script"),O);for(f=C.length;p<n;p++)k=r,p!==m&&(k=q.clone(k,!0,!0),f&&q.merge(C,w(k,"script"))),g.call(c[p],k,p);if(f)for(r=
C[C.length-1].ownerDocument,q.map(C,D),p=0;p<f;p++)k=C[p],Ya.test(k.type||"")&&!X.access(k,"globalEval")&&q.contains(r,k)&&(k.src?q._evalUrl&&q._evalUrl(k.src):e(k.textContent.replace(Ab,""),r))}return c}function R(c,b,e){for(var r=b?q.filter(b,c):c,g=0;null!=(b=r[g]);g++)e||1!==b.nodeType||q.cleanData(w(b)),b.parentNode&&(e&&q.contains(b.ownerDocument,b)&&G(w(b,"script")),b.parentNode.removeChild(b));return c}function U(c,b,e){var r,g,C,h,f=c.style;return e=e||La(c),e&&(h=e.getPropertyValue(b)||
e[b],""!==h||q.contains(c.ownerDocument,c)||(h=q.style(c,b)),!da.pixelMarginRight()&&Oa.test(h)&&Za.test(b)&&(r=f.width,g=f.minWidth,C=f.maxWidth,f.minWidth=f.maxWidth=f.width=h,h=e.width,f.width=r,f.minWidth=g,f.maxWidth=C)),void 0!==h?h+"":h}function T(c,b){return{get:function(){return c()?void delete this.get:(this.get=b).apply(this,arguments)}}}function ja(c){if(c in $a)return c;for(var r=c[0].toUpperCase()+c.slice(1),b=ab.length;b--;)if(c=ab[b]+r,c in $a)return c}function fa(c,b,e){return(c=
Fa.exec(b))?Math.max(0,c[2]-(e||0))+(c[3]||"px"):b}function na(c,b,e,g,h){var r=0;for(b=e===(g?"border":"content")?4:"width"===b?1:0;4>b;b+=2)"margin"===e&&(r+=q.css(c,e+za[b],!0,h)),g?("content"===e&&(r-=q.css(c,"padding"+za[b],!0,h)),"margin"!==e&&(r-=q.css(c,"border"+za[b]+"Width",!0,h))):(r+=q.css(c,"padding"+za[b],!0,h),"padding"!==e&&(r+=q.css(c,"border"+za[b]+"Width",!0,h)));return r}function ea(c,b,e){var r,g=!0,h=La(c),f="border-box"===q.css(c,"boxSizing",!1,h);if(c.getClientRects().length&&
(r=c.getBoundingClientRect()[b]),0>=r||null==r){if(r=U(c,b,h),(0>r||null==r)&&(r=c.style[b]),Oa.test(r))return r;g=f&&(da.boxSizingReliable()||r===c.style[b]);r=parseFloat(r)||0}return r+na(c,b,e||(f?"border":"content"),g,h)+"px"}function F(c,b,e,g,h){return new F.prototype.init(c,b,e,g,h)}function va(){Aa&&(c.requestAnimationFrame(va),q.fx.tick())}function pa(){return c.setTimeout(function(){Ca=void 0}),Ca=q.now()}function P(c,b){var r,e=0,g={height:c};for(b=b?1:0;4>e;e+=2-b)r=za[e],g["margin"+r]=
g["padding"+r]=c;return b&&(g.opacity=g.width=c),g}function qa(c,b,e){for(var r,g=(N.tweeners[b]||[]).concat(N.tweeners["*"]),h=0,f=g.length;h<f;h++)if(r=g[h].call(e,b,c))return r}function W(c,b){var r,e,g,h,f;for(r in c)if(e=q.camelCase(r),g=b[e],h=c[r],q.isArray(h)&&(g=h[1],h=c[r]=h[0]),r!==e&&(c[e]=h,delete c[r]),f=q.cssHooks[e],f&&"expand"in f)for(r in h=f.expand(h),delete c[e],h)r in c||(c[r]=h[r],b[r]=g);else b[e]=g}function N(c,b,e){var r,g=0,h=N.prefilters.length,f=q.Deferred().always(function(){delete k.elem}),
k=function(){if(r)return!1;for(var b=Ca||pa(),b=Math.max(0,C.startTime+C.duration-b),e=1-(b/C.duration||0),g=0,h=C.tweens.length;g<h;g++)C.tweens[g].run(e);return f.notifyWith(c,[C,e,b]),1>e&&h?b:(f.resolveWith(c,[C]),!1)},C=f.promise({elem:c,props:q.extend({},b),opts:q.extend(!0,{specialEasing:{},easing:q.easing._default},e),originalProperties:b,originalOptions:e,startTime:Ca||pa(),duration:e.duration,tweens:[],createTween:function(b,r){var e=q.Tween(c,C.opts,b,r,C.opts.specialEasing[b]||C.opts.easing);
return C.tweens.push(e),e},stop:function(b){var e=0,g=b?C.tweens.length:0;if(r)return this;for(r=!0;e<g;e++)C.tweens[e].run(1);return b?(f.notifyWith(c,[C,1,0]),f.resolveWith(c,[C,b])):f.rejectWith(c,[C,b]),this}});e=C.props;for(W(e,C.opts.specialEasing);g<h;g++)if(b=N.prefilters[g].call(C,c,e,C.opts))return q.isFunction(b.stop)&&(q._queueHooks(C.elem,C.opts.queue).stop=q.proxy(b.stop,b)),b;return q.map(e,qa,C),q.isFunction(C.opts.start)&&C.opts.start.call(c,C),q.fx.timer(q.extend(k,{elem:c,anim:C,
queue:C.opts.queue})),C.progress(C.opts.progress).done(C.opts.done,C.opts.complete).fail(C.opts.fail).always(C.opts.always)}function V(c){return(c.match(ra)||[]).join(" ")}function Y(c){return c.getAttribute&&c.getAttribute("class")||""}function ka(c,b,e,g){var r;if(q.isArray(b))q.each(b,function(b,r){e||Bb.test(c)?g(c,r):ka(c+"["+("object"==typeof r&&null!=r?b:"")+"]",r,e,g)});else if(e||"object"!==q.type(b))g(c,b);else for(r in b)ka(c+"["+r+"]",b[r],e,g)}function la(c){return function(b,r){"string"!=
typeof b&&(r=b,b="*");var e,g=0,h=b.toLowerCase().match(ra)||[];if(q.isFunction(r))for(;e=h[g++];)"+"===e[0]?(e=e.slice(1)||"*",(c[e]=c[e]||[]).unshift(r)):(c[e]=c[e]||[]).push(r)}}function Z(c,b,e,g){function r(C){var k;return h[C]=!0,q.each(c[C]||[],function(c,C){var p=C(b,e,g);return"string"!=typeof p||f||h[p]?f?!(k=p):void 0:(b.dataTypes.unshift(p),r(p),!1)}),k}var h={},f=c===Pa;return r(b.dataTypes[0])||!h["*"]&&r("*")}function ha(c,b){var r,e,g=q.ajaxSettings.flatOptions||{};for(r in b)void 0!==
b[r]&&((g[r]?c:e||(e={}))[r]=b[r]);return e&&q.extend(!0,c,e),c}function ia(c){return q.isWindow(c)?c:9===c.nodeType&&c.defaultView}var ca=[],I=c.document,xa=Object.getPrototypeOf,aa=ca.slice,S=ca.concat,sa=ca.push,ba=ca.indexOf,ga={},ua=ga.toString,Da=ga.hasOwnProperty,Ga=Da.toString,Ea=Ga.call(Object),da={},q=function(c,b){return new q.fn.init(c,b)},Cb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Db=/^-ms-/,Eb=/-([a-z])/g,Fb=function(c,b){return b.toUpperCase()};q.fn=q.prototype={jquery:"3.1.1",constructor:q,
length:0,toArray:function(){return aa.call(this)},get:function(c){return null==c?aa.call(this):0>c?this[c+this.length]:this[c]},pushStack:function(c){c=q.merge(this.constructor(),c);return c.prevObject=this,c},each:function(c){return q.each(this,c)},map:function(c){return this.pushStack(q.map(this,function(b,r){return c.call(b,r,b)}))},slice:function(){return this.pushStack(aa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(c){var b=this.length;
c=+c+(0>c?b:0);return this.pushStack(0<=c&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:sa,sort:ca.sort,splice:ca.splice};q.extend=q.fn.extend=function(){var c,b,e,g,h,f,k=arguments[0]||{},p=1,n=arguments.length,m=!1;"boolean"==typeof k&&(m=k,k=arguments[p]||{},p++);"object"==typeof k||q.isFunction(k)||(k={});for(p===n&&(k=this,p--);p<n;p++)if(null!=(c=arguments[p]))for(b in c)e=k[b],g=c[b],k!==g&&(m&&g&&(q.isPlainObject(g)||(h=q.isArray(g)))?(h?(h=!1,f=e&&q.isArray(e)?
e:[]):f=e&&q.isPlainObject(e)?e:{},k[b]=q.extend(m,f,g)):void 0!==g&&(k[b]=g));return k};q.extend({expando:"jQuery"+("3.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(c){throw Error(c);},noop:function(){},isFunction:function(c){return"function"===q.type(c)},isArray:Array.isArray,isWindow:function(c){return null!=c&&c===c.window},isNumeric:function(c){var b=q.type(c);return("number"===b||"string"===b)&&!isNaN(c-parseFloat(c))},isPlainObject:function(c){var b,r;return!(!c||"[object Object]"!==
ua.call(c))&&(!(b=xa(c))||(r=Da.call(b,"constructor")&&b.constructor,"function"==typeof r&&Ga.call(r)===Ea))},isEmptyObject:function(c){for(var b in c)return!1;return!0},type:function(c){return null==c?c+"":"object"==typeof c||"function"==typeof c?ga[ua.call(c)]||"object":typeof c},globalEval:function(c){e(c)},camelCase:function(c){return c.replace(Db,"ms-").replace(Eb,Fb)},nodeName:function(c,b){return c.nodeName&&c.nodeName.toLowerCase()===b.toLowerCase()},each:function(c,b){var e,r=0;if(f(c))for(e=
c.length;r<e&&!1!==b.call(c[r],r,c[r]);r++);else for(r in c)if(!1===b.call(c[r],r,c[r]))break;return c},trim:function(c){return null==c?"":(c+"").replace(Cb,"")},makeArray:function(c,b){var e=b||[];return null!=c&&(f(Object(c))?q.merge(e,"string"==typeof c?[c]:c):sa.call(e,c)),e},inArray:function(c,b,e){return null==b?-1:ba.call(b,c,e)},merge:function(c,b){for(var e=+b.length,r=0,g=c.length;r<e;r++)c[g++]=b[r];return c.length=g,c},grep:function(c,b,e){for(var r=[],g=0,h=c.length,f=!e;g<h;g++)e=!b(c[g],
g),e!==f&&r.push(c[g]);return r},map:function(c,b,e){var r,g,h=0,k=[];if(f(c))for(r=c.length;h<r;h++)g=b(c[h],h,e),null!=g&&k.push(g);else for(h in c)g=b(c[h],h,e),null!=g&&k.push(g);return S.apply([],k)},guid:1,proxy:function(c,b){var e,r,g;if("string"==typeof b&&(e=c[b],b=c,c=e),q.isFunction(c))return r=aa.call(arguments,2),g=function(){return c.apply(b||this,r.concat(aa.call(arguments)))},g.guid=c.guid=c.guid||q.guid++,g},now:Date.now,support:da});"function"==typeof Symbol&&(q.fn[Symbol.iterator]=
ca[Symbol.iterator]);q.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(c,b){ga["[object "+b+"]"]=b.toLowerCase()});var Ba=function(c){function b(c,b,e,r){var g,h,f,k,C,p=b&&b.ownerDocument,n=b?b.nodeType:9;if(e=e||[],"string"!=typeof c||!c||1!==n&&9!==n&&11!==n)return e;if(!r&&((b?b.ownerDocument||b:ua)!==ba&&Q(b),b=b||ba,sa)){if(11!==n&&(k=Ba.exec(c)))if(g=k[1])if(9===n){if(!(h=b.getElementById(g)))return e;if(h.id===g)return e.push(h),e}else{if(p&&
(h=p.getElementById(g))&&U(b,h)&&h.id===g)return e.push(h),e}else{if(k[2])return X.apply(e,b.getElementsByTagName(c)),e;if((g=k[3])&&A.getElementsByClassName&&b.getElementsByClassName)return X.apply(e,b.getElementsByClassName(g)),e}if(!(!A.qsa||P[c+" "]||F&&F.test(c))){if(1!==n)p=b,C=c;else if("object"!==b.nodeName.toLowerCase()){(f=b.getAttribute("id"))?f=f.replace(ya,za):b.setAttribute("id",f=ga);h=aa(c);for(g=h.length;g--;)h[g]="#"+f+" "+v(h[g]);C=h.join(",");p=ra.test(c)&&m(b.parentNode)||b}if(C)try{return X.apply(e,
p.querySelectorAll(C)),e}catch(kc){}finally{f===ga&&b.removeAttribute("id")}}}return O(c.replace(ca,"$1"),b,e,r)}function e(){function c(e,r){return b.push(e+" ")>S.cacheLength&&delete c[b.shift()],c[e+" "]=r}var b=[];return c}function r(c){return c[ga]=!0,c}function g(c){var b=ba.createElement("fieldset");try{return!!c(b)}catch(ic){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function h(c,b){for(var e=c.split("|"),r=e.length;r--;)S.attrHandle[e[r]]=b}function f(c,b){var e=b&&c,r=e&&
1===c.nodeType&&1===b.nodeType&&c.sourceIndex-b.sourceIndex;if(r)return r;if(e)for(;e=e.nextSibling;)if(e===b)return-1;return c?1:-1}function k(c){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===c}}function p(c){return function(b){var e=b.nodeName.toLowerCase();return("input"===e||"button"===e)&&b.type===c}}function n(c){return function(b){return"form"in b?b.parentNode&&!1===b.disabled?"label"in b?"label"in b.parentNode?b.parentNode.disabled===c:b.disabled===c:b.isDisabled===
c||b.isDisabled!==!c&&Ca(b)===c:b.disabled===c:"label"in b&&b.disabled===c}}function q(c){return r(function(b){return b=+b,r(function(e,r){for(var g,h=c([],e.length,b),f=h.length;f--;)e[g=h[f]]&&(e[g]=!(r[g]=e[g]))})})}function m(c){return c&&"undefined"!=typeof c.getElementsByTagName&&c}function z(){}function v(c){for(var b=0,e=c.length,r="";b<e;b++)r+=c[b].value;return r}function I(c,b,e){var r=b.dir,g=b.next,h=g||r,f=e&&"parentNode"===h,k=fa++;return b.first?function(b,e,g){for(;b=b[r];)if(1===
b.nodeType||f)return c(b,e,g);return!1}:function(b,e,C){var p,n,q,m=[T,k];if(C)for(;b=b[r];){if((1===b.nodeType||f)&&c(b,e,C))return!0}else for(;b=b[r];)if(1===b.nodeType||f)if(q=b[ga]||(b[ga]={}),n=q[b.uniqueID]||(q[b.uniqueID]={}),g&&g===b.nodeName.toLowerCase())b=b[r]||b;else{if((p=n[h])&&p[0]===T&&p[1]===k)return m[2]=p[2];if(n[h]=m,m[2]=c(b,e,C))return!0}return!1}}function u(c){return 1<c.length?function(b,e,r){for(var g=c.length;g--;)if(!c[g](b,e,r))return!1;return!0}:c[0]}function E(c,b,e,
r,g){for(var h,f=[],k=0,C=c.length,p=null!=b;k<C;k++)(h=c[k])&&(e&&!e(h,r,g)||(f.push(h),p&&b.push(k)));return f}function G(c,e,g,h,f,k){return h&&!h[ga]&&(h=G(h)),f&&!f[ga]&&(f=G(f,k)),r(function(r,k,C,p){var n,q,m=[],z=[],v=k.length,I;if(!(I=r)){I=e||"*";for(var u=C.nodeType?[C]:C,wa=[],S=0,A=u.length;S<A;S++)b(I,u[S],wa);I=wa}I=!c||!r&&e?I:E(I,m,c,C,p);u=g?f||(r?c:v||h)?[]:k:I;if(g&&g(I,u,C,p),h)for(n=E(u,z),h(n,[],C,p),C=n.length;C--;)(q=n[C])&&(u[z[C]]=!(I[z[C]]=q));if(r){if(f||c){if(f){n=[];
for(C=u.length;C--;)(q=u[C])&&n.push(I[C]=q);f(null,u=[],n,p)}for(C=u.length;C--;)(q=u[C])&&-1<(n=f?Y(r,q):m[C])&&(r[n]=!(k[n]=q))}}else u=E(u===k?u.splice(v,u.length):u),f?f(null,k,u,p):X.apply(k,u)})}function t(c){var b,e,r,g=c.length,h=S.relative[c[0].type];e=h||S.relative[" "];for(var f=h?1:0,k=I(function(c){return c===b},e,!0),C=I(function(c){return-1<Y(b,c)},e,!0),p=[function(c,e,r){c=!h&&(r||e!==B)||((b=e).nodeType?k(c,e,r):C(c,e,r));return b=null,c}];f<g;f++)if(e=S.relative[c[f].type])p=[I(u(p),
e)];else{if(e=S.filter[c[f].type].apply(null,c[f].matches),e[ga]){for(r=++f;r<g&&!S.relative[c[r].type];r++);return G(1<f&&u(p),1<f&&v(c.slice(0,f-1).concat({value:" "===c[f-2].type?"*":""})).replace(ca,"$1"),e,f<r&&t(c.slice(f,r)),r<g&&t(c=c.slice(r)),r<g&&v(c))}p.push(e)}return u(p)}function y(c,e){var g=0<e.length,h=0<c.length,f=function(r,f,k,C,p){var n,q,m,z=0,v="0",I=r&&[],u=[],wa=B,A=r||h&&S.find.TAG("*",p),G=T+=null==wa?1:Math.random()||.1,t=A.length;for(p&&(B=f===ba||f||p);v!==t&&null!=(n=
A[v]);v++){if(h&&n){q=0;for(f||n.ownerDocument===ba||(Q(n),k=!sa);m=c[q++];)if(m(n,f||ba,k)){C.push(n);break}p&&(T=G)}g&&((n=!m&&n)&&z--,r&&I.push(n))}if(z+=v,g&&v!==z){for(q=0;m=e[q++];)m(I,u,f,k);if(r){if(0<z)for(;v--;)I[v]||u[v]||(u[v]=W.call(C));u=E(u)}X.apply(C,u);p&&!r&&0<u.length&&1<z+e.length&&b.uniqueSort(C)}return p&&(T=G,B=wa),I};return g?r(f):f}var D,A,S,H,w,aa,J,O,B,K,R,Q,ba,M,sa,F,ea,xa,U,ga="sizzle"+1*new Date,ua=c.document,T=0,fa=0,N=e(),Ga=e(),P=e(),Da=function(c,b){return c===b&&
(R=!0),0},V={}.hasOwnProperty,da=[],W=da.pop,Z=da.push,X=da.push,pa=da.slice,Y=function(c,b){for(var e=0,r=c.length;e<r;e++)if(c[e]===b)return e;return-1},na=RegExp("[\\x20\\t\\r\\n\\f]+","g"),ca=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),ja=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ha=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ia=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),ka=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
la=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,Ea={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},va=/^(?:input|select|textarea|button)$/i,qa=/^h\d$/i,oa=
/^[^{]+\{\s*\[native \w/,Ba=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ra=/[+~]/,ma=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),ta=function(c,b,e){c="0x"+b-65536;return c!==c||e?b:0>c?String.fromCharCode(c+65536):String.fromCharCode(c>>10|55296,1023&c|56320)},ya=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,za=function(c,b){return b?"\x00"===c?"\ufffd":c.slice(0,-1)+"\\"+c.charCodeAt(c.length-1).toString(16)+" ":"\\"+c},Aa=function(){Q()},Ca=I(function(c){return!0===
c.disabled&&("form"in c||"label"in c)},{dir:"parentNode",next:"legend"});try{X.apply(da=pa.call(ua.childNodes),ua.childNodes),da[ua.childNodes.length].nodeType}catch(hc){X={apply:da.length?function(c,b){Z.apply(c,pa.call(b))}:function(c,b){for(var e=c.length,r=0;c[e++]=b[r++];);c.length=e-1}}}A=b.support={};w=b.isXML=function(c){c=c&&(c.ownerDocument||c).documentElement;return!!c&&"HTML"!==c.nodeName};Q=b.setDocument=function(c){var b,e;c=c?c.ownerDocument||c:ua;return c!==ba&&9===c.nodeType&&c.documentElement?
(ba=c,M=ba.documentElement,sa=!w(ba),ua!==ba&&(e=ba.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",Aa,!1):e.attachEvent&&e.attachEvent("onunload",Aa)),A.attributes=g(function(c){return c.className="i",!c.getAttribute("className")}),A.getElementsByTagName=g(function(c){return c.appendChild(ba.createComment("")),!c.getElementsByTagName("*").length}),A.getElementsByClassName=oa.test(ba.getElementsByClassName),A.getById=g(function(c){return M.appendChild(c).id=ga,!ba.getElementsByName||
!ba.getElementsByName(ga).length}),A.getById?(S.filter.ID=function(c){var b=c.replace(ma,ta);return function(c){return c.getAttribute("id")===b}},S.find.ID=function(c,b){if("undefined"!=typeof b.getElementById&&sa){var e=b.getElementById(c);return e?[e]:[]}}):(S.filter.ID=function(c){var b=c.replace(ma,ta);return function(c){return(c="undefined"!=typeof c.getAttributeNode&&c.getAttributeNode("id"))&&c.value===b}},S.find.ID=function(c,b){if("undefined"!=typeof b.getElementById&&sa){var e,r,g,h=b.getElementById(c);
if(h){if(e=h.getAttributeNode("id"),e&&e.value===c)return[h];g=b.getElementsByName(c);for(r=0;h=g[r++];)if(e=h.getAttributeNode("id"),e&&e.value===c)return[h]}return[]}}),S.find.TAG=A.getElementsByTagName?function(c,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(c):A.qsa?b.querySelectorAll(c):void 0}:function(c,b){var e,r=[],g=0,h=b.getElementsByTagName(c);if("*"===c){for(;e=h[g++];)1===e.nodeType&&r.push(e);return r}return h},S.find.CLASS=A.getElementsByClassName&&function(c,
b){if("undefined"!=typeof b.getElementsByClassName&&sa)return b.getElementsByClassName(c)},ea=[],F=[],(A.qsa=oa.test(ba.querySelectorAll))&&(g(function(c){M.appendChild(c).innerHTML="<a id='"+ga+"'></a><select id='"+ga+"-\r\\' msallowcapture=''><option selected=''></option></select>";c.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");c.querySelectorAll("[selected]").length||F.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
c.querySelectorAll("[id~="+ga+"-]").length||F.push("~=");c.querySelectorAll(":checked").length||F.push(":checked");c.querySelectorAll("a#"+ga+"+*").length||F.push(".#.+[+~]")}),g(function(c){c.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=ba.createElement("input");b.setAttribute("type","hidden");c.appendChild(b).setAttribute("name","D");c.querySelectorAll("[name=d]").length&&F.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==c.querySelectorAll(":enabled").length&&
F.push(":enabled",":disabled");M.appendChild(c).disabled=!0;2!==c.querySelectorAll(":disabled").length&&F.push(":enabled",":disabled");c.querySelectorAll("*,:x");F.push(",.*:")})),(A.matchesSelector=oa.test(xa=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&g(function(c){A.disconnectedMatch=xa.call(c,"*");xa.call(c,"[s!='']:x");ea.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),
F=F.length&&new RegExp(F.join("|")),ea=ea.length&&new RegExp(ea.join("|")),b=oa.test(M.compareDocumentPosition),U=b||oa.test(M.contains)?function(c,b){var e=9===c.nodeType?c.documentElement:c,r=b&&b.parentNode;return c===r||!(!r||1!==r.nodeType||!(e.contains?e.contains(r):c.compareDocumentPosition&&16&c.compareDocumentPosition(r)))}:function(c,b){if(b)for(;b=b.parentNode;)if(b===c)return!0;return!1},Da=b?function(c,b){if(c===b)return R=!0,0;var e=!c.compareDocumentPosition-!b.compareDocumentPosition;
return e?e:(e=(c.ownerDocument||c)===(b.ownerDocument||b)?c.compareDocumentPosition(b):1,1&e||!A.sortDetached&&b.compareDocumentPosition(c)===e?c===ba||c.ownerDocument===ua&&U(ua,c)?-1:b===ba||b.ownerDocument===ua&&U(ua,b)?1:K?Y(K,c)-Y(K,b):0:4&e?-1:1)}:function(c,b){if(c===b)return R=!0,0;var e,r=0;e=c.parentNode;var g=b.parentNode,h=[c],k=[b];if(!e||!g)return c===ba?-1:b===ba?1:e?-1:g?1:K?Y(K,c)-Y(K,b):0;if(e===g)return f(c,b);for(e=c;e=e.parentNode;)h.unshift(e);for(e=b;e=e.parentNode;)k.unshift(e);
for(;h[r]===k[r];)r++;return r?f(h[r],k[r]):h[r]===ua?-1:k[r]===ua?1:0},ba):ba};b.matches=function(c,e){return b(c,null,null,e)};b.matchesSelector=function(c,e){if((c.ownerDocument||c)!==ba&&Q(c),e=e.replace(ia,"='$1']"),!(!A.matchesSelector||!sa||P[e+" "]||ea&&ea.test(e)||F&&F.test(e)))try{var r=xa.call(c,e);if(r||A.disconnectedMatch||c.document&&11!==c.document.nodeType)return r}catch(jc){}return 0<b(e,ba,null,[c]).length};b.contains=function(c,b){return(c.ownerDocument||c)!==ba&&Q(c),U(c,b)};b.attr=
function(c,b){(c.ownerDocument||c)!==ba&&Q(c);var e=S.attrHandle[b.toLowerCase()],e=e&&V.call(S.attrHandle,b.toLowerCase())?e(c,b,!sa):void 0;return void 0!==e?e:A.attributes||!sa?c.getAttribute(b):(e=c.getAttributeNode(b))&&e.specified?e.value:null};b.escape=function(c){return(c+"").replace(ya,za)};b.error=function(c){throw Error("Syntax error, unrecognized expression: "+c);};b.uniqueSort=function(c){var b,e=[],r=0,g=0;if(R=!A.detectDuplicates,K=!A.sortStable&&c.slice(0),c.sort(Da),R){for(;b=c[g++];)b===
c[g]&&(r=e.push(g));for(;r--;)c.splice(e[r],1)}return K=null,c};H=b.getText=function(c){var b,e="",r=0;if(b=c.nodeType)if(1===b||9===b||11===b){if("string"==typeof c.textContent)return c.textContent;for(c=c.firstChild;c;c=c.nextSibling)e+=H(c)}else{if(3===b||4===b)return c.nodeValue}else for(;b=c[r++];)e+=H(b);return e};S=b.selectors={cacheLength:50,createPseudo:r,match:Ea,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},
preFilter:{ATTR:function(c){return c[1]=c[1].replace(ma,ta),c[3]=(c[3]||c[4]||c[5]||"").replace(ma,ta),"~="===c[2]&&(c[3]=" "+c[3]+" "),c.slice(0,4)},CHILD:function(c){return c[1]=c[1].toLowerCase(),"nth"===c[1].slice(0,3)?(c[3]||b.error(c[0]),c[4]=+(c[4]?c[5]+(c[6]||1):2*("even"===c[3]||"odd"===c[3])),c[5]=+(c[7]+c[8]||"odd"===c[3])):c[3]&&b.error(c[0]),c},PSEUDO:function(c){var b,e=!c[6]&&c[2];return Ea.CHILD.test(c[0])?null:(c[3]?c[2]=c[4]||c[5]||"":e&&ka.test(e)&&(b=aa(e,!0))&&(b=e.indexOf(")",
e.length-b)-e.length)&&(c[0]=c[0].slice(0,b),c[2]=e.slice(0,b)),c.slice(0,3))}},filter:{TAG:function(c){var b=c.replace(ma,ta).toLowerCase();return"*"===c?function(){return!0}:function(c){return c.nodeName&&c.nodeName.toLowerCase()===b}},CLASS:function(c){var b=N[c+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+c+"([\\x20\\t\\r\\n\\f]|$)"),N(c,function(c){return b.test("string"==typeof c.className&&c.className||"undefined"!=typeof c.getAttribute&&c.getAttribute("class")||"")}))},ATTR:function(c,
e,r){return function(g){g=b.attr(g,c);return null==g?"!="===e:!e||(g+="","="===e?g===r:"!="===e?g!==r:"^="===e?r&&0===g.indexOf(r):"*="===e?r&&-1<g.indexOf(r):"$="===e?r&&g.slice(-r.length)===r:"~="===e?-1<(" "+g.replace(na," ")+" ").indexOf(r):"|="===e&&(g===r||g.slice(0,r.length+1)===r+"-"))}},CHILD:function(c,b,e,r,g){var h="nth"!==c.slice(0,3),f="last"!==c.slice(-4),k="of-type"===b;return 1===r&&0===g?function(c){return!!c.parentNode}:function(b,e,C){var p,n,q,m,z,v;e=h!==f?"nextSibling":"previousSibling";
var I=b.parentNode,u=k&&b.nodeName.toLowerCase();C=!C&&!k;var E=!1;if(I){if(h){for(;e;){for(m=b;m=m[e];)if(k?m.nodeName.toLowerCase()===u:1===m.nodeType)return!1;v=e="only"===c&&!v&&"nextSibling"}return!0}if(v=[f?I.firstChild:I.lastChild],f&&C)for(m=I,q=m[ga]||(m[ga]={}),n=q[m.uniqueID]||(q[m.uniqueID]={}),p=n[c]||[],E=(z=p[0]===T&&p[1])&&p[2],m=z&&I.childNodes[z];m=++z&&m&&m[e]||(E=z=0)||v.pop();){if(1===m.nodeType&&++E&&m===b){n[c]=[T,z,E];break}}else if(C&&(m=b,q=m[ga]||(m[ga]={}),n=q[m.uniqueID]||
(q[m.uniqueID]={}),p=n[c]||[],z=p[0]===T&&p[1],E=z),!1===E)for(;(m=++z&&m&&m[e]||(E=z=0)||v.pop())&&((k?m.nodeName.toLowerCase()!==u:1!==m.nodeType)||!++E||(C&&(q=m[ga]||(m[ga]={}),n=q[m.uniqueID]||(q[m.uniqueID]={}),n[c]=[T,E]),m!==b)););return E-=g,E===r||0===E%r&&0<=E/r}}},PSEUDO:function(c,e){var g,h=S.pseudos[c]||S.setFilters[c.toLowerCase()]||b.error("unsupported pseudo: "+c);return h[ga]?h(e):1<h.length?(g=[c,c,"",e],S.setFilters.hasOwnProperty(c.toLowerCase())?r(function(c,b){for(var r,g=
h(c,e),f=g.length;f--;)r=Y(c,g[f]),c[r]=!(b[r]=g[f])}):function(c){return h(c,0,g)}):h}},pseudos:{not:r(function(c){var b=[],e=[],g=J(c.replace(ca,"$1"));return g[ga]?r(function(c,b,e,r){var h;e=g(c,null,r,[]);for(r=c.length;r--;)(h=e[r])&&(c[r]=!(b[r]=h))}):function(c,r,h){return b[0]=c,g(b,null,h,e),b[0]=null,!e.pop()}}),has:r(function(c){return function(e){return 0<b(c,e).length}}),contains:r(function(c){return c=c.replace(ma,ta),function(b){return-1<(b.textContent||b.innerText||H(b)).indexOf(c)}}),
lang:r(function(c){return la.test(c||"")||b.error("unsupported lang: "+c),c=c.replace(ma,ta).toLowerCase(),function(b){var e;do if(e=sa?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return e=e.toLowerCase(),e===c||0===e.indexOf(c+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var e=c.location&&c.location.hash;return e&&e.slice(1)===b.id},root:function(c){return c===M},focus:function(c){return c===ba.activeElement&&(!ba.hasFocus||ba.hasFocus())&&!!(c.type||
c.href||~c.tabIndex)},enabled:n(!1),disabled:n(!0),checked:function(c){var b=c.nodeName.toLowerCase();return"input"===b&&!!c.checked||"option"===b&&!!c.selected},selected:function(c){return c.parentNode&&c.parentNode.selectedIndex,!0===c.selected},empty:function(c){for(c=c.firstChild;c;c=c.nextSibling)if(6>c.nodeType)return!1;return!0},parent:function(c){return!S.pseudos.empty(c)},header:function(c){return qa.test(c.nodeName)},input:function(c){return va.test(c.nodeName)},button:function(c){var b=
c.nodeName.toLowerCase();return"input"===b&&"button"===c.type||"button"===b},text:function(c){var b;return"input"===c.nodeName.toLowerCase()&&"text"===c.type&&(null==(b=c.getAttribute("type"))||"text"===b.toLowerCase())},first:q(function(){return[0]}),last:q(function(c,b){return[b-1]}),eq:q(function(c,b,e){return[0>e?e+b:e]}),even:q(function(c,b){for(var e=0;e<b;e+=2)c.push(e);return c}),odd:q(function(c,b){for(var e=1;e<b;e+=2)c.push(e);return c}),lt:q(function(c,b,e){for(b=0>e?e+b:e;0<=--b;)c.push(b);
return c}),gt:q(function(c,b,e){for(e=0>e?e+b:e;++e<b;)c.push(e);return c})}};S.pseudos.nth=S.pseudos.eq;for(D in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[D]=k(D);for(D in{submit:!0,reset:!0})S.pseudos[D]=p(D);z.prototype=S.filters=S.pseudos;S.setFilters=new z;aa=b.tokenize=function(c,e){var r,g,h,f,k,C,p;if(k=Ga[c+" "])return e?0:k.slice(0);k=c;C=[];for(p=S.preFilter;k;){r&&!(g=ja.exec(k))||(g&&(k=k.slice(g[0].length)||k),C.push(h=[]));r=!1;(g=ha.exec(k))&&(r=g.shift(),h.push({value:r,
type:g[0].replace(ca," ")}),k=k.slice(r.length));for(f in S.filter)!(g=Ea[f].exec(k))||p[f]&&!(g=p[f](g))||(r=g.shift(),h.push({value:r,type:f,matches:g}),k=k.slice(r.length));if(!r)break}return e?k.length:k?b.error(c):Ga(c,C).slice(0)};return J=b.compile=function(c,b){var e,r=[],g=[],h=P[c+" "];if(!h){b||(b=aa(c));for(e=b.length;e--;)h=t(b[e]),h[ga]?r.push(h):g.push(h);h=P(c,y(g,r));h.selector=c}return h},O=b.select=function(c,b,e,r){var g,h,f,k,C,p="function"==typeof c&&c,n=!r&&aa(c=p.selector||
c);if(e=e||[],1===n.length){if(h=n[0]=n[0].slice(0),2<h.length&&"ID"===(f=h[0]).type&&9===b.nodeType&&sa&&S.relative[h[1].type]){if(b=(S.find.ID(f.matches[0].replace(ma,ta),b)||[])[0],!b)return e;p&&(b=b.parentNode);c=c.slice(h.shift().value.length)}for(g=Ea.needsContext.test(c)?0:h.length;g--&&(f=h[g],!S.relative[k=f.type]);)if((C=S.find[k])&&(r=C(f.matches[0].replace(ma,ta),ra.test(h[0].type)&&m(b.parentNode)||b))){if(h.splice(g,1),c=r.length&&v(h),!c)return X.apply(e,r),e;break}}return(p||J(c,
n))(r,b,!sa,e,!b||ra.test(c)&&m(b.parentNode)||b),e},A.sortStable=ga.split("").sort(Da).join("")===ga,A.detectDuplicates=!!R,Q(),A.sortDetached=g(function(c){return 1&c.compareDocumentPosition(ba.createElement("fieldset"))}),g(function(c){return c.innerHTML="<a href='#'></a>","#"===c.firstChild.getAttribute("href")})||h("type|href|height|width",function(c,b,e){if(!e)return c.getAttribute(b,"type"===b.toLowerCase()?1:2)}),A.attributes&&g(function(c){return c.innerHTML="<input/>",c.firstChild.setAttribute("value",
""),""===c.firstChild.getAttribute("value")})||h("value",function(c,b,e){if(!e&&"input"===c.nodeName.toLowerCase())return c.defaultValue}),g(function(c){return null==c.getAttribute("disabled")})||h("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(c,b,e){var r;if(!e)return!0===c[b]?b.toLowerCase():(r=c.getAttributeNode(b))&&r.specified?r.value:null}),b}(c);q.find=Ba;q.expr=Ba.selectors;q.expr[":"]=q.expr.pseudos;q.uniqueSort=
q.unique=Ba.uniqueSort;q.text=Ba.getText;q.isXMLDoc=Ba.isXML;q.contains=Ba.contains;q.escapeSelector=Ba.escape;var ta=function(c,b,e){for(var r=[],g=void 0!==e;(c=c[b])&&9!==c.nodeType;)if(1===c.nodeType){if(g&&q(c).is(e))break;r.push(c)}return r},cb=function(c,b){for(var e=[];c;c=c.nextSibling)1===c.nodeType&&c!==b&&e.push(c);return e},db=q.expr.match.needsContext,eb=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,sb=/^.[^:#\[\.,]*$/;q.filter=function(c,b,e){var r=b[0];return e&&
(c=":not("+c+")"),1===b.length&&1===r.nodeType?q.find.matchesSelector(r,c)?[r]:[]:q.find.matches(c,q.grep(b,function(c){return 1===c.nodeType}))};q.fn.extend({find:function(c){var b,e,r=this.length,g=this;if("string"!=typeof c)return this.pushStack(q(c).filter(function(){for(b=0;b<r;b++)if(q.contains(g[b],this))return!0}));e=this.pushStack([]);for(b=0;b<r;b++)q.find(c,g[b],e);return 1<r?q.uniqueSort(e):e},filter:function(c){return this.pushStack(k(this,c||[],!1))},not:function(c){return this.pushStack(k(this,
c||[],!0))},is:function(c){return!!k(this,"string"==typeof c&&db.test(c)?q(c):c||[],!1).length}});var fb,Hb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(q.fn.init=function(c,b,e){var r,g;if(!c)return this;if(e=e||fb,"string"==typeof c){if(r="<"===c[0]&&">"===c[c.length-1]&&3<=c.length?[null,c,null]:Hb.exec(c),!r||!r[1]&&b)return!b||b.jquery?(b||e).find(c):this.constructor(b).find(c);if(r[1]){if(b=b instanceof q?b[0]:b,q.merge(this,q.parseHTML(r[1],b&&b.nodeType?b.ownerDocument||b:I,!0)),eb.test(r[1])&&
q.isPlainObject(b))for(r in b)q.isFunction(this[r])?this[r](b[r]):this.attr(r,b[r]);return this}return g=I.getElementById(r[2]),g&&(this[0]=g,this.length=1),this}return c.nodeType?(this[0]=c,this.length=1,this):q.isFunction(c)?void 0!==e.ready?e.ready(c):c(q):q.makeArray(c,this)}).prototype=q.fn;fb=q(I);var Ib=/^(?:parents|prev(?:Until|All))/,Jb={children:!0,contents:!0,next:!0,prev:!0};q.fn.extend({has:function(c){var b=q(c,this),e=b.length;return this.filter(function(){for(var c=0;c<e;c++)if(q.contains(this,
b[c]))return!0})},closest:function(c,b){var e,r=0,g=this.length,h=[],f="string"!=typeof c&&q(c);if(!db.test(c))for(;r<g;r++)for(e=this[r];e&&e!==b;e=e.parentNode)if(11>e.nodeType&&(f?-1<f.index(e):1===e.nodeType&&q.find.matchesSelector(e,c))){h.push(e);break}return this.pushStack(1<h.length?q.uniqueSort(h):h)},index:function(c){return c?"string"==typeof c?ba.call(q(c),this[0]):ba.call(this,c.jquery?c[0]:c):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(c,b){return this.pushStack(q.uniqueSort(q.merge(this.get(),
q(c,b))))},addBack:function(c){return this.add(null==c?this.prevObject:this.prevObject.filter(c))}});q.each({parent:function(c){return(c=c.parentNode)&&11!==c.nodeType?c:null},parents:function(c){return ta(c,"parentNode")},parentsUntil:function(c,b,e){return ta(c,"parentNode",e)},next:function(c){return m(c,"nextSibling")},prev:function(c){return m(c,"previousSibling")},nextAll:function(c){return ta(c,"nextSibling")},prevAll:function(c){return ta(c,"previousSibling")},nextUntil:function(c,b,e){return ta(c,
"nextSibling",e)},prevUntil:function(c,b,e){return ta(c,"previousSibling",e)},siblings:function(c){return cb((c.parentNode||{}).firstChild,c)},children:function(c){return cb(c.firstChild)},contents:function(c){return c.contentDocument||q.merge([],c.childNodes)}},function(c,b){q.fn[c]=function(e,r){var g=q.map(this,b,e);return"Until"!==c.slice(-5)&&(r=e),r&&"string"==typeof r&&(g=q.filter(r,g)),1<this.length&&(Jb[c]||q.uniqueSort(g),Ib.test(c)&&g.reverse()),this.pushStack(g)}});var ra=/[^\x20\t\r\n\f]+/g;
q.Callbacks=function(c){c="string"==typeof c?n(c):q.extend({},c);var b,e,r,g,h=[],f=[],k=-1,p=function(){g=c.once;for(r=b=!0;f.length;k=-1)for(e=f.shift();++k<h.length;)!1===h[k].apply(e[0],e[1])&&c.stopOnFalse&&(k=h.length,e=!1);c.memory||(e=!1);b=!1;g&&(h=e?[]:"")},m={add:function(){return h&&(e&&!b&&(k=h.length-1,f.push(e)),function wb(b){q.each(b,function(b,e){q.isFunction(e)?c.unique&&m.has(e)||h.push(e):e&&e.length&&"string"!==q.type(e)&&wb(e)})}(arguments),e&&!b&&p()),this},remove:function(){return q.each(arguments,
function(c,b){for(var e;-1<(e=q.inArray(b,h,e));)h.splice(e,1),e<=k&&k--}),this},has:function(c){return c?-1<q.inArray(c,h):0<h.length},empty:function(){return h&&(h=[]),this},disable:function(){return g=f=[],h=e="",this},disabled:function(){return!h},lock:function(){return g=f=[],e||b||(h=e=""),this},locked:function(){return!!g},fireWith:function(c,e){return g||(e=e||[],e=[c,e.slice?e.slice():e],f.push(e),b||p()),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!r}};
return m};q.extend({Deferred:function(b){var e=[["notify","progress",q.Callbacks("memory"),q.Callbacks("memory"),2],["resolve","done",q.Callbacks("once memory"),q.Callbacks("once memory"),0,"resolved"],["reject","fail",q.Callbacks("once memory"),q.Callbacks("once memory"),1,"rejected"]],r="pending",g={state:function(){return r},always:function(){return f.done(arguments).fail(arguments),this},"catch":function(c){return g.then(null,c)},pipe:function(){var c=arguments;return q.Deferred(function(b){q.each(e,
function(e,r){var g=q.isFunction(c[r[4]])&&c[r[4]];f[r[1]](function(){var c=g&&g.apply(this,arguments);c&&q.isFunction(c.promise)?c.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[r[0]+"With"](this,g?[c]:arguments)})});c=null}).promise()},then:function(b,r,g){function f(b,e,r,g){return function(){var p=this,n=arguments,C=function(){var c,C;if(!(b<k)){if(c=r.apply(p,n),c===e.promise())throw new TypeError("Thenable self-resolution");C=c&&("object"==typeof c||"function"==typeof c)&&c.then;
q.isFunction(C)?g?C.call(c,f(k,e,t,g),f(k,e,h,g)):(k++,C.call(c,f(k,e,t,g),f(k,e,h,g),f(k,e,t,e.notifyWith))):(r!==t&&(p=void 0,n=[c]),(g||e.resolveWith)(p,n))}},m=g?C:function(){try{C()}catch(bb){q.Deferred.exceptionHook&&q.Deferred.exceptionHook(bb,m.stackTrace),b+1>=k&&(r!==h&&(p=void 0,n=[bb]),e.rejectWith(p,n))}};b?m():(q.Deferred.getStackHook&&(m.stackTrace=q.Deferred.getStackHook()),c.setTimeout(m))}}var k=0;return q.Deferred(function(c){e[0][3].add(f(0,c,q.isFunction(g)?g:t,c.notifyWith));
e[1][3].add(f(0,c,q.isFunction(b)?b:t));e[2][3].add(f(0,c,q.isFunction(r)?r:h))}).promise()},promise:function(c){return null!=c?q.extend(c,g):g}},f={};return q.each(e,function(c,b){var h=b[2],k=b[5];g[b[1]]=h.add;k&&h.add(function(){r=k},e[3-c][2].disable,e[0][2].lock);h.add(b[3].fire);f[b[0]]=function(){return f[b[0]+"With"](this===f?void 0:this,arguments),this};f[b[0]+"With"]=h.fireWith}),g.promise(f),b&&b.call(f,f),f},when:function(c){var b=arguments.length,e=b,r=Array(e),g=aa.call(arguments),
h=q.Deferred(),f=function(c){return function(e){r[c]=this;g[c]=1<arguments.length?aa.call(arguments):e;--b||h.resolveWith(r,g)}};if(1>=b&&(p(c,h.done(f(e)).resolve,h.reject),"pending"===h.state()||q.isFunction(g[e]&&g[e].then)))return h.then();for(;e--;)p(g[e],f(e),h.reject);return h.promise()}});var Kb=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;q.Deferred.exceptionHook=function(b,e){c.console&&c.console.warn&&b&&Kb.test(b.name)&&c.console.warn("jQuery.Deferred exception: "+b.message,
b.stack,e)};q.readyException=function(b){c.setTimeout(function(){throw b;})};var Ra=q.Deferred();q.fn.ready=function(c){return Ra.then(c)["catch"](function(c){q.readyException(c)}),this};q.extend({isReady:!1,readyWait:1,holdReady:function(c){c?q.readyWait++:q.ready(!0)},ready:function(c){(!0===c?--q.readyWait:q.isReady)||(q.isReady=!0,!0!==c&&0<--q.readyWait||Ra.resolveWith(I,[q]))}});q.ready.then=Ra.then;"complete"===I.readyState||"loading"!==I.readyState&&!I.documentElement.doScroll?c.setTimeout(q.ready):
(I.addEventListener("DOMContentLoaded",g),c.addEventListener("load",g));var ya=function(c,b,e,g,h,f,k){var r=0,p=c.length,n=null==e;if("object"===q.type(e))for(r in h=!0,e)ya(c,b,r,e[r],!0,f,k);else if(void 0!==g&&(h=!0,q.isFunction(g)||(k=!0),n&&(k?(b.call(c,g),b=null):(n=b,b=function(c,b,e){return n.call(q(c),e)})),b))for(;r<p;r++)b(c[r],e,k?g:g.call(c[r],r,b(c[r],e)));return h?c:n?b.call(c):p?b(c[0],e):f},Ma=function(c){return 1===c.nodeType||9===c.nodeType||!+c.nodeType};v.uid=1;v.prototype={cache:function(c){var b=
c[this.expando];return b||(b={},Ma(c)&&(c.nodeType?c[this.expando]=b:Object.defineProperty(c,this.expando,{value:b,configurable:!0}))),b},set:function(c,b,e){var g;c=this.cache(c);if("string"==typeof b)c[q.camelCase(b)]=e;else for(g in b)c[q.camelCase(g)]=b[g];return c},get:function(c,b){return void 0===b?this.cache(c):c[this.expando]&&c[this.expando][q.camelCase(b)]},access:function(c,b,e){return void 0===b||b&&"string"==typeof b&&void 0===e?this.get(c,b):(this.set(c,b,e),void 0!==e?e:b)},remove:function(c,
b){var e,g=c[this.expando];if(void 0!==g){if(void 0!==b)for(q.isArray(b)?b=b.map(q.camelCase):(b=q.camelCase(b),b=b in g?[b]:b.match(ra)||[]),e=b.length;e--;)delete g[b[e]];(void 0===b||q.isEmptyObject(g))&&(c.nodeType?c[this.expando]=void 0:delete c[this.expando])}},hasData:function(c){c=c[this.expando];return void 0!==c&&!q.isEmptyObject(c)}};var X=new v,oa=new v,ub=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,tb=/[A-Z]/g;q.extend({hasData:function(c){return oa.hasData(c)||X.hasData(c)},data:function(c,b,e){return oa.access(c,
b,e)},removeData:function(c,b){oa.remove(c,b)},_data:function(c,b,e){return X.access(c,b,e)},_removeData:function(c,b){X.remove(c,b)}});q.fn.extend({data:function(c,b){var e,g,r,h=this[0],f=h&&h.attributes;if(void 0===c){if(this.length&&(r=oa.get(h),1===h.nodeType&&!X.get(h,"hasDataAttrs"))){for(e=f.length;e--;)f[e]&&(g=f[e].name,0===g.indexOf("data-")&&(g=q.camelCase(g.slice(5)),A(h,g,r[g])));X.set(h,"hasDataAttrs",!0)}return r}return"object"==typeof c?this.each(function(){oa.set(this,c)}):ya(this,
function(b){var e;if(h&&void 0===b){if((e=oa.get(h,c),void 0!==e)||(e=A(h,c),void 0!==e))return e}else this.each(function(){oa.set(this,c,b)})},null,b,1<arguments.length,null,!0)},removeData:function(c){return this.each(function(){oa.remove(this,c)})}});q.extend({queue:function(c,b,e){var g;if(c)return b=(b||"fx")+"queue",g=X.get(c,b),e&&(!g||q.isArray(e)?g=X.access(c,b,q.makeArray(e)):g.push(e)),g||[]},dequeue:function(c,b){b=b||"fx";var e=q.queue(c,b),g=e.length,r=e.shift(),h=q._queueHooks(c,b),
f=function(){q.dequeue(c,b)};"inprogress"===r&&(r=e.shift(),g--);r&&("fx"===b&&e.unshift("inprogress"),delete h.stop,r.call(c,f,h));!g&&h&&h.empty.fire()},_queueHooks:function(c,b){var e=b+"queueHooks";return X.get(c,e)||X.access(c,e,{empty:q.Callbacks("once memory").add(function(){X.remove(c,[b+"queue",e])})})}});q.fn.extend({queue:function(c,b){var e=2;return"string"!=typeof c&&(b=c,c="fx",e--),arguments.length<e?q.queue(this[0],c):void 0===b?this:this.each(function(){var e=q.queue(this,c,b);q._queueHooks(this,
c);"fx"===c&&"inprogress"!==e[0]&&q.dequeue(this,c)})},dequeue:function(c){return this.each(function(){q.dequeue(this,c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,b){var e,g=1,r=q.Deferred(),h=this,f=this.length,k=function(){--g||r.resolveWith(h,[h])};"string"!=typeof c&&(b=c,c=void 0);for(c=c||"fx";f--;)(e=X.get(h[f],c+"queueHooks"))&&e.empty&&(g++,e.empty.add(k));return k(),r.promise(b)}});var gb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Fa=new RegExp("^(?:([+-])=|)("+
gb+")([a-z%]*)$","i"),za=["Top","Right","Bottom","Left"],Ka=function(c,b){return c=b||c,"none"===c.style.display||""===c.style.display&&q.contains(c.ownerDocument,c)&&"none"===q.css(c,"display")},hb=function(c,b,e,g){var r,h={};for(r in b)h[r]=c.style[r],c.style[r]=b[r];e=e.apply(c,g||[]);for(r in b)c.style[r]=h[r];return e},Wa={};q.fn.extend({show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(c){return"boolean"==typeof c?c?this.show():this.hide():this.each(function(){Ka(this)?
q(this).show():q(this).hide()})}});var ib=/^(?:checkbox|radio)$/i,Xa=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ya=/^$|\/(?:java|ecma)script/i,ma={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ma.optgroup=ma.option;ma.tbody=ma.tfoot=ma.colgroup=ma.caption=ma.thead;ma.th=ma.td;var xb=/<|&#?\w+;/;!function(){var c=
I.createDocumentFragment().appendChild(I.createElement("div")),b=I.createElement("input");b.setAttribute("type","radio");b.setAttribute("checked","checked");b.setAttribute("name","t");c.appendChild(b);da.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;c.innerHTML="<textarea>x</textarea>";da.noCloneChecked=!!c.cloneNode(!0).lastChild.defaultValue}();var Na=I.documentElement,Lb=/^key/,Mb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,jb=/^([^.]*)(?:\.(.+)|)/;q.event={global:{},add:function(c,
b,e,g,h){var r,f,k,p,n,m,C,z,v,I;if(n=X.get(c))for(e.handler&&(r=e,e=r.handler,h=r.selector),h&&q.find.matchesSelector(Na,h),e.guid||(e.guid=q.guid++),(p=n.events)||(p=n.events={}),(f=n.handle)||(f=n.handle=function(b){return"undefined"!=typeof q&&q.event.triggered!==b.type?q.event.dispatch.apply(c,arguments):void 0}),b=(b||"").match(ra)||[""],n=b.length;n--;)k=jb.exec(b[n])||[],v=I=k[1],k=(k[2]||"").split(".").sort(),v&&(C=q.event.special[v]||{},v=(h?C.delegateType:C.bindType)||v,C=q.event.special[v]||
{},m=q.extend({type:v,origType:I,data:g,handler:e,guid:e.guid,selector:h,needsContext:h&&q.expr.match.needsContext.test(h),namespace:k.join(".")},r),(z=p[v])||(z=p[v]=[],z.delegateCount=0,C.setup&&!1!==C.setup.call(c,g,k,f)||c.addEventListener&&c.addEventListener(v,f)),C.add&&(C.add.call(c,m),m.handler.guid||(m.handler.guid=e.guid)),h?z.splice(z.delegateCount++,0,m):z.push(m),q.event.global[v]=!0)},remove:function(c,b,e,g,h){var r,f,k,p,n,m,C,z,v,I,u,E=X.hasData(c)&&X.get(c);if(E&&(p=E.events)){b=
(b||"").match(ra)||[""];for(n=b.length;n--;)if(k=jb.exec(b[n])||[],v=u=k[1],I=(k[2]||"").split(".").sort(),v){C=q.event.special[v]||{};v=(g?C.delegateType:C.bindType)||v;z=p[v]||[];k=k[2]&&new RegExp("(^|\\.)"+I.join("\\.(?:.*\\.|)")+"(\\.|$)");for(f=r=z.length;r--;)m=z[r],!h&&u!==m.origType||e&&e.guid!==m.guid||k&&!k.test(m.namespace)||g&&g!==m.selector&&("**"!==g||!m.selector)||(z.splice(r,1),m.selector&&z.delegateCount--,C.remove&&C.remove.call(c,m));f&&!z.length&&(C.teardown&&!1!==C.teardown.call(c,
I,E.handle)||q.removeEvent(c,v,E.handle),delete p[v])}else for(v in p)q.event.remove(c,v+b[n],e,g,!0);q.isEmptyObject(p)&&X.remove(c,"handle events")}},dispatch:function(c){var b=q.event.fix(c),e,g,r,h,f,k,p=Array(arguments.length);g=(X.get(this,"events")||{})[b.type]||[];var n=q.event.special[b.type]||{};p[0]=b;for(e=1;e<arguments.length;e++)p[e]=arguments[e];if(b.delegateTarget=this,!n.preDispatch||!1!==n.preDispatch.call(this,b)){k=q.event.handlers.call(this,b,g);for(e=0;(h=k[e++])&&!b.isPropagationStopped();)for(b.currentTarget=
h.elem,g=0;(f=h.handlers[g++])&&!b.isImmediatePropagationStopped();)b.rnamespace&&!b.rnamespace.test(f.namespace)||(b.handleObj=f,b.data=f.data,r=((q.event.special[f.origType]||{}).handle||f.handler).apply(h.elem,p),void 0!==r&&!1===(b.result=r)&&(b.preventDefault(),b.stopPropagation()));return n.postDispatch&&n.postDispatch.call(this,b),b.result}},handlers:function(c,b){var e,g,r,h,f,k=[],p=b.delegateCount,n=c.target;if(p&&n.nodeType&&!("click"===c.type&&1<=c.button))for(;n!==this;n=n.parentNode||
this)if(1===n.nodeType&&("click"!==c.type||!0!==n.disabled)){h=[];f={};for(e=0;e<p;e++)g=b[e],r=g.selector+" ",void 0===f[r]&&(f[r]=g.needsContext?-1<q(r,this).index(n):q.find(r,this,null,[n]).length),f[r]&&h.push(g);h.length&&k.push({elem:n,handlers:h})}return n=this,p<b.length&&k.push({elem:n,handlers:b.slice(p)}),k},addProp:function(c,b){Object.defineProperty(q.Event.prototype,c,{enumerable:!0,configurable:!0,get:q.isFunction(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[c]},
set:function(b){Object.defineProperty(this,c,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(c){return c[q.expando]?c:new q.Event(c)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==K()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===K()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&q.nodeName(this,"input"))return this.click(),!1},_default:function(c){return q.nodeName(c.target,
"a")}},beforeunload:{postDispatch:function(c){void 0!==c.result&&c.originalEvent&&(c.originalEvent.returnValue=c.result)}}}};q.removeEvent=function(c,b,e){c.removeEventListener&&c.removeEventListener(b,e)};q.Event=function(c,b){return this instanceof q.Event?(c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||void 0===c.defaultPrevented&&!1===c.returnValue?H:J,this.target=c.target&&3===c.target.nodeType?c.target.parentNode:c.target,this.currentTarget=c.currentTarget,
this.relatedTarget=c.relatedTarget):this.type=c,b&&q.extend(this,b),this.timeStamp=c&&c.timeStamp||q.now(),void(this[q.expando]=!0)):new q.Event(c,b)};q.Event.prototype={constructor:q.Event,isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J,isSimulated:!1,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=H;c&&!this.isSimulated&&c.preventDefault()},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=H;c&&!this.isSimulated&&
c.stopPropagation()},stopImmediatePropagation:function(){var c=this.originalEvent;this.isImmediatePropagationStopped=H;c&&!this.isSimulated&&c.stopImmediatePropagation();this.stopPropagation()}};q.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,
toElement:!0,touches:!0,which:function(c){var b=c.button;return null==c.which&&Lb.test(c.type)?null!=c.charCode?c.charCode:c.keyCode:!c.which&&void 0!==b&&Mb.test(c.type)?1&b?1:2&b?3:4&b?2:0:c.which}},q.event.addProp);q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(c,b){q.event.special[c]={delegateType:b,bindType:b,handle:function(c){var e,g=c.relatedTarget,h=c.handleObj;return g&&(g===this||q.contains(this,g))||(c.type=h.origType,
e=h.handler.apply(this,arguments),c.type=b),e}}});q.fn.extend({on:function(c,b,e,g){return M(this,c,b,e,g)},one:function(c,b,e,g){return M(this,c,b,e,g,1)},off:function(c,b,e){var g,h;if(c&&c.preventDefault&&c.handleObj)return g=c.handleObj,q(c.delegateTarget).off(g.namespace?g.origType+"."+g.namespace:g.origType,g.selector,g.handler),this;if("object"==typeof c){for(h in c)this.off(h,b,c[h]);return this}return!1!==b&&"function"!=typeof b||(e=b,b=void 0),!1===e&&(e=J),this.each(function(){q.event.remove(this,
c,e,b)})}});var Nb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ob=/<script|<style|<link/i,zb=/checked\s*(?:[^=]|=\s*.checked.)/i,yb=/^true\/(.*)/,Ab=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;q.extend({htmlPrefilter:function(c){return c.replace(Nb,"<$1></$2>")},clone:function(c,b,e){var g,h,r,f,k=c.cloneNode(!0),p=q.contains(c.ownerDocument,c);if(!(da.noCloneChecked||1!==c.nodeType&&11!==c.nodeType||q.isXMLDoc(c)))for(f=w(k),r=w(c),g=0,h=r.length;g<
h;g++){var n=r[g],m=f[g],z=m.nodeName.toLowerCase();"input"===z&&ib.test(n.type)?m.checked=n.checked:"input"!==z&&"textarea"!==z||(m.defaultValue=n.defaultValue)}if(b)if(e)for(r=r||w(c),f=f||w(k),g=0,h=r.length;g<h;g++)B(r[g],f[g]);else B(c,k);return f=w(k,"script"),0<f.length&&G(f,!p&&w(c,"script")),k},cleanData:function(c){for(var b,e,g,h=q.event.special,r=0;void 0!==(e=c[r]);r++)if(Ma(e)){if(b=e[X.expando]){if(b.events)for(g in b.events)h[g]?q.event.remove(e,g):q.removeEvent(e,g,b.handle);e[X.expando]=
void 0}e[oa.expando]&&(e[oa.expando]=void 0)}}});q.fn.extend({detach:function(c){return R(this,c,!0)},remove:function(c){return R(this,c)},text:function(c){return ya(this,function(c){return void 0===c?q.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=c)})},null,c,arguments.length)},append:function(){return E(this,arguments,function(c){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Q(this,c).appendChild(c)})},prepend:function(){return E(this,
arguments,function(c){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Q(this,c);b.insertBefore(c,b.firstChild)}})},before:function(){return E(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this)})},after:function(){return E(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this.nextSibling)})},empty:function(){for(var c,b=0;null!=(c=this[b]);b++)1===c.nodeType&&(q.cleanData(w(c,!1)),c.textContent="");return this},clone:function(c,
b){return c=null!=c&&c,b=null==b?c:b,this.map(function(){return q.clone(this,c,b)})},html:function(c){return ya(this,function(c){var b=this[0]||{},e=0,g=this.length;if(void 0===c&&1===b.nodeType)return b.innerHTML;if("string"==typeof c&&!Ob.test(c)&&!ma[(Xa.exec(c)||["",""])[1].toLowerCase()]){c=q.htmlPrefilter(c);try{for(;e<g;e++)b=this[e]||{},1===b.nodeType&&(q.cleanData(w(b,!1)),b.innerHTML=c);b=0}catch(gc){}}b&&this.empty().append(c)},null,c,arguments.length)},replaceWith:function(){var c=[];
return E(this,arguments,function(b){var e=this.parentNode;0>q.inArray(this,c)&&(q.cleanData(w(this)),e&&e.replaceChild(b,this))},c)}});q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,b){q.fn[c]=function(c){for(var e=[],g=q(c),h=g.length-1,r=0;r<=h;r++)c=r===h?this:this.clone(!0),q(g[r])[b](c),sa.apply(e,c.get());return this.pushStack(e)}});var Za=/^margin/,Oa=new RegExp("^("+gb+")(?!px)[a-z%]+$","i"),La=function(b){var e=
b.ownerDocument.defaultView;return e&&e.opener||(e=c),e.getComputedStyle(b)};!function(){function b(){if(p){p.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";p.innerHTML="";Na.appendChild(k);var b=c.getComputedStyle(p);e="1%"!==b.top;f="2px"===b.marginLeft;g="4px"===b.width;p.style.marginRight="50%";h="4px"===b.marginRight;Na.removeChild(k);p=null}}var e,g,h,f,k=I.createElement("div"),p=I.createElement("div");p.style&&(p.style.backgroundClip=
"content-box",p.cloneNode(!0).style.backgroundClip="",da.clearCloneStyle="content-box"===p.style.backgroundClip,k.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",k.appendChild(p),q.extend(da,{pixelPosition:function(){return b(),e},boxSizingReliable:function(){return b(),g},pixelMarginRight:function(){return b(),h},reliableMarginLeft:function(){return b(),f}}))}();var Pb=/^(none|table(?!-c[ea]).+)/,Qb={position:"absolute",visibility:"hidden",
display:"block"},kb={letterSpacing:"0",fontWeight:"400"},ab=["Webkit","Moz","ms"],$a=I.createElement("div").style;q.extend({cssHooks:{opacity:{get:function(c,b){if(b){var e=U(c,"opacity");return""===e?"1":e}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(c,b,e,g){if(c&&3!==c.nodeType&&8!==c.nodeType&&c.style){var h,r,
f,k=q.camelCase(b),p=c.style;return b=q.cssProps[k]||(q.cssProps[k]=ja(k)||k),f=q.cssHooks[b]||q.cssHooks[k],void 0===e?f&&"get"in f&&void 0!==(h=f.get(c,!1,g))?h:p[b]:(r=typeof e,"string"===r&&(h=Fa.exec(e))&&h[1]&&(e=z(c,b,h),r="number"),null!=e&&e===e&&("number"===r&&(e+=h&&h[3]||(q.cssNumber[k]?"":"px")),da.clearCloneStyle||""!==e||0!==b.indexOf("background")||(p[b]="inherit"),f&&"set"in f&&void 0===(e=f.set(c,e,g))||(p[b]=e)),void 0)}},css:function(c,b,e,g){var h,f,r,k=q.camelCase(b);return b=
q.cssProps[k]||(q.cssProps[k]=ja(k)||k),r=q.cssHooks[b]||q.cssHooks[k],r&&"get"in r&&(h=r.get(c,!0,e)),void 0===h&&(h=U(c,b,g)),"normal"===h&&b in kb&&(h=kb[b]),""===e||e?(f=parseFloat(h),!0===e||isFinite(f)?f||0:h):h}});q.each(["height","width"],function(c,b){q.cssHooks[b]={get:function(c,e,g){if(e)return!Pb.test(q.css(c,"display"))||c.getClientRects().length&&c.getBoundingClientRect().width?ea(c,b,g):hb(c,Qb,function(){return ea(c,b,g)})},set:function(c,e,g){var h,f=g&&La(c);g=g&&na(c,b,g,"border-box"===
q.css(c,"boxSizing",!1,f),f);return g&&(h=Fa.exec(e))&&"px"!==(h[3]||"px")&&(c.style[b]=e,e=q.css(c,b)),fa(c,e,g)}}});q.cssHooks.marginLeft=T(da.reliableMarginLeft,function(c,b){if(b)return(parseFloat(U(c,"marginLeft"))||c.getBoundingClientRect().left-hb(c,{marginLeft:0},function(){return c.getBoundingClientRect().left}))+"px"});q.each({margin:"",padding:"",border:"Width"},function(c,b){q.cssHooks[c+b]={expand:function(e){var g=0,h={};for(e="string"==typeof e?e.split(" "):[e];4>g;g++)h[c+za[g]+b]=
e[g]||e[g-2]||e[0];return h}};Za.test(c)||(q.cssHooks[c+b].set=fa)});q.fn.extend({css:function(c,b){return ya(this,function(c,b,e){var g,h={},f=0;if(q.isArray(b)){e=La(c);for(g=b.length;f<g;f++)h[b[f]]=q.css(c,b[f],!1,e);return h}return void 0!==e?q.style(c,b,e):q.css(c,b)},c,b,1<arguments.length)}});q.Tween=F;F.prototype={constructor:F,init:function(c,b,e,g,h,f){this.elem=c;this.prop=e;this.easing=h||q.easing._default;this.options=b;this.start=this.now=this.cur();this.end=g;this.unit=f||(q.cssNumber[e]?
"":"px")},cur:function(){var c=F.propHooks[this.prop];return c&&c.get?c.get(this):F.propHooks._default.get(this)},run:function(c){var b,e=F.propHooks[this.prop];return this.options.duration?this.pos=b=q.easing[this.easing](c,this.options.duration*c,0,1,this.options.duration):this.pos=b=c,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),e&&e.set?e.set(this):F.propHooks._default.set(this),this}};F.prototype.init.prototype=F.prototype;F.propHooks=
{_default:{get:function(c){var b;return 1!==c.elem.nodeType||null!=c.elem[c.prop]&&null==c.elem.style[c.prop]?c.elem[c.prop]:(b=q.css(c.elem,c.prop,""),b&&"auto"!==b?b:0)},set:function(c){q.fx.step[c.prop]?q.fx.step[c.prop](c):1!==c.elem.nodeType||null==c.elem.style[q.cssProps[c.prop]]&&!q.cssHooks[c.prop]?c.elem[c.prop]=c.now:q.style(c.elem,c.prop,c.now+c.unit)}}};F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=c.now)}};q.easing={linear:function(c){return c},
swing:function(c){return.5-Math.cos(c*Math.PI)/2},_default:"swing"};q.fx=F.prototype.init;q.fx.step={};var Ca,Aa,Rb=/^(?:toggle|show|hide)$/,Sb=/queueHooks$/;q.Animation=q.extend(N,{tweeners:{"*":[function(c,b){var e=this.createTween(c,b);return z(e.elem,c,Fa.exec(b),e),e}]},tweener:function(c,b){q.isFunction(c)?(b=c,c=["*"]):c=c.match(ra);for(var e,g=0,h=c.length;g<h;g++)e=c[g],N.tweeners[e]=N.tweeners[e]||[],N.tweeners[e].unshift(b)},prefilters:[function(c,b,e){var g,h,f,k,r,p,n,m,z="width"in b||
"height"in b,v=this,I={},u=c.style,E=c.nodeType&&Ka(c),S=X.get(c,"fxshow");e.queue||(k=q._queueHooks(c,"fx"),null==k.unqueued&&(k.unqueued=0,r=k.empty.fire,k.empty.fire=function(){k.unqueued||r()}),k.unqueued++,v.always(function(){v.always(function(){k.unqueued--;q.queue(c,"fx").length||k.empty.fire()})}));for(g in b)if(h=b[g],Rb.test(h)){if(delete b[g],f=f||"toggle"===h,h===(E?"hide":"show")){if("show"!==h||!S||void 0===S[g])continue;E=!0}I[g]=S&&S[g]||q.style(c,g)}if(p=!q.isEmptyObject(b),p||!q.isEmptyObject(I))for(g in z&&
1===c.nodeType&&(e.overflow=[u.overflow,u.overflowX,u.overflowY],n=S&&S.display,null==n&&(n=X.get(c,"display")),m=q.css(c,"display"),"none"===m&&(n?m=n:(y([c],!0),n=c.style.display||n,m=q.css(c,"display"),y([c]))),("inline"===m||"inline-block"===m&&null!=n)&&"none"===q.css(c,"float")&&(p||(v.done(function(){u.display=n}),null==n&&(m=u.display,n="none"===m?"":m)),u.display="inline-block")),e.overflow&&(u.overflow="hidden",v.always(function(){u.overflow=e.overflow[0];u.overflowX=e.overflow[1];u.overflowY=
e.overflow[2]})),p=!1,I)p||(S?"hidden"in S&&(E=S.hidden):S=X.access(c,"fxshow",{display:n}),f&&(S.hidden=!E),E&&y([c],!0),v.done(function(){E||y([c]);X.remove(c,"fxshow");for(g in I)q.style(c,g,I[g])})),p=qa(E?S[g]:0,g,v),g in S||(S[g]=p.start,E&&(p.end=p.start,p.start=0))}],prefilter:function(c,b){b?N.prefilters.unshift(c):N.prefilters.push(c)}});q.speed=function(c,b,e){var g=c&&"object"==typeof c?q.extend({},c):{complete:e||!e&&b||q.isFunction(c)&&c,duration:c,easing:e&&b||b&&!q.isFunction(b)&&
b};return q.fx.off||I.hidden?g.duration=0:"number"!=typeof g.duration&&(g.duration in q.fx.speeds?g.duration=q.fx.speeds[g.duration]:g.duration=q.fx.speeds._default),null!=g.queue&&!0!==g.queue||(g.queue="fx"),g.old=g.complete,g.complete=function(){q.isFunction(g.old)&&g.old.call(this);g.queue&&q.dequeue(this,g.queue)},g};q.fn.extend({fadeTo:function(c,b,e,g){return this.filter(Ka).css("opacity",0).show().end().animate({opacity:b},c,e,g)},animate:function(c,b,e,g){var h=q.isEmptyObject(c),f=q.speed(b,
e,g);b=function(){var b=N(this,q.extend({},c),f);(h||X.get(this,"finish"))&&b.stop(!0)};return b.finish=b,h||!1===f.queue?this.each(b):this.queue(f.queue,b)},stop:function(c,b,e){var g=function(c){var b=c.stop;delete c.stop;b(e)};return"string"!=typeof c&&(e=b,b=c,c=void 0),b&&!1!==c&&this.queue(c||"fx",[]),this.each(function(){var b=!0,h=null!=c&&c+"queueHooks",f=q.timers,k=X.get(this);if(h)k[h]&&k[h].stop&&g(k[h]);else for(h in k)k[h]&&k[h].stop&&Sb.test(h)&&g(k[h]);for(h=f.length;h--;)f[h].elem!==
this||null!=c&&f[h].queue!==c||(f[h].anim.stop(e),b=!1,f.splice(h,1));!b&&e||q.dequeue(this,c)})},finish:function(c){return!1!==c&&(c=c||"fx"),this.each(function(){var b,e=X.get(this),g=e[c+"queue"];b=e[c+"queueHooks"];var h=q.timers,f=g?g.length:0;e.finish=!0;q.queue(this,c,[]);b&&b.stop&&b.stop.call(this,!0);for(b=h.length;b--;)h[b].elem===this&&h[b].queue===c&&(h[b].anim.stop(!0),h.splice(b,1));for(b=0;b<f;b++)g[b]&&g[b].finish&&g[b].finish.call(this);delete e.finish})}});q.each(["toggle","show",
"hide"],function(c,b){var e=q.fn[b];q.fn[b]=function(c,g,h){return null==c||"boolean"==typeof c?e.apply(this,arguments):this.animate(P(b,!0),c,g,h)}});q.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(c,b){q.fn[c]=function(c,e,g){return this.animate(b,c,e,g)}});q.timers=[];q.fx.tick=function(){var c,b=0,e=q.timers;for(Ca=q.now();b<e.length;b++)c=e[b],c()||e[b]!==c||e.splice(b--,1);e.length||
q.fx.stop();Ca=void 0};q.fx.timer=function(c){q.timers.push(c);c()?q.fx.start():q.timers.pop()};q.fx.interval=13;q.fx.start=function(){Aa||(Aa=c.requestAnimationFrame?c.requestAnimationFrame(va):c.setInterval(q.fx.tick,q.fx.interval))};q.fx.stop=function(){c.cancelAnimationFrame?c.cancelAnimationFrame(Aa):c.clearInterval(Aa);Aa=null};q.fx.speeds={slow:600,fast:200,_default:400};q.fn.delay=function(b,e){return b=q.fx?q.fx.speeds[b]||b:b,e=e||"fx",this.queue(e,function(e,g){var h=c.setTimeout(e,b);
g.stop=function(){c.clearTimeout(h)}})};(function(){var c=I.createElement("input"),b=I.createElement("select").appendChild(I.createElement("option"));c.type="checkbox";da.checkOn=""!==c.value;da.optSelected=b.selected;c=I.createElement("input");c.value="t";c.type="radio";da.radioValue="t"===c.value})();var lb,Ha=q.expr.attrHandle;q.fn.extend({attr:function(c,b){return ya(this,q.attr,c,b,1<arguments.length)},removeAttr:function(c){return this.each(function(){q.removeAttr(this,c)})}});q.extend({attr:function(c,
b,e){var g,h,f=c.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof c.getAttribute?q.prop(c,b,e):(1===f&&q.isXMLDoc(c)||(h=q.attrHooks[b.toLowerCase()]||(q.expr.match.bool.test(b)?lb:void 0)),void 0!==e?null===e?void q.removeAttr(c,b):h&&"set"in h&&void 0!==(g=h.set(c,e,b))?g:(c.setAttribute(b,e+""),e):h&&"get"in h&&null!==(g=h.get(c,b))?g:(g=q.find.attr(c,b),null==g?void 0:g))},attrHooks:{type:{set:function(c,b){if(!da.radioValue&&"radio"===b&&q.nodeName(c,"input")){var e=c.value;return c.setAttribute("type",
b),e&&(c.value=e),b}}}},removeAttr:function(c,b){var e,g=0,h=b&&b.match(ra);if(h&&1===c.nodeType)for(;e=h[g++];)c.removeAttribute(e)}});lb={set:function(c,b,e){return!1===b?q.removeAttr(c,e):c.setAttribute(e,e),e}};q.each(q.expr.match.bool.source.match(/\w+/g),function(c,b){var e=Ha[b]||q.find.attr;Ha[b]=function(c,b,g){var h,f,k=b.toLowerCase();return g||(f=Ha[k],Ha[k]=h,h=null!=e(c,b,g)?k:null,Ha[k]=f),h}});var Tb=/^(?:input|select|textarea|button)$/i,Ub=/^(?:a|area)$/i;q.fn.extend({prop:function(c,
b){return ya(this,q.prop,c,b,1<arguments.length)},removeProp:function(c){return this.each(function(){delete this[q.propFix[c]||c]})}});q.extend({prop:function(c,b,e){var g,h,f=c.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&q.isXMLDoc(c)||(b=q.propFix[b]||b,h=q.propHooks[b]),void 0!==e?h&&"set"in h&&void 0!==(g=h.set(c,e,b))?g:c[b]=e:h&&"get"in h&&null!==(g=h.get(c,b))?g:c[b]},propHooks:{tabIndex:{get:function(c){var b=q.find.attr(c,"tabindex");return b?parseInt(b,10):Tb.test(c.nodeName)||Ub.test(c.nodeName)&&
c.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});da.optSelected||(q.propHooks.selected={get:function(c){c=c.parentNode;return c&&c.parentNode&&c.parentNode.selectedIndex,null},set:function(c){c=c.parentNode;c&&(c.selectedIndex,c.parentNode&&c.parentNode.selectedIndex)}});q.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){q.propFix[this.toLowerCase()]=this});q.fn.extend({addClass:function(c){var b,e,g,
h,f,k,p=0;if(q.isFunction(c))return this.each(function(b){q(this).addClass(c.call(this,b,Y(this)))});if("string"==typeof c&&c)for(b=c.match(ra)||[];e=this[p++];)if(h=Y(e),g=1===e.nodeType&&" "+V(h)+" "){for(k=0;f=b[k++];)0>g.indexOf(" "+f+" ")&&(g+=f+" ");g=V(g);h!==g&&e.setAttribute("class",g)}return this},removeClass:function(c){var b,e,g,h,f,k,p=0;if(q.isFunction(c))return this.each(function(b){q(this).removeClass(c.call(this,b,Y(this)))});if(!arguments.length)return this.attr("class","");if("string"==
typeof c&&c)for(b=c.match(ra)||[];e=this[p++];)if(h=Y(e),g=1===e.nodeType&&" "+V(h)+" "){for(k=0;f=b[k++];)for(;-1<g.indexOf(" "+f+" ");)g=g.replace(" "+f+" "," ");g=V(g);h!==g&&e.setAttribute("class",g)}return this},toggleClass:function(c,b){var e=typeof c;return"boolean"==typeof b&&"string"===e?b?this.addClass(c):this.removeClass(c):q.isFunction(c)?this.each(function(e){q(this).toggleClass(c.call(this,e,Y(this),b),b)}):this.each(function(){var b,g,h,f;if("string"===e)for(g=0,h=q(this),f=c.match(ra)||
[];b=f[g++];)h.hasClass(b)?h.removeClass(b):h.addClass(b);else void 0!==c&&"boolean"!==e||(b=Y(this),b&&X.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===c?"":X.get(this,"__className__")||""))})},hasClass:function(c){var b,e=0;for(c=" "+c+" ";b=this[e++];)if(1===b.nodeType&&-1<(" "+V(Y(b))+" ").indexOf(c))return!0;return!1}});var Vb=/\r/g;q.fn.extend({val:function(c){var b,e,g,h=this[0];if(arguments.length)return g=q.isFunction(c),this.each(function(e){var h;1===this.nodeType&&
(h=g?c.call(this,e,q(this).val()):c,null==h?h="":"number"==typeof h?h+="":q.isArray(h)&&(h=q.map(h,function(c){return null==c?"":c+""})),b=q.valHooks[this.type]||q.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,h,"value")||(this.value=h))});if(h)return b=q.valHooks[h.type]||q.valHooks[h.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(e=b.get(h,"value"))?e:(e=h.value,"string"==typeof e?e.replace(Vb,""):null==e?"":e)}});q.extend({valHooks:{option:{get:function(c){var b=q.find.attr(c,
"value");return null!=b?b:V(q.text(c))}},select:{get:function(c){var b,e,g=c.options,h=c.selectedIndex,f="select-one"===c.type,k=f?null:[],p=f?h+1:g.length;for(e=0>h?p:f?h:0;e<p;e++)if(b=g[e],!(!b.selected&&e!==h||b.disabled||b.parentNode.disabled&&q.nodeName(b.parentNode,"optgroup"))){if(c=q(b).val(),f)return c;k.push(c)}return k},set:function(c,b){for(var e,g,h=c.options,f=q.makeArray(b),k=h.length;k--;)g=h[k],(g.selected=-1<q.inArray(q.valHooks.option.get(g),f))&&(e=!0);return e||(c.selectedIndex=
-1),f}}}});q.each(["radio","checkbox"],function(){q.valHooks[this]={set:function(c,b){if(q.isArray(b))return c.checked=-1<q.inArray(q(c).val(),b)}};da.checkOn||(q.valHooks[this].get=function(c){return null===c.getAttribute("value")?"on":c.value})});var mb=/^(?:focusinfocus|focusoutblur)$/;q.extend(q.event,{trigger:function(b,e,g,h){var f,k,p,n,r,m,v,z=[g||I],u=Da.call(b,"type")?b.type:b;f=Da.call(b,"namespace")?b.namespace.split("."):[];if(k=p=g=g||I,3!==g.nodeType&&8!==g.nodeType&&!mb.test(u+q.event.triggered)&&
(-1<u.indexOf(".")&&(f=u.split("."),u=f.shift(),f.sort()),r=0>u.indexOf(":")&&"on"+u,b=b[q.expando]?b:new q.Event(u,"object"==typeof b&&b),b.isTrigger=h?2:3,b.namespace=f.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=g),e=null==e?[b]:q.makeArray(e,[b]),v=q.event.special[u]||{},h||!v.trigger||!1!==v.trigger.apply(g,e))){if(!h&&!v.noBubble&&!q.isWindow(g)){n=v.delegateType||u;for(mb.test(n+u)||(k=k.parentNode);k;k=
k.parentNode)z.push(k),p=k;p===(g.ownerDocument||I)&&z.push(p.defaultView||p.parentWindow||c)}for(f=0;(k=z[f++])&&!b.isPropagationStopped();)b.type=1<f?n:v.bindType||u,(m=(X.get(k,"events")||{})[b.type]&&X.get(k,"handle"))&&m.apply(k,e),(m=r&&k[r])&&m.apply&&Ma(k)&&(b.result=m.apply(k,e),!1===b.result&&b.preventDefault());return b.type=u,h||b.isDefaultPrevented()||v._default&&!1!==v._default.apply(z.pop(),e)||!Ma(g)||r&&q.isFunction(g[u])&&!q.isWindow(g)&&(p=g[r],p&&(g[r]=null),q.event.triggered=
u,g[u](),q.event.triggered=void 0,p&&(g[r]=p)),b.result}},simulate:function(c,b,e){c=q.extend(new q.Event,e,{type:c,isSimulated:!0});q.event.trigger(c,null,b)}});q.fn.extend({trigger:function(c,b){return this.each(function(){q.event.trigger(c,b,this)})},triggerHandler:function(c,b){var e=this[0];if(e)return q.event.trigger(c,b,e,!0)}});q.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),
function(c,b){q.fn[b]=function(c,e){return 0<arguments.length?this.on(b,null,c,e):this.trigger(b)}});q.fn.extend({hover:function(c,b){return this.mouseenter(c).mouseleave(b||c)}});da.focusin="onfocusin"in c;da.focusin||q.each({focus:"focusin",blur:"focusout"},function(c,b){var e=function(c){q.event.simulate(b,c.target,q.event.fix(c))};q.event.special[b]={setup:function(){var g=this.ownerDocument||this,h=X.access(g,b);h||g.addEventListener(c,e,!0);X.access(g,b,(h||0)+1)},teardown:function(){var g=
this.ownerDocument||this,h=X.access(g,b)-1;h?X.access(g,b,h):(g.removeEventListener(c,e,!0),X.remove(g,b))}}});var Ia=c.location,nb=q.now(),Sa=/\?/;q.parseXML=function(b){var e;if(!b||"string"!=typeof b)return null;try{e=(new c.DOMParser).parseFromString(b,"text/xml")}catch(wa){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||q.error("Invalid XML: "+b),e};var Bb=/\[\]$/,ob=/\r?\n/g,Wb=/^(?:submit|button|image|reset|file)$/i,Xb=/^(?:input|select|textarea|keygen)/i;q.param=function(c,
b){var e,g=[],h=function(c,b){var e=q.isFunction(b)?b():b;g[g.length]=encodeURIComponent(c)+"="+encodeURIComponent(null==e?"":e)};if(q.isArray(c)||c.jquery&&!q.isPlainObject(c))q.each(c,function(){h(this.name,this.value)});else for(e in c)ka(e,c[e],b,h);return g.join("&")};q.fn.extend({serialize:function(){return q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var c=q.prop(this,"elements");return c?q.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&
!q(this).is(":disabled")&&Xb.test(this.nodeName)&&!Wb.test(c)&&(this.checked||!ib.test(c))}).map(function(c,b){var e=q(this).val();return null==e?null:q.isArray(e)?q.map(e,function(c){return{name:b.name,value:c.replace(ob,"\r\n")}}):{name:b.name,value:e.replace(ob,"\r\n")}}).get()}});var Yb=/%20/g,Zb=/#.*$/,$b=/([?&])_=[^&]*/,ac=/^(.*?):[ \t]*([^\r\n]*)$/gm,bc=/^(?:GET|HEAD)$/,cc=/^\/\//,pb={},Pa={},qb="*/".concat("*"),Ta=I.createElement("a");Ta.href=Ia.href;q.extend({active:0,lastModified:{},etag:{},
ajaxSettings:{url:Ia.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ia.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,
"text html":!0,"text json":JSON.parse,"text xml":q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,b){return b?ha(ha(c,q.ajaxSettings),b):ha(q.ajaxSettings,c)},ajaxPrefilter:la(pb),ajaxTransport:la(Pa),ajax:function(b,e){function g(b,e,g,p){var m,z,u,I,D=e;if(!r){r=!0;n&&c.clearTimeout(n);h=void 0;k=p||"";aa.readyState=0<b?4:0;p=200<=b&&300>b||304===b;if(g){u=E;for(var H=aa,w,J,O,B,K=u.contents,C=u.dataTypes;"*"===C[0];)C.shift(),void 0===w&&(w=u.mimeType||H.getResponseHeader("Content-Type"));
if(w)for(J in K)if(K[J]&&K[J].test(w)){C.unshift(J);break}if(C[0]in g)O=C[0];else{for(J in g){if(!C[0]||u.converters[J+" "+C[0]]){O=J;break}B||(B=J)}O=O||B}g=O?(O!==C[0]&&C.unshift(O),g[O]):void 0;u=g}var Q;a:{g=E;w=u;J=aa;O=p;var R,ba,M;u={};H=g.dataTypes.slice();if(H[1])for(R in g.converters)u[R.toLowerCase()]=g.converters[R];for(B=H.shift();B;)if(g.responseFields[B]&&(J[g.responseFields[B]]=w),!M&&O&&g.dataFilter&&(w=g.dataFilter(w,g.dataType)),M=B,B=H.shift())if("*"===B)B=M;else if("*"!==M&&M!==
B){if(R=u[M+" "+B]||u["* "+B],!R)for(Q in u)if(ba=Q.split(" "),ba[1]===B&&(R=u[M+" "+ba[0]]||u["* "+ba[0]])){!0===R?R=u[Q]:!0!==u[Q]&&(B=ba[0],H.unshift(ba[1]));break}if(!0!==R)if(R&&g["throws"])w=R(w);else try{w=R(w)}catch(Gb){Q={state:"parsererror",error:R?Gb:"No conversion from "+M+" to "+B};break a}}Q={state:"success",data:w}}u=Q;p?(E.ifModified&&(I=aa.getResponseHeader("Last-Modified"),I&&(q.lastModified[f]=I),I=aa.getResponseHeader("etag"),I&&(q.etag[f]=I)),204===b||"HEAD"===E.type?D="nocontent":
304===b?D="notmodified":(D=u.state,m=u.data,z=u.error,p=!z)):(z=D,!b&&D||(D="error",0>b&&(b=0)));aa.status=b;aa.statusText=(e||D)+"";p?G.resolveWith(S,[m,D,aa]):G.rejectWith(S,[aa,D,z]);aa.statusCode(y);y=void 0;v&&A.trigger(p?"ajaxSuccess":"ajaxError",[aa,E,p?m:z]);t.fireWith(S,[aa,D]);v&&(A.trigger("ajaxComplete",[aa,E]),--q.active||q.event.trigger("ajaxStop"))}}"object"==typeof b&&(e=b,b=void 0);e=e||{};var h,f,k,p,n,m,r,v,z,u,E=q.ajaxSetup({},e),S=E.context||E,A=E.context&&(S.nodeType||S.jquery)?
q(S):q.event,G=q.Deferred(),t=q.Callbacks("once memory"),y=E.statusCode||{},D={},H={},w="canceled",aa={readyState:0,getResponseHeader:function(c){var b;if(r){if(!p)for(p={};b=ac.exec(k);)p[b[1].toLowerCase()]=b[2];b=p[c.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return r?k:null},setRequestHeader:function(c,b){return null==r&&(c=H[c.toLowerCase()]=H[c.toLowerCase()]||c,D[c]=b),this},overrideMimeType:function(c){return null==r&&(E.mimeType=c),this},statusCode:function(c){var b;
if(c)if(r)aa.always(c[aa.status]);else for(b in c)y[b]=[y[b],c[b]];return this},abort:function(c){c=c||w;return h&&h.abort(c),g(0,c),this}};if(G.promise(aa),E.url=((b||E.url||Ia.href)+"").replace(cc,Ia.protocol+"//"),E.type=e.method||e.type||E.method||E.type,E.dataTypes=(E.dataType||"*").toLowerCase().match(ra)||[""],null==E.crossDomain){m=I.createElement("a");try{m.href=E.url,m.href=m.href,E.crossDomain=Ta.protocol+"//"+Ta.host!=m.protocol+"//"+m.host}catch(Qa){E.crossDomain=!0}}if(E.data&&E.processData&&
"string"!=typeof E.data&&(E.data=q.param(E.data,E.traditional)),Z(pb,E,e,aa),r)return aa;(v=q.event&&E.global)&&0===q.active++&&q.event.trigger("ajaxStart");E.type=E.type.toUpperCase();E.hasContent=!bc.test(E.type);f=E.url.replace(Zb,"");E.hasContent?E.data&&E.processData&&0===(E.contentType||"").indexOf("application/x-www-form-urlencoded")&&(E.data=E.data.replace(Yb,"+")):(u=E.url.slice(f.length),E.data&&(f+=(Sa.test(f)?"&":"?")+E.data,delete E.data),!1===E.cache&&(f=f.replace($b,"$1"),u=(Sa.test(f)?
"&":"?")+"_="+nb++ +u),E.url=f+u);E.ifModified&&(q.lastModified[f]&&aa.setRequestHeader("If-Modified-Since",q.lastModified[f]),q.etag[f]&&aa.setRequestHeader("If-None-Match",q.etag[f]));(E.data&&E.hasContent&&!1!==E.contentType||e.contentType)&&aa.setRequestHeader("Content-Type",E.contentType);aa.setRequestHeader("Accept",E.dataTypes[0]&&E.accepts[E.dataTypes[0]]?E.accepts[E.dataTypes[0]]+("*"!==E.dataTypes[0]?", "+qb+"; q=0.01":""):E.accepts["*"]);for(z in E.headers)aa.setRequestHeader(z,E.headers[z]);
if(E.beforeSend&&(!1===E.beforeSend.call(S,aa,E)||r))return aa.abort();if(w="abort",t.add(E.complete),aa.done(E.success),aa.fail(E.error),h=Z(Pa,E,e,aa)){if(aa.readyState=1,v&&A.trigger("ajaxSend",[aa,E]),r)return aa;E.async&&0<E.timeout&&(n=c.setTimeout(function(){aa.abort("timeout")},E.timeout));try{r=!1,h.send(D,g)}catch(Qa){if(r)throw Qa;g(-1,Qa)}}else g(-1,"No Transport");return aa},getJSON:function(c,b,e){return q.get(c,b,e,"json")},getScript:function(c,b){return q.get(c,void 0,b,"script")}});
q.each(["get","post"],function(c,b){q[b]=function(c,e,g,h){return q.isFunction(e)&&(h=h||g,g=e,e=void 0),q.ajax(q.extend({url:c,type:b,dataType:h,data:e,success:g},q.isPlainObject(c)&&c))}});q._evalUrl=function(c){return q.ajax({url:c,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})};q.fn.extend({wrapAll:function(c){var b;return this[0]&&(q.isFunction(c)&&(c=c.call(this[0])),b=q(c,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var c=
this;c.firstElementChild;)c=c.firstElementChild;return c}).append(this)),this},wrapInner:function(c){return q.isFunction(c)?this.each(function(b){q(this).wrapInner(c.call(this,b))}):this.each(function(){var b=q(this),e=b.contents();e.length?e.wrapAll(c):b.append(c)})},wrap:function(c){var b=q.isFunction(c);return this.each(function(e){q(this).wrapAll(b?c.call(this,e):c)})},unwrap:function(c){return this.parent(c).not("body").each(function(){q(this).replaceWith(this.childNodes)}),this}});q.expr.pseudos.hidden=
function(c){return!q.expr.pseudos.visible(c)};q.expr.pseudos.visible=function(c){return!!(c.offsetWidth||c.offsetHeight||c.getClientRects().length)};q.ajaxSettings.xhr=function(){try{return new c.XMLHttpRequest}catch(r){}};var dc={0:200,1223:204},Ja=q.ajaxSettings.xhr();da.cors=!!Ja&&"withCredentials"in Ja;da.ajax=Ja=!!Ja;q.ajaxTransport(function(b){var e,g;if(da.cors||Ja&&!b.crossDomain)return{send:function(h,f){var k,p=b.xhr();if(p.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(k in b.xhrFields)p[k]=
b.xhrFields[k];b.mimeType&&p.overrideMimeType&&p.overrideMimeType(b.mimeType);b.crossDomain||h["X-Requested-With"]||(h["X-Requested-With"]="XMLHttpRequest");for(k in h)p.setRequestHeader(k,h[k]);e=function(c){return function(){e&&(e=g=p.onload=p.onerror=p.onabort=p.onreadystatechange=null,"abort"===c?p.abort():"error"===c?"number"!=typeof p.status?f(0,"error"):f(p.status,p.statusText):f(dc[p.status]||p.status,p.statusText,"text"!==(p.responseType||"text")||"string"!=typeof p.responseText?{binary:p.response}:
{text:p.responseText},p.getAllResponseHeaders()))}};p.onload=e();g=p.onerror=e("error");void 0!==p.onabort?p.onabort=g:p.onreadystatechange=function(){4===p.readyState&&c.setTimeout(function(){e&&g()})};e=e("abort");try{p.send(b.hasContent&&b.data||null)}catch(vb){if(e)throw vb;}},abort:function(){e&&e()}}});q.ajaxPrefilter(function(c){c.crossDomain&&(c.contents.script=!1)});q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},
converters:{"text script":function(c){return q.globalEval(c),c}}});q.ajaxPrefilter("script",function(c){void 0===c.cache&&(c.cache=!1);c.crossDomain&&(c.type="GET")});q.ajaxTransport("script",function(c){if(c.crossDomain){var b,e;return{send:function(g,h){b=q("<script>").prop({charset:c.scriptCharset,src:c.url}).on("load error",e=function(c){b.remove();e=null;c&&h("error"===c.type?404:200,c.type)});I.head.appendChild(b[0])},abort:function(){e&&e()}}}});var rb=[],Ua=/(=)\?(?=&|$)|\?\?/;q.ajaxSetup({jsonp:"callback",
jsonpCallback:function(){var c=rb.pop()||q.expando+"_"+nb++;return this[c]=!0,c}});q.ajaxPrefilter("json jsonp",function(b,e,g){var h,f,k,p=!1!==b.jsonp&&(Ua.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ua.test(b.data)&&"data");if(p||"jsonp"===b.dataTypes[0])return h=b.jsonpCallback=q.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,p?b[p]=b[p].replace(Ua,"$1"+h):!1!==b.jsonp&&(b.url+=(Sa.test(b.url)?"&":"?")+b.jsonp+
"="+h),b.converters["script json"]=function(){return k||q.error(h+" was not called"),k[0]},b.dataTypes[0]="json",f=c[h],c[h]=function(){k=arguments},g.always(function(){void 0===f?q(c).removeProp(h):c[h]=f;b[h]&&(b.jsonpCallback=e.jsonpCallback,rb.push(h));k&&q.isFunction(f)&&f(k[0]);k=f=void 0}),"script"});da.createHTMLDocument=function(){var c=I.implementation.createHTMLDocument("").body;return c.innerHTML="<form></form><form></form>",2===c.childNodes.length}();q.parseHTML=function(c,b,e){if("string"!=
typeof c)return[];"boolean"==typeof b&&(e=b,b=!1);var g,h,f;return b||(da.createHTMLDocument?(b=I.implementation.createHTMLDocument(""),g=b.createElement("base"),g.href=I.location.href,b.head.appendChild(g)):b=I),h=eb.exec(c),f=!e&&[],h?[b.createElement(h[1])]:(h=u([c],b,f),f&&f.length&&q(f).remove(),q.merge([],h.childNodes))};q.fn.load=function(c,b,e){var g,h,f,k=this,p=c.indexOf(" ");return-1<p&&(g=V(c.slice(p)),c=c.slice(0,p)),q.isFunction(b)?(e=b,b=void 0):b&&"object"==typeof b&&(h="POST"),0<
k.length&&q.ajax({url:c,type:h||"GET",dataType:"html",data:b}).done(function(c){f=arguments;k.html(g?q("<div>").append(q.parseHTML(c)).find(g):c)}).always(e&&function(c,b){k.each(function(){e.apply(this,f||[c.responseText,b,c])})}),this};q.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(c,b){q.fn[b]=function(c){return this.on(b,c)}});q.expr.pseudos.animated=function(c){return q.grep(q.timers,function(b){return c===b.elem}).length};q.offset={setOffset:function(c,
b,e){var g,h,f,k,p,n,m=q.css(c,"position"),z=q(c),v={};"static"===m&&(c.style.position="relative");p=z.offset();f=q.css(c,"top");n=q.css(c,"left");("absolute"===m||"fixed"===m)&&-1<(f+n).indexOf("auto")?(g=z.position(),k=g.top,h=g.left):(k=parseFloat(f)||0,h=parseFloat(n)||0);q.isFunction(b)&&(b=b.call(c,e,q.extend({},p)));null!=b.top&&(v.top=b.top-p.top+k);null!=b.left&&(v.left=b.left-p.left+h);"using"in b?b.using.call(c,v):z.css(v)}};q.fn.extend({offset:function(c){if(arguments.length)return void 0===
c?this:this.each(function(b){q.offset.setOffset(this,c,b)});var b,e,g,h,f=this[0];if(f)return f.getClientRects().length?(g=f.getBoundingClientRect(),g.width||g.height?(h=f.ownerDocument,e=ia(h),b=h.documentElement,{top:g.top+e.pageYOffset-b.clientTop,left:g.left+e.pageXOffset-b.clientLeft}):g):{top:0,left:0}},position:function(){if(this[0]){var c,b,e=this[0],g={top:0,left:0};return"fixed"===q.css(e,"position")?b=e.getBoundingClientRect():(c=this.offsetParent(),b=this.offset(),q.nodeName(c[0],"html")||
(g=c.offset()),g={top:g.top+q.css(c[0],"borderTopWidth",!0),left:g.left+q.css(c[0],"borderLeftWidth",!0)}),{top:b.top-g.top-q.css(e,"marginTop",!0),left:b.left-g.left-q.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent;c&&"static"===q.css(c,"position");)c=c.offsetParent;return c||Na})}});q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,b){var e="pageYOffset"===b;q.fn[c]=function(g){return ya(this,function(c,g,h){var f=ia(c);
return void 0===h?f?f[b]:c[g]:void(f?f.scrollTo(e?f.pageXOffset:h,e?h:f.pageYOffset):c[g]=h)},c,g,arguments.length)}});q.each(["top","left"],function(c,b){q.cssHooks[b]=T(da.pixelPosition,function(c,e){if(e)return e=U(c,b),Oa.test(e)?q(c).position()[b]+"px":e})});q.each({Height:"height",Width:"width"},function(c,b){q.each({padding:"inner"+c,content:b,"":"outer"+c},function(e,g){q.fn[g]=function(h,f){var k=arguments.length&&(e||"boolean"!=typeof h),p=e||(!0===h||!0===f?"margin":"border");return ya(this,
function(b,e,h){var f;return q.isWindow(b)?0===g.indexOf("outer")?b["inner"+c]:b.document.documentElement["client"+c]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+c],f["scroll"+c],b.body["offset"+c],f["offset"+c],f["client"+c])):void 0===h?q.css(b,e,p):q.style(b,e,h,p)},b,k?h:void 0,k)}})});q.fn.extend({bind:function(c,b,e){return this.on(c,null,b,e)},unbind:function(c,b){return this.off(c,null,b)},delegate:function(c,b,e,g){return this.on(b,c,e,g)},undelegate:function(c,b,e){return 1===
arguments.length?this.off(c,"**"):this.off(b,c||"**",e)}});q.parseJSON=JSON.parse;"function"==typeof define&&define.amd&&define("jquery",[],function(){return q});var ec=c.jQuery,fc=c.$;return q.noConflict=function(b){return c.$===q&&(c.$=fc),b&&c.jQuery===q&&(c.jQuery=ec),q},b||(c.jQuery=c.$=q),q});var engine2D=window.engine2D||{};
engine2D.makeDoor=function(c,b,e,f,k,m,n){f="hinge.single";e=new paper.Group;n=new paper.Path;var t=new paper.Path,h=new paper.Group,p=new paper.Group,g=new paper.Path,v=new paper.Path;n.moveTo(new paper.Point(0,0));n.lineTo(new paper.Point(c,0));t.moveTo(new paper.Point(0,0));t.lineTo(new paper.Point(c,0));t.strokeColor="#ffff";t.strokeWidth=22;n.strokeColor="#000000";n.strokeWidth=10;g.moveTo(new paper.Point(10,-12));g.lineTo(new paper.Point(10,12));v.moveTo(new paper.Point(n.length-10,-12));v.lineTo(new paper.Point(n.length-
10,12));g.strokeColor=v.strokeColor="#00CC33";g.strokeWidth=v.strokeWidth=3;h.opacity=p.opacity=0;c=new paper.Path.RegularPolygon(new paper.Point(0,0),3,12);var A=new paper.Path.RegularPolygon(new paper.Point(n.length,0),3,12);c.rotate(30);A.rotate(-30);c.fillColor=A.fillColor="#00CC33";h.addChild(g);h.addChild(c);p.addChild(v);p.addChild(A);e.addChild(t);e.addChild(n);e.addChild(h);e.addChild(p);n.group=e;"fold.single"===f?engine2D.makeFoldSingleDoor(e,n,h,p,k,m):"fold.double"===f?engine2D.makeFoldDoubleDoor(e,
n,h,p,k,m):"hinge.single"===f?engine2D.makeHingeSingleDoor(e,n,h,p,k,m):"hinge.double"===f&&engine2D.makeHingeDoubleDoor(e,n,h,p,k,m);e.position=new paper.Point(b.x,b.y);paper.project.layers.push(e);return e};
engine2D.makeFoldSingleDoor=function(c,b,e,f,k,m){var n,t,h,p=new paper.Path,g=new paper.Path;p.strokeColor="#000000";p.strokeWidth=4;"right"===k?(t=new paper.Point(0,0),h=new paper.Point(b.length,0)):"left"===k&&(t=new paper.Point(b.length,0),h=new paper.Point(0,0));p.moveTo(h);"in"===m?(p.lineTo(new paper.Point(h.x,h.y+b.length/2)),k=-45):(p.lineTo(new paper.Point(h.x,h.y-b.length/2)),k=45);g=p.clone();g.rotate(k,g.segments[1].point);t=new paper.Path.Line(t,void 0);c.addChild(t);c.addChild(p);c.addChild(g);
e.attach("mousedrag",function(c){});f.attach("mousedrag",function(c){});b.attach("mouseenter",function(){e.opacity=1;f.opacity=1;e.drag=!1;f.drag=!1});b.attach("mousemove",function(){clearTimeout(n);n=setTimeout(function(){e.opacity=0;f.opacity=0},400)});c.attach("mousedrag",function(b){1!=e.drag&&1!=f.drag&&(c.position=b.point,e.opacity=0,f.opacity=0)})};engine2D.makeFoldDoubleDoor=function(c,b,e,f,k,m){};engine2D.makeHingeDoubleDoor=function(c,b,e,f,k,m){};
engine2D.makeHingeSingleDoor=function(c,b,e,f,k,m){function n(e,g,h){e.drag=!0;e.position.x=g.point.x;e.opacity=1;f.opacity=1;b.segments[h].point.x=g.point.x;guide.segments[h].point.x=g.point.x;w.segments[1].point.y="in"===m?w.segments[0].point.y+b.length:w.segments[0].point.y-b.length;u.clear();H.clear();K.clear();J.clear();M.clear();"right"===k&&(0==h?u=new Path.Arc(g.point,new Point(w.segments[0].point.x-b.length*z,w.segments[0].point.y-b.length*y),new Point(w.segments[1].point.x,w.segments[1].point.y)):
(w.segments[0].point.x=g.point.x,w.segments[1].point.x=g.point.x,v=w.segments[0].point.x-b.length*z,A=w.segments[0].point.y-b.length*y,u=new Path.Arc(new Point(b.segments[0].point.x,b.segments[0].point.y),new Point(v,A),new Point(w.segments[1].point.x,w.segments[1].point.y))),u.strokeColor="#000000",u.strokeWidth=1,H=new Path.Arc(new Point(b.segments[1].point.x,b.segments[1].point.y-b.length),new Point(b.segments[0].point.x,b.segments[0].point.y),new Point(b.segments[1].point.x,b.segments[1].point.y+
b.length)),K=new Path.Arc(new Point(b.segments[0].point.x,b.segments[0].point.y-b.length),new Point(b.segments[1].point.x,b.segments[1].point.y),new Point(b.segments[0].point.x,b.segments[0].point.y+b.length)),J=H.clone(),M=K.clone(),H.strokeColor=K.strokeColor="#000000",H.strokeWidth=K.strokeWidth=1,H.dashArray=K.dashArray=[10,10],H.opacity=K.opacity=0,J.strokeColor=M.strokeColor="#000000",J.strokeWidth=M.strokeWidth=20,J.opacity=M.opacity=0,c.appendBottom(u),c.appendBottom(J),c.appendBottom(H),
c.appendBottom(M),c.appendBottom(K))}var t,h,p,g,v,A;p=Math.PI/180*45;var z=Math.sin(p),y=Math.cos(p),w=new paper.Path;w.strokeColor="#000000";w.strokeWidth=4;var G=new paper.Path.Circle(new paper.Point(0,0),10);G.fillColor="#FFCC00";G.opacity=0;"right"===k?(h=new paper.Point(0,0),g=new paper.Point(b.length,0)):"left"===k&&(h=new paper.Point(b.length,0),g=new paper.Point(0,0));w.moveTo(g);"in"===m?(w.lineTo(new paper.Point(g.x,g.y+b.length)),p=new paper.Point(g.x,g.y+b.length),v=g.x+b.length*z,A=
g.y+b.length*y):(w.lineTo(new paper.Point(g.x,g.y-b.length)),p=new paper.Point(g.x,g.y-b.length),v=g.x-b.length*z,A=g.y-b.length*y);var u=new paper.Path.Arc(h,new paper.Point(v,A),p);u.strokeColor="#000000";u.strokeWidth=1;h=new paper.Point(b.length,0-b.length);p=new paper.Point(b.length,0+b.length);mp=new paper.Point(0,0);var H=new paper.Path.Arc(h,mp,p),J=new paper.Path.Arc(h,mp,p);h=new paper.Point(0,0-b.length);p=new paper.Point(0,0+b.length);mp=new paper.Point(0,b.length);var K=new paper.Path.Arc(h,
mp,p),M=new paper.Path.Arc(h,mp,p);H.strokeColor=K.strokeColor="#000000";H.strokeWidth=K.strokeWidth=1;H.dashArray=K.dashArray=[10,10];H.opacity=K.opacity=0;J.strokeColor=M.strokeColor="#000000";J.strokeWidth=M.strokeWidth=20;J.opacity=M.opacity=0;c.addChild(w);c.addChild(u);c.addChild(J);c.addChild(H);c.addChild(M);c.addChild(K);c.addChild(G);b.attach("mouseenter",function(){e.opacity=1;f.opacity=1;e.drag=!1;f.drag=!1;G.opacity=0;H.opacity=0;K.opacity=0});b.attach("mousemove",function(){clearTimeout(t);
t=setTimeout(function(){e.opacity=0;f.opacity=0},400)});e.attach("mousedrag",function(c){n(this,c,0)});f.attach("mousedrag",function(c){n(this,c,1)});J.on("mouseenter",function(){e.opacity=0;f.opacity=0;G.opacity=1;H.opacity=1;K.opacity=0;u.opacity=.1;w.opacity=.1});J.attach("mousemove",function(c){clearTimeout(t);G.position=c.point;t=setTimeout(function(){G.opacity=0;H.opacity=0;u.opacity=1;w.opacity=1},400)});M.attach("mouseenter",function(){e.opacity=0;f.opacity=0;G.opacity=1;H.opacity=0;K.opacity=
1;u.opacity=.1;w.opacity=.1});M.attach("mousemove",function(c){clearTimeout(t);G.position=c.point;t=setTimeout(function(){G.opacity=0;K.opacity=0;u.opacity=1;w.opacity=1},400)});c.attach("mousedrag",function(b){1!=e.drag&&1!=f.drag&&(c.position=b.point,e.opacity=0,f.opacity=0,G.opacity=0,H.opacity=0,K.opacity=0)})};engine2D=window.engine2D||{};
engine2D.show=function(){console.log("engine2d.show()");SCENE="2d";animateStop();engine3D.freeMemory();engine2D.freeMemory();engine3D.hide();$("#engine2D").show();engineGUI.menuToggleRight("menuRight",!0);engineGUI.menuToggleLeft("menuLeft2D",!0);$("#menuFloorSelector").show();[1,5,8,9,10].forEach(function(c){$("#menuBottomItem"+c).show()});$("#menuBottom").show();if(void 0!==scene2DWallGroup[FLOOR].children[0]){engine2D.calculateWallCorners();engine2D.attachObjectsToWalls(scene2DDoorGroup);engine2D.attachObjectsToWalls(scene2DWindowGroup);
engine2D.makeFloor();engine2D.drawWall();engine2D.clear(FLOOR,!0);var c=document.getElementById("zoom2DProgress");c&&(zoom2Dimg=new Image,zoom2DCTX=c.getContext("2d"),zoom2DSlider=document.getElementById("zoom2DSlider"),zoom2Dimg.onload=drawImage,zoom2Dimg.src="images/progress-tiles.jpg");$("#zoom2DLevel").show()}engineGUI.menuSelect(6,"menuTopItem","#ff3700");engineGUI.menuCorrectHeight()};
engine2D.clear=function(c,b){for(var e=0;e<scene2DWallGroup[c].children.length;e++)scene2DWallGroup[c].children[e].visible=b;for(e=0;e<scene2DFloorShape[c].children.length;e++)scene2DFloorShape[c].children[e].visible=b};
engine2D.hide=function(){if(canvas2D){for(var c=0;c<scene2DWallGroup.length;c++)engine2D.clear(c,!1);canvas2D.off("mouseenter");canvas2D.off("mouseleave");canvas2D.off("mousedown");canvas2D.off("mouseup");canvas2D.off("mousedrag");canvas2D.off("mousemove");canvas2D.off("doubleclick")}try{$("#menu2DTools").tooltipster("hide")}catch(b){}$("#engine2D").hide();$("#menuLeft2D").hide();$("#menuRight2D").hide()};
engine2D.makeGrid=function(c,b){for(var e=0;e<=paper.view.size.width;e+=c){var f=new paper.Path.Line(new paper.Point(e,0),new paper.Point(e,paper.view.size.width)),k=new paper.Path.Line(new paper.Point(0,e),new paper.Point(paper.view.size.width,e));f.strokeColor=k.strokeColor=b;canvas2D.addChild(f);canvas2D.addChild(k)}};
engine2D.lockObject=function(c){var b=scene2D.getObjects().filter(function(b){return b.id===c});!0===b[0].lockMovementX?(b[0].item(2).set({visible:!1}),b[0].set({lockMovementX:!1,lockMovementY:!1})):(b[0].item(2).set({visible:!0}),b[0].set({lockMovementX:!0,lockMovementY:!0}));return!1};
engine2D.collectArrayFromContainer=function(c){var b=[],e,f;for(f in scene2DWallMesh[c])"wall"===f.name&&(e={wall:"standard",interior:"",exterior:""},e.id=f.id,e.locked=f.lockMovementX,e.position.x1=f.item(0).path[0][1],e.position.y1=f.item(0).path[0][2],e.position.x2=f.item(0).path[1][3],e.position.y2=f.item(0).path[1][4],e.curve.x=f.item(0).path[1][1],e.curve.y=f.item(0).path[1][2],b.push(e));for(f in scene2DDoorMesh[c])"door"===f.name&&(e={},e.door=f.name,e.id=f.id,e.locked=f.lockMovementX,e.open=
f.open,e.direction=f.direction,e.position.x1=f.get("x1"),e.position.y1=f.get("y1"),e.position.x2=f.get("x2"),e.position.y2=f.get("y2"),e.position.z=f.z,e.curve.x=0,e.curve.y=0,b.push(e));return b};engine2D.freeMemory=function(){for(var c=paper.project.activeLayer.children,b=0;b<c.length;b++)c[b].remove()};engine2D=window.engine2D||{};
engine2D.makeFloor=function(){for(i=0;i<scene2DWallGroup.length;i++)if(void 0!==scene2DWallGroup[i].children[0]){console.log("2D Floor Generate ["+i+"] "+scene2DWallGroup[i].children.length);var c=new paper.Path;c.closed=!0;var b=scene2DWallGroup[i].children[0].children[0].children[0],e=b.segments[0].point;c.moveTo(e);for(a=0;a<scene2DWallGroup[i].children.length;a++)for(b=scene2DWallGroup[i].children[a].children[4].children[0],x=0;x<scene2DWallGroup[i].children.length;x++){var f=scene2DWallGroup[i].children[x].children[4].children[0];
if(b.id!=f.id&&b.hitTest(f.segments[0].point)){c.quadraticCurveTo(e,f.segments[1].point);e=f.segments[1].point;break}}b=document.createElement("canvas");b.width=c.bounds.width;b.height=c.bounds.height;var k=b.getContext("2d"),e=new Image;e.src="../objects/FloorPlan/Default/4.png";e.onload=function(){k.fillStyle=k.createPattern(this,"repeat");k.fillRect(0,0,c.bounds.width,c.bounds.height);k.fill()};b=new paper.Raster(b,new paper.Point(c.bounds.x,c.bounds.y));b.fitBounds(c.bounds,!0);scene2DFloorShape[i]=
new paper.Group([c,b]);scene2DFloorShape[i].clipped=!0;scene2DFloorShape[i].on("mousedown",engine2D.drawWall_onMouseDown);engine2D.calculateWallMeasureColor(i)}};engine2D.makeLabel=function(c,b,e,f){var k=new paper.PointText;k.content=c+"\n"+b;k.justification="center";k.fontSize=28;k.position=new paper.Point(e,f);paper.project.layers.push(k);return k};
engine2D.fillFloor=function(c){var b=1,e={x:0,y:0};for(i=0;i<scene2DWallMesh[FLOOR].length;i++){var f=scene2DWallMesh[FLOOR][i],k={x:f.item(0).path[0][1],y:f.item(0).path[0][2]},m={x:f.item(0).path[1][3],y:f.item(0).path[1][4]};1==b&&(c.path[0][1]=k.x,c.path[0][2]=k.y);c.path[b][1]=f.item(0).path[1][1];c.path[b][2]=f.item(0).path[1][2];m.x==e.x&&m.y==e.y&&(m=k);c.path[b][3]=m.x;c.path[b][4]=m.y;e=m;b++}};engine2D=window.engine2D||{};engine2D.History=[];engine2D.HistoryForward=function(){};engine2D.HistoryBack=function(){};engine2D.HistoryAdd=function(){};var engine2D=window.engine2D||{},panAndZoom;engine2D.initialize=function(){var c=document.getElementById("engine2D");paper.setup(c);paper.view.setViewSize(window.innerWidth,window.innerHeight);panAndZoom=new SimplePanAndZoom;$("#engine2D").bind("mousewheel",function(c){if(c.shiftKey)paper.view.center=panAndZoom.changeCenter(paper.view.center,c.deltaX,c.deltaY,c.deltaFactor);else{var b=panAndZoom.changeZoom(paper.view.zoom,-c.deltaY);5>=b&&1<=b&&(paper.view.zoom=b)}return c.preventDefault()})};
engine2D["new"]=function(){for(var c=0;3>c;c++)scene2DWallMesh[c]=[],scene2DFloorShape[c]=new paper.Group,scene2DWallDimentions[c]=[],scene2DDoorGroup[c]=new paper.Group,scene2DWindowGroup[c]=new paper.Group,scene2DWallGroup[c]=new paper.Group,scene2DWallPointGroup[c]=new paper.Group,scene2DLabelGroup[c]=new paper.Group,scene2DInteriorMesh[c]=[],scene2DExteriorMesh[c]=[];canvas2D=new paper.Group;c=new paper.Path.Circle(new paper.Point(0,0),450);c.fillColor="#CCCCCC";c.opacity=.2;c.position.x=paper.view.center.x+
40;c.position.y=paper.view.center.y+80;var b=new paper.Path.Rectangle(new paper.Point(0,0),paper.view.viewSize);b.fillColor="#ffffff";canvas2D.addChild(b);canvas2D.addChild(c);engine2D.makeGrid(40,"#6dcff6");engine2D.makeGrid(20,"#E0E0E0")};
engine2D.open=function(c){var b=0;c.file("scene2DFloorContainer.json").async("string").then(function(c){$.each(JSON.parse(c),function(c){$.each(this,function(c){void 0!==this.door?scene2DDoorGroup[b].addChild(engine2D.makeDoor(this.length,{x:this.x,y:this.y},this.z,this.type,this.open,this.direction,this.door)):void 0!==this.window?scene2DWindowGroup[b].addChild(engine2D.makeWindow(this.length,{x:this.x,y:this.y},this.z,this.open,this.direction,this.window)):void 0!==this.wall?scene2DWallGroup[b].addChild(engine2D.makeWall({x:this.x1,
y:this.y1},{x:this.x2,y:this.y2},{x:this.cx,y:this.cy},this.h)):void 0!==this.label&&scene2DLabelGroup[b].addChild(engine2D.makeLabel(this.label,this.size,this.x,this.y))});engine2D.makeFloor();b++})})};engine2D=window.engine2D||{};engine2D.makeStairs=function(c,b,e){c=new paper.Group;new paper.Path;return c};var engine2D=window.engine2D||{},drawWall={radius:4,tolerance:20,handle:null,path:null,curPoint:null,prevPoint:null,curHandleSeg:null},makeWall={dragging:!1};engine2D.drawWall=function(){var c=2*drawWall.radius;drawWall.tolerance<c&&(drawWall.tolerance=c);drawWall.handle=drawWall.radius*paper.Numerical.KAPPA;canvas2D.on("mousedown",engine2D.drawWall_onMouseDown)};
engine2D.drawWall_onMouseDown=function(c){this.on("mouseup",engine2D.drawWall_onMouseUp);this.on("mousedrag",engine2D.drawWall_onMouseDrag);drawWall.path=new paper.Path({segments:[c.point,c.point],strokeColor:"#ff5733",strokeWidth:10,strokeCap:"round"});drawWall.prevPoint=drawWall.path.firstSegment.point;drawWall.curPoint=drawWall.path.lastSegment.point;drawWall.curHandleSeg=null;drawWall.path.on("mouseup",engine2D.drawWall_onMouseUp);makeWall.dragging=!0;paper.project.layers.push(drawWall.path)};
engine2D.drawWall_onMouseUp=function(c){this.off("mouseup",engine2D.drawWall_onMouseUp);this.off("mousedrag",engine2D.drawWall_onMouseDrag);drawWall.path.off("mouseup",engine2D.drawWall_onMouseUp);var b;for(c=0;c<drawWall.path.segments.length;c+=2){var e=drawWall.path.segments[c].point,f=drawWall.path.segments[c+1].point;console.log("Wall draw Segment "+e+":"+f);for(var e=new paper.Path({segments:[e,f]}),k,f=0;f<scene2DWallGroup[FLOOR].children.length&&!(k=scene2DWallGroup[FLOOR].children[f],b=k.children[4].children[0].getIntersections(e),
0<b.length);f++);if(0<b.length)for(e=0;e<b.length;e++)console.log("Convert to wall Path + Attach "+b[e].intersection.point),engine2D.splitWall(k,b[e]);else console.log("Convert to wall Path")}drawWall.path.visible=!1;drawWall.path.remove();makeWall.dragging=!1};
engine2D.drawWall_onMouseDrag=function(c){c.preventDefault();c=c.point;var b=c.x-drawWall.prevPoint.x,e=c.y-drawWall.prevPoint.y,f=(new paper.Point(b,e)).abs();f.x<f.y?(drawWall.curPoint.x=drawWall.prevPoint.x,drawWall.curPoint.y=c.y):(drawWall.curPoint.x=c.x,drawWall.curPoint.y=drawWall.prevPoint.y);var b=drawWall.curPoint.x-drawWall.prevPoint.x,e=drawWall.curPoint.y-drawWall.prevPoint.y,k=new paper.Point(b,e);k.length=1;drawWall.curHandleSeg&&(b=drawWall.prevPoint.x+k.x*drawWall.radius,e=drawWall.prevPoint.y+
k.y*drawWall.radius,drawWall.curHandleSeg.point=new paper.Point(b,e),b=k.x*-drawWall.handle,e=k.y*-drawWall.handle,drawWall.curHandleSeg.handleIn=new paper.Point(b,e));Math.min(f.x,f.y)>drawWall.tolerance&&(b=drawWall.curPoint.x-k.x*drawWall.radius,e=drawWall.curPoint.y-k.y*drawWall.radius,c=new paper.Point(b,e),c=new paper.Segment(c,null,k*drawWall.handle),drawWall.path.insert(drawWall.path.segments.length-1,c),drawWall.curHandleSeg=drawWall.path.lastSegment,drawWall.prevPoint=drawWall.curHandleSeg.point.clone(),
drawWall.path.add(drawWall.curHandleSeg),drawWall.curPoint=drawWall.path.lastSegment.point)};
engine2D.makeWall=function(c,b,e,f){console.log("Normal "+c.x+":"+c.y+"-"+b.x+":"+b.y);var k=new paper.Group,m=new paper.Path;m.doors=[];m.windows=[];var n=new paper.Path.Circle(new paper.Point(e.x,e.y),10);n.fillColor="#33CCFF";n.opacity=.5;var t=new paper.Path.Circle(new paper.Point(0,0),8);t.fillColor="#FFCC00";t.visible=!1;m.moveTo(new paper.Point(c.x,c.y));m.quadraticCurveTo(new paper.Point(e.x,e.y),b.x,b.y);c=m.clone();c.strokeColor="#00FF00";c.strokeWidth=1;c.visible=!1;b=new paper.Path;e=
new paper.Path;var h=new paper.PointText,p=new paper.Path.Rectangle(new paper.Rectangle(0,0,50,18)),g=new paper.Group,v=new paper.Group;g.fontSize=v.fontSize=14;p.fillColor="#ffffff";var A=m.segments[0].point.subtract(m.segments[1].point).angle;b=engine2D.pathOffset(m,-20,1);e=engine2D.pathOffset(m,20,1);h.rotation=A;p.rotation=A;h.content=(b.children[0].length/100).toFixed(1)+"m";p.position=b.position;h.position=b.position;g.addChild(p.clone());g.addChild(h.clone());h.content=(e.children[0].length/
100).toFixed(1)+"m";p.position=e.position;h.position=e.position;v.addChild(p);v.addChild(h.clone());h.remove();m.strokeColor="black";m.strokeWidth=20;120>m.length&&(n.visible=!1,t.visible=!1);80>m.length&&(b.visible=!1,e.visible=!1,g.visible=!1,v.visible=!1);h=new paper.Group([m]);k.addChild(b);k.addChild(e);k.addChild(g);k.addChild(v);k.addChild(h);k.addChild(c);k.addChild(t);k.addChild(n);k.addChild(engine2D.calculatePathOffset(m,-10,1,1.5));k.addChild(engine2D.calculatePathOffset(m,10,1,1.5));
paper.project.layers.push(k);n.attach("mouseenter",function(){this.opacity=1});n.attach("mouseleave",function(){this.opacity=.5});n.attach("doubleclick",function(c){c=new paper.Path;c.moveTo(m.segments[0].point);c.lineTo(m.segments[1].point);onPathDrag(this.parent,c.getLocationAt(c.length/2))});n.attach("mousedrag",function(c){onPathDrag(this.parent,c)});h.on("mouseenter",engine2D.wall_onMouseEnter);h.on("mousemove",engine2D.wall_onMouseMove);h.on("mouseleave",engine2D.wall_onMouseLeave);onPathDrag=
function(c,b){c.children[7].position=b.point;var e=c.children[4].children[0],g=c.children[5],h=e.segments[0].point,f=e.segments[1].point;e.clear();e.moveTo(h);e.quadraticCurveTo(b.point,f);g.clear();g.moveTo(h);g.quadraticCurveTo(b.point,f)};onPathTouchDrag=function(c){c.preventDefault();c=c.originalEvent.changedTouches[0];onPathDrag({clientX:c.pageX,clientY:c.pageY});return!1};k.h=f;k.visible=!1;return k};
engine2D.wall_onMouseEnter=function(c){this.children[0].parent.parent.children[5].visible=!0;this.children[0].parent.parent.children[6].visible=!0};engine2D.wall_onMouseLeave=function(c){this.children[0].parent.parent.children[5].visible=!1;this.children[0].parent.parent.children[6].visible=!1};engine2D.wall_onMouseMove=function(c){this.children[0].parent.parent.children[6].position=this.children[0].getNearestPoint(c.point)};
engine2D.edge_onMouseEnter=function(c){this.children[2].opacity=1;this.children[3].opacity=1;this.on("mousedown",engine2D.edge_onMouseDown);this.on("mouseleave",engine2D.edge_onMouseLeave)};engine2D.edge_onMouseLeave=function(c){this.children[2].opacity=0;this.children[3].opacity=0};engine2D.wallRelativePoints=function(c,b,e){var f=c.point,k=e[1].point;b.hitTest(k)&&(f=e[0].point,k=c.point);return{start:f,end:k}};
engine2D.edge_onMouseDrag=function(c){c.preventDefault();0==this.dragging&&(this.dragging=!0,this.off("mouseenter",engine2D.edge_onMouseEnter),this.off("mouseleave",engine2D.edge_onMouseLeave));makeWall.dragging=!0;for(i=0;i<this.attachments.length;i++){var b=this.attachments[i];b.parent.parent.children[7].visible=120<b.length?!0:!1;var e=engine2D.wallRelativePoints(c,this.children[2],b.segments),f=b.segments[0].point.x+b.segments[1].point.x,k=b.segments[0].point.y+b.segments[1].point.y,m=b.segments[0].point.subtract(b.segments[1].point).angle,
n=e.start.subtract(e.end).angle,f=new paper.Point(f/2,k/2),k=b.doors.length;if(0<k)for(d=0;d<k;d++)b.doors[d].rotate(n-m),b.doors[d].position=f;else b.parent.parent.children[7].position=f;b.clear();b.moveTo(e.start);b.quadraticCurveTo(f,e.end);b.parent.parent.children[0].clear();b.parent.parent.children[1].clear();b.parent.parent.children[0]=engine2D.pathOffset(b,-20,1,b.parent.parent.children[0].strokeColor);b.parent.parent.children[1]=engine2D.pathOffset(b,20,1,b.parent.parent.children[1].strokeColor);
b.parent.parent.children[2].position=b.parent.parent.children[0].children[0].getLocationAt(b.parent.parent.children[0].children[0].length/2).point;b.parent.parent.children[3].position=b.parent.parent.children[1].children[0].getLocationAt(b.parent.parent.children[1].children[0].length/2).point;b.parent.parent.children[2].children[0].rotation=n-m;b.parent.parent.children[3].children[0].rotation=n-m;b.parent.parent.children[2].children[1].rotation=m;b.parent.parent.children[3].children[1].rotation=m;
b.parent.parent.children[2].children[1].content=(b.parent.parent.children[0].children[0].length/100).toFixed(2)+"m";b.parent.parent.children[3].children[1].content=(b.parent.parent.children[1].children[0].length/100).toFixed(2)+"m";b.parent.parent.children[8]=engine2D.calculatePathOffset(b,-10,1,1.5);b.parent.parent.children[9]=engine2D.calculatePathOffset(b,10,1,1.5)}this.position=c.point;engine2D.edgeSmashCorner(this)};
engine2D.edgeSmashCorner=function(c){if(2<=c.attachments.length)for(var b=0;b<c.attachments.length;b+=2)if(void 0!==c.attachments[b+1]){var e=engine2D.calculateWallAngle(c.attachments[b],c.attachments[b+1]),e=Math.abs(e)+180,e=Math.abs(e-360);c.children[4].children[3].content=Math.round(e)+"\u00b0";c.children[4].children[0].clear();c.children[4].children[1].clear();var e=c.attachments[b].parent.parent.children[9].getIntersections(c.attachments[b+1].parent.parent.children[9]),f=c.attachments[b].parent.parent.children[8].getIntersections(c.attachments[b+
1].parent.parent.children[8]),k=c.attachments[b].parent.parent.children[9].getIntersections(c.attachments[b+1].parent.parent.children[8]),m=c.attachments[b].parent.parent.children[8].getIntersections(c.attachments[b+1].parent.parent.children[9]);c.children[1].clear();e[0]&&(c.children[1].moveTo(e[0].point),k[0]&&m[0]&&(c.children[1].lineTo(k[0].point),c.children[1].lineTo(m[0].point)));f[0]&&(e[0]?c.children[1].lineTo(f[0].point):c.children[1].moveTo(f[0].point),k[0]&&m[0]&&(c.children[1].lineTo(k[0].point),
c.children[1].lineTo(m[0].point)))}};engine2D.edge_onMouseDown=function(c){this.on("mouseup",engine2D.edge_onMouseUp);this.on("mousedrag",engine2D.edge_onMouseDrag)};
engine2D.edge_onMouseUp=function(c){this.dragging=!1;this.off("mousedrag",engine2D.edge_onMouseDrag);for(i=0;i<this.attachments.length;i++){c=this.attachments[i];makeWall.dragging=!1;var b=c.parent.parent.children[5],e=this.attachments[i].getLocationAt(this.attachments[i].length/2).point;b.clear();b.moveTo(this.attachments[i].segments[0].point);b.quadraticCurveTo(e,this.attachments[i].segments[1].point);engine2D.calculateWallMeasureWidth(this,c.parent.parent.children[0]);engine2D.calculateWallMeasureWidth(this,
c.parent.parent.children[1])}this.children[2].opacity=0;this.children[3].opacity=0;this.off("mouseleave",engine2D.edge_onMouseLeave);this.off("mousedown",engine2D.edge_onMouseDown);this.on("mouseenter",engine2D.edge_onMouseEnter)};
paper.Shape.ArrowLine=function(c,b,e,f,k){function m(c,b,e,g){var h=[],f=Math.sqrt(Math.pow(e-c,2)+Math.pow(g-b,2));h[0]=e-10*((e-c)*Math.cos(.5)-(g-b)*Math.sin(.5))/f;h[1]=g-10*((g-b)*Math.cos(.5)+(e-c)*Math.sin(.5))/f;h[2]=e-10*((e-c)*Math.cos(.5)+(g-b)*Math.sin(.5))/f;h[3]=g-10*((g-b)*Math.cos(.5)-(e-c)*Math.sin(.5))/f;return h}var n=m(c,b,e,f),t=m(e,f,c,b),h=n[0],p=n[1],g=n[2],v=n[3],n=t[0],A=t[1],z=t[2],t=t[3],y=new paper.Path({segments:[new paper.Point(c,b),new paper.Point(e,f)],strokeWidth:1});
e=new paper.Path({segments:[new paper.Point(h,p),new paper.Point(e,f),new paper.Point(g,v)]});e=new paper.CompoundPath([y,e]);!0===k&&(c=new paper.Path({segments:[new paper.Point(n,A),new paper.Point(c,b),new paper.Point(z,t)]}),e.addChild(c));return e};engine2D.calculatePathOffset=function(c,b,e,f){for(var k=new paper.Path,m=0;m<e+1;m++){var n=m/e*c.length,t=c.getPointAt(n),n=c.getNormalAt(n);n.length=b;k.add(t.add(n))}k.scale(f);k.smooth;k.remove();return k};
engine2D.pathOffset=function(c,b,e,f){c=engine2D.calculatePathOffset(c,b,e,1);c=new paper.Shape.ArrowLine(c.segments[0].point.x,c.segments[0].point.y,c.segments[1].point.x,c.segments[1].point.y,!0);c.strokeColor=f;c.strokeWidth=1;return c};engine2D.calculateWallMeasureWidth=function(c,b){for(i=0;i<c.attachments.length;i++)for(l=0;2>l;l++)if(c.attachments[i].hitTest(b.children[0].segments[l].point)){b.scale(.8);break}};
engine2D.calculateWallMeasureColor=function(c,b){for(a=0;a<scene2DWallGroup[c].children.length;a++)for(l=0;2>l;l++){var e=scene2DWallGroup[c].children[a].children[l];scene2DFloorShape[c].hitTest(e.children[0].segments[0].point)?e.strokeColor="#606060":e.strokeColor="#000000"}};
engine2D.addWallCorner=function(c,b){var e=new paper.Path.Circle(b,60),f=new paper.Path.Circle(b,15),k=new paper.Path.Circle(b,17),m=new paper.Path.Circle(b,8),f=new paper.CompoundPath(f,k);f.fillColor=m.fillColor="#00CC33";f.opacity=m.opacity=0;k=new paper.Path;k.fillColor="#000000";e=new paper.Group([e,k,m,f]);e.dragging=!1;e.attachments=[];e.on("mouseenter",engine2D.edge_onMouseEnter);scene2DWallPointGroup[FLOOR].addChild(e)};
engine2D.calculateWallCorners=function(){console.log("Fix Wall Corner Geometry "+scene2DWallGroup[FLOOR].children.length);scene2DWallPointGroup[FLOOR]=new paper.Group;for(var c=0;c<scene2DWallGroup[FLOOR].children.length;c++)for(var b=scene2DWallGroup[FLOOR].children[c].children[4].children[0].segments,e=0;e<b.length;e++){var f=scene2DWallPointGroup[FLOOR].hitTest(b[e].point);if(f)for(var k=0;k<scene2DWallGroup[FLOOR].children.length;k++){var m=f.item.parent,n=scene2DWallGroup[FLOOR].children[k].children[4].children[0];
n.hitTest(m.position)&&m.attachments.push(n)}else engine2D.addWallCorner(b,b[e].point)}for(c=0;c<scene2DWallPointGroup[FLOOR].children.length;c++)m=scene2DWallPointGroup[FLOOR].children[c],engine2D.calculateWallEdge(m),engine2D.edgeSmashCorner(m);paper.project.layers.push(scene2DWallPointGroup[FLOOR])};
engine2D.calculateWallEdge=function(c){for(a=0;a<c.attachments.length&&void 0!==c.attachments[a+1];a+=2){var b=c.bounds.width/2,e=new paper.Path,f=new paper.Path,k=new paper.Path,m=new paper.Path.Arc,n=new paper.PointText;if(c.attachments[a].length>b&&c.attachments[a+1].length>b){m=new paper.Point(c.bounds.center.x,c.bounds.center.y);e=c.attachments[a].getLocationAt(b).point;f=c.attachments[a+1].getLocationAt(b).point;Math.round(m.subtract(e).length)>b&&(e=c.attachments[a].getLocationAt(c.attachments[a].length-
b).point);Math.round(m.subtract(f).length)>b&&(f=c.attachments[a+1].getLocationAt(c.attachments[a+1].length-b).point);e=new paper.Path.Line(m,e);f=new paper.Path.Line(m,f);e.strokeColor="#ffffff";e.strokeWidth=1;f.style=e.style;b=engine2D.calculateWallAngle(c.attachments[a],c.attachments[a+1]);k.add(e.segments[1].point);k.add(f.segments[1].point);var t=k.getLocationAt(k.length/2).point;n.position=t;k.clear();k.add(t);k.add(m);k.scale(2);t=k.segments[0].point;k.remove();m=new paper.Path.Arc(e.segments[1].point,
t,f.segments[1].point);m.strokeColor="#000000";m.strokeWidth=1;n.content=Math.abs(b)+"\u00b0";n.justification="center";n.fontSize=14}k=new paper.Group([e,f,m,n]);c.addChild(k)}};engine2D.calculateWallAngle=function(c,b){var e=c.segments[0].point.subtract(c.segments[1].point).angle,f=b.segments[0].point.subtract(b.segments[1].point).angle;return e-f};engine2D.joinWall=function(c){};engine2D.splitWall=function(c,b){console.log(c)};
engine2D.joinWallEdgeCircle=function(c){scene2D.getObjects().filter(function(b){return b.id===c});return!1};engine2D.splitWallEdgeCircle=function(c){for(var b=scene2D.getObjects().filter(function(b){return b.id===c}),e=scene2DMakeWallEdgeCircle(b[0].left,b[0].top,!1),f=1;4>f;f++)b[0].line[f]&&(e.line[f]=b[0].line[f],b[0].line[f]=void 0,b[0].bend[f]=void 0),b[0].pivot[f]&&(e.pivot[f]=b[0].pivot[f],b[0].pivot[f]=void 0);scene2D.add(e);return!1};
engine2D.snapObjectToWall=function(c,b){var e=c.segments[0].point.subtract(c.segments[1].point).angle;b.rotation=e};
engine2D.attachObjectsToWalls=function(c){for(i=0;i<scene2DWallGroup.length;i++)if(void 0!==scene2DWallGroup[i].children[0]){console.log("2D Atach Objects to Walls ["+i+"] "+c[i].children.length);for(var b=0;b<c[i].children.length;b++)for(var e=c[i].children[b],f=0;f<scene2DWallGroup[i].children.length;f++){var k=scene2DWallGroup[i].children[f],m=k.children[4].children[0].getIntersections(e.children[1]);if(m[0]){f=k.children[4].children[0].hitTest(m[0].point);c===scene2DDoorGroup?f.item.doors.push(c[i].children[b]):
c===scene2DWindowGroup&&f.item.windows.push(c[i].children[b]);engine2D.snapObjectToWall(f.item,e);k.children[7].visible=!1;break}}}};engine2D=window.engine2D||{};
engine2D.makeWindow=function(c,b,e,f,k,m){var n=new paper.Group;e=new paper.Path;f=new paper.Path;var t=new paper.Group,h=new paper.Group;e.moveTo(new paper.Point(0,0));e.lineTo(new paper.Point(c,0));e.strokeColor="#000000";e.strokeWidth=10;f.moveTo(new paper.Point(0,0));f.lineTo(new paper.Point(c,0));f.strokeColor="#ffff";f.strokeWidth=22;n.addChild(f);n.addChild(e);e.group=n;n.position=new paper.Point(b.x,b.y);n.attach("mousedrag",function(c){1!=t.drag&&1!=h.drag&&(n.position=c.point,t.opacity=
0,h.opacity=0)});paper.project.layers.push(n);return n};var SimplePanAndZoom,StableZoom;SimplePanAndZoom=function(){function c(){}c.prototype.changeZoom=function(c,e){return 0>e?1.05*c:0<e?c/1.05:c};c.prototype.changeCenter=function(c,e,f,k){e=new paper.Point(e,-f);e=e.multiply(k);return c.add(e)};return c}();function zoom2DdrawBase(c){zoom2DCTX.drawImage(zoom2Dimg,0,0,zoom2Dwidth,zoom2Dheight,0,0,zoom2Dwidth,zoom2Dheight)}
function zoom2DdrawProgress(c){c=zoom2DSlider.value;var b;b=65+1.55*c;zoom2DCTX.drawImage(zoom2Dimg,0,zoom2Dheight,b,zoom2Dheight,0,0,b,zoom2Dheight);c=Math.round(c/10);zoom2DCTX.fillStyle="grey";zoom2DCTX.font="12pt Arial";zoom2DCTX.fillText(c,20,35)}function drawImage(){zoom2DdrawBase(zoom2DCTX);zoom2DdrawProgress(zoom2DCTX)};var engine3D=window.engine3D||{};function scene3DSplitViewTop(){var c=window.innerWidth/1.4,b=.2*window.innerHeight;$("#left-component-1").css({width:c});$("#right-component-1").css({left:c});$("#vertical-divider-1").css({left:c});$("#bottom-component").css({height:b});$("#top-component").css({bottom:b});$("#horizontal-divider").css({bottom:b});engine3D.initRendererQuadSize()}
function scene3DSplitViewFront(){var c=.3*window.innerWidth,b=.2*window.innerHeight;$("#left-component-1").css({width:c});$("#right-component-1").css({left:c});$("#vertical-divider-1").css({left:c});$("#bottom-component").css({height:b});$("#top-component").css({bottom:b});$("#horizontal-divider").css({bottom:b});engine3D.initRendererQuadSize()}
function scene3DSplitViewSide(){var c=.15*window.innerWidth,b=window.innerHeight/1.4;$("#left-component-1").css({width:c});$("#right-component-1").css({left:c});$("#vertical-divider-1").css({left:c});$("#bottom-component").css({height:b});$("#top-component").css({bottom:b});$("#horizontal-divider").css({bottom:b});engine3D.initRendererQuadSize()}function scene3DSplitView3D(){}
function camera3DFloorFlyIn(c){(new TWEEN.Tween(camera3D.position)).to({x:0,y:10,z:0},2E3).easing(TWEEN.Easing.Quadratic.InOut).start();(new TWEEN.Tween(controls3D.target)).to({x:0,y:0,z:0},2E3).easing(TWEEN.Easing.Quadratic.InOut).onComplete(function(){FLOOR=c;engine3D.showFloor()}).start()}function camera3DNoteAdd(){}function scene3DFloorInsertAR(){"undefined"==typeof NyARRgbRaster_Canvas2D&&$.getScript("js/dynamic/JSARToolKit.js",function(c,b,e){})}
function scene3DFloorInsertPicture(){camera3DPositionCache=camera3D.position.clone();camera3DPivotCache=controls3D.target.clone();camera3DInsertPictureEnter()}function camera3DInsertPictureEnter(){(new TWEEN.Tween(camera3D.position)).to({x:0,y:10,z:0},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}
function camera3DInsertPictureExit(){(new TWEEN.Tween(camera3D.position)).to({x:camera3DPositionCache.x,y:camera3DPositionCache.y,z:camera3DPositionCache.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}
function camera3DPictureEnter(){var c=(new THREE.Vector3(0,-1.75,-.4)).applyMatrix4(camera3D.matrixWorld);(new TWEEN.Tween(SelectedPicture.position)).to(c,2E3).easing(TWEEN.Easing.Quadratic.InOut).onComplete(function(){engine3D.initPanorama("WebGLPanorama","3428",.7,.64)}).start();(new TWEEN.Tween(SelectedPicture.rotation)).to({x:camera3D.rotation.x,y:camera3D.rotation.y,z:camera3D.rotation.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}
function camera3DPictureExit(){disposePanorama("WebGLPanorama");(new TWEEN.Tween(SelectedPicture.position)).to({x:camera3DPositionCache.x,y:camera3DPositionCache.y,z:camera3DPositionCache.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start();(new TWEEN.Tween(SelectedPicture.rotation)).to({x:camera3DPivotCache.x,y:camera3DPivotCache.y,z:camera3DPivotCache.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}
function camera3DNoteEnter(){if(""!==SelectedNote.name){var c=(new THREE.Vector3(0,-.5,-.6)).applyMatrix4(camera3D.matrixWorld);(new TWEEN.Tween(SelectedNote.position)).to(c,2E3).easing(TWEEN.Easing.Quadratic.InOut).onComplete(function(){$("#WebGLNote").show()}).start();(new TWEEN.Tween(SelectedNote.rotation)).to({x:camera3D.rotation.x,y:camera3D.rotation.y,z:camera3D.rotation.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}}
function camera3DNoteExit(){$("#WebGLNote").hide();(new TWEEN.Tween(SelectedNote.position)).to({x:camera3DPositionCache.x,y:camera3DPositionCache.y,z:camera3DPositionCache.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start();(new TWEEN.Tween(SelectedNote.rotation)).to({x:camera3DPivotCache.x,y:camera3DPivotCache.y,z:camera3DPivotCache.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}
function camera3DAnimate(c,b,e,f){scene3DAnimateRotate||((new TWEEN.Tween(camera3D.position)).to({x:c,y:b,z:e},f).easing(TWEEN.Easing.Quadratic.InOut).start(),(new TWEEN.Tween(controls3D.target)).to({x:0,y:0,z:0},f).easing(TWEEN.Easing.Quadratic.InOut).start())}
function camera3DWalkViewToggle(){controls3D instanceof THREE.FirstPersonControls?(camera3DPositionCache=new THREE.Vector3(0,6,20),camera3DPivotCache=new THREE.Vector3(0,0,0),camera3DAnimateResetView(),engine3D.enableOrbitControls(camera3D,renderer.domElement)):controls3D instanceof THREE.OrbitControls?(alertify.confirm("",function(c){c&&(camera3DPositionCache=camera3D.position.clone(),camera3DPivotCache=controls3D.target.clone(),scene3DAnimateRotate=!1,(new TWEEN.Tween(camera3D.position)).to({x:0,
y:1.5,z:18},2E3).easing(TWEEN.Easing.Quadratic.InOut).start(),(new TWEEN.Tween(controls3D.target)).to({x:0,y:1.5,z:0},2E3).easing(TWEEN.Easing.Quadratic.InOut).onComplete(function(){engine3D.enableFirstPersonControls()}).start())}),$(".alertify-message").append($.parseHTML("<img src='images/help/wasd-keyboard.jpg' /><br/><br/>Use (W,A,S,D) or arrow keys to move."))):alertify.alert("Not Available in Edit Mode")}function camera3DAnimateResetView(){}
engine3D.enableTransformControls=function(c){controls3D=new THREE.TransformControls(camera3D,renderer.domElement);controls3D.attach(SelectedObject);controls3D.setMode(c);$("#WebGLInteractiveMenu").hide();$("#WebGLTextureSelect").hide()};engine3D.enableOrbitControls=function(c,b){controls3D instanceof THREE.OrbitControls||(controls3D=new THREE.OrbitControls(c,b),controls3D.minDistance=3,controls3D.maxDistance=25,controls3D.maxPolarAngle=Math.PI/2);controls3D.enabled=!0};
engine3D.enableFirstPersonControls=function(){controls3D.enabled=!1;controls3D=new THREE.FirstPersonControls(camera3D,renderer.domElement);controls3D.movementSpeed=5;controls3D.lookSpeed=.15;controls3D.noFly=!0;controls3D.lookVertical=!1;controls3D.activeLook=!0;controls3D.lon=-90;controls3D.lat=0;controls3D.enabled=!0};
engine3D.open3DModel=function(c,b,e,f,k,m,n,t,h,p){try{c.split(".").pop();var g=c.substring(0,c.lastIndexOf("/")+1)+"Textures/",v=function(g){g.name=c;g.boundingBox=[];g.boundingBox.max=[];g.boundingBox.max.x=0;g.boundingBox.max.y=0;g.boundingBox.max.z=0;g.traverse(function(c){if(c instanceof THREE.Mesh){if(c.geometry.computeFaceNormals(),c.geometry.computeVertexNormals(),c.geometry.computeBoundingBox(),g.boundingBox.max.x<c.geometry.boundingBox.max.x&&(g.boundingBox.max.x=c.geometry.boundingBox.max.x),
g.boundingBox.max.y<c.geometry.boundingBox.max.y&&(g.boundingBox.max.y=c.geometry.boundingBox.max.y),g.boundingBox.max.z<c.geometry.boundingBox.max.z&&(g.boundingBox.max.z=c.geometry.boundingBox.max.z),c.castShadow=!0,h&&(c.receiveShadow=!0),null!==c.material&&(c.material.side=THREE.DoubleSide,1<c.material.shininess-10?c.material.shininess-=10:0===c.material.shininess&&(c.material.shininess=.1),c.material.transparent=1>c.material.opacity?!0:!1,null!==c.material.map&&c.material.map.image.complete&&
(!THREE.Math.isPowerOfTwo(c.material.map.image.width)||!THREE.Math.isPowerOfTwo(c.material.map.image.height)))){var b=new THREE.Texture(engine3D.generateClampToEdgeTexture(c.material.map.image));b.needsUpdate=!0;b.minFilter=THREE.LinearFilter;c.material.map=b}}else c instanceof THREE.PointLight&&console.log("light found!")});g.position.x=e;g.position.y=f;g.position.z=k;g.rotation.x=m;g.rotation.y=n+Math.PI;console.log("ObjectLoader add model to scene "+g.name);b===scene3DHouseGroundContainer&&(_scene3DHouseGroundContainer=
g);b.add(g);var v,z;if(p){v=new THREE.MeshBasicMaterial({color:0});engine3D.fontLoader.load("fonts/helvetiker_regular.typeface.json",function(c){z=new THREE.TextGeometry(p,{font:c,weight:"normal",size:.05,height:.01})});var A=new THREE.Mesh(z,v);A.position.x=1.25;A.position.y=.5;A.position.z=.05;A.rotation.y=1.5;A.name=p;engine3D.open3DModel("objects/Platform/note.jsz",g,1.25,.1,-.3,0,1.5,1,!1,null);g.add(A);console.log(c+" Add Note: '"+p+"'")}if(b==scene3DFloorFurnitureContainer[FLOOR]){v=new THREE.LineBasicMaterial({color:0,
linewidth:2});z=new THREE.Geometry;var u=e-3*g.boundingBox.max.x,t=k-3*g.boundingBox.max.z,A=e+3*g.boundingBox.max.x,J=k+3*g.boundingBox.max.z;z.vertices.push(new THREE.Vector3(u,0,t));z.vertices.push(new THREE.Vector3(A,0,t));z.vertices.push(new THREE.Vector3(u,0,t));z.vertices.push(new THREE.Vector3(u,0,J));var K=new THREE.Line(z,v,THREE.LineSegments);K.position.y=.01;var M=[],Q=[];M[0]=400*g.boundingBox.max.z;M[1]=400*g.boundingBox.max.x;engine3D.fontLoader.load("font/helvetiker_regular.typeface.json",
function(c){for(var b=0;1>=b;b++){var g;g=100<M[b]?(M[b]/100).toFixed(2)+" m":Math.round(M[b])+" cm";Q[b]=new THREE.TextGeometry(g,{font:c,weight:"normal",size:.2,height:.01});Q[b].computeBoundingBox()}c=new THREE.Mesh(Q[0],v);c.position.x=e-Q[0].boundingBox.max.x/2;c.position.y=.01;c.position.z=t-.1;c.rotation.x=-1.5;b=new THREE.Mesh(Q[1],v);b.position.x=u-.1;b.position.y=.01;b.position.z=k+Q[1].boundingBox.max.x/2;b.rotation.x=-1.55;b.rotation.z=1.6;K.add(c);K.add(b)});g.add(K);K.visible=!1}};if("jsz"==
c.split(".").pop()){var A=c.split("/").pop().slice(0,-4)+".json";$.ajax(c,{contentType:"application/zip",beforeSend:function(c){c.overrideMimeType("text/plain; charset=x-user-defined")},success:function(c){(new JSZip).loadAsync(c).then(function(b){b.file(A).async("string").then(function(b){c=b;c=JSON.parse(c);b=new THREE.ObjectLoader;b.setTexturePath(g);for(var e=0;e<c.object.children.length;e++){c.object.children[e].uuid=THREE.Math.generateUUID();for(var h=1,f=0;f<c.geometries.length;f++)if(c.geometries[f].uuid==
c.object.children[e].geometry){h=c.geometries[f].materials[0].opacity;break}0===h&&(h=.99);for(f=0;f<c.materials.length;f++){for(var k=0;k<c.textures.length;k++)if(c.textures[k].uuid==c.materials[f].map){c.textures[k].uuid=THREE.Math.generateUUID();c.materials[f].map=c.textures[k].uuid;break}if(c.materials[f].uuid==c.object.children[e].material){c.materials[f].opacity=h;h=THREE.Math.generateUUID();for(k=0;k<c.object.children.length;k++)c.object.children[k].material==c.materials[f].uuid&&(c.object.children[k].material=
h);c.materials[f].uuid=h;break}}}b.parse(c,v)})})},error:function(b,e,g){alertify.alert("3D Model ("+c+") Loading Error")}})}else"obj"==c.split(".").pop()&&(loader=new THREE.OBJLoader,loader.load(c,function(g){g.name=c;g.position.x=e;g.position.y=f;g.position.z=k;g.rotation.x=m;g.rotation.y=n;console.log("OBJMTL add model to scene"+c.slice(0,-4));console.log(g);b.add(g)},onProgress,onError))}catch(z){console.log("open3DModel Error "+z)}};
engine3D.generateClampToEdgeTexture=function(c){var b=document.createElement("canvas"),e=b.getContext("2d"),f=e.createPattern(c,"repeat"),k=c.width;c.height>c.width&&(k=c.height);b.width=k;b.height=k;e.fillStyle=f;e.fillRect(0,0,k,k);e.fill();return b};
engine3D.showHouse=function(){console.log("showHouse()");engine3D.freeMemory();engine3D.hide();engine2D.hide();SCENE="house";engineGUI.initMenu("menuRight3DHouse","Exterior/index.json");engine3D.enableOrbitControls(camera3D,renderer.domElement);SSAOProcessing.enabled=!1;$(renderer.domElement).bind("mousedown",on3DHouseMouseDown);$(renderer.domElement).bind("mouseup",on3DHouseMouseUp);$(renderer.domElement).bind("mousemove",on3DHouseMouseMove);$(renderer.domElement).bind("dblclick",onDocumentDoubleClick);
"moveXY"==TOOL3DINTERACTIVE?engineGUI.menuSelect(0,"menuInteractiveItem","#ff3700"):"moveZ"==TOOL3DINTERACTIVE?engineGUI.menuSelect(1,"menuInteractiveItem","#ff3700"):"rotate"==TOOL3DINTERACTIVE&&engineGUI.menuSelect(2,"menuInteractiveItem","#ff3700");[2,3,4,5,6,7,11,12,13].forEach(function(c){$("#menuBottomItem"+c).show()});$("#menuBottom").show();engineGUI.menuToggleRight("menuRight",!0);engineGUI.menuToggleLeft("menuLeft3DHouse",!0);engineGUI.menuSelect(1,"menuTopItem","#ff3700");engineGUI.menuCorrectHeight();
engine3D.setSky(DAY);scene3D.add(skyMesh);settings.clouds&&scene3D.add(weatherSkyCloudsMesh);settings.rainbow&&scene3D.add(weatherSkyRainbowMesh);engine3D.setLights();engine3D.makeFloor();scene3D.add(scene3DHouseGroundContainer);scene3D.add(scene3DHouseContainer);scene3D.add(scene3DRoofContainer);if(void 0!=scene2DWallGroup[FLOOR].children[0]){for(var c=[-1,0,1,2,3,4],b=0;b<scene2DFloorShape.length;b++){var e=.1+c[b]*scene2DWallGroup[FLOOR].children[0].h;scene3DFloorShapeContainer[b].position.y=e;
scene3DCeilingShapeContainer[b].position.y=e+scene2DWallGroup[FLOOR].children[0].h;scene3D.add(scene3DFloorShapeContainer[b]);scene3D.add(scene3DCeilingShapeContainer[b])}for(var b=0;b<scene3DFloorFurnitureContainer.length;b++)scene3D.add(scene3DFloorFurnitureContainer[b])}scene3DCube&&scene3DCube.add(scene3DCubeMesh);$("#engine3D").show();$("#WebGLCanvas").show();setTimeout(function(){camera3DAnimate(0,6,18,1E3)},1E3);engine3D.animate()};
engine3D.showLandscape=function(){scene3DAnimateRotate=!1;engine3D.freeMemory();engine3D.hide();engine2D.hide();SCENE="landscape";engine3D.setSky("day");engine3D.setLights();engine3D.enableOrbitControls(camera3D,renderer.domElement);camera3D.position.set(10,10,15);camera3D.lookAt(scene3D.position);TOOL3DLANDSCAPE="rotate";scene3D.add(skyMesh);scene3D.add(terrain3D);$(renderer.domElement).bind("mousedown",on3DLandscapeMouseDown);$(renderer.domElement).bind("mouseup",on3DLandscapeMouseUp);$(renderer.domElement).bind("mousemove",
on3DLandscapeMouseMove);engineGUI.menuToggleLeft("menuLeft3DLandscape",!0);engineGUI.menuSelect(0,"menuLeft3DLandscapeItem","#ff3700");engineGUI.menuSelect(2,"menuTopItem","#ff3700");engineGUI.menuCorrectHeight();$("#engine3D").show();$("#WebGLCanvas").show();engine3D.animate()};
engine3D.showFloor=function(){console.log("showFloor()");scene3DAnimateRotate=!1;engine3D.freeMemory();engine3D.hide();engine2D.hide();SCENE="floor";engineGUI.initMenu("menuRight3DFloor","Interior/index.json");engine3D.enableOrbitControls(camera3D,renderer.domElement);engine3D.buildPanorama(skyFloorMesh,"0000",75,75,75,"",null);scene3D.add(skyFloorMesh);engine3D.setLights();engine3D.makeFloor();engine3D.makeWalls();scene3D.add(scene3DFloorFurnitureContainer[FLOOR]);scene3D.add(scene3DFloorShapeContainer[FLOOR]);
scene3D.add(scene3DFloorGroundContainer);scene3DFloorShapeContainer[FLOOR].position.y=.1;if("measure"==TOOL3DFLOOR){scene3DFloorMeasurementsGenerate();for(var c=0;c<scene3DFloorFurnitureContainer[FLOOR].children.length;c++)scene3DFloorFurnitureContainer[FLOOR].children[c].children[1]&&(scene3DFloorFurnitureContainer[FLOOR].children[c].children[1].visible=!0)}scene3D.add(scene3DFloorWallContainer[FLOOR]);scene3D.add(scene3DFloorShapeContainer[FLOOR]);$(renderer.domElement).bind("mousedown",on3DFloorMouseDown);
$(renderer.domElement).bind("mouseup",on3DFloorMouseUp);$(renderer.domElement).bind("mousemove",on3DFloorMouseMove);$(renderer.domElement).bind("dblclick",onDocumentDoubleClick);$("#menuFloorSelectorText").html(scene3DFloorFurnitureContainer[FLOOR].name);$("#menuFloorSelector").show();[8,9,10,11,12,13].forEach(function(c){$("#menuBottomItem"+c).show()});$("#menuBottom").show();engineGUI.menuToggleRight("menuRight",!0);engineGUI.menuToggleLeft("menuLeft3DFloor",!0);engineGUI.menuSelect(5,"menuTopItem",
"#ff3700");engineGUI.menuSelect(0,"menuLeft3DFloorItem","#ff3700");engineGUI.menuCorrectHeight();scene3DCube&&scene3DCube.add(scene3DCubeMesh);$("#engine3D").show();$("#WebGLCanvas").show();setTimeout(function(){camera3DAnimate(0,10,12,1E3)},500);engine3D.animate()};
engine3D.showFloorLevel=function(){scene3DAnimateRotate=!1;engine3D.freeMemory();engine3D.hide();engine2D.hide();SCENE="floorlevel";engine3D.setSky("day");engine3D.setLights();engine3D.enableOrbitControls(camera3D,renderer.domElement);camera3D.position.set(10,10,15);camera3D.lookAt(scene3D.position);engine3D.generateLevelWalls();scene3D.add(skyMesh);scene3D.add(scene3DHouseGroundContainer);engineGUI.menuSelect(3,"menuTopItem","#ff3700");engineGUI.menuCorrectHeight();$("#engine3D").show();$("#WebGLCanvas").show();
engine3D.animate()};
engine3D.showRoofDesign=function(){scene3DAnimateRotate=!1;engine3D.freeMemory();engine3D.hide();engine2D.hide();SCENE="roof";engineGUI.initMenu("menuRight3DRoof","Roof/index.json");engine3D.setLights();engine3D.initRendererQuad();scene3D.add(camera3DQuadGrid);scene3D.add(scene3DRoofContainer);$("#WebGLSplitCanvas-0").bind("mousemove",on3DRoofSplit0MouseMove);$("#WebGLSplitCanvas").bind("mouseup",on3DRoofVDividerMouseUp);engineGUI.menuToggleRight("menuRight",!0);engineGUI.menuSelect(4,"menuTopItem",
"#ff3700");engineGUI.menuCorrectHeight();$("#engine3D").show();$("#WebGLSplitCanvas").show();engine3D.animate()};
engine3D.hide=function(){$("#engine3D").hide();if(void 0!==renderer){scene3DCube&&scene3DCube.remove(scene3DCubeMesh);for(c=0;c<scene2DFloorShape.length;c++)scene3D.remove(scene3DFloorShapeContainer[c]),scene3D.remove(scene3DCeilingShapeContainer[c]);$(renderer.domElement).unbind("mousedown",on3DHouseMouseDown);$(renderer.domElement).unbind("mouseup",on3DHouseMouseUp);$(renderer.domElement).unbind("mousemove",on3DHouseMouseMove);$(renderer.domElement).unbind("dblclick",onDocumentDoubleClick);$("#WebGLSplitCanvas-0").unbind("mousemove",
on3DRoofSplit0MouseMove);$("#WebGLSplitCanvas").unbind("mouseup",on3DRoofVDividerMouseUp);$(renderer.domElement).unbind("mousedown",on3DFloorMouseDown);$(renderer.domElement).unbind("mouseup",on3DFloorMouseUp);$(renderer.domElement).unbind("mousemove",on3DFloorMouseMove);$(renderer.domElement).unbind("mousedown",on3DLandscapeMouseDown);$(renderer.domElement).unbind("mouseup",on3DLandscapeMouseUp);$(renderer.domElement).unbind("mousemove",on3DLandscapeMouseMove);disposePanorama("WebGLPanorama");$("#WebGLCanvas").hide();
$("#WebGLSplitCanvas").hide();$("#menuLeft3DHouse").hide();$("#menuLeft3DLandscape").hide();$("#menuLeft3DFloor").hide();$("#menuRight3DHouse").hide();$("#menuRight3DFloor").hide();$("#menuRight3DRoof").hide();$("#menuRightObjects").hide();$("#menuRight").hide();$("#menuFloorSelector").hide();$("#menuWallInput").hide();for(var c=1;13>=c;c++)$("#menuBottomItem"+c).hide();$("#menuBottom").hide()}};
function selectFloor(c){c=FLOOR+c;scene3DFloorFurnitureContainer[c]instanceof THREE.Object3D?(FLOOR=c,"floor"==SCENE?engine3D.showFloor():"2d"==SCENE&&engine2D.show()):alertify.confirm("Add New Floor?",function(c){c&&engine3D.newFloor()})}
engine3D.newFloor=function(c){var b=scene3DFloorFurnitureContainer.length;null===c&&(c="Floor "+b);scene3DFloorFurnitureContainer[b]=new THREE.Object3D;scene3DFloorFurnitureContainer[b].name=c;scene3DFloorMeasurementsContainer[b]=new THREE.Object3D;scene3DFloorWallContainer[b]=new THREE.Object3D;scene3DFloorShapeContainer[b]=new THREE.Object3D;scene3DFloorShapeTextures[b]=[];scene3DCeilingShapeContainer[b]=new THREE.Object3D;scene3DCeilingShapeTextures[b]=[];scene2DWallMesh[b]=[];scene2DWallDimentions[b]=
[]};function selectDayNight(){"day"==DAY?(DAY="night",$("#menuBottomItem6").attr("class","hi-icon icon-night tooltip")):"night"==DAY&&(DAY="day",$("#menuBottomItem6").attr("class","hi-icon icon-day tooltip"));scene3D.remove(skyMesh);engine3D.setSky(DAY);engine3D.setLights();engine.setWeather();scene3D.add(skyMesh)}engine3D.selectWeather=function(){"sunny"==WEATHER?WEATHER="snowy":"snowy"==WEATHER?WEATHER="rainy":"rainy"==WEATHER&&(WEATHER="sunny");engine.setWeather()};
function scene3DObjectSelectRemove(){"house"==SCENE?scene3DHouseContainer.remove(SelectedObject):"floor"==SCENE&&scene3DFloorFurnitureContainer[FLOOR].remove(SelectedObject);scene3DObjectUnselect()}
function scene3DObjectSelectMenuPosition(c,b){var e=new THREE.Vector3(c,b,.1),f,k;null!==SelectedObject?e=e.setFromMatrixPosition(SelectedObject.matrixWorld):null!==SelectedWall&&(e=e.setFromMatrixPosition(SelectedWall.matrixWorld));e.project(camera3D);f=(e.x+1)/2;k=(-e.y+1)/2;e.x=f*window.innerWidth;e.y=k*window.innerHeight;return e}
function scene3DObjectSelectMenu(c,b,e){c=scene3DObjectSelectMenuPosition(c,b);$(e).css("top",c.y-60).css("left",c.x);$(e).show();null===SelectedObject&&null!==SelectedWall&&($("#WebGLTextureSelect").css("top",c.y+$(e).height()).css("left",c.x-$("#WebGLTextureSelect").width()/2),$("#WebGLColorWheelSelect").css("top",c.y-$("#WebGLColorWheelSelect").height()-32).css("left",c.x-$("#WebGLColorWheelSelect").width()/2))}
function scene3DObjectSelect(c,b,e,f){if(controls3D instanceof THREE.OrbitControls)if(c=new THREE.Vector3(c,b,.5),c.unproject(e),e=(new THREE.Raycaster(e.position,c.sub(e.position).normalize())).intersectObjects(f.children,!0),0<e.length){if(SelectedObject!==e[0].object){scene3DObjectUnselect();controls3D.enabled=!1;SelectedObject=scene3DObjectSelectedRoot(f,e[0].object.uuid);if(0<=e[0].object.name.indexOf("Platform/note.jsz"))SelectedNote=e[0].object,camera3DPositionCache=SelectedNote.position.clone(),
camera3DPivotCache=SelectedNote.rotation.clone(),camera3DNoteEnter();else if(!(0<=SelectedObject.name.indexOf("Platform/camera.jsz")))if(SelectedObject.children===scene3DFloorWallContainer[FLOOR].children)SelectedWall=e[0].object,scene3DObjectSelectMenu(mouse.x,mouse.y,"#WebGLWallPaintMenu");else{if(-1!=SelectedObject.name.indexOf("house"))return scene3DObjectUnselect(),!1;f=SelectedObject.children[SelectedObject.children.length-1];c=65280;rightButtonDown&&(c=16776960);c=new THREE.MeshBasicMaterial({color:c,
side:THREE.BackSide,opacity:.5,transparent:!0});"{highlighteMesh}"!==f.name?(f=SelectedObject.clone(),f.name="{highlighteMesh}",f.position.set(0,0,0),f.rotation.set(0,0,0),f.scale.multiplyScalar(1.06),SelectedObject.add(f)):f.visible=!0;for(b=0;b<f.children.length;b++)"Mesh"===f.children[b].type?(f.children[b].material=c,f.children[b].material.depthWrite=!0,f.children[b].material.depthTest=!0):f.remove(f.children[b]);if("house"!==SCENE){var k=$("#WebGLSelectMenu");k.tooltipster("content",'<a href="#item" onclick="" class="lo-icon icon-info" style="color:#606060"></a><a href="#" onclick="" class="lo-icon icon-settings" style="color:#606060"></a>')}SelectedObject.boundingBox&&
8<e[0].distance&&4>SelectedObject.boundingBox.max.x&&(camera3DPositionCache=camera3D.position.clone(),camera3DPivotCache=controls3D.target.clone(),(new TWEEN.Tween(camera3D.position)).to({x:SelectedObject.position.x,y:SelectedObject.position.y+4,z:SelectedObject.position.z+5},1E3).easing(TWEEN.Easing.Quadratic.InOut).onComplete(function(){}).start(),(new TWEEN.Tween(controls3D.target)).to({x:SelectedObject.position.x,y:SelectedObject.position.y,z:SelectedObject.position.z},1E3).easing(TWEEN.Easing.Quadratic.InOut).start());
void 0!==k&&(console.log(SCENE),f=scene3DObjectSelectMenuPosition(mouse.x,mouse.y),k.css({position:"absolute",left:f.x,top:f.y-50,"z-index":0}),k.tooltipster("open"));engineGUI.toggleSideMenus(!1)}return!0}}else scene3DObjectUnselect();return!1}function scene3DObjectSelectedRoot(c,b){for(var e=0;e<c.children.length;e++)for(var f=0;f<c.children[e].children.length;f++)if(c.children[e].children[f].uuid===b)return c.children[e];return c}
function scene3DObjectUnselect(){if(controls3D instanceof THREE.OrbitControls){if(null!==SelectedObject){var c=SelectedObject.children[SelectedObject.children.length-1];"{highlighteMesh}"===c.name&&(c.visible=!1);SelectedWall=SelectedObject=null;$("#WebGLSelectMenu").tooltipster("hide");$("#WebGLInteractiveMenu").hide();$("#WebGLWallPaintMenu").hide();$("#WebGLColorWheelSelect").hide();$("#WebGLTextureSelect").hide()}else null!==SelectedNote?(SelectedNote=null,camera3DNoteExit()):null!==SelectedPicture&&
(SelectedPicture=null,camera3DPictureExit());controls3D.enabled=!0;camera3DPivotCache=camera3DPositionCache=null}}
engine3D.collectArrayFromContainer=function(c){for(var b=[],e=0;e<c.children.length;e++){var f={};f.file=c.children[e].children[0].name;try{f.note=c.children[e].children[2].name}catch(k){}f.textures="Textures";f.position.x=c.children[e].children[0].position.x;f.position.y=c.children[e].children[0].position.y;f.position.z=c.children[e].children[0].position.z;f.rotation.x=c.children[e].children[0].rotation.x;f.rotation.y=c.children[e].children[0].rotation.y;f.rotation.z=c.children[e].children[0].rotation.z;
b.push(f)}return b};function imageBase64(c){c=document.getElementById(c);var b=document.createElement("canvas");b.width=c.width;b.height=c.height;b.getContext("2d").drawImage(c,0,0);return b.toDataURL("image/png").replace(/^data:image\/(png|jpg);base64,/,"")}function scene3DFloorMeasurementsGenerate(){material=new THREE.LineBasicMaterial({color:0,linewidth:2})}
function scene3DFloorMeasurementShow(){for(var c=!0,b=0;b<scene3DFloorFurnitureContainer[FLOOR].children.length;b++).8>scene3DFloorFurnitureContainer[FLOOR].children[b].position.y&&(scene3DFloorFurnitureContainer[FLOOR].children[b].children[1].visible=!scene3DFloorFurnitureContainer[FLOOR].children[b].children[1].visible),c=scene3DFloorFurnitureContainer[FLOOR].children[b].children[1].visible;c?(engineGUI.menuSelect(0,"menuLeft3DFloorItem","#ff3700"),TOOL3DFLOOR="measure"):(engineGUI.menuSelect(0,
"menuLeft3DFloorItem","black"),TOOL3DFLOOR="")}function scene3DFloorObjectWallMeasurementAjust(){}
engine3D.generateLevelWalls=function(){scene3DLevelWallContainer=new THREE.Object3D;var c=new THREE.BoxGeometry(15,4,13),b=new THREE.MeshBasicMaterial({color:14737632}),c=new THREE.Mesh(c,b);c.position.y=2;scene3DLevelWallContainer.add(c);c=new THREE.BoxGeometry(10,4,9);b=new THREE.MeshBasicMaterial({color:11579568});c=new THREE.Mesh(c,b);c.position.x=2.5;c.position.z=-2;c.position.y=6;scene3DLevelWallContainer.add(c);scene3D.add(scene3DLevelWallContainer)};
engine3D.setBackground=function(c){var b=document.createElement("canvas");b.width=window.innerWidth;b.height=window.innerHeight;var e=b.getContext("2d");"blue"==c?(c=e.createLinearGradient(0,0,0,b.height),c.addColorStop(0,"#1e4877"),c.addColorStop(.5,"#4584b4"),e.fillStyle=c,e.fillRect(0,0,b.width,b.height),document.getElementById("engine3D").style.background="url("+b.toDataURL("image/png")+")"):"split"==c?(e.lineWidth=1,e.beginPath(),e.moveTo(.5*window.innerWidth,0),e.lineTo(.5*window.innerWidth,
window.innerHeight),e.stroke(),e.beginPath(),e.moveTo(0,.5*window.innerHeight),e.lineTo(window.innerWidth,.5*window.innerHeight),e.stroke(),document.getElementById("engine3D").style.background="url("+b.toDataURL("image/png")+")"):document.body.style.background="#fff"};
engine3D.setLights=function(){scene3D.remove(sceneAmbientLight);scene3D.remove(sceneDirectionalLight);scene3D.remove(sceneSpotLight);"house"==SCENE?"day"==DAY?settings.sunlight?(sceneAmbientLight=new THREE.AmbientLight,scene3D.add(sceneAmbientLight),scene3D.add(sceneDirectionalLight),sceneSpotLight.intensity=1,sceneSpotLight.castShadow=!1,scene3D.add(sceneSpotLight)):(sceneAmbientLight=new THREE.AmbientLight(16777215,.7),scene3D.add(sceneAmbientLight),scene3D.add(sceneDirectionalLight)):(sceneSpotLight.intensity=
.8,sceneSpotLight.castShadow=!1,scene3D.add(sceneSpotLight)):"landscape"==SCENE?(sceneAmbientLight=new THREE.AmbientLight(16777215,.5),scene3D.add(sceneAmbientLight),scene3D.add(sceneDirectionalLight)):"roof"==SCENE?(sceneAmbientLight=new THREE.AmbientLight(16777215,.1),scene3D.add(sceneAmbientLight),sceneSpotLight.intensity=.6,sceneSpotLight.castShadow=!1,scene3D.add(sceneSpotLight)):"floorlevel"==SCENE?(sceneAmbientLight=new THREE.AmbientLight(16777215,.5),scene3D.add(sceneAmbientLight),scene3D.add(sceneDirectionalLight)):
"floor"==SCENE&&(sceneAmbientLight=new THREE.AmbientLight,scene3D.add(sceneAmbientLight),sceneDirectionalLight.intensity=.6,scene3D.add(sceneDirectionalLight))};
function insertSceneObject(c){"database"==RUNMODE&&(c="php/objects.php?id="+c,$.ajax({type:"GET",dataType:"json",url:c,async:!1,success:function(b){c=b.file},error:function(c,b,e){alertify.alert("Database Error - 3D Object Not Found")}}));var b=0,e=0,f=0;if("house"==SCENE){f=scene3DHouseContainer.children.length-1;e=b=0;try{b=scene3DHouseContainer.children[f].position.x+scene3DHouseContainer.children[f].geometry.boundingBox.max.x,e=scene3DHouseContainer.children[f].position.z+scene3DHouseContainer.children[f].geometry.boundingBox.max.z}catch(k){}engine3D.open3DModel(c,
scene3DHouseContainer,b,0,e,0,0,1,!0,null)}else"floor"==SCENE&&(f=scene3DFloorFurnitureContainer[FLOOR].children.length-1,b=scene3DFloorFurnitureContainer[FLOOR].children[f].position.x+scene3DFloorFurnitureContainer[FLOOR].children[f].geometry.boundingBox.max.x,e=scene3DFloorFurnitureContainer[FLOOR].children[f].position.z+scene3DFloorFurnitureContainer[FLOOR].children[f].geometry.boundingBox.max.z,engine3D.open3DModel(c,scene3DFloorFurnitureContainer[FLOOR],b,0,e,0,0,1,!0,null))}
function CalculateCutawayGeometry(){alertify.confirm("This feature is experimental and may not work properly. Continue?",function(c){c&&(c=new THREE.BoxGeometry(20,16,1),new THREE.Mesh(c))})}
function animatePanorama(){if(rendererPanorama instanceof THREE.WebGLRenderer){requestAnimationID=window.requestAnimationFrame(animatePanorama);clock.getDelta();mouse.x+=.1;mouse.y=Math.max(-85,Math.min(85,mouse.y));var c=THREE.Math.degToRad(90-mouse.y),b=THREE.Math.degToRad(mouse.x);target.x=Math.sin(c)*Math.cos(b);target.y=Math.cos(c);target.z=Math.sin(c)*Math.sin(b);camera3DPanorama.lookAt(target);rendererPanorama.render(scene3DPanorama,camera3DPanorama)}else engine3D.animate()}
function animateHouseRotate(){requestAnimationID=window.requestAnimationFrame(animateHouseRotate);if(scene3DAnimateRotate){var c=.19*clock.getDelta(),b=camera3D.position.x,e=camera3D.position.z,f=Math.cos(c),c=Math.sin(c);camera3D.position.x=b*f+e*c;camera3D.position.z=e*f-b*c;camera3D.lookAt(scene3D.position);animateClouds();renderer.render(scene3D,camera3D)}else engine3D.animate()}
function animateFloor(){requestAnimationID=window.requestAnimationFrame(animateFloor);sceneSpotLight.visible=!1;controls3D.update();leftButtonDown?renderer.render(scene3D,camera3D):(SSAOProcessing.enabled&&(scene3D.overrideMaterial=depthMaterial,renderer.render(scene3D,camera3D,depthRenderTarget,!0),scene3D.overrideMaterial=null),effectComposer.render());TWEEN.update()}
function animateLandscape(){requestAnimationID=window.requestAnimationFrame(animateLandscape);leftButtonDown&&"rotate"==TOOL3DLANDSCAPE&&controls3D.update();terrain3D.water.material.uniforms.time.value=(new Date).getTime()%1E4;renderer.render(scene3D,camera3D)}
function renderSunlight(){if(settings.sunlight){var c=new THREE.Vector3(0,10,-10),b=new THREE.MeshDepthMaterial,e=new THREE.Vector3;e.copy(c).project(camera3D);e.x+=1;e.y+=1;sunlight.godrayGenUniforms.vSunPositionScreenSpace.value.x=e.x;sunlight.godrayGenUniforms.vSunPositionScreenSpace.value.y=e.y;sunlight.godraysFakeSunUniforms.vSunPositionScreenSpace.value.x=e.x;sunlight.godraysFakeSunUniforms.vSunPositionScreenSpace.value.y=e.y;renderer.clearTarget(sunlight.rtTextureColors,!0,!0,!1);var c=.74*
window.innerHeight,f=.74*window.innerHeight;e.x*=window.innerWidth;e.y*=window.innerHeight;renderer.setScissor(e.x-f/2,e.y-c/2,f,c);renderer.enableScissorTest(!0);sunlight.godraysFakeSunUniforms.fAspect.value=window.innerWidth/window.innerHeight;sunlight.scene.overrideMaterial=sunlight.materialGodraysFakeSun;renderer.render(sunlight.scene,sunlight.camera,sunlight.rtTextureColors);renderer.enableScissorTest(!1);scene3D.overrideMaterial=null;renderer.render(scene3D,camera3D,sunlight.rtTextureColors);
scene3D.overrideMaterial=b;renderer.render(scene3D,camera3D,sunlight.rtTextureDepth,!0);b=1*Math.pow(6,-1);sunlight.godrayGenUniforms.fStepSize.value=b;sunlight.godrayGenUniforms.tInput.value=sunlight.rtTextureDepth;sunlight.scene.overrideMaterial=sunlight.materialGodraysGenerate;renderer.render(sunlight.scene,sunlight.camera,sunlight.rtTextureGodRays2);b=1*Math.pow(6,-2);sunlight.godrayGenUniforms.fStepSize.value=b;sunlight.godrayGenUniforms.tInput.value=sunlight.rtTextureGodRays2;renderer.render(sunlight.scene,
sunlight.camera,sunlight.rtTextureGodRays1);b=1*Math.pow(6,-3);sunlight.godrayGenUniforms.fStepSize.value=b;sunlight.godrayGenUniforms.tInput.value=sunlight.rtTextureGodRays1;renderer.render(sunlight.scene,sunlight.camera,sunlight.rtTextureGodRays2);sunlight.godrayCombineUniforms.tColors.value=sunlight.rtTextureColors;sunlight.godrayCombineUniforms.tGodRays.value=sunlight.rtTextureGodRays2;sunlight.scene.overrideMaterial=sunlight.materialGodraysCombine;renderer.render(sunlight.scene,sunlight.camera);
sunlight.scene.overrideMaterial=null}else renderer.render(scene3D,camera3D)}function animateClouds(){weatherSkyCloudsMesh.rotation.y=camera3D.rotation.y;weatherSkyCloudsMesh.rotation.z=camera3D.rotation.z;weatherSkyCloudsMesh.rotation.x=camera3D.rotation.x;weatherSkyCloudsMesh.position.x=camera3D.position.x/1.5}
function animateHouse(){requestAnimationID=window.requestAnimationFrame(animateHouse);scene3DAnimateRotate?engine3D.animate():(animateClouds(),controls3D.enabled&&(controls3D.update(),rendererCube&&rendererCube.render(scene3DCube,camera3DCube)),leftButtonDown?renderer.render(scene3D,camera3D):(SSAOProcessing.enabled&&(scene3D.overrideMaterial=depthMaterial,renderer.render(scene3D,camera3D,depthRenderTarget,!0),scene3D.overrideMaterial=null),effectComposer.render()),TWEEN.update())}
function animateRoof(){requestAnimationID=window.requestAnimationFrame(animateRoof);for(i=0;4>i;i++)rendererQuad[i].render(scene3D,camera3DQuad[i])}function animateRoof0(){requestAnimationID=window.requestAnimationFrame(animateRoof);rendererQuad[0].render(scene3D,camera3DQuad[0])}function animateStop(){requestAnimationID&&(window.cancelAnimationFrame(requestAnimationID),requestId=void 0)}
engine3D.animate=function(){animateStop();"house"==SCENE?scene3DAnimateRotate?animateHouseRotate():animateHouse():"floor"==SCENE?animateFloor():"landscape"==SCENE||"floorlevel"==SCENE?animateLandscape():"roof"==SCENE&&animateRoof()};
function fileSelect(c){window.File&&window.FileReader&&window.FileList&&window.Blob?($("#fileInput").click(),"2ddraftplan"==c?$("#fileInput").bind("change",handleFile2DImageSelect):"2dautocad"==c?$("#fileInput").bind("change",handleFile2DAutoCADConvert):"3dobject"==c&&$("#fileInput").bind("change",handleFile3DObjectSelect)):alert("The File APIs are not fully supported in this browser.")}
function errorHandler(c){switch(c.target.error.code){case c.target.error.NOT_FOUND_ERR:alert("File Not Found!");break;case c.target.error.NOT_READABLE_ERR:alert("File is not readable");break;case c.target.error.ABORT_ERR:break;default:alert("An error occurred reading this file.")}}
function ajaxBeforeSubmit(){var c=$("#fileInput")[0].files[0].size,b=$("#fileInput")[0].files[0].type;switch(b){case "application/zip":case "application/octet-stream":break;default:return alert(b+" is unsupported file type!"),!1}if(10485760<c)return alert("<b>"+c+"</b> Too big file! <br />File is too big, it should be less than 5 MB."),!1}
function handleFile3DObjectSelect(c){switch(c.target.files[0].type){case "application/zip":case "application/octet-stream":var b={beforeSubmit:ajaxBeforeSubmit,resetForm:!0};$("#uploadForm").submit(function(){$(this).ajaxSubmit(b);return!1});break;case "application/x-javascript":fileReader=new FileReader;fileReader.onerror=errorHandler;fileReader.onloadstart=function(c){};fileReader.onload=function(b){console.log("Load File: "+$("#fileInput").value+":"+c.target.files[0].name);engine3D.open(b.target.result);
engine2D.open(b.target.result)};fileReader.readAsText(file);break;default:return alert("file type should be .js, .json or .zip"),!1}}function handleFile2DAutoCADConvert(c){fileReader=new FileReader;fileReader.onerror=errorHandler;fileReader.onload=function(c){c=new DXFParser(c.target.result);console.log(c)};fileReader.readAsText(c.target.files[0]);$("#fileInput").unbind("change",handleFile2DAutoCADConvert)}
function handleFile2DImageSelect(c){c.target.files[0].type.match("image.*")?(fileReader=new FileReader,fileReader.onerror=errorHandler,fileReader.onabort=function(c){alert("File read cancelled")},fileReader.onload=function(c){var b=new Image;b.src=c.target.result;scene2DFloorDraftPlanImage[FLOOR]=new fabric.Image(b,{top:1,left:1,width:window.innerWidth,height:window.innerHeight,opacity:.6,selectable:!1});scene2D.add(scene2DFloorDraftPlanImage[FLOOR]);scene2D.sendToBack(scene2DFloorDraftPlanImage[FLOOR]);
scene2D.renderAll()},fileReader.readAsDataURL(c.target.files[0]),$("#fileInput").unbind("change",handleFile2DImageSelect)):alert("Currently only photos are supported")}
function toggleTextureSelect(){if($("#WebGLTextureSelect").is(":visible"))$("#WebGLTextureSelect").hide(),$("#WebGLColorWheelSelect").hide();else{$("#WebGLTextureSelect").empty();if(null!==SelectedWall){var c=$("<div>",{"class":"scroll","data-ui":"jscroll-default",style:"width:100%;height:80px"}),b=$("<div>",{"class":"objectItem",style:"width:100px;height:64px"}),e=$("<a>",{href:"#"}).append($("<img>",{id:"test",src:"objects/Wall/Textures/W2367.jpg"}));b.append(e);e=$("<a>",{href:"#"}).append($("<img>",
{id:"test",src:"objects/Wall/Textures/W3465.jpg"}));b.append(e);$("#WebGLTextureSelect").append(c.append(b))}$("#WebGLTextureSelect").show();null!==SelectedWall&&$("#WebGLColorWheelSelect").show()}}
engine3D.freeMemory=function(){if(scene3D instanceof THREE.Scene){for(;0<scene3D.children.length;){var c=scene3D.children[scene3D.children.length-1];c.geometry&&c.geometry.dispose();c.material&&(c.material.map&&c.material.map.dispose(),c.material.dispose());scene3D.remove(c)}scene3DObjectUnselect()}if(camera3DQuad[0]instanceof THREE.OrthographicCamera)for(i=0;4>i;i++)camera3DQuad[i]=null,rendererQuad[i]=null};var engine3D=window.engine3D||{},isDragging=!1;
function onWindowResize(){camera3D.aspect=window.innerWidth/window.innerHeight;camera3D.updateProjectionMatrix();SSAOProcessing.enabled&&SSAOPass.uniforms.resolution.value.set(1/(window.innerWidth*dpr),1/(window.innerHeight*dpr));FXAAProcessing.enabled&&FXAAPass.uniforms.resolution.value.set(1/(window.innerWidth*dpr),1/(window.innerHeight*dpr));effectComposer.setSize(window.innerWidth*dpr,window.innerHeight*dpr);renderer.setSize(window.innerWidth,window.innerHeight);engine3D.initRendererQuadSize();
engineGUI.menuCorrectHeight()}function onCubeMouseMove(c){}
function onDocumentDoubleClick(c){scene3D.visible&&controls3D instanceof THREE.OrbitControls&&null===SelectedObject&&(vector=new THREE.Vector3(c.clientX/window.innerWidth*2-1,2*-(c.clientY/window.innerHeight)+1,.5),vector.unproject(camera3D),c=(new THREE.Raycaster(camera3D.position,vector.sub(camera3D.position).normalize())).intersectObjects(scene3DHouseGroundContainer.children,!0),0<c.length&&(clearTimeout(doubleClickTime),scene3DPivotPoint.position.set(c[0].point.x,0,c[0].point.z),(new TWEEN.Tween(controls3D.target)).to({x:c[0].point.x,
y:0,z:c[0].point.z},800).easing(TWEEN.Easing.Quadratic.InOut).start(),doubleClickTime=setTimeout(function(){scene3D.remove(scene3DPivotPoint)},4E3)))}
function on3DLandscapeMouseMove(c){if("angle"==TOOL3DLANDSCAPE)leftButtonDown&&(terrain3D.rotation.y=c.clientX>window.innerWidth/2?terrain3D.rotation.y+.015:terrain3D.rotation.y-.015);else if(c=new THREE.Vector3(c.clientX/window.innerWidth*2-1,2*-(c.clientY/window.innerHeight)+1,.5),c.unproject(camera3D),c=(new THREE.Raycaster(camera3D.position,c.sub(camera3D.position).normalize())).intersectObjects(terrain3D.children),0<c.length&&(terrain3DMouse.vertex.x=Math.floor(c[0].point.x*plot_vertices-map_left*
plot_vertices),terrain3DMouse.vertex.y=Math.floor(c[0].point.z*plot_vertices-map_top*plot_vertices),terrain3D.material.uniforms.ring_center.value.x=c[0].point.x,terrain3D.material.uniforms.ring_center.value.y=-c[0].point.z),leftButtonDown)landscape.onmousemove()}
function on3DLandscapeMouseDown(c){1==c.which&&(leftButtonDown=!0);controls3D.enabled=!1;if("rotate"==TOOL3DLANDSCAPE)controls3D.enabled=!0;else if("hill"==TOOL3DLANDSCAPE||"valley"==TOOL3DLANDSCAPE)terrain3DMouse.x=c.clientX,terrain3DMouse.y=c.clientY}function on3DLandscapeMouseUp(c){leftButtonDown=!1;controls3D.enabled=!1;if("hill"==TOOL3DLANDSCAPE||"valley"==TOOL3DLANDSCAPE)terrain3DMouse.x=c.clientX,terrain3DMouse.y=c.clientY}
$(document).on("keyup",function(c){c.preventDefault();"house"===SCENE&&27===c.which&&(camera3DPositionCache=new THREE.Vector3(0,6,20),camera3DPivotCache=new THREE.Vector3(0,0,0),camera3DAnimateResetView())});function on3DRoofVDividerMouseUp(c){scene3DInitializeRendererQuadSize()}function on3DRoofSplit0MouseMove(c){}function on3DRoofSplit1MouseMove(c){}function on3DRoofSplit2MouseMove(c){}function on3DRoofSplit3MouseMove(c){}function on3DHouseMouseUp(c){on3DMouseUp(c)}
function on3DHouseMouseDown(c){on3DMouseDown(c);scene3DObjectSelect(mouse.x,mouse.y,camera3D,scene3DHouseContainer)||scene3D.add(scene3DPivotPoint)}function on3DHouseMouseMove(c){isDragging&&null!==SelectedObject&&on3DObjectMove(scene3DHouseGroundContainer,c)}function on3DFloorMouseDown(c){on3DMouseDown(c);scene3DObjectSelect(mouse.x,mouse.y,camera3D,scene3DFloorFurnitureContainer[FLOOR])||scene3D.add(scene3DPivotPoint)}
function on3DFloorMouseUp(c){on3DMouseUp(c);c=.1;null===SelectedObject&&(c=.5);for(var b=0;b<scene3DFloorWallContainer[FLOOR].children.length;b++)tween=(new TWEEN.Tween(scene3DFloorWallContainer[FLOOR].children[b].material)).to({opacity:c},500).start()}
function on3DCubeMove(){0!=engine3D.showCube&&(camera3DCube.position.copy(camera3D.position),camera3DCube.position.sub(controls3D.center),camera3DCube.position.setLength(18),camera3DCube.lookAt(scene3DCube.position),camera3DCube.updateMatrixWorld())}
function on3DObjectMove(c,b){var e=new THREE.Vector3(b.clientX/window.innerWidth*2-1,2*-(b.clientY/window.innerHeight)+1,-2);e.unproject(camera3D);e=(new THREE.Raycaster(camera3D.position,e.sub(camera3D.position).normalize())).intersectObjects(c.children,!0);if(0<e.length){var f=$("#WebGLSelectMenu");leftButtonDown?(f.tooltipster("close"),SelectedObject.position.x=e[0].point.x,SelectedObject.position.z=e[0].point.z):rightButtonDown&&(f.tooltipster("close"),SelectedObject.rotation.y=e[0].point.x)}}
function on3DFloorMouseMove(c){if(0===TWEEN.getAll().length)if(null!==SelectedObject)on3DObjectMove(scene3DFloorGroundContainer,c);else{c=new THREE.Vector3(0,0,8);c.applyQuaternion(camera3D.quaternion);scene3DCutawayPlaneMesh.position.copy(c);scene3DCutawayPlaneMesh.lookAt(camera3D.position);c=[];for(var b=scene3DCutawayPlaneMesh.position.clone(),e=0;e<scene3DCutawayPlaneMesh.geometry.vertices.length;e++){var f=scene3DCutawayPlaneMesh.geometry.vertices[e].clone().applyMatrix4(scene3DCutawayPlaneMesh.matrix).sub(scene3DCutawayPlaneMesh.position),
k=(new THREE.Raycaster(b,f.clone().normalize())).intersectObjects(scene3DFloorWallContainer[FLOOR].children);0<k.length&&k[0].distance<f.length()&&((new TWEEN.Tween(k[0].object.material)).to({opacity:.1},800).start(),c.push(k[0].object.id))}on3DCubeMove()}}
function on3DMouseMove(c){!leftButtonDown||!rightButtonDown||controls3D instanceof THREE.TransformControls||controls3D instanceof THREE.FirstPersonControls||(clearTimeout(clickMenuTime),camera3DCube.position.copy(camera3D.position),camera3DCube.position.sub(controls3D.center),camera3DCube.position.setLength(18),camera3DCube.lookAt(scene3DCube.position))}
function on3DMouseDown(c){1===c.which&&(leftButtonDown=!0);3===c.which&&(rightButtonDown=!0);mouse.x=c.clientX/window.innerWidth*2-1;mouse.y=2*-(c.clientY/window.innerHeight)+1;scene3DObjectUnselect();scene3DAnimateRotate=!1;clickTime=setTimeout(function(){isDragging=!0;0<=document.getElementById("arrow-right").src.indexOf("images/arrowright.png")&&engineGUI.toggleSideMenus(!1)},500)}
function on3DMouseUp(c){isDragging=!1;1==c.which&&(leftButtonDown=!1);3==c.which&&(rightButtonDown=!1);controls3D instanceof THREE.TransformControls||controls3D instanceof THREE.FirstPersonControls||(scene3D.remove(scene3DPivotPoint),clearTimeout(clickTime),null!=SelectedObject?(mouse.x=c.clientX/window.innerWidth*2-1,mouse.y=2*-(c.clientY/window.innerHeight)+1):clickTime=setTimeout(function(){0<=document.getElementById("arrow-right").src.indexOf("images/arrowleft.png")&&engineGUI.toggleSideMenus(!0)},
1E3))};engine3D=window.engine3D||{};
engine3D.makeFloor=function(){for(i=0;i<scene2DFloorShape.length;i++)if(void 0!==scene2DFloorShape[i].children[0]){console.log("3D Floor Generate ["+i+"] "+scene2DWallGroup[i].children.length);scene3DFloorShapeContainer[i]=new THREE.Object3D;scene3DCeilingShapeContainer[i]=new THREE.Object3D;var c=new THREE.Shape;for(a=0;a<scene2DFloorShape[i].children[0].segments.length;a++){var b=scene2DFloorShape[i].children[0].segments[a].point,e=b.x/100*2-1,b=2*-(b.y/100)+1,e=e-13,b=b+7;0===a?c.moveTo(e,b):c.lineTo(e,
b)}var e=new THREE.ShapeGeometry(c),b=new THREE.MeshBasicMaterial,f=THREE.ImageUtils.loadTexture(scene3DFloorShapeTextures[i][0]);f.wrapS=THREE.RepeatWrapping;f.wrapT=THREE.RepeatWrapping;b.map=f;b=new THREE.Mesh(e,b);b.rotation.x=-(90*RADIAN);scene3DFloorShapeContainer[i].add(b);f=THREE.ImageUtils.loadTexture(scene3DCeilingShapeTextures[i][0]);f.wrapS=THREE.RepeatWrapping;f.wrapT=THREE.RepeatWrapping;e=new THREE.MeshBasicMaterial;e.map=f;e.side=THREE.BackSide;b=b.clone();b.material=e;scene3DCeilingShapeContainer[i].add(b);
if(0==i){e=new THREE.Mesh(new THREE.ExtrudeGeometry(c,{amount:-2,bevelEnabled:!1}));e.rotation.x=-(90*RADIAN);var k=new ThreeBSP(e);scene3DFloorShapeContainer[i].add(e);_scene3DHouseGroundContainer.traverse(function(c){if(c instanceof THREE.Mesh){var b=new ThreeBSP(c),b=k.subtract(b).toMesh();b.geometry.computeVertexNormals();c.geometry=b.geometry}});scene3DHouseGroundContainer.visible=!1;_scene3DHouseGroundContainer.position.z=-10;scene3D.add(_scene3DHouseGroundContainer)}}};engine3D=window.engine3D||{};engine3D.History=[];engine3D.historyForward=function(){};engine3D.historyBack=function(){};engine3D.historyAdd=function(){};engine3D.initHousePlanner=function(){if(Detector.webgl){getCookie("firstTimer")?(createCookie("firstTimer","1",15),window.location.href="#start"):window.location.href="#scene";"local"==RUNMODE&&($("#menuTopItem12").hide(),$("#menuTopItem15").hide());$("#menuTop").show();$("#menuBottom").show();0===window.innerWidth&&(window.innerWidth=parent.innerWidth,window.innerHeight=parent.innerHeight);spinner.className="cssload-container";spinner.setAttribute("style","position:absolute;top:32%;left:40%;");spinner.innerHTML=
"<ul class='cssload-flex-container'><li><span class='cssload-loading'></span></li></ul>";projector=new THREE.Projector;clock=new THREE.Clock;mouse=new THREE.Vector2;touch=new THREE.Vector2;target=new THREE.Vector3;textureLoader=new THREE.TextureLoader;scene3DFloorGroundContainer=new THREE.Object3D;scene3DPivotPoint=new THREE.Object3D;var c=new THREE.BoxGeometry(15,15,3);c.computeBoundingBox();material=new THREE.MeshBasicMaterial({color:16776960,side:THREE.DoubleSide});scene3DCutawayPlaneMesh=new THREE.Mesh(c,
material);!0===engine3D.showCube&&(c=[new THREE.MeshBasicMaterial({color:3385941,transparent:!0,opacity:.9,shading:THREE.FlatShading,vertexColors:THREE.VertexColors}),new THREE.MeshBasicMaterial({color:5622784,transparent:!0,opacity:.9,shading:THREE.FlatShading,vertexColors:THREE.VertexColors}),new THREE.MeshBasicMaterial({color:0,transparent:!0,opacity:.9,shading:THREE.FlatShading,vertexColors:THREE.VertexColors}),new THREE.MeshBasicMaterial({color:0,transparent:!0,opacity:.9,shading:THREE.FlatShading,
vertexColors:THREE.VertexColors}),new THREE.MeshBasicMaterial({color:255,transparent:!0,opacity:.9,shading:THREE.FlatShading,vertexColors:THREE.VertexColors}),new THREE.MeshBasicMaterial({color:5592490,transparent:!0,opacity:.9,shading:THREE.FlatShading,vertexColors:THREE.VertexColors})],material=new THREE.MultiMaterial(c),material.vertexColors=THREE.FaceColors,c=engine3D.initCube(8),c.computeLineDistances(),scene3DCubeMesh=new THREE.Line(c,new THREE.LineDashedMaterial({color:16725760,dashSize:3,
gapSize:1,linewidth:2}),THREE.LineSegments),scene3DCubeMesh.geometry.dynamic=!0);engine3D.initRenderer();engine3D.initTerrainGround();engine3D.initTerrainWater();engine3D.initTerrainClouds();engine2D.initialize();engine3D["new"]();engine2D["new"]();engine3D.enableOrbitControls(camera3D,renderer.domElement);engine3D.initLights();$("#menuWeatherText").html("Sunny");$("#menuDayNightText").html("Day");engine3D.open3DModel("objects/Platform/floor.jsz",scene3DFloorGroundContainer,0,0,0,0,0,1,!1,null);engine3D.open3DModel("objects/Landscape/round.jsz",
scene3DHouseGroundContainer,0,0,0,0,0,1,!0,null);engine3D.open3DModel("objects/Platform/pivotpoint.jsz",scene3DPivotPoint,0,0,.1,0,0,1,!1,null);$(window).bind("resize",onWindowResize);$(window).bind("beforeunload",function(){return"Are you sure you want to leave?"});engine3D.showHouse()}else/MSIE (\d+\.\d+);/.test(navigator.userAgent)?$("body").append("<br/><br/><br/><div><center><img src='images/webgl.gif' /><h1>Looks like you broke the Internet!</h1><br/><h2>...your WebGL not enabled?</h2><br/><br/>You are running Internet Explorer, the browser does not support WebGL, please install one of these popular browsers<br/><br/><a href='http://www.mozilla.org/en-US/firefox'><img src='images/firefox.png'/></a> <a href='http://www.google.ca/chrome'><img src='images/chrome.png'/></a></center></div>"):
/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&$("body").append("<br/><br/><br/><div><center><img src='images/webgl.gif' /><h1>Looks like you broke the Internet!</h1><br/><h2>...your WebGL not enabled?</h2><img src='images/firefox-webgl.png'/></center></div>"),$("#menuTop").hide(),$("#menuBottom").hide(),document.getElementsByTagName("body")[0].style.overflow="auto",document.getElementsByTagName("html")[0].style.overflow="auto"};
engine3D.initRenderer=function(){camera3D=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,.1,80);dpr=1;void 0!==window.devicePixelRatio&&(dpr=window.devicePixelRatio);renderer=new THREE.WebGLRenderer({devicePixelRatio:dpr,antialias:!1});renderer.shadowMap.enabled=!0;renderer.shadowMapSoft=!0;renderer.shadowMapAutoUpdate=!0;renderer.setSize(window.innerWidth,window.innerHeight);document.getElementById("WebGLCanvas").appendChild(renderer.domElement);!0===engine3D.showCube&&(scene3DCube=
new THREE.Scene,camera3DCube=new THREE.PerspectiveCamera(60,1,1,50),camera3DCube.up=camera3D.up,scene3DCube.add(scene3DCubeMesh),rendererCube=new THREE.WebGLRenderer({devicePixelRatio:dpr,antialias:!1,alpha:!0}),rendererCube.setSize(100,100),document.getElementById("WebGLCubeCanvas").appendChild(rendererCube.domElement))};
engine3D.initRendererQuad=function(){$("div.split-pane").splitPane();for(i=0;4>i;i++)rendererQuad[i]=new THREE.WebGLRenderer({devicePixelRatio:dpr,antialias:!1}),rendererQuad[i].setClearColor(16777215),$("#WebGLSplitCanvas-"+i).append(rendererQuad[i].domElement);camera3DQuad[0]=new THREE.OrthographicCamera($("#WebGLSplitCanvas-0").parent().parent().width()/-60,$("#WebGLSplitCanvas-0").parent().parent().width()/60,$("#WebGLSplitCanvas-0").parent().parent().height()/10,$("#WebGLSplitCanvas-0").parent().parent().height()/
-10,-30,30);camera3DQuad[0].up=new THREE.Vector3(0,0,-1);camera3DQuad[0].lookAt(new THREE.Vector3(0,-1,0));camera3DQuad[1]=new THREE.OrthographicCamera($("#WebGLSplitCanvas-1").parent().parent().width()/-60,$("#WebGLSplitCanvas-1").parent().parent().width()/60,$("#WebGLSplitCanvas-1").parent().parent().height()/10,$("#WebGLSplitCanvas-1").parent().parent().height()/-10,-30,30);camera3DQuad[1].lookAt(new THREE.Vector3(1,0,0));camera3DQuad[1].position.set(0,0,0);camera3DQuad[2]=new THREE.OrthographicCamera($("#WebGLSplitCanvas-2").parent().parent().width()/
-60,$("#WebGLSplitCanvas-2").parent().parent().width()/60,$("#WebGLSplitCanvas-2").parent().parent().height()/10,$("#WebGLSplitCanvas-2").parent().parent().height()/-40,-30,30);camera3DQuad[2].lookAt(new THREE.Vector3(1,0,0));camera3DQuad[2].position.set(0,0,0);camera3DQuad[3]=new THREE.PerspectiveCamera(70,$("#WebGLSplitCanvas-3").parent().width()/$("#WebGLSplitCanvas-3").parent().height(),1,50);camera3DQuad[3].position.set(0,14,8);camera3DQuad[3].lookAt(new THREE.Vector3(0,0,0));camera3DQuadGrid=
new THREE.GridHelper(15,1,new THREE.Color(102),new THREE.Color(7196662));engine3D.initRendererQuadSize()};engine3D.initRendererQuadSize=function(){if(camera3DQuad[0]instanceof THREE.OrthographicCamera)for(i=0;4>i;i++){var c=$("#WebGLSplitCanvas-"+i).parent().parent().width(),b=$("#WebGLSplitCanvas-"+i).parent().parent().height();camera3DQuad[i].aspect=c/b;camera3DQuad[i].updateProjectionMatrix();rendererQuad[i].setSize(c,b)}};
engine3D.initPostprocessing=function(){console.log("init EffectComposer");effectComposer=new THREE.EffectComposer(renderer);effectComposer.setSize(window.innerWidth*dpr,window.innerHeight*dpr);var c=new THREE.RenderPass(scene3D,camera3D);effectComposer.addPass(c);if(SSAOProcessing.enabled){console.log("init SSAOShader");var c=THREE.ShaderLib.depthRGBA,b=THREE.UniformsUtils.clone(c.uniforms);depthMaterial=new THREE.ShaderMaterial({fragmentShader:c.fragmentShader,vertexShader:c.vertexShader,uniforms:b,
blending:THREE.NoBlending});depthRenderTarget=new THREE.WebGLRenderTarget(window.innerWidth,window.innerHeight,{minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter});SSAOPass=new THREE.ShaderPass(THREE.SSAOShader);SSAOPass.renderToScreen=!0;SSAOPass.uniforms.tDepth.value=depthRenderTarget;SSAOPass.uniforms.size.value.set(1/(window.innerWidth*dpr),1/(window.innerHeight*dpr));SSAOPass.uniforms.cameraNear.value=camera3D.near;SSAOPass.uniforms.cameraFar.value=camera3D.far;SSAOPass.uniforms.onlyAO.value=
1==SSAOProcessing.renderMode;SSAOPass.uniforms.aoClamp.value=.3;SSAOPass.uniforms.lumInfluence.value=.5;effectComposer.addPass(SSAOPass)}FXAAProcessing.enabled&&(console.log("init FXAAShader"),FXAAPass=new THREE.ShaderPass(THREE.FXAAShader),FXAAPass.uniforms.resolution.value.set(1/(window.innerWidth*dpr),1/(window.innerHeight*dpr)),FXAAPass.renderToScreen=!0,effectComposer.addPass(FXAAPass))};
engine3D.initLights=function(){sceneDirectionalLight=new THREE.DirectionalLight;sceneDirectionalLight.color.setHSL(.1,1,.95);sceneDirectionalLight.position.set(1,1.8,.8).normalize();sceneDirectionalLight.target.position.set(0,0,0);sceneDirectionalLight.position.multiplyScalar(50);sceneDirectionalLight.castShadow=!0;sceneDirectionalLight.shadow.mapSize.width=2048;sceneDirectionalLight.shadow.mapSize.height=2048;sceneDirectionalLight.shadow.camera.left=-15;sceneDirectionalLight.shadow.camera.left=15;
sceneDirectionalLight.shadow.camera.top=15;sceneDirectionalLight.shadow.camera.bottom=-15;sceneDirectionalLight.shadow.camera.far=2E3;sceneDirectionalLight.shadow.bias=-1E-4;sceneSpotLight=new THREE.SpotLight;sceneSpotLight.shadow.camera.near=1;sceneSpotLight.shadow.camera.far=38;sceneSpotLight.castShadow=!0;sceneSpotLight.intensity=.8;sceneSpotLight.position.set(-4,35,4)};engine3D.initPhysics=function(){};
engine3D.initCube=function(c){c*=.5;geometry=new THREE.Geometry;geometry.vertices.push(new THREE.Vector3(-c,-c,-c),new THREE.Vector3(-c,c,-c),new THREE.Vector3(-c,c,-c),new THREE.Vector3(c,c,-c),new THREE.Vector3(c,c,-c),new THREE.Vector3(c,-c,-c),new THREE.Vector3(c,-c,-c),new THREE.Vector3(-c,-c,-c),new THREE.Vector3(-c,-c,c),new THREE.Vector3(-c,c,c),new THREE.Vector3(-c,c,c),new THREE.Vector3(c,c,c),new THREE.Vector3(c,c,c),new THREE.Vector3(c,-c,c),new THREE.Vector3(c,-c,c),new THREE.Vector3(-c,
-c,c),new THREE.Vector3(-c,-c,-c),new THREE.Vector3(-c,-c,c),new THREE.Vector3(-c,c,-c),new THREE.Vector3(-c,c,c),new THREE.Vector3(c,c,-c),new THREE.Vector3(c,c,c),new THREE.Vector3(c,-c,-c),new THREE.Vector3(c,-c,c));return geometry};
engine3D["new"]=function(){animateStop();scene3D=new THREE.Scene;scene3DRoofContainer=new THREE.Object3D;scene3DHouseContainer=new THREE.Object3D;scene3DHouseGroundContainer=new THREE.Object3D;scene3DHouseFXContainer=new THREE.Object3D;scene3DLevelGroundContainer=new THREE.Object3D;scene3DLevelWallContainer=new THREE.Object3D;skyMesh=new THREE.Object3D;skyFloorMesh=new THREE.Object3D;engine3D.fontLoader=new THREE.FontLoader;for(var c=0;2>=c;c++)scene3DFloorFurnitureContainer[c]=new THREE.Object3D,
scene3DFloorMeasurementsContainer[c]=new THREE.Object3D,scene3DFloorWallContainer[c]=new THREE.Object3D,scene3DFloorShapeContainer[c]=new THREE.Object3D,scene3DCeilingShapeContainer[c]=new THREE.Object3D,scene3DFloorShapeTextures[c]=[],scene3DCeilingShapeTextures[c]=[],scene3DWallInteriorTextures[c]=[],scene3DWallExteriorTextures[c]=[];engine3D.enableOrbitControls(camera3D,renderer.domElement);engine3D.initPostprocessing()};
engine3D.open=function(c){var b=0;c.file("scene3DFloorContainer.json").async("string").then(function(c){$.each(JSON.parse(c),function(c){$.each(this,function(c){c=null;void 0!==this.note&&(c=this.note);void 0!==this.file&&engine3D.open3DModel(this.file,scene3DFloorFurnitureContainer[b],this["position.x"],this["position.y"],this["position.z"],this["rotation.x"],this["rotation.y"],1,!0,c);void 0!==this.floor&&scene3DFloorShapeTextures[b].push(this.floor);void 0!==this.ceiling&&scene3DCeilingShapeTextures[b].push(this.ceiling)});
b++})});c.file("scene3DTerrain.json").async("string").then(function(c){$.each(JSON.parse(c),function(c){engine3D.open3DModel(this.file,scene3DHouseGroundContainer,this["position.x"],this["position.y"],this["position.z"],this["rotation.x"],this["rotation.y"],1,!0,null)})});c.file("scene3DHouseContainer.json").async("string").then(function(c){$.each(JSON.parse(c),function(c){engine3D.open3DModel(this.file,scene3DHouseContainer,this["position.x"],this["position.y"],this["position.z"],this["rotation.x"],
this["rotation.y"],1,!0,null)})});c.file("scene3DRoofContainer.json").async("string").then(function(c){$.each(JSON.parse(c),function(c){engine3D.open3DModel(this.file,scene3DRoofContainer,this["position.x"],this["position.y"],this["position.z"],this["rotation.x"],this["rotation.y"],1,!0,null)})})};engine3D=window.engine3D||{};
engine3D.initPanorama=function(c,b,e,f){scene3DPanorama=new THREE.Scene;camera3DPanorama=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,1,1E3);rendererPanorama=new THREE.WebGLRenderer({devicePixelRatio:window.devicePixelRatio||1,antialias:!1});rendererPanorama.setSize(window.innerWidth*e,window.innerHeight*f);document.getElementById(c).appendChild(rendererPanorama.domElement);document.addEventListener("mousedown",onPanoramaMouseDown,!1);document.addEventListener("mousewheel",onPanoramaMouseWheel,
!1);document.addEventListener("touchstart",onPanoramaTouchStart,!1);document.addEventListener("touchmove",onPanoramaTouchMove,!1);document.getElementById(c).appendChild(spinner);engine3D.buildPanorama(scene3DPanorama,b,1024,1024,1024,"_",null);document.getElementById(c).removeChild(spinner);$("#"+c).show();animatePanorama()};
engine3D.buildPanorama=function(c,b,e,f,k,m,n){if(!(0<c.children.length)){var t=["panoramas/"+b+"/"+m+"right.jpg","panoramas/"+b+"/"+m+"left.jpg","panoramas/"+b+"/"+m+"top.jpg","panoramas/"+b+"/"+m+"bottom.jpg","panoramas/"+b+"/"+m+"front.jpg","panoramas/"+b+"/"+m+"back.jpg"],t=[new THREE.MeshBasicMaterial({map:textureLoader.load("panoramas/"+b+"/_right.jpg"),side:THREE.BackSide}),new THREE.MeshBasicMaterial({map:textureLoader.load("panoramas/"+b+"/_left.jpg"),side:THREE.BackSide}),new THREE.MeshBasicMaterial({map:textureLoader.load("panoramas/"+
b+"/_top.jpg"),side:THREE.BackSide}),new THREE.MeshBasicMaterial({map:textureLoader.load("panoramas/"+b+"/_bottom.jpg"),side:THREE.BackSide}),new THREE.MeshBasicMaterial({map:textureLoader.load("panoramas/"+b+"/_front.jpg"),side:THREE.BackSide}),new THREE.MeshBasicMaterial({map:textureLoader.load("panoramas/"+b+"/_back.jpg"),side:THREE.BackSide})];e=new THREE.BoxGeometry(e,f,k);n=new THREE.Mesh(e,new THREE.MultiMaterial(t));c.add(n);textureLoader.load("panoramas/"+b+"/right.jpg",function(c){t[0].map=
c});textureLoader.load("panoramas/"+b+"/left.jpg",function(c){t[1].map=c});textureLoader.load("panoramas/"+b+"/top.jpg",function(c){t[2].map=c});textureLoader.load("panoramas/"+b+"/bottom.jpg",function(c){t[3].map=c});textureLoader.load("panoramas/"+b+"/front.jpg",function(c){t[4].map=c});textureLoader.load("panoramas/"+b+"/back.jpg",function(c){t[5].map=c})}};
function onPanoramaMouseDown(c){c.preventDefault();document.addEventListener("mousemove",onPanoramaMouseMove,!1);document.addEventListener("mouseup",onPanoramaMouseUp,!1)}function onPanoramaMouseMove(c){var b=c.movementY||c.mozMovementY||0;mouse.x-=.1*(c.movementX||c.mozMovementX||0);mouse.y+=.1*b}function onPanoramaMouseUp(c){document.removeEventListener("mousemove",onPanoramaMouseMove);document.removeEventListener("mouseup",onPanoramaMouseUp)}
function onPanoramaMouseWheel(c){c.wheelDeltaY?camera3DPanorama.fov-=.05*c.wheelDeltaY:c.wheelDelta?camera3DPanorama.fov-=.05*c.wheelDelta:c.detail&&(camera3DPanorama.fov+=1*c.detail);camera3DPanorama.updateProjectionMatrix()}function onPanoramaTouchStart(c){c.preventDefault();c=c.touches[0];touch.x=c.screenX;touch.y=c.screenY}function onPanoramaTouchMove(c){c.preventDefault();c=c.touches[0];mouse.x-=.1*(c.screenX-touch.x);mouse.y+=.1*(c.screenY-touch.y);touch.x=c.screenX;touch.y=c.screenY}
function disposePanorama(c){rendererPanorama instanceof THREE.WebGLRenderer&&(document.removeEventListener("mousedown",onPanoramaMouseDown,!1),document.removeEventListener("mousewheel",onPanoramaMouseWheel,!1),document.removeEventListener("touchstart",onPanoramaTouchStart,!1),document.removeEventListener("touchmove",onPanoramaTouchMove,!1),document.getElementById(c).removeChild(rendererPanorama.domElement));$("#"+c).hide();scene3DPanorama=camera3DPanorama=rendererPanorama=null};var engine3D=window.engine3D||{},plots_x=20,plots_y=20,plot_vertices=2,map_left=plots_x/-2,map_top=plots_y/-2,terrain3DMouse={x:0,y:0,vertex:{x:null,y:null}},verticeIndex=function(c){return c.x+c.y*(plots_x*plot_vertices+1)},findLattices=function(){return function(c,b){var e=[],f,k,m;f=[0];k=0;m=[];for(var n,t,h;k<=c;){for(yieldable=[];;){n=[];for(t=0;t<k+1;t++)h=f[t],Math.pow(t,2)+Math.pow(h,2)<=Math.pow(k,2)&&(n.push({x:t,y:h}),f[t]+=1);if(0===n.length)break;m=m.concat(n)}k+=1;f.push(0)}for(f=0;f<
m.length;f++)k=m[f],e.push(k),0!==k.x&&e.push({x:-k.x,y:k.y}),0!==k.y&&e.push({x:k.x,y:-k.y}),k.x&&k.y&&e.push({x:-k.x,y:-k.y});for(f=0;f<e.length;f++)e[f].x+=b.x,e[f].y+=b.y;return e}}(),landscape=new function(){var c=null;this.select=function(b){c=b};this.onmousemove=function(){if(!controls3D.enabled){var b=findLattices(3*plot_vertices,terrain3DMouse.vertex);this.tools[c](3*plot_vertices,b);for(var e,f=0;f<b.length;f++)e=verticeIndex(b[f]),6<terrain3D.displacement.array[e]&&(terrain3D.displacement.array[e]=
6),-5>terrain3D.displacement.array[e]&&(terrain3D.displacement.array[e]=-5),terrain3D.water.displacement.array[e]=terrain3D.displacement.array[e];terrain3D.water.displacement.needsUpdate=!0}};this.tools={hill:function(c,e){var b,k,m;for(b=0;b<e.length;b++)k=e[b],0>k.x||0>k.y||k.x>=plots_x*plot_vertices+1||k.y>=plots_y*plot_vertices+1||(m=verticeIndex(k),k=Math.sqrt(Math.pow(terrain3DMouse.vertex.x-k.x,2)+Math.pow(terrain3DMouse.vertex.y-k.y,2)),terrain3D.displacement.array[m]+=.03*Math.pow(c-k,.5),
terrain3D.displacement.needsUpdate=!0)},valley:function(c,e){var b,k,m;for(b=0;b<e.length;b++)k=e[b],0>k.x||0>k.y||k.x>=plots_x*plot_vertices+1||k.y>=plots_y*plot_vertices+1||(m=verticeIndex(k),k=Math.sqrt(Math.pow(terrain3DMouse.vertex.x-k.x,2)+Math.pow(terrain3DMouse.vertex.y-k.y,2)),terrain3D.displacement.array[m]-=.03*Math.pow(c-k,.5),terrain3D.displacement.needsUpdate=!0)}}};function Degrees2Radians(c){return Math.PI/180*c}
function scene3DLandscapeGetHeightData(c,b){void 0===b&&(b=1);var e=document.createElement("canvas");e.width=c.width;e.height=c.height;var f=e.getContext("2d"),k=c.width*c.height,e=new Float32Array(k);f.drawImage(c,0,0);for(var m=0;m<k;m++)e[m]=0;f=f.getImageData(0,0,c.width,c.height).data;for(m=k=0;m<f.length;m+=4){var n=f[m]+f[m+1]+f[m+2];e[k++]=n/(12*b)}return e}
engine3D.initTerrainGround=function(){$.ajax({url:"shaders/ground.vertex.fx",beforeSend:function(c){c.overrideMimeType("text/plain; charset=x-shader/x-vertex")},success:function(c){$.ajax({url:"shaders/ground.fragment.fx",beforeSend:function(c){c.overrideMimeType("text/plain; charset=x-shader/x-fragment")},success:function(b){terrain3DMaterial=new THREE.ShaderMaterial({uniforms:{texture_grass:{type:"t",value:textureLoader.load("objects/Landscape/Textures/G36096.jpg")},texture_bare:{type:"t",value:textureLoader.load("objects/Landscape/Textures/F46734.jpg")},
texture_snow:{type:"t",value:textureLoader.load("objects/Landscape/Textures/F46734.jpg")},show_ring:{type:"i",value:!0},ring_width:{type:"f",value:.15},ring_color:{type:"v4",value:new THREE.Vector4(1,0,0,1)},ring_center:{type:"v3",value:new THREE.Vector3},ring_radius:{type:"f",value:1.6}},vertexShader:c,fragmentShader:b});var e=new THREE.PlaneBufferGeometry(plots_x,plots_y,plots_x*plot_vertices,plots_y*plot_vertices);b=new THREE.Float32Attribute(1*e.attributes.position.count,1);e.addAttribute("displacement",
b);terrain3D=new THREE.Mesh(e,terrain3DMaterial);terrain3D.displacement=e.attributes.displacement;terrain3D.displacement.dynamic=!0;terrain3D.rotation.x=-Math.PI/2;$.ajax({url:"shaders/water.vertex.fx",beforeSend:function(c){c.overrideMimeType("text/plain; charset=x-shader/x-vertex")},success:function(c){$.ajax({url:"shaders/water.fragment.fx",beforeSend:function(c){c.overrideMimeType("text/plain; charset=x-shader/x-fragment")},success:function(b){terrain3D.water=new THREE.Mesh(e,new THREE.ShaderMaterial({uniforms:{water_level:{type:"f",
value:-1},time:{type:"f",value:0}},vertexShader:c,fragmentShader:b,transparent:!0}));terrain3D.water.displacement=e.attributes.displacement;terrain3D.water.displacement.dynamic=!0;terrain3D.water.position.z=-1;terrain3D.add(terrain3D.water)}})}})}})}})};
engine3D.initTerrainClouds=function(){weatherSkyCloudsMesh=new THREE.Mesh;weatherSkyRainbowMesh=new THREE.Mesh;$.ajax({url:"shaders/clouds.vertex.fx",beforeSend:function(c){c.overrideMimeType("text/plain; charset=x-shader/x-vertex")},success:function(c){$.ajax({url:"shaders/clouds.fragment.fx",beforeSend:function(c){c.overrideMimeType("text/plain; charset=x-shader/x-fragment")},success:function(b){var e=new THREE.Fog(4555956,-100,1E3);weatherSkyMaterial=new THREE.ShaderMaterial({uniforms:{map:{type:"t"},
fogColor:{type:"c",value:e.color},fogNear:{type:"f",value:e.near},fogFar:{type:"f",value:e.far}},vertexShader:c,fragmentShader:b,depthWrite:!1,depthTest:!1,transparent:!0});weatherSkyGeometry=new THREE.Geometry;b=new THREE.Mesh(new THREE.PlaneGeometry(4,4));for(e=0;20>e;e++)b.position.x=getRandomInt(-20,20),b.position.y=getRandomInt(5.5,10),b.position.z=e,b.rotation.z=getRandomInt(5,10),b.scale.x=b.scale.y=getRandomInt(.5,1),b.updateMatrix(),weatherSkyGeometry.merge(b.geometry,b.matrix);engine3D.setWeather();
engine3D.initSunlight()}})}})};function getRandomInt(c,b){return Math.floor(Math.random()*(b-c+1))+c}engine3D.initTerrainWater=function(){};engine3D=window.engine3D||{};
engine3D.makeWalls=function(){for(var c=0;c<scene2DWallGroup.length;c++)if(void 0!==scene2DWallGroup[c].children[0]){scene3DFloorWallContainer[c]=new THREE.Object3D;console.log("3D Wall Generate ["+c+"] "+scene2DWallGroup[c].children.length);for(var b=0;b<scene2DWallGroup[FLOOR].children.length;b++){var e=scene2DWallGroup[FLOOR].children[b].children[0].children[0];console.log(e);var f=e.segments[0].point.x/100*2-1,k=2*-(e.segments[0].point.y/100)+1,m=(e.segments[0].point.x+e.segments[1].point.x)/
2/100*2-1,n=-((e.segments[0].point.y+e.segments[1].point.y)/2)/100*2+1,t=e.segments[1].point.x/100*2-1,e=2*-(e.segments[1].point.y/100)+1,f=Math.round(f-13),k=Math.round(k+7),m=Math.round(m-13),n=Math.round(n+7),t=Math.round(t-13),e=Math.round(e+7);console.log("x1:"+f+" y1:"+k+" x2:"+t+" y2:"+e+" cx:"+m+" cy:"+n);var h=new THREE.Shape;h.moveTo(f,k);h.quadraticCurveTo(m,n,t,e);h.moveTo(t,e);h.quadraticCurveTo(m,n,f,k);f=new THREE.ExtrudeGeometry(h,{amount:4,bevelEnabled:!1});f.computeBoundingBox();
k=new THREE.MeshLambertMaterial({map:scene3DWallInteriorTextureDefault,transparent:!0,opacity:.6});f=new THREE.Mesh(f,k);f.rotation.x=-(90*RADIAN);f.position.y=0;scene3DFloorWallContainer[FLOOR].add(f)}}};engine3D=window.engine3D||{};
engine3D.initSunlight=function(){if(settings.sunlight){new THREE.Vector3(0,10,-10);new THREE.MeshDepthMaterial;new THREE.Vector3;sunlight.scene=new THREE.Scene;sunlight.camera=new THREE.OrthographicCamera(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,-1E4,1E4);sunlight.camera.position.z=50;sunlight.scene.add(sunlight.camera);var c={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat};sunlight.rtTextureColors=new THREE.WebGLRenderTarget(window.innerWidth,
window.innerHeight,c);sunlight.rtTextureDepth=new THREE.WebGLRenderTarget(window.innerWidth,window.innerHeight,c);var b=window.innerWidth/4,e=window.innerHeight/4;sunlight.rtTextureGodRays1=new THREE.WebGLRenderTarget(b,e,c);sunlight.rtTextureGodRays2=new THREE.WebGLRenderTarget(b,e,c);c=THREE.ShaderGodRays.godrays_generate;sunlight.godrayGenUniforms=THREE.UniformsUtils.clone(c.uniforms);sunlight.materialGodraysGenerate=new THREE.ShaderMaterial({uniforms:sunlight.godrayGenUniforms,vertexShader:c.vertexShader,
fragmentShader:c.fragmentShader});c=THREE.ShaderGodRays.godrays_combine;sunlight.godrayCombineUniforms=THREE.UniformsUtils.clone(c.uniforms);sunlight.materialGodraysCombine=new THREE.ShaderMaterial({uniforms:sunlight.godrayCombineUniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader});c=THREE.ShaderGodRays.godrays_fake_sun;sunlight.godraysFakeSunUniforms=THREE.UniformsUtils.clone(c.uniforms);sunlight.materialGodraysFakeSun=new THREE.ShaderMaterial({uniforms:sunlight.godraysFakeSunUniforms,
vertexShader:c.vertexShader,fragmentShader:c.fragmentShader});sunlight.godraysFakeSunUniforms.bgColor.value.setHex(1297);sunlight.godraysFakeSunUniforms.sunColor.value.setHex(16772608);sunlight.godrayCombineUniforms.fGodRayIntensity.value=.4;sunlight.quad=new THREE.Mesh(new THREE.PlaneBufferGeometry(window.innerWidth,window.innerHeight),sunlight.materialGodraysGenerate);sunlight.quad.position.z=-9900;sunlight.scene.add(sunlight.quad)}};
engine3D.setWeather=function(){scene3D.remove(weatherSkyCloudsMesh);scene3D.remove(weatherSkyRainbowMesh);if("day"==DAY){if(settings.clouds&&(texture=textureLoader.load("images/cloud.png"),weatherSkyMaterial.uniforms.map.value=texture,weatherSkyCloudsMesh=new THREE.Mesh(weatherSkyGeometry,weatherSkyMaterial),scene3D.add(weatherSkyCloudsMesh)),settings.rainbow){texture=textureLoader.load("images/rainbow.png");var c=weatherSkyMaterial.clone();c.uniforms=THREE.UniformsUtils.clone(weatherSkyMaterial.uniforms);
c.uniforms.map.value=texture;geometry=new THREE.Geometry;var b=new THREE.Mesh(new THREE.PlaneGeometry(18,18));b.position.x=getRandomInt(1,15);b.position.y=getRandomInt(5,8);b.position.z=-2;b.updateMatrix();geometry.merge(b.geometry,b.matrix);weatherSkyRainbowMesh=new THREE.Mesh(geometry,c);scene3D.add(weatherSkyRainbowMesh)}}else"night"==DAY&&settings.clouds&&(texture=textureLoader.load("images/cloud2.png"),texture.magFilter=THREE.LinearFilter,texture.minFilter=THREE.LinearFilter,weatherSkyMaterial.uniforms.map.value=
texture,weatherSkyCloudsMesh=new THREE.Mesh(weatherSkyGeometry,weatherSkyMaterial),scene3D.add(weatherSkyCloudsMesh))};engine3D.setSky=function(c){if(skyMesh.name!=c){var b="0000";"day"==c?b=settings.panorama_day:"night"==c&&(b=settings.panorama_night);skyMesh=new THREE.Object3D;engine3D.buildPanorama(skyMesh,b,75,75,75,"",null);skyMesh.position.y=5;skyMesh.name=c}};engine3D.setSkyEffects=function(){};var engineGUI=window.engineGUI||{};engineGUI.initMenu=function(c,b){b="database"==RUNMODE?"php/objects.php?menu="+b.split("/").shift():"objects/"+b;$.ajax(b,{dataType:"json",success:function(b){var e=$("#"+c+" .scroll");e.empty();$.each(b.menu,function(){e.append(engineGUI.menuGetItem(this))});$("#"+c+" .cssmenu > ul > li > a").click(function(c){engineGUI.menuItemClick(this)})},error:function(c,f,k){alertify.alert("Menu ("+b+") Loading Error")}});engineGUI.menuCorrectHeight();$("#"+c).show()};
engineGUI.menuSelect=function(c,b,e){if(null===c)for(c=0;6>=c;c++)$("#"+b+c).css("color","black");else engineGUI.menuSelect(null,b,e),$("#"+b+c).css("color",e)};
engineGUI.showRightObjectMenu=function(c){c="database"==RUNMODE?"php/objects.php?objects="+c:"objects/"+c+"/index.json";var b=$("#menuRightObjects .scroll");$("#menuRight3DHouse").hide();$("#menuRight3DFloor").hide();$("#menuRight3DRoof").hide();$("#menuRight2D").hide();$("#menuRightObjects").show();$.ajax(c,{dataType:"json",success:function(c){b.empty();try{$.each(c.menu,function(){0<Object.keys(c.menu).length?getMenuObjectItem(b,this):b.append("<li><span style='margin-let:auto;text-align:center;padding:20px'>No Objects In This Category</span></li>")})}catch(f){b.append("<li><span style='margin-let:auto;text-align:center;padding:20px'>No Objects In This Category</span></li>")}}})};
engineGUI.showRightCatalogMenu=function(){"house"==SCENE?$("#menuRight3DHouse").show():"floor"==SCENE&&$("#menuRight3DFloor").show();$("#menuRightObjects").hide();$("#menuRightObjects .scroll").empty()};engineGUI.toggleSideMenus=function(c){engineGUI.menuToggleRight("menuRight",c);"house"==SCENE?engineGUI.menuToggleLeft("menuLeft3DHouse",c):"floor"==SCENE&&engineGUI.menuToggleLeft("menuLeft3DFloor",c)};
engineGUI.menuToggleRight=function(c,b){var e=document.getElementById(c),f=document.getElementById("arrow-right");e.getAttribute("class");0<=f.src.indexOf("images/arrowleft.png")||b?(e.style.display="block",e.setAttribute("class","show-right"),engineGUI.menuDelay(f,"images/arrowright.png",400)):b||(e.setAttribute("class","hide-right"),engineGUI.menuDelay(f,"images/arrowleft.png",400))};
engineGUI.menuToggleLeft=function(c,b){var e=document.getElementById(c),f=document.getElementById("arrow-left");e.getAttribute("class");0<=f.src.indexOf("images/arrowright.png")||b?(e.style.display="block",e.setAttribute("class",c+"-show-left"),engineGUI.menuDelay(f,"images/arrowleft.png",400)):b||(e.setAttribute("class","hide-left"),engineGUI.menuDelay(f,"images/arrowright.png",400))};engineGUI.menuDelay=function(c,b,e){window.setTimeout(function(){c.setAttribute("src",b)},e)};
engineGUI.menuItemClick=function(c){$(".cssmenu > ul > li").removeClass("active");$(c).closest("li").addClass("active");var b=$(c).next();b.is("ul")&&b.is(":visible")&&($(c).closest("li").removeClass("active"),b.slideUp("normal"));b.is("ul")&&!b.is(":visible")&&($(".cssmenu ul ul:visible").slideUp("normal"),b.slideDown("normal"));return 0==$(c).closest("li").find("ul").children().length?!0:!1};
engineGUI.menuGetItem=function(c,b){var e="<li";c.sub?e+=" class='has-sub'":b&&(e+=" class='last-child'");var f="<a",f=null!=c.link?f+(" href=\"javascript:engineGUI.showRightObjectMenu('"+c.link+"');\""):f+' href="#"',f=f+(">"+c.name+"</a>"),e=$(e+">").append(f);if(c.sub){var k=$("<ul>");$.each(c.sub,function(b){b==c.sub.length-1?k.append(engineGUI.menuGetItem(this,!0)):k.append(engineGUI.menuGetItem(this,!1))});e.append(k)}return e};
function getMenuObjectItem(c,b){var e=$("<img>",{id:b.name,src:"images/loader.gif",href:"#","data-src":b.image,"data-src-retina":b.image.slice(0,-4)+"@2x."+b.image.split(".").pop(),style:"opacity: 0;transition: opacity .3s ease-in;height:100%"}),f=$("<a>",{href:"javascript:insertSceneObject('"+b.file+"')"}).append(e),f=$("<li style='border:1px solid #aaa;text-align:center'>").append($("<div style='background-color:#fff;height:120px'>").append(f).append("<span class='objectItemInfo' style='height:40px'>"));
c.append(f);$(e).unveil(200,function(){$(this).load(function(){this.style.opacity=1})})}
engineGUI.menuCorrectHeight=function(){var c=window.innerHeight-250,b;if("house"==SCENE)$("#menuRight3DHouse .cssmenu").height(),b=$("#menuRight2D .cssmenu");else if("floor"==SCENE)$("#menuRight3DFloor .cssmenu").height(),b=$("#menuRight2D .cssmenu");else if("roof"==SCENE)$("#menuRight3DRoof .cssmenu").height(),b=$("#menuRight2D .cssmenu");else if("2d"==SCENE)$("#menuRight2D .cssmenu").height(),b=$("#menuRight2D .cssmenu");else return;$("#menuRightObjects .scroll").css("height",c);b.height()<c?b.css("height",
"100%"):b.css("height",c)};function selectMeasurement(){REALSIZERATIO=1.8311874==REALSIZERATIO?1:1.8311874}engineGUI.sceneMapBox=function(){};engineGUI.makeScreenshot=function(){getScreenshotData=!0};engineGUI.addNewFloor=function(){if($("#addNewFloor").val()){engine3D.newFloor($("#addNewFloor").val());var c="<a href='#' onclick='camera3DFloorFlyIn("+scene3DFloorFurnitureContainer.length+")'><span>"+$("#addNewFloor").val()+"</span></a>",c=$("<li>").append(c);$("#menuLeft3DHouseFloorList").append(c)}};
engineGUI.generateItemList=function(){$("#generateItemList").empty();for(var c=0;c<scene3DFloorFurnitureContainer.length;c++){console.log(scene3DFloorFurnitureContainer[c].name);for(var b=0;b<scene3DFloorFurnitureContainer[c].children.length;b++)console.log(scene3DFloorFurnitureContainer[c].children[b].children[0].name)}for(c=0;c<scene3DHouseContainer.children.length;c++)console.log(scene3DHouseContainer.children[c].children[0].name)};engineGUI.exportPDF=function(){};var Alertify=function(c,b){var e,f=c.document;e=function(){function c(c){"undefined"!=typeof p&&c.parentNode===p&&p.removeChild(c)}var e,n,t,h,p,g,v,A=!1,z=[],y=!1,w={defaultOkLabel:"Ok",okLabel:this.defaultOkLabel,defaultCancelLabel:"Cancel",cancelLabel:this.defaultCancelLabel,defaultMaxLogItems:2,maxLogItems:this.defaultMaxLogItems,promptValue:"",promptPlaceholder:"",delay:5E3,defaultDelay:5E3,transition:b,addListeners:function(c,b){var e="undefined"!=typeof t,h="undefined"!=typeof n,f=this,k=function(){f.hide();
e&&t.removeEventListener("click",p);h&&n.removeEventListener("click",m)},p=function(b){k(b);"function"==typeof c&&("undefined"==typeof g?c(b):c(g.value,b))},m=function(c){k(c);"function"==typeof b&&b(c)};e&&t.addEventListener("click",p);h&&n.addEventListener("click",m)},build:function(c){var b=(c.cssClass||"","<button class='alertify-button alertify-button-ok' id='alertify-ok'>{{ok}}</button>"),e="<div class='alertify-dialog'><div class='alertify-inner'>"+"<p class='alertify-message'>{{message}}</p>".replace("{{message}}",
c.message);return("confirm"===c.type||"prompt"===c.type)&&(b="<button class='alertify-button alertify-button-cancel' id='alertify-cancel'>{{cancel}}</button><button class='alertify-button alertify-button-ok' id='alertify-ok'>{{ok}}</button>"),"prompt"===c.type&&(e+="<div class='alertify-text-wrapper'><input type='text' class='alertify-text' id='alertify-text'></div>"),e=(e+"<nav class='alertify-buttons'>{{buttons}}</nav></div></div>").replace("{{buttons}}",b).replace("{{ok}}",this.okLabel).replace("{{cancel}}",
this.cancelLabel),h.className="alertify",e},closeLogOnClick:!1,closeLogOnClickDefault:!1,setCloseLogOnClick:function(c){this.closeLogOnClick=!!c},close:function(b,e){var g,h,f=e&&!isNaN(e)?+e:this.delay,k=this;this.closeLogOnClick&&b.addEventListener("click",function(){g(b)});h=function(b){b.stopPropagation();this.removeEventListener(k.transition.type,h);c(this)};g=function(b){var e=1;"undefined"!=typeof b&&b.parentNode===p&&(k.transition.supported&&(b.addEventListener(k.transition.type,h),b.className+=
" alertify-log-hide",e=500),setTimeout(function(){c(b)},e||1))};0!==e&&setTimeout(function(){g(b)},f)},dialog:function(c,b,e,g){this.init();z.push({type:b,message:c,onOkay:e,onCancel:g});A||this.setup()},hide:function(){var c,b=this;z.splice(0,1);0<z.length?this.setup(!0):(A=!1,c=function(e){e.stopPropagation();h.removeEventListener(b.transition.type,c)},this.transition.supported&&h.addEventListener(this.transition.type,c),h.className="alertify alertify-hide alertify-hidden")},init:function(){this.injectCss();
null===f.getElementById("alertify")&&(A=!1,z=[],h=f.createElement("div"),h.setAttribute("id","alertify"),h.className="alertify alertify-hidden",f.body.appendChild(h));null===f.getElementById("alertify-logs")&&(p=f.createElement("div"),p.setAttribute("id","alertify-logs"),p.className="alertify-logs",f.body.appendChild(p));if(!v){var c=f.createElement("fakeelement"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},g;for(g in e)if(e.hasOwnProperty(g)&&
c.style[g]!==b){v=e[g];y=!0;break}}this.transition={type:v,supported:y}},log:function(c,b,e){this.init();p.className="alertify-logs";var g=p.childNodes.length-this.maxLogItems;if(0<=g)for(var h=0,g=g+1;g>h;h++)this.close(p.childNodes[h],1);this.notify(c,b,e)},notify:function(c,b,e){var g=f.createElement("div");g.className="alertify-log alertify-log-"+(b||"default");g.innerHTML=c;"function"==typeof e&&g.addEventListener("click",e);p.appendChild(g);setTimeout(function(){g.className+=" alertify-log-show"},
50);this.close(g,this.delay)},setup:function(c){var e=z[0],k=this,p=function(c){h.removeEventListener(k.transition.type,p)};A=!0;this.transition.supported&&!c&&h.addEventListener(this.transition.type,p);h.innerHTML=this.build(e);t=f.getElementById("alertify-ok")||b;n=f.getElementById("alertify-cancel")||b;g=f.getElementById("alertify-text")||b;f.getElementById("alertify-form");g&&("string"==typeof this.promptPlaceholder&&(g.placeholder=this.promptPlaceholder),"string"==typeof this.promptValue&&(g.value=
this.promptValue));this.addListeners(e.onOkay,e.onCancel)},okBtn:function(c){return this.okLabel=c,this},setDelay:function(c){var b=parseInt(c||0,10);return this.delay=isNaN(b)?this.defultDelay:c,this},cancelBtn:function(c){return this.cancelLabel=c,this},setMaxLogItems:function(c){this.maxLogItems=parseInt(c||this.defaultMaxLogItems)},reset:function(){this.okBtn(this.defaultOkLabel);this.cancelBtn(this.defaultCancelLabel);this.setMaxLogItems();this.promptPlaceholder=this.promptValue="";this.delay=
this.defaultDelay;this.setCloseLogOnClick(this.closeLogOnClickDefault)},injectCss:function(){if(!e){var c=f.getElementsByTagName("head")[0],b=f.createElement("style");b.type="text/css";b.innerHTML=".alertify,.alertify *,.alertify-button{box-sizing:border-box}.alertify{font-family:inherit;position:fixed;background-color:rgba(0,0,0,.6);left:0;right:0;top:0;bottom:0;width:100%;height:100%;z-index:99999}.alertify .alertify-alert,.alertify .alertify-dialog{width:100%;margin:0 auto;position:relative;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}.alertify .alertify-alert .alertify-inner,.alertify .alertify-dialog .alertify-inner{width:400px;max-width:95%;margin:0 auto;padding:12px;background:#fff;box-shadow:0 2px 4px -1px rgba(0,0,0,.14),0 4px 5px 0 rgba(0,0,0,.098),0 1px 10px 0 rgba(0,0,0,.084)}.alertify .alertify-buttons{text-align:right}.alertify,.alertify-hide,.alertify-log,.alertify-show{box-sizing:border-box;-webkit-transition:all .3s cubic-bezier(.25,.8,.25,1);transition:all .3s cubic-bezier(.25,.8,.25,1)}.alertify-dialog{padding:12px}.alertify-hidden{opacity:0;display:none}.alertify-logs{position:fixed;z-index:5000;bottom:0;right:0}.alertify-log{display:block;margin-top:10px;position:relative;right:-100%;opacity:0}.alertify-log-show{right:0;opacity:1}.alertify-log-hide{-webkit-transform:translate(100%,0);-ms-transform:translate(100%,0);transform:translate(100%,0);opacity:0}.alertify-inner{text-align:center}.alertify-text{margin-bottom:15px;width:100%;font-size:100%;border:1px solid #CCC;padding:12px}.alertify .alertify-message{padding:12px;margin:0;text-align:left}.alertify-button{background:0 0;color:rgba(0,0,0,.87);position:relative;outline:0;border:0;display:inline-block;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;padding:0 6px;margin:6px 8px;line-height:36px;min-height:36px;white-space:nowrap;min-width:88px;text-align:center;text-transform:uppercase;font-weight:500;font-size:14px;text-decoration:none;cursor:pointer;border-radius:2px}.alertify-button:active,.alertify-button:hover{background-color:rgba(0,0,0,.05)}.alertify-log{float:right;clear:right;background:rgba(0,0,0,.8);padding:12px 24px;color:#fff;box-shadow:0 2px 5px 0 rgba(0,0,0,.26)}.alertify-log.alertify-log-error{background:rgba(244,67,54,.8)}.alertify-log.alertify-log-success{background:rgba(76,175,80,.9)}";
c.insertBefore(b,c.firstChild);e=!0}}};return{reset:function(){return w.reset(),this},alert:function(c,b,e){return w.dialog(c,"alert",b,e),this},confirm:function(c,b,e){return w.dialog(c,"confirm",b,e),this},prompt:function(c,b,e){return w.dialog(c,"prompt",b,e),this},log:function(c,b){return w.log(c,"default",b),this},success:function(c,b){return w.log(c,"success",b),this},error:function(c,b){return w.log(c,"error",b),this},cancelBtn:function(c){return w.cancelBtn(c),this},okBtn:function(c){return w.okBtn(c),
this},delay:function(c){return w.setDelay(c),this},placeholder:function(c){return w.promptPlaceholder=c,this},defaultValue:function(c){return w.promptValue=c,this},maxLogItems:function(c){return w.setMaxLogItems(c),this},closeLogOnClick:function(c){return w.setCloseLogOnClick(!!c),this}}};"undefined"!=typeof module&&module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define(function(){return new e}):c.alertify=new e}("undefined"!=typeof window?window:{});$(function(){var c=!0,b=document.getElementById("picker"),e=b.getContext("2d"),f=new Image;f.onload=function(){e.drawImage(f,0,0,f.width,f.height)};var k="images/colorwheel1.png";switch($(b).attr("var")){case "2":k="images/colorwheel2.png";break;case "3":k="images/colorwheel3.png";break;case "4":k="images/colorwheel4.png";break;case "5":k="images/colorwheel5.png"}f.src=k;$("#picker").mousemove(function(f){if(c){var k=$(b).offset();f=e.getImageData(Math.floor(f.pageX-k.left),Math.floor(f.pageY-k.top),
1,1).data;k="rgb("+f[0]+", "+f[1]+", "+f[2]+")";$(".preview").css("backgroundColor",k);$("#rVal").val(f[0]);$("#gVal").val(f[1]);$("#bVal").val(f[2]);$("#rgbVal").val(f[0]+","+f[1]+","+f[2]);f=f[2]+256*f[1]+65536*f[0];$("#hexVal").val("#"+("0000"+f.toString(16)).substr(-6))}});$("#picker").click(function(b){c=!c});$(".preview").click(function(b){$(".colorpicker").fadeToggle("slow","linear");c=!0})});var saveAs=saveAs||function(c){if(!("undefined"===typeof c||"undefined"!==typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var b=c.document.createElementNS("http://www.w3.org/1999/xhtml","a"),e="download"in b,f=/constructor/i.test(c.HTMLElement)||c.safari,k=/CriOS\/[\d]+/.test(navigator.userAgent),m=function(b){(c.setImmediate||c.setTimeout)(function(){throw b;},0)},n=function(b){setTimeout(function(){"string"===typeof b?(c.URL||c.webkitURL||c).revokeObjectURL(b):b.remove()},4E4)},t=function(c){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?
new Blob([String.fromCharCode(65279),c],{type:c.type}):c},h=function(g,h,p){p||(g=t(g));var v=this,A="application/octet-stream"===g.type,w,G=function(){for(var c=["writestart","progress","write","writeend"],c=[].concat(c),b=c.length;b--;){var e=v["on"+c[b]];if("function"===typeof e)try{e.call(v,v)}catch(K){m(K)}}};v.readyState=v.INIT;e?(w=(c.URL||c.webkitURL||c).createObjectURL(g),setTimeout(function(){b.href=w;b.download=h;var c=new MouseEvent("click");b.dispatchEvent(c);G();n(w);v.readyState=v.DONE})):
function(){if((k||A&&f)&&c.FileReader){var b=new FileReader;b.onloadend=function(){var e=k?b.result:b.result.replace(/^data:[^;]*;/,"data:attachment/file;");c.open(e,"_blank")||(c.location.href=e);v.readyState=v.DONE;G()};b.readAsDataURL(g);v.readyState=v.INIT}else w||(w=(c.URL||c.webkitURL||c).createObjectURL(g)),A?c.location.href=w:c.open(w,"_blank")||(c.location.href=w),v.readyState=v.DONE,G(),n(w)}()},p=h.prototype;if("undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob)return function(c,
b,e){b=b||c.name||"download";e||(c=t(c));return navigator.msSaveOrOpenBlob(c,b)};p.abort=function(){};p.readyState=p.INIT=0;p.WRITING=1;p.DONE=2;p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null;return function(c,b,e){return new h(c,b||c.name||"download",e)}}}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||this.content);
"undefined"!==typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!==typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return saveAs});(function(c){c.easing.jswing=c.easing.swing;c.extend(c.easing,{def:"easeOutQuad",swing:function(b,e,f,k,m){return c.easing[c.easing.def](b,e,f,k,m)},easeInQuad:function(c,e,f,k,m){return k*(e/=m)*e+f},easeOutQuad:function(c,e,f,k,m){return-k*(e/=m)*(e-2)+f},easeInOutQuad:function(c,e,f,k,m){return 1>(e/=m/2)?k/2*e*e+f:-k/2*(--e*(e-2)-1)+f},easeInCubic:function(c,e,f,k,m){return k*(e/=m)*e*e+f},easeOutCubic:function(c,e,f,k,m){return k*((e=e/m-1)*e*e+1)+f},easeInOutCubic:function(c,e,f,k,m){return 1>
(e/=m/2)?k/2*e*e*e+f:k/2*((e-=2)*e*e+2)+f},easeInQuart:function(c,e,f,k,m){return k*(e/=m)*e*e*e+f},easeOutQuart:function(c,e,f,k,m){return-k*((e=e/m-1)*e*e*e-1)+f},easeInOutQuart:function(c,e,f,k,m){return 1>(e/=m/2)?k/2*e*e*e*e+f:-k/2*((e-=2)*e*e*e-2)+f},easeInQuint:function(c,e,f,k,m){return k*(e/=m)*e*e*e*e+f},easeOutQuint:function(c,e,f,k,m){return k*((e=e/m-1)*e*e*e*e+1)+f},easeInOutQuint:function(c,e,f,k,m){return 1>(e/=m/2)?k/2*e*e*e*e*e+f:k/2*((e-=2)*e*e*e*e+2)+f},easeInSine:function(c,e,
f,k,m){return-k*Math.cos(e/m*(Math.PI/2))+k+f},easeOutSine:function(c,e,f,k,m){return k*Math.sin(e/m*(Math.PI/2))+f},easeInOutSine:function(c,e,f,k,m){return-k/2*(Math.cos(Math.PI*e/m)-1)+f},easeInExpo:function(c,e,f,k,m){return 0==e?f:k*Math.pow(2,10*(e/m-1))+f},easeOutExpo:function(c,e,f,k,m){return e==m?f+k:k*(-Math.pow(2,-10*e/m)+1)+f},easeInOutExpo:function(c,e,f,k,m){return 0==e?f:e==m?f+k:1>(e/=m/2)?k/2*Math.pow(2,10*(e-1))+f:k/2*(-Math.pow(2,-10*--e)+2)+f},easeInCirc:function(c,e,f,k,m){return-k*
(Math.sqrt(1-(e/=m)*e)-1)+f},easeOutCirc:function(c,e,f,k,m){return k*Math.sqrt(1-(e=e/m-1)*e)+f},easeInOutCirc:function(c,e,f,k,m){return 1>(e/=m/2)?-k/2*(Math.sqrt(1-e*e)-1)+f:k/2*(Math.sqrt(1-(e-=2)*e)+1)+f},easeInElastic:function(c,e,f,k,m){c=1.70158;var b=0,t=k;if(0==e)return f;if(1==(e/=m))return f+k;b||(b=.3*m);t<Math.abs(k)?(t=k,c=b/4):c=b/(2*Math.PI)*Math.asin(k/t);return-(t*Math.pow(2,10*--e)*Math.sin(2*(e*m-c)*Math.PI/b))+f},easeOutElastic:function(c,e,f,k,m){c=1.70158;var b=0,t=k;if(0==
e)return f;if(1==(e/=m))return f+k;b||(b=.3*m);t<Math.abs(k)?(t=k,c=b/4):c=b/(2*Math.PI)*Math.asin(k/t);return t*Math.pow(2,-10*e)*Math.sin(2*(e*m-c)*Math.PI/b)+k+f},easeInOutElastic:function(c,e,f,k,m){c=1.70158;var b=0,t=k;if(0==e)return f;if(2==(e/=m/2))return f+k;b||(b=.3*m*1.5);t<Math.abs(k)?(t=k,c=b/4):c=b/(2*Math.PI)*Math.asin(k/t);return 1>e?-.5*t*Math.pow(2,10*--e)*Math.sin(2*(e*m-c)*Math.PI/b)+f:t*Math.pow(2,-10*--e)*Math.sin(2*(e*m-c)*Math.PI/b)*.5+k+f},easeInBack:function(c,e,f,k,m,n){void 0==
n&&(n=1.70158);return k*(e/=m)*e*((n+1)*e-n)+f},easeOutBack:function(c,e,f,k,m,n){void 0==n&&(n=1.70158);return k*((e=e/m-1)*e*((n+1)*e+n)+1)+f},easeInOutBack:function(c,e,f,k,m,n){void 0==n&&(n=1.70158);return 1>(e/=m/2)?k/2*e*e*(((n*=1.525)+1)*e-n)+f:k/2*((e-=2)*e*(((n*=1.525)+1)*e+n)+2)+f},easeInBounce:function(b,e,f,k,m){return k-c.easing.easeOutBounce(b,m-e,0,k,m)+f},easeOutBounce:function(c,e,f,k,m){return(e/=m)<1/2.75?7.5625*k*e*e+f:e<2/2.75?k*(7.5625*(e-=1.5/2.75)*e+.75)+f:e<2.5/2.75?k*(7.5625*
(e-=2.25/2.75)*e+.9375)+f:k*(7.5625*(e-=2.625/2.75)*e+.984375)+f},easeInOutBounce:function(b,e,f,k,m){return e<m/2?.5*c.easing.easeInBounce(b,2*e,0,k,m)+f:.5*c.easing.easeOutBounce(b,2*e-m,0,k,m)+.5*k+f}})})(jQuery);!function(c){"function"==typeof define&&define.amd?define(["jquery"],c):"object"==typeof exports?module.exports=c:c(jQuery)}(function(c){function b(b){var g=b||window.event,h=t.call(arguments,1),n,m=0,w=0,G=0,u=0,H=0;if(b=c.event.fix(g),b.type="mousewheel","detail"in g&&(w=-1*g.detail),"wheelDelta"in g&&(w=g.wheelDelta),"wheelDeltaY"in g&&(w=g.wheelDeltaY),"wheelDeltaX"in g&&(m=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(m=-1*w,w=0),n=0===w?m:w,"deltaY"in g&&(w=-1*g.deltaY,n=w),"deltaX"in
g&&(m=g.deltaX,0===w&&(n=-1*m)),0!==w||0!==m){if(1===g.deltaMode){var J=c.data(this,"mousewheel-line-height");n*=J;w*=J;m*=J}else 2===g.deltaMode&&(J=c.data(this,"mousewheel-page-height"),n*=J,w*=J,m*=J);if(G=Math.max(Math.abs(w),Math.abs(m)),(!k||k>G)&&(k=G,p.settings.adjustOldDeltas&&"mousewheel"===g.type&&0===G%120&&(k/=40)),p.settings.adjustOldDeltas&&"mousewheel"===g.type&&0===G%120&&(n/=40,m/=40,w/=40),n=Math[1<=n?"floor":"ceil"](n/k),m=Math[1<=m?"floor":"ceil"](m/k),w=Math[1<=w?"floor":"ceil"](w/
k),p.settings.normalizeOffset&&this.getBoundingClientRect)g=this.getBoundingClientRect(),u=b.clientX-g.left,H=b.clientY-g.top;return b.deltaX=m,b.deltaY=w,b.deltaFactor=k,b.offsetX=u,b.offsetY=H,b.deltaMode=0,h.unshift(b,n,m,w),f&&clearTimeout(f),f=setTimeout(e,200),(c.event.dispatch||c.event.handle).apply(this,h)}}function e(){k=null}var f,k,m=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],n="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],
t=Array.prototype.slice;if(c.event.fixHooks)for(var h=m.length;h;)c.event.fixHooks[m[--h]]=c.event.mouseHooks;var p=c.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=n.length;e;)this.addEventListener(n[--e],b,!1);else this.onmousewheel=b;c.data(this,"mousewheel-line-height",p.getLineHeight(this));c.data(this,"mousewheel-page-height",p.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=n.length;e;)this.removeEventListener(n[--e],
b,!1);else this.onmousewheel=null;c.removeData(this,"mousewheel-line-height");c.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){b=c(b);var e=b["offsetParent"in c.fn?"offsetParent":"parent"]();return e.length||(e=c("body")),parseInt(e.css("fontSize"),10)||parseInt(b.css("fontSize"),10)||16},getPageHeight:function(b){return c(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};c.fn.extend({mousewheel:function(c){return c?this.bind("mousewheel",c):this.trigger("mousewheel")},
unmousewheel:function(c){return this.unbind("mousewheel",c)}})});(function(c){c.fn.unveil=function(b,e){function f(){h=t.filter(function(){var b=c(this);if(!b.is(":hidden")){var e=k.scrollTop(),h=e+k.height(),f=b.offset().top;return f+b.height()>=e-m&&f<=h+m}}).trigger("unveil");t=t.not(h)}var k=c(window),m=b||0,n=1<window.devicePixelRatio?"data-src-retina":"data-src",t=this,h;this.one("unveil",function(){var c=this.getAttribute(n);if(c=c||this.getAttribute("data-src"))this.setAttribute("src",c),"function"===typeof e&&e.call(this)});k.scroll(f);k.resize(f);f();
return this}})(window.jQuery||window.Zepto);!function(c){"object"==typeof exports&&"undefined"!=typeof module?module.exports=c():"function"==typeof define&&define.amd?define([],c):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).JSZip=c()}(function(){return function b(e,f,k){function m(h,p){if(!f[h]){if(!e[h]){var g="function"==typeof require&&require;if(!p&&g)return g(h,!0);if(n)return n(h,!0);g=Error("Cannot find module '"+h+"'");throw g.code="MODULE_NOT_FOUND",g;}g=f[h]={exports:{}};
e[h][0].call(g.exports,function(b){var g=e[h][1][b];return m(g?g:b)},g,g.exports,b,e,f,k)}return f[h].exports}for(var n="function"==typeof require&&require,t=0;t<k.length;t++)m(k[t]);return m}({1:[function(b,e,f){var k=b("./utils"),m=b("./support");f.encode=function(b){for(var e,h,f,g,n,m,z,y=[],w=0,G=b.length,u="string"!==k.getTypeOf(b);w<b.length;)z=G-w,u?(e=b[w++],h=w<G?b[w++]:0,f=w<G?b[w++]:0):(e=b.charCodeAt(w++),h=w<G?b.charCodeAt(w++):0,f=w<G?b.charCodeAt(w++):0),g=e>>2,n=(3&e)<<4|h>>4,m=1<
z?(15&h)<<2|f>>6:64,z=2<z?63&f:64,y.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(g)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(m)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(z));return y.join("")};f.decode=function(b){var e,h,f,g,k,n=0,z=0;if("data:"===b.substr(0,5))throw Error("Invalid base64 input, it looks like a data url.");
b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");g=3*b.length/4;if("="===b.charAt(b.length-1)&&g--,"="===b.charAt(b.length-2)&&g--,0!==g%1)throw Error("Invalid base64 input, bad content length.");var y;for(y=m.uint8array?new Uint8Array(0|g):Array(0|g);n<b.length;)e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(n++)),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(n++)),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(n++)),
k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(n++)),e=e<<2|h>>4,h=(15&h)<<4|g>>2,f=(3&g)<<6|k,y[z++]=e,64!==g&&(y[z++]=h),64!==k&&(y[z++]=f);return y}},{"./support":30,"./utils":32}],2:[function(b,e,f){function k(b,e,h,f,k){this.compressedSize=b;this.uncompressedSize=e;this.crc32=h;this.compression=f;this.compressedContent=k}var m=b("./external"),n=b("./stream/DataWorker"),t=b("./stream/DataLengthProbe"),h=b("./stream/Crc32Probe"),t=b("./stream/DataLengthProbe");
k.prototype={getContentWorker:function(){var b=(new n(m.Promise.resolve(this.compressedContent))).pipe(this.compression.uncompressWorker()).pipe(new t("data_length")),e=this;return b.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw Error("Bug : uncompressed data size mismatch");}),b},getCompressedWorker:function(){return(new n(m.Promise.resolve(this.compressedContent))).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",
this.crc32).withStreamInfo("compression",this.compression)}};k.createWorkerFrom=function(b,e,f){return b.pipe(new h).pipe(new t("uncompressedSize")).pipe(e.compressWorker(f)).pipe(new t("compressedSize")).withStreamInfo("compression",e)};e.exports=k},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(b,e,f){var k=b("./stream/GenericWorker");f.STORE={magic:"\x00\x00",compressWorker:function(b){return new k("STORE compression")},uncompressWorker:function(){return new k("STORE decompression")}};
f.DEFLATE=b("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(b,e,f){var k=b("./utils"),m=function(){for(var b,e=[],h=0;256>h;h++){b=h;for(var f=0;8>f;f++)b=1&b?3988292384^b>>>1:b>>>1;e[h]=b}return e}();e.exports=function(b,e){if("undefined"==typeof b||!b.length)return 0;var h;if("string"!==k.getTypeOf(b)){var f=0+b.length;h=(0|e)^-1;for(var g=0;g<f;g++)h=h>>>8^m[255&(h^b[g])]}else for(f=0+b.length,h=(0|e)^-1,g=0;g<f;g++)h=h>>>8^m[255&(h^b.charCodeAt(g))];return h^=-1}},{"./utils":32}],
5:[function(b,e,f){f.base64=!1;f.binary=!1;f.dir=!1;f.createFolders=!0;f.date=null;f.compression=null;f.compressionOptions=null;f.comment=null;f.unixPermissions=null;f.dosPermissions=null},{}],6:[function(b,e,f){b="undefined"!=typeof Promise?Promise:b("lie");e.exports={Promise:b}},{lie:58}],7:[function(b,e,f){function k(b,e){t.call(this,"FlateWorker/"+b);this._pako=new m[b]({raw:!0,level:e.level||-1});this.meta={};var g=this;this._pako.onData=function(b){g.push({data:b,meta:g.meta})}}e="undefined"!=
typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array;var m=b("pako"),n=b("./utils"),t=b("./stream/GenericWorker"),h=e?"uint8array":"array";f.magic="\b\x00";n.inherits(k,t);k.prototype.processChunk=function(b){this.meta=b.meta;this._pako.push(n.transformTo(h,b.data),!1)};k.prototype.flush=function(){t.prototype.flush.call(this);this._pako.push([],!0)};k.prototype.cleanUp=function(){t.prototype.cleanUp.call(this);this._pako=null};f.compressWorker=function(b){return new k("Deflate",
b)};f.uncompressWorker=function(){return new k("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:59}],8:[function(b,e,f){function k(b,e,g,h){n.call(this,"ZipFileWorker");this.bytesWritten=0;this.zipComment=e;this.zipPlatform=g;this.encodeFileName=h;this.streamFiles=b;this.accumulate=!1;this.contentBuffer=[];this.dirRecords=[];this.entriesCount=this.currentSourceOffset=0;this.currentFile=null;this._sources=[]}var m=b("../utils"),n=b("../stream/GenericWorker"),t=b("../utf8"),h=b("../crc32"),
p=b("../signature"),g=function(b,e){var g,h="";for(g=0;g<e;g++)h+=String.fromCharCode(255&b),b>>>=8;return h},v=function(b,e,f,k,n,v){var u,z;u=b.file;var A=b.compression,y=v!==t.utf8encode,w=m.transformTo("string",v(u.name)),D=m.transformTo("string",t.utf8encode(u.name)),G=u.comment;v=m.transformTo("string",v(G));var E=m.transformTo("string",t.utf8encode(G)),H=D.length!==u.name.length,U=E.length!==G.length,T=G="",ja="";z=u.dir;var fa=u.date,na=0,ea=0,F=0;e&&!f||(na=b.crc32,ea=b.compressedSize,F=
b.uncompressedSize);b=0;e&&(b|=8);y||!H&&!U||(b|=2048);e=0;z&&(e|=16);"UNIX"===n?(n=798,u=y=u.unixPermissions,z=(y||(u=z?16893:33204),(65535&u)<<16),e|=z):(n=20,e|=63&(u.dosPermissions||0));u=fa.getUTCHours();u=u<<6|fa.getUTCMinutes();u=u<<5|fa.getUTCSeconds()/2;z=fa.getUTCFullYear()-1980;z=z<<4|fa.getUTCMonth()+1;z=z<<5|fa.getUTCDate();H&&(T=g(1,1)+g(h(w),4)+D,G+="up"+g(T.length,2)+T);U&&(ja=g(1,1)+g(h(v),4)+E,G+="uc"+g(ja.length,2)+ja);D="\n\x00"+g(b,2);D+=A.magic;D+=g(u,2);D+=g(z,2);D+=g(na,4);
D+=g(ea,4);D+=g(F,4);D+=g(w.length,2);D+=g(G.length,2);A=p.LOCAL_FILE_HEADER+D+w+G;k=p.CENTRAL_FILE_HEADER+g(n,2)+D+g(v.length,2)+"\x00\x00\x00\x00"+g(e,4)+g(k,4)+w+G+v;return{fileRecord:A,dirRecord:k}},A=function(b){return p.DATA_DESCRIPTOR+g(b.crc32,4)+g(b.compressedSize,4)+g(b.uncompressedSize,4)};m.inherits(k,n);k.prototype.push=function(b){var e=b.meta.percent||0,g=this.entriesCount,h=this._sources.length;this.accumulate?this.contentBuffer.push(b):(this.bytesWritten+=b.data.length,n.prototype.push.call(this,
{data:b.data,meta:{currentFile:this.currentFile,percent:g?(e+100*(g-h-1))/g:100}}))};k.prototype.openedSource=function(b){this.currentSourceOffset=this.bytesWritten;this.currentFile=b.file.name;var e=this.streamFiles&&!b.file.dir;e?(b=v(b,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName),this.push({data:b.fileRecord,meta:{percent:0}})):this.accumulate=!0};k.prototype.closedSource=function(b){this.accumulate=!1;var e=this.streamFiles&&!b.file.dir,g=v(b,e,!0,this.currentSourceOffset,
this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),e)this.push({data:A(b),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null};k.prototype.flush=function(){for(var b=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var e=this.dirRecords.length,h=this.bytesWritten-b,f=m.transformTo("string",(0,this.encodeFileName)(this.zipComment)),
b=p.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+g(e,2)+g(e,2)+g(h,4)+g(b,4)+g(f.length,2)+f;this.push({data:b,meta:{percent:100}})};k.prototype.prepareNextSource=function(){this.previous=this._sources.shift();this.openedSource(this.previous.streamInfo);this.isPaused?this.previous.pause():this.previous.resume()};k.prototype.registerPrevious=function(b){this._sources.push(b);var e=this;return b.on("data",function(b){e.processChunk(b)}),b.on("end",function(){e.closedSource(e.previous.streamInfo);e._sources.length?
e.prepareNextSource():e.end()}),b.on("error",function(b){e.error(b)}),this};k.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))};k.prototype.error=function(b){var e=this._sources;if(!n.prototype.error.call(this,b))return!1;for(var g=0;g<e.length;g++)try{e[g].error(b)}catch(G){}return!0};k.prototype.lock=function(){n.prototype.lock.call(this);
for(var b=this._sources,e=0;e<b.length;e++)b[e].lock()};e.exports=k},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(b,e,f){var k=b("../compressions"),m=b("./ZipFileWorker");f.generateWorker=function(b,e,h){var f=new m(e.streamFiles,h,e.platform,e.encodeFileName),g=0;try{b.forEach(function(b,h){g++;var p=h.options.compression||e.compression,n=k[p];if(!n)throw Error(p+" is not a valid compression method !");var p=h.dir,m=h.date;h._compressWorker(n,
h.options.compressionOptions||e.compressionOptions||{}).withStreamInfo("file",{name:b,dir:p,date:m,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(f)}),f.entriesCount=g}catch(v){f.error(v)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(b,e,f){function k(){if(!(this instanceof k))return new k;if(arguments.length)throw Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=
{};this.comment=null;this.root="";this.clone=function(){var b=new k,e;for(e in this)"function"!=typeof this[e]&&(b[e]=this[e]);return b}}k.prototype=b("./object");k.prototype.loadAsync=b("./load");k.support=b("./support");k.defaults=b("./defaults");k.version="3.1.3";k.loadAsync=function(b,e){return(new k).loadAsync(b,e)};k.external=b("./external");e.exports=k},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(b,e,f){function k(b){return new n.Promise(function(e,
g){var h=b.decompressed.getContentWorker().pipe(new p);h.on("error",function(b){g(b)}).on("end",function(){h.streamInfo.crc32!==b.decompressed.crc32?g(Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}var m=b("./utils"),n=b("./external"),t=b("./utf8"),m=b("./utils"),h=b("./zipEntries"),p=b("./stream/Crc32Probe"),g=b("./nodejsUtils");e.exports=function(b,e){var f=this;return e=m.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:t.utf8decode}),g.isNode&&
g.isStream(b)?n.Promise.reject(Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",b,!0,e.optimizedBinaryString,e.base64).then(function(b){var g=new h(e);return g.load(b),g}).then(function(b){var g=[n.Promise.resolve(b)];b=b.files;if(e.checkCRC32)for(var h=0;h<b.length;h++)g.push(k(b[h]));return n.Promise.all(g)}).then(function(b){b=b.shift();for(var g=b.files,h=0;h<g.length;h++){var k=g[h];f.file(k.fileNameStr,k.decompressed,{binary:!0,optimizedBinaryString:!0,
date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:e.createFolders})}return b.zipComment.length&&(f.comment=b.zipComment),f})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(b,e,f){function k(b,e){m.call(this,"Nodejs stream input adapter for "+b);this._upstreamEnded=!1;this._bindStream(e)}f=b("../utils");var m=b("../stream/GenericWorker");
f.inherits(k,m);k.prototype._bindStream=function(b){var e=this;this._stream=b;b.pause();b.on("data",function(b){e.push({data:b,meta:{percent:0}})}).on("error",function(b){e.isPaused?this.generatedError=b:e.error(b)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})};k.prototype.pause=function(){return!!m.prototype.pause.call(this)&&(this._stream.pause(),!0)};k.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)};
e.exports=k},{"../stream/GenericWorker":28,"../utils":32}],13:[function(b,e,f){function k(b,e,h){m.call(this,e);this._helper=b;var f=this;b.on("data",function(b,e){f.push(b)||f._helper.pause();h&&h(e)}).on("error",function(b){f.emit("error",b)}).on("end",function(){f.push(null)})}var m=b("readable-stream").Readable;b("util").inherits(k,m);k.prototype._read=function(){this._helper.resume()};e.exports=k},{"readable-stream":16,util:void 0}],14:[function(b,e,f){e.exports={isNode:"undefined"!=typeof Buffer,
newBuffer:function(b,e){return new Buffer(b,e)},isBuffer:function(b){return Buffer.isBuffer(b)},isStream:function(b){return b&&"function"==typeof b.on&&"function"==typeof b.pause&&"function"==typeof b.resume}}},{}],15:[function(b,e,f){var k=b("./utf8"),m=b("./utils"),n=b("./stream/GenericWorker"),t=b("./stream/StreamHelper"),h=b("./defaults"),p=b("./compressedObject"),g=b("./zipObject"),v=b("./generate"),A=b("./nodejsUtils"),z=b("./nodejs/NodejsStreamInputAdapter"),y=function(b,e,f){var k,v=m.getTypeOf(e),
u=m.extend(f||{},h);u.date=u.date||new Date;null!==u.compression&&(u.compression=u.compression.toUpperCase());"string"==typeof u.unixPermissions&&(u.unixPermissions=parseInt(u.unixPermissions,8));u.unixPermissions&&16384&u.unixPermissions&&(u.dir=!0);u.dosPermissions&&16&u.dosPermissions&&(u.dir=!0);u.dir&&(b=w(b));var t;if(t=u.createFolders)k=b,"/"===k.slice(-1)&&(k=k.substring(0,k.length-1)),t=k.lastIndexOf("/"),t=k=0<t?k.substring(0,t):"";t&&G.call(this,k,!0);v="string"===v&&!1===u.binary&&!1===
u.base64;f&&"undefined"!=typeof f.binary||(u.binary=!v);(e instanceof p&&0===e.uncompressedSize||u.dir||!e||0===e.length)&&(u.base64=!1,u.binary=!0,e="",u.compression="STORE");e=e instanceof p||e instanceof n?e:A.isNode&&A.isStream(e)?new z(b,e):m.prepareContent(b,e,u.binary,u.optimizedBinaryString,u.base64);u=new g(b,e,u);this.files[b]=u},w=function(b){return"/"!==b.slice(-1)&&(b+="/"),b},G=function(b,e){return e="undefined"!=typeof e?e:h.createFolders,b=w(b),this.files[b]||y.call(this,b,null,{dir:!0,
createFolders:e}),this.files[b]};e.exports={load:function(){throw Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");},forEach:function(b){var e,g,h;for(e in this.files)this.files.hasOwnProperty(e)&&(h=this.files[e],g=e.slice(this.root.length,e.length),g&&e.slice(0,this.root.length)===this.root&&b(g,h))},filter:function(b){var e=[];return this.forEach(function(g,h){b(g,h)&&e.push(h)}),e},file:function(b,e,g){if(1===arguments.length){if("[object RegExp]"===Object.prototype.toString.call(b)){var h=
b;return this.filter(function(b,e){return!e.dir&&h.test(b)})}var f=this.files[this.root+b];return f&&!f.dir?f:null}return b=this.root+b,y.call(this,b,e,g),this},folder:function(b){if(!b)return this;if("[object RegExp]"===Object.prototype.toString.call(b))return this.filter(function(e,g){return g.dir&&b.test(e)});var e=G.call(this,this.root+b),g=this.clone();return g.root=e.name,g},remove:function(b){b=this.root+b;var e=this.files[b];if(e||("/"!==b.slice(-1)&&(b+="/"),e=this.files[b]),e&&!e.dir)delete this.files[b];
else for(var e=this.filter(function(e,g){return g.name.slice(0,b.length)===b}),g=0;g<e.length;g++)delete this.files[e[g].name];return this},generate:function(b){throw Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");},generateInternalStream:function(b){var e,g={};try{if(g=m.extend(b||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:k.utf8encode}),g.type=g.type.toLowerCase(),
g.compression=g.compression.toUpperCase(),"binarystring"===g.type&&(g.type="string"),!g.type)throw Error("No output type specified.");m.checkSupport(g.type);"darwin"!==g.platform&&"freebsd"!==g.platform&&"linux"!==g.platform&&"sunos"!==g.platform||(g.platform="UNIX");"win32"===g.platform&&(g.platform="DOS");e=v.generateWorker(this,g,g.comment||this.comment||"")}catch(K){e=new n("error"),e.error(K)}return new t(e,g.type||"string",g.mimeType)},generateAsync:function(b,e){return this.generateInternalStream(b).accumulate(e)},
generateNodeStream:function(b,e){return b=b||{},b.type||(b.type="nodebuffer"),this.generateInternalStream(b).toNodejsStream(e)}}},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(b,e,f){e.exports=b("stream")},{stream:void 0}],17:[function(b,e,f){function k(b){m.call(this,b);for(var e=0;e<this.data.length;e++)b[e]&=255}var m=
b("./DataReader");b("../utils").inherits(k,m);k.prototype.byteAt=function(b){return this.data[this.zero+b]};k.prototype.lastIndexOfSignature=function(b){var e=b.charCodeAt(0),h=b.charCodeAt(1),f=b.charCodeAt(2);b=b.charCodeAt(3);for(var g=this.length-4;0<=g;--g)if(this.data[g]===e&&this.data[g+1]===h&&this.data[g+2]===f&&this.data[g+3]===b)return g-this.zero;return-1};k.prototype.readAndCheckSignature=function(b){var e=b.charCodeAt(0),h=b.charCodeAt(1),f=b.charCodeAt(2);b=b.charCodeAt(3);var g=this.readData(4);
return e===g[0]&&h===g[1]&&f===g[2]&&b===g[3]};k.prototype.readData=function(b){if(this.checkOffset(b),0===b)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,e};e.exports=k},{"../utils":32,"./DataReader":18}],18:[function(b,e,f){function k(b){this.data=b;this.length=b.length;this.zero=this.index=0}var m=b("../utils");k.prototype={checkOffset:function(b){this.checkIndex(this.index+b)},checkIndex:function(b){if(this.length<this.zero+b||0>b)throw Error("End of data reached (data length = "+
this.length+", asked index = "+b+"). Corrupted zip ?");},setIndex:function(b){this.checkIndex(b);this.index=b},skip:function(b){this.setIndex(this.index+b)},byteAt:function(b){},readInt:function(b){var e,h=0;this.checkOffset(b);for(e=this.index+b-1;e>=this.index;e--)h=(h<<8)+this.byteAt(e);return this.index+=b,h},readString:function(b){return m.transformTo("string",this.readData(b))},readData:function(b){},lastIndexOfSignature:function(b){},readAndCheckSignature:function(b){},readDate:function(){var b=
this.readInt(4);return new Date(Date.UTC((b>>25&127)+1980,(b>>21&15)-1,b>>16&31,b>>11&31,b>>5&63,(31&b)<<1))}};e.exports=k},{"../utils":32}],19:[function(b,e,f){function k(b){m.call(this,b)}var m=b("./Uint8ArrayReader");b("../utils").inherits(k,m);k.prototype.readData=function(b){this.checkOffset(b);var e=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,e};e.exports=k},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(b,e,f){function k(b){m.call(this,b)}var m=
b("./DataReader");b("../utils").inherits(k,m);k.prototype.byteAt=function(b){return this.data.charCodeAt(this.zero+b)};k.prototype.lastIndexOfSignature=function(b){return this.data.lastIndexOf(b)-this.zero};k.prototype.readAndCheckSignature=function(b){var e=this.readData(4);return b===e};k.prototype.readData=function(b){this.checkOffset(b);var e=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,e};e.exports=k},{"../utils":32,"./DataReader":18}],21:[function(b,e,f){function k(b){m.call(this,
b)}var m=b("./ArrayReader");b("../utils").inherits(k,m);k.prototype.readData=function(b){if(this.checkOffset(b),0===b)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+b);return this.index+=b,e};e.exports=k},{"../utils":32,"./ArrayReader":17}],22:[function(b,e,f){var k=b("../utils"),m=b("../support"),n=b("./ArrayReader"),t=b("./StringReader"),h=b("./NodeBufferReader"),p=b("./Uint8ArrayReader");e.exports=function(b){var e=k.getTypeOf(b);return k.checkSupport(e),
"string"!==e||m.uint8array?"nodebuffer"===e?new h(b):m.uint8array?new p(k.transformTo("uint8array",b)):new n(k.transformTo("array",b)):new t(b)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(b,e,f){f.LOCAL_FILE_HEADER="PK\u0003\u0004";f.CENTRAL_FILE_HEADER="PK\u0001\u0002";f.CENTRAL_DIRECTORY_END="PK\u0005\u0006";f.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\u0006\u0007";f.ZIP64_CENTRAL_DIRECTORY_END="PK\u0006\u0006";
f.DATA_DESCRIPTOR="PK\u0007\b"},{}],24:[function(b,e,f){function k(b){m.call(this,"ConvertWorker to "+b);this.destType=b}var m=b("./GenericWorker"),n=b("../utils");n.inherits(k,m);k.prototype.processChunk=function(b){this.push({data:n.transformTo(this.destType,b.data),meta:b.meta})};e.exports=k},{"../utils":32,"./GenericWorker":28}],25:[function(b,e,f){function k(){m.call(this,"Crc32Probe");this.withStreamInfo("crc32",0)}var m=b("./GenericWorker"),n=b("../crc32");b("../utils").inherits(k,m);k.prototype.processChunk=
function(b){this.streamInfo.crc32=n(b.data,this.streamInfo.crc32||0);this.push(b)};e.exports=k},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(b,e,f){function k(b){m.call(this,"DataLengthProbe for "+b);this.propName=b;this.withStreamInfo(b,0)}f=b("../utils");var m=b("./GenericWorker");f.inherits(k,m);k.prototype.processChunk=function(b){b&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+b.data.length);m.prototype.processChunk.call(this,b)};e.exports=k},{"../utils":32,
"./GenericWorker":28}],27:[function(b,e,f){function k(b){n.call(this,"DataWorker");var e=this;this.dataIsReady=!1;this.max=this.index=0;this.data=null;this.type="";this._tickScheduled=!1;b.then(function(b){e.dataIsReady=!0;e.data=b;e.max=b&&b.length||0;e.type=m.getTypeOf(b);e.isPaused||e._tickAndRepeat()},function(b){e.error(b)})}var m=b("../utils"),n=b("./GenericWorker");m.inherits(k,n);k.prototype.cleanUp=function(){n.prototype.cleanUp.call(this);this.data=null};k.prototype.resume=function(){return!!n.prototype.resume.call(this)&&
(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)};k.prototype._tickAndRepeat=function(){this._tickScheduled=!1;this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))};k.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var b=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case "string":b=this.data.substring(this.index,
e);break;case "uint8array":b=this.data.subarray(this.index,e);break;case "array":case "nodebuffer":b=this.data.slice(this.index,e)}return this.index=e,this.push({data:b,meta:{percent:this.max?this.index/this.max*100:0}})};e.exports=k},{"../utils":32,"./GenericWorker":28}],28:[function(b,e,f){function k(b){this.name=b||"default";this.streamInfo={};this.generatedError=null;this.extraStreamInfo={};this.isPaused=!0;this.isLocked=this.isFinished=!1;this._listeners={data:[],end:[],error:[]};this.previous=
null}k.prototype={push:function(b){this.emit("data",b)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(m){this.emit("error",m)}return!0},error:function(b){return!this.isFinished&&(this.isPaused?this.generatedError=b:(this.isFinished=!0,this.emit("error",b),this.previous&&this.previous.error(b),this.cleanUp()),!0)},on:function(b,e){return this._listeners[b].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=
null;this._listeners=[]},emit:function(b,e){if(this._listeners[b])for(var f=0;f<this._listeners[b].length;f++)this._listeners[b][f].call(this,e)},pipe:function(b){return b.registerPrevious(this)},registerPrevious:function(b){if(this.isLocked)throw Error("The stream '"+this+"' has already been used.");this.streamInfo=b.streamInfo;this.mergeStreamInfo();this.previous=b;var e=this;return b.on("data",function(b){e.processChunk(b)}),b.on("end",function(){e.end()}),b.on("error",function(b){e.error(b)}),
this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var b=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),b=!0),this.previous&&this.previous.resume(),!b},flush:function(){},processChunk:function(b){this.push(b)},withStreamInfo:function(b,e){return this.extraStreamInfo[b]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var b in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(b)&&
(this.streamInfo[b]=this.extraStreamInfo[b])},lock:function(){if(this.isLocked)throw Error("The stream '"+this+"' has already been used.");this.isLocked=!0;this.previous&&this.previous.lock()},toString:function(){var b="Worker "+this.name;return this.previous?this.previous+" -> "+b:b}};e.exports=k},{}],29:[function(b,e,f){function k(b,e){var g,h=0,f;for(g=f=0;g<e.length;g++)f+=e[g].length;switch(b){case "string":return e.join("");case "array":return Array.prototype.concat.apply([],e);case "uint8array":f=
new Uint8Array(f);for(g=0;g<e.length;g++)f.set(e[g],h),h+=e[g].length;return f;case "nodebuffer":return Buffer.concat(e);default:throw Error("concat : unsupported type '"+b+"'");}}function m(b,e){return new v.Promise(function(h,f){var p=[],m=b._internalType,n=b._outputType,v=b._mimeType;b.on("data",function(b,g){p.push(b);e&&e(g)}).on("error",function(b){p=[];f(b)}).on("end",function(){try{var b;a:{var e=p,u=null;switch(n){case "blob":b=t.newBlob(e,v);break a;case "base64":b=(u=k(m,e),g.encode(u));
break a;default:b=(u=k(m,e),t.transformTo(n,u))}}h(b)}catch(D){f(D)}p=[]}).resume()})}function n(b,e,g){var f=e;switch(e){case "blob":f="arraybuffer";break;case "arraybuffer":f="uint8array";break;case "base64":f="string"}try{this._internalType=f,this._outputType=e,this._mimeType=g,t.checkSupport(f),this._worker=b.pipe(new h(f)),b.lock()}catch(u){this._worker=new p("error"),this._worker.error(u)}}var t=b("../utils"),h=b("./ConvertWorker"),p=b("./GenericWorker"),g=b("../base64");f=b("../support");var v=
b("../external"),A=null;if(f.nodestream)try{A=b("../nodejs/NodejsStreamOutputAdapter")}catch(z){}n.prototype={accumulate:function(b){return m(this,b)},on:function(b,e){var g=this;return"data"===b?this._worker.on(b,function(b){e.call(g,b.data,b.meta)}):this._worker.on(b,function(){t.delay(e,arguments,g)}),this},resume:function(){return t.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(t.checkSupport("nodestream"),"nodebuffer"!==
this._outputType)throw Error(this._outputType+" is not supported by this method");return new A(this,{objectMode:"nodebuffer"!==this._outputType},b)}};e.exports=n},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(b,e,f){if(f.base64=!0,f.array=!0,f.string=!0,f.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,f.nodebuffer="undefined"!=typeof Buffer,f.uint8array="undefined"!=
typeof Uint8Array,"undefined"==typeof ArrayBuffer)f.blob=!1;else{e=new ArrayBuffer(0);try{f.blob=0===(new Blob([e],{type:"application/zip"})).size}catch(m){try{var k=new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);k.append(e);f.blob=0===k.getBlob("application/zip").size}catch(n){f.blob=!1}}}try{f.nodestream=!!b("readable-stream").Readable}catch(m){f.nodestream=!1}},{"readable-stream":16}],31:[function(b,e,f){function k(){p.call(this,"utf-8 decode");
this.leftOver=null}function m(){p.call(this,"utf-8 encode")}var n=b("./utils"),t=b("./support"),h=b("./nodejsUtils"),p=b("./stream/GenericWorker"),g=Array(256);for(b=0;256>b;b++)g[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;g[254]=g[254]=1;f.utf8encode=function(b){if(t.nodebuffer)b=h.newBuffer(b,"utf-8");else{var e,g,f,k,p,m=b.length,n=0;for(k=0;k<m;k++)g=b.charCodeAt(k),55296===(64512&g)&&k+1<m&&(f=b.charCodeAt(k+1),56320===(64512&f)&&(g=65536+(g-55296<<10)+(f-56320),k++)),n+=128>g?1:2048>
g?2:65536>g?3:4;e=t.uint8array?new Uint8Array(n):Array(n);for(k=p=0;p<n;k++)g=b.charCodeAt(k),55296===(64512&g)&&k+1<m&&(f=b.charCodeAt(k+1),56320===(64512&f)&&(g=65536+(g-55296<<10)+(f-56320),k++)),128>g?e[p++]=g:2048>g?(e[p++]=192|g>>>6,e[p++]=128|63&g):65536>g?(e[p++]=224|g>>>12,e[p++]=128|g>>>6&63,e[p++]=128|63&g):(e[p++]=240|g>>>18,e[p++]=128|g>>>12&63,e[p++]=128|g>>>6&63,e[p++]=128|63&g);b=e}return b};f.utf8decode=function(b){var e;if(t.nodebuffer)e=n.transformTo("nodebuffer",b).toString("utf-8");
else{var h=b=n.transformTo(t.uint8array?"uint8array":"array",b),f,k,p,m=h.length;b=Array(2*m);for(f=k=0;f<m;)if(e=h[f++],128>e)b[k++]=e;else if(p=g[e],4<p)b[k++]=65533,f+=p-1;else{for(e&=2===p?31:3===p?15:7;1<p&&f<m;)e=e<<6|63&h[f++],p--;1<p?b[k++]=65533:65536>e?b[k++]=e:(e-=65536,b[k++]=55296|e>>10&1023,b[k++]=56320|1023&e)}e=(b.length!==k&&(b.subarray?b=b.subarray(0,k):b.length=k),n.applyFromCharCode(b))}return e};n.inherits(k,p);k.prototype.processChunk=function(b){var e=n.transformTo(t.uint8array?
"uint8array":"array",b.data);if(this.leftOver&&this.leftOver.length){if(t.uint8array){var h=e,e=new Uint8Array(h.length+this.leftOver.length);e.set(this.leftOver,0);e.set(h,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var k,h=e.length;h>e.length&&(h=e.length);for(k=h-1;0<=k&&128===(192&e[k]);)k--;h=0>k?h:0===k?h:k+g[e[k]]>h?k:h;k=e;h!==e.length&&(t.uint8array?(k=e.subarray(0,h),this.leftOver=e.subarray(h,e.length)):(k=e.slice(0,h),this.leftOver=e.slice(h,e.length)));this.push({data:f.utf8decode(k),
meta:b.meta})};k.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:f.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)};f.Utf8DecodeWorker=k;n.inherits(m,p);m.prototype.processChunk=function(b){this.push({data:f.utf8encode(b.data),meta:b.meta})};f.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(b,e,f){function k(b){return b}function m(b,e){for(var g=0;g<b.length;++g)e[g]=255&b.charCodeAt(g);return e}
function n(b){var e=65536,g=f.getTypeOf(b),h=!0;if("uint8array"===g?h=w.applyCanBeUsed.uint8array:"nodebuffer"===g&&(h=w.applyCanBeUsed.nodebuffer),h)for(;1<e;)try{return w.stringifyByChunk(b,g,e)}catch(M){e=Math.floor(e/2)}return w.stringifyByChar(b)}function t(b,e){for(var g=0;g<b.length;g++)e[g]=b[g];return e}var h=b("./support"),p=b("./base64"),g=b("./nodejsUtils"),v=b("core-js/library/fn/set-immediate"),A=b("./external");f.newBlob=function(b,e){f.checkSupport("blob");try{return new Blob(b,{type:e})}catch(M){try{for(var g=
new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder),h=0;h<b.length;h++)g.append(b[h]);return g.getBlob(e)}catch(Q){throw Error("Bug : can't construct the Blob.");}}};var z;try{z=h.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(u){z=!1}b=z;var y;try{y=h.nodebuffer&&1===String.fromCharCode.apply(null,g.newBuffer(1)).length}catch(u){y=!1}var w={stringifyByChunk:function(b,e,g){var h=[],f=0,k=b.length;if(k<=g)return String.fromCharCode.apply(null,
b);for(;f<k;)"array"===e||"nodebuffer"===e?h.push(String.fromCharCode.apply(null,b.slice(f,Math.min(f+g,k)))):h.push(String.fromCharCode.apply(null,b.subarray(f,Math.min(f+g,k)))),f+=g;return h.join("")},stringifyByChar:function(b){for(var e="",g=0;g<b.length;g++)e+=String.fromCharCode(b[g]);return e},applyCanBeUsed:{uint8array:b,nodebuffer:y}};f.applyFromCharCode=n;var G={};G.string={string:k,array:function(b){return m(b,Array(b.length))},arraybuffer:function(b){return G.string.uint8array(b).buffer},
uint8array:function(b){return m(b,new Uint8Array(b.length))},nodebuffer:function(b){return m(b,g.newBuffer(b.length))}};G.array={string:n,array:k,arraybuffer:function(b){return(new Uint8Array(b)).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return g.newBuffer(b)}};G.arraybuffer={string:function(b){return n(new Uint8Array(b))},array:function(b){return t(new Uint8Array(b),Array(b.byteLength))},arraybuffer:k,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return g.newBuffer(new Uint8Array(b))}};
G.uint8array={string:n,array:function(b){return t(b,Array(b.length))},arraybuffer:function(b){var e=new Uint8Array(b.length);return b.length&&e.set(b,0),e.buffer},uint8array:k,nodebuffer:function(b){return g.newBuffer(b)}};G.nodebuffer={string:n,array:function(b){return t(b,Array(b.length))},arraybuffer:function(b){return G.nodebuffer.uint8array(b).buffer},uint8array:function(b){return t(b,new Uint8Array(b.length))},nodebuffer:k};f.transformTo=function(b,e){if(e||(e=""),!b)return e;f.checkSupport(b);
var g=f.getTypeOf(e);return G[g][b](e)};f.getTypeOf=function(b){return"string"==typeof b?"string":"[object Array]"===Object.prototype.toString.call(b)?"array":h.nodebuffer&&g.isBuffer(b)?"nodebuffer":h.uint8array&&b instanceof Uint8Array?"uint8array":h.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0};f.checkSupport=function(b){if(!h[b.toLowerCase()])throw Error(b+" is not supported by this platform");};f.MAX_VALUE_16BITS=65535;f.MAX_VALUE_32BITS=-1;f.pretty=function(b){var e,g,h="";for(g=
0;g<(b||"").length;g++)e=b.charCodeAt(g),h+="\\x"+(16>e?"0":"")+e.toString(16).toUpperCase();return h};f.delay=function(b,e,g){v(function(){b.apply(g||null,e||[])})};f.inherits=function(b,e){var g=function(){};g.prototype=e.prototype;b.prototype=new g};f.extend=function(){var b,e,g={};for(b=0;b<arguments.length;b++)for(e in arguments[b])arguments[b].hasOwnProperty(e)&&"undefined"==typeof g[e]&&(g[e]=arguments[b][e]);return g};f.prepareContent=function(b,e,g,k,n){return A.Promise.resolve(e).then(function(b){return h.blob&&
(b instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(b)))&&"undefined"!=typeof FileReader?new A.Promise(function(e,g){var h=new FileReader;h.onload=function(b){e(b.target.result)};h.onerror=function(b){g(b.target.error)};h.readAsArrayBuffer(b)}):b}).then(function(e){var v=f.getTypeOf(e);v?"arraybuffer"===v?e=f.transformTo("uint8array",e):"string"===v&&(n?e=p.decode(e):g&&!0!==k&&(v=null,e=(v=h.uint8array?new Uint8Array(e.length):Array(e.length),m(e,v)))):
e=A.Promise.reject(Error("The data of '"+b+"' is in an unsupported format !"));return e})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"core-js/library/fn/set-immediate":36}],33:[function(b,e,f){function k(b){this.files=[];this.loadOptions=b}var m=b("./reader/readerFor"),n=b("./utils"),t=b("./signature"),h=b("./zipEntry"),p=(b("./utf8"),b("./support"));k.prototype={checkSignature:function(b){if(!this.reader.readAndCheckSignature(b)){this.reader.index-=4;var e=this.reader.readString(4);
throw Error("Corrupted zip or bug : unexpected signature ("+n.pretty(e)+", expected "+n.pretty(b)+")");}},isSignature:function(b,e){var g=this.reader.index;this.reader.setIndex(b);var h=this.reader.readString(4)===e;return this.reader.setIndex(g),h},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2);this.diskWithCentralDirStart=this.reader.readInt(2);this.centralDirRecordsOnThisDisk=this.reader.readInt(2);this.centralDirRecords=this.reader.readInt(2);this.centralDirSize=this.reader.readInt(4);
this.centralDirOffset=this.reader.readInt(4);this.zipCommentLength=this.reader.readInt(2);var b=this.reader.readData(this.zipCommentLength),b=n.transformTo(p.uint8array?"uint8array":"array",b);this.zipComment=this.loadOptions.decodeFileName(b)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8);this.reader.skip(4);this.diskNumber=this.reader.readInt(4);this.diskWithCentralDirStart=this.reader.readInt(4);this.centralDirRecordsOnThisDisk=this.reader.readInt(8);this.centralDirRecords=
this.reader.readInt(8);this.centralDirSize=this.reader.readInt(8);this.centralDirOffset=this.reader.readInt(8);this.zip64ExtensibleData={};for(var b,e,h,f=this.zip64EndOfCentralSize-44;0<f;)b=this.reader.readInt(2),e=this.reader.readInt(4),h=this.reader.readData(e),this.zip64ExtensibleData[b]={id:b,length:e,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=
this.reader.readInt(4),1<this.disksCount)throw Error("Multi-volumes zip are not supported");},readLocalFiles:function(){var b,e;for(b=0;b<this.files.length;b++)e=this.files[b],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(t.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var b;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(t.CENTRAL_FILE_HEADER);)b=new h({zip64:this.zip64},this.loadOptions),
b.readCentralPart(this.reader),this.files.push(b);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length);},readEndOfCentral:function(){var b=this.reader.lastIndexOfSignature(t.CENTRAL_DIRECTORY_END);if(0>b)throw this.isSignature(0,t.LOCAL_FILE_HEADER)?Error("Corrupted zip : can't find end of central directory"):Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html");
this.reader.setIndex(b);var e=b;if(this.checkSignature(t.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,b=this.reader.lastIndexOfSignature(t.ZIP64_CENTRAL_DIRECTORY_LOCATOR),0>b)throw Error("Corrupted zip : can't find the ZIP64 end of central directory locator");
if(this.reader.setIndex(b),this.checkSignature(t.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,t.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(t.ZIP64_CENTRAL_DIRECTORY_END),0>this.relativeOffsetEndOfZip64CentralDir))throw Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir);this.checkSignature(t.ZIP64_CENTRAL_DIRECTORY_END);
this.readBlockZip64EndOfCentral()}b=this.centralDirOffset+this.centralDirSize;this.zip64&&(b+=20,b+=12+this.zip64EndOfCentralSize);b=e-b;if(0<b)this.isSignature(e,t.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(0>b)throw Error("Corrupted zip: missing "+Math.abs(b)+" bytes.");},prepareReader:function(b){this.reader=m(b)},load:function(b){this.prepareReader(b);this.readEndOfCentral();this.readCentralDir();this.readLocalFiles()}};e.exports=k},{"./reader/readerFor":22,"./signature":23,"./support":30,
"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(b,e,f){function k(b,e){this.options=b;this.loadOptions=e}var m=b("./reader/readerFor"),n=b("./utils"),t=b("./compressedObject"),h=b("./crc32"),p=b("./utf8"),g=b("./compressions"),v=b("./support");k.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},readLocalPart:function(b){var e,h;if(b.skip(22),this.fileNameLength=b.readInt(2),h=b.readInt(2),this.fileName=b.readData(this.fileNameLength),
b.skip(h),-1===this.compressedSize||-1===this.uncompressedSize)throw Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");var f;a:{h=this.compressionMethod;for(f in g)if(g.hasOwnProperty(f)&&g[f].magic===h){f=g[f];break a}f=null}if(e=f,null===e)throw Error("Corrupted zip : compression "+n.pretty(this.compressionMethod)+" unknown (inner file : "+n.transformTo("string",this.fileName)+")");this.decompressed=new t(this.compressedSize,
this.uncompressedSize,this.crc32,e,b.readData(this.compressedSize))},readCentralPart:function(b){this.versionMadeBy=b.readInt(2);b.skip(2);this.bitFlag=b.readInt(2);this.compressionMethod=b.readString(2);this.date=b.readDate();this.crc32=b.readInt(4);this.compressedSize=b.readInt(4);this.uncompressedSize=b.readInt(4);var e=b.readInt(2);if(this.extraFieldsLength=b.readInt(2),this.fileCommentLength=b.readInt(2),this.diskNumberStart=b.readInt(2),this.internalFileAttributes=b.readInt(2),this.externalFileAttributes=
b.readInt(4),this.localHeaderOffset=b.readInt(4),this.isEncrypted())throw Error("Encrypted zip are not supported");b.skip(e);this.readExtraFields(b);this.parseZIP64ExtraField(b);this.fileComment=b.readData(this.fileCommentLength)},processAttributes:function(){this.dosPermissions=this.unixPermissions=null;var b=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes);0===b&&(this.dosPermissions=63&this.externalFileAttributes);3===b&&(this.unixPermissions=this.externalFileAttributes>>16&65535);
this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(b){this.extraFields[1]&&(b=m(this.extraFields[1].value),this.uncompressedSize===n.MAX_VALUE_32BITS&&(this.uncompressedSize=b.readInt(8)),this.compressedSize===n.MAX_VALUE_32BITS&&(this.compressedSize=b.readInt(8)),this.localHeaderOffset===n.MAX_VALUE_32BITS&&(this.localHeaderOffset=b.readInt(8)),this.diskNumberStart===n.MAX_VALUE_32BITS&&(this.diskNumberStart=b.readInt(4)))},readExtraFields:function(b){var e,
g,h,f=b.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});b.index<f;)e=b.readInt(2),g=b.readInt(2),h=b.readData(g),this.extraFields[e]={id:e,length:g,value:h}},handleUTF8:function(){var b=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();null!==e?this.fileNameStr=e:(e=n.transformTo(b,this.fileName),this.fileNameStr=this.loadOptions.decodeFileName(e));
e=this.findExtraFieldUnicodeComment();null!==e?this.fileCommentStr=e:(b=n.transformTo(b,this.fileComment),this.fileCommentStr=this.loadOptions.decodeFileName(b))}},findExtraFieldUnicodePath:function(){var b=this.extraFields[28789];if(b){var e=m(b.value);return 1!==e.readInt(1)?null:h(this.fileName)!==e.readInt(4)?null:p.utf8decode(e.readData(b.length-5))}return null},findExtraFieldUnicodeComment:function(){var b=this.extraFields[25461];if(b){var e=m(b.value);return 1!==e.readInt(1)?null:h(this.fileComment)!==
e.readInt(4)?null:p.utf8decode(e.readData(b.length-5))}return null}};e.exports=k},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(b,e,f){var k=b("./stream/StreamHelper"),m=b("./stream/DataWorker"),n=b("./utf8"),t=b("./compressedObject"),h=b("./stream/GenericWorker");b=function(b,e,g){this.name=b;this.dir=g.dir;this.date=g.date;this.comment=g.comment;this.unixPermissions=g.unixPermissions;this.dosPermissions=g.dosPermissions;
this._data=e;this._dataBinary=g.binary;this.options={compression:g.compression,compressionOptions:g.compressionOptions}};b.prototype={internalStream:function(b){b=b.toLowerCase();var e="string"===b||"text"===b;"binarystring"!==b&&"text"!==b||(b="string");var g=this._decompressWorker(),h=!this._dataBinary;return h&&!e&&(g=g.pipe(new n.Utf8EncodeWorker)),!h&&e&&(g=g.pipe(new n.Utf8DecodeWorker)),new k(g,b,"")},async:function(b,e){return this.internalStream(b).accumulate(e)},nodeStream:function(b,e){return this.internalStream(b||
"nodebuffer").toNodejsStream(e)},_compressWorker:function(b,e){if(this._data instanceof t&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new n.Utf8EncodeWorker)),t.createWorkerFrom(g,b,e)},_decompressWorker:function(){return this._data instanceof t?this._data.getContentWorker():this._data instanceof h?this._data:new m(this._data)}};f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"];
for(var p=function(){throw Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");},g=0;g<f.length;g++)b.prototype[f[g]]=p;e.exports=b},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(b,e,f){b("../modules/web.immediate");e.exports=b("../modules/_core").setImmediate},{"../modules/_core":40,"../modules/web.immediate":56}],37:[function(b,e,f){e.exports=function(b){if("function"!=typeof b)throw TypeError(b+
" is not a function!");return b}},{}],38:[function(b,e,f){var k=b("./_is-object");e.exports=function(b){if(!k(b))throw TypeError(b+" is not an object!");return b}},{"./_is-object":51}],39:[function(b,e,f){var k={}.toString;e.exports=function(b){return k.call(b).slice(8,-1)}},{}],40:[function(b,e,f){b=e.exports={version:"2.3.0"};"number"==typeof __e&&(__e=b)},{}],41:[function(b,e,f){var k=b("./_a-function");e.exports=function(b,e,f){if(k(b),void 0===e)return b;switch(f){case 1:return function(h){return b.call(e,
h)};case 2:return function(h,f){return b.call(e,h,f)};case 3:return function(h,f,g){return b.call(e,h,f,g)}}return function(){return b.apply(e,arguments)}}},{"./_a-function":37}],42:[function(b,e,f){e.exports=!b("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":45}],43:[function(b,e,f){f=b("./_is-object");var k=b("./_global").document,m=f(k)&&f(k.createElement);e.exports=function(b){return m?k.createElement(b):{}}},{"./_global":46,"./_is-object":51}],
44:[function(b,e,f){var k=b("./_global"),m=b("./_core"),n=b("./_ctx"),t=b("./_hide"),h=function(b,e,f){var g,p,v=b&h.F,w=b&h.G,G=b&h.S,u=b&h.P,H=b&h.B,J=b&h.W,K=w?m:m[e]||(m[e]={}),M=K.prototype,G=w?k:G?k[e]:(k[e]||{}).prototype;w&&(f=e);for(g in f)(e=!v&&G&&void 0!==G[g])&&g in K||(p=e?G[g]:f[g],K[g]=w&&"function"!=typeof G[g]?f[g]:H&&e?n(p,k):J&&G[g]==p?function(b){var e=function(e,g,h){if(this instanceof b){switch(arguments.length){case 0:return new b;case 1:return new b(e);case 2:return new b(e,
g)}return new b(e,g,h)}return b.apply(this,arguments)};return e.prototype=b.prototype,e}(p):u&&"function"==typeof p?n(Function.call,p):p,u&&((K.virtual||(K.virtual={}))[g]=p,b&h.R&&M&&!M[g]&&t(M,g,p)))};h.F=1;h.G=2;h.S=4;h.P=8;h.B=16;h.W=32;h.U=64;h.R=128;e.exports=h},{"./_core":40,"./_ctx":41,"./_global":46,"./_hide":47}],45:[function(b,e,f){e.exports=function(b){try{return!!b()}catch(m){return!0}}},{}],46:[function(b,e,f){b=e.exports="undefined"!=typeof window&&Math==Math?window:"undefined"!=typeof self&&
self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=b)},{}],47:[function(b,e,f){var k=b("./_object-dp"),m=b("./_property-desc");e.exports=b("./_descriptors")?function(b,e,h){return k.f(b,e,m(1,h))}:function(b,e,h){return b[e]=h,b}},{"./_descriptors":42,"./_object-dp":52,"./_property-desc":53}],48:[function(b,e,f){e.exports=b("./_global").document&&document.documentElement},{"./_global":46}],49:[function(b,e,f){e.exports=!b("./_descriptors")&&!b("./_fails")(function(){return 7!=
Object.defineProperty(b("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":42,"./_dom-create":43,"./_fails":45}],50:[function(b,e,f){e.exports=function(b,e,f){var k=void 0===f;switch(e.length){case 0:return k?b():b.call(f);case 1:return k?b(e[0]):b.call(f,e[0]);case 2:return k?b(e[0],e[1]):b.call(f,e[0],e[1]);case 3:return k?b(e[0],e[1],e[2]):b.call(f,e[0],e[1],e[2]);case 4:return k?b(e[0],e[1],e[2],e[3]):b.call(f,e[0],e[1],e[2],e[3])}return b.apply(f,e)}},{}],51:[function(b,
e,f){e.exports=function(b){return"object"==typeof b?null!==b:"function"==typeof b}},{}],52:[function(b,e,f){var k=b("./_an-object"),m=b("./_ie8-dom-define"),n=b("./_to-primitive"),t=Object.defineProperty;f.f=b("./_descriptors")?Object.defineProperty:function(b,e,g){if(k(b),e=n(e,!0),k(g),m)try{return t(b,e,g)}catch(v){}if("get"in g||"set"in g)throw TypeError("Accessors not supported!");return"value"in g&&(b[e]=g.value),b}},{"./_an-object":38,"./_descriptors":42,"./_ie8-dom-define":49,"./_to-primitive":55}],
53:[function(b,e,f){e.exports=function(b,e){return{enumerable:!(1&b),configurable:!(2&b),writable:!(4&b),value:e}}},{}],54:[function(b,e,f){var k,m,n,t=b("./_ctx"),h=b("./_invoke"),p=b("./_html"),g=b("./_dom-create"),v=b("./_global"),A=v.process;f=v.setImmediate;var z=v.clearImmediate,y=v.MessageChannel,w=0,G={},u=function(){var b=+this;if(G.hasOwnProperty(b)){var e=G[b];delete G[b];e()}},H=function(b){u.call(b.data)};f&&z||(f=function(b){for(var e=[],g=1;arguments.length>g;)e.push(arguments[g++]);
return G[++w]=function(){h("function"==typeof b?b:Function(b),e)},k(w),w},z=function(b){delete G[b]},"process"==b("./_cof")(A)?k=function(b){A.nextTick(t(u,b,1))}:y?(m=new y,n=m.port2,m.port1.onmessage=H,k=t(n.postMessage,n,1)):v.addEventListener&&"function"==typeof postMessage&&!v.importScripts?(k=function(b){v.postMessage(b+"","*")},v.addEventListener("message",H,!1)):k="onreadystatechange"in g("script")?function(b){p.appendChild(g("script")).onreadystatechange=function(){p.removeChild(this);u.call(b)}}:
function(b){setTimeout(t(u,b,1),0)});e.exports={set:f,clear:z}},{"./_cof":39,"./_ctx":41,"./_dom-create":43,"./_global":46,"./_html":48,"./_invoke":50}],55:[function(b,e,f){var k=b("./_is-object");e.exports=function(b,e){if(!k(b))return b;var f,h;if(e&&"function"==typeof(f=b.toString)&&!k(h=f.call(b))||"function"==typeof(f=b.valueOf)&&!k(h=f.call(b))||!e&&"function"==typeof(f=b.toString)&&!k(h=f.call(b)))return h;throw TypeError("Can't convert object to primitive value");}},{"./_is-object":51}],56:[function(b,
e,f){e=b("./_export");b=b("./_task");e(e.G+e.B,{setImmediate:b.set,clearImmediate:b.clear})},{"./_export":44,"./_task":54}],57:[function(b,e,f){(function(b){function f(){v=!0;for(var b,e,g=A.length;g;){e=A;A=[];for(b=-1;++b<g;)e[b]();g=A.length}v=!1}var k,t=b.MutationObserver||b.WebKitMutationObserver;if(t){var h=0,t=new t(f),p=b.document.createTextNode("");t.observe(p,{characterData:!0});k=function(){p.data=h=++h%2}}else if(b.setImmediate||"undefined"==typeof b.MessageChannel)k="document"in b&&"onreadystatechange"in
b.document.createElement("script")?function(){var e=b.document.createElement("script");e.onreadystatechange=function(){f();e.onreadystatechange=null;e.parentNode.removeChild(e);e=null};b.document.documentElement.appendChild(e)}:function(){setTimeout(f,0)};else{var g=new b.MessageChannel;g.port1.onmessage=f;k=function(){g.port2.postMessage(0)}}var v,A=[];e.exports=function(b){1!==A.push(b)||v||k()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?
window:{})},{}],58:[function(b,e,f){function k(){}function m(b){if("function"!=typeof b)throw new TypeError("resolver must be a function");this.state=w;this.queue=[];this.outcome=void 0;b!==k&&p(this,b)}function n(b,e,g){this.promise=b;"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled);"function"==typeof g&&(this.onRejected=g,this.callRejected=this.otherCallRejected)}function t(b,e,g){v(function(){var h;try{h=e(g)}catch(K){return A.reject(b,K)}h===b?A.reject(b,new TypeError("Cannot resolve promise with itself")):
A.resolve(b,h)})}function h(b){var e=b&&b.then;if(b&&"object"==typeof b&&"function"==typeof e)return function(){e.apply(b,arguments)}}function p(b,e){function h(e){k||(k=!0,A.reject(b,e))}function f(e){k||(k=!0,A.resolve(b,e))}var k=!1,p=g(function(){e(f,h)});"error"===p.status&&h(p.value)}function g(b,e){var g={};try{g.value=b(e),g.status="success"}catch(J){g.status="error",g.value=J}return g}var v=b("immediate"),A={},z=["REJECTED"],y=["FULFILLED"],w=["PENDING"];e.exports=m;m.prototype["catch"]=
function(b){return this.then(null,b)};m.prototype.then=function(b,e){if("function"!=typeof b&&this.state===y||"function"!=typeof e&&this.state===z)return this;var g=new this.constructor(k);this.state!==w?t(g,this.state===y?b:e,this.outcome):this.queue.push(new n(g,b,e));return g};n.prototype.callFulfilled=function(b){A.resolve(this.promise,b)};n.prototype.otherCallFulfilled=function(b){t(this.promise,this.onFulfilled,b)};n.prototype.callRejected=function(b){A.reject(this.promise,b)};n.prototype.otherCallRejected=
function(b){t(this.promise,this.onRejected,b)};A.resolve=function(b,e){var f=g(h,e);if("error"===f.status)return A.reject(b,f.value);if(f=f.value)p(b,f);else{b.state=y;b.outcome=e;for(var f=-1,k=b.queue.length;++f<k;)b.queue[f].callFulfilled(e)}return b};A.reject=function(b,e){b.state=z;b.outcome=e;for(var g=-1,h=b.queue.length;++g<h;)b.queue[g].callRejected(e);return b};m.resolve=function(b){return b instanceof this?b:A.resolve(new this(k),b)};m.reject=function(b){var e=new this(k);return A.reject(e,
b)};m.all=function(b){function e(b,e){g.resolve(b).then(function(b){p[e]=b;++m!==h||f||(f=!0,A.resolve(v,p))},function(b){f||(f=!0,A.reject(v,b))})}var g=this;if("[object Array]"!==Object.prototype.toString.call(b))return this.reject(new TypeError("must be an array"));var h=b.length,f=!1;if(!h)return this.resolve([]);for(var p=Array(h),m=0,n=-1,v=new this(k);++n<h;)e(b[n],n);return v};m.race=function(b){function e(b){g.resolve(b).then(function(b){f||(f=!0,A.resolve(m,b))},function(b){f||(f=!0,A.reject(m,
b))})}var g=this;if("[object Array]"!==Object.prototype.toString.call(b))return this.reject(new TypeError("must be an array"));var h=b.length,f=!1;if(!h)return this.resolve([]);for(var p=-1,m=new this(k);++p<h;)e(b[p]);return m}},{immediate:57}],59:[function(b,e,f){f=b("./lib/utils/common").assign;var k=b("./lib/deflate"),m=b("./lib/inflate");b=b("./lib/zlib/constants");var n={};f(n,k,m,b);e.exports=n},{"./lib/deflate":60,"./lib/inflate":61,"./lib/utils/common":62,"./lib/zlib/constants":65}],60:[function(b,
e,f){function k(b){if(!(this instanceof k))return new k(b);b=this.options=t.assign({level:z,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},b||{});b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&16>b.windowBits&&(b.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new g;this.strm.avail_out=0;var e=n.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(e!==A)throw Error(p[e]);if(b.header&&n.deflateSetHeader(this.strm,
b.header),b.dictionary){var f;if(f="string"==typeof b.dictionary?h.string2buf(b.dictionary):"[object ArrayBuffer]"===v.call(b.dictionary)?new Uint8Array(b.dictionary):b.dictionary,e=n.deflateSetDictionary(this.strm,f),e!==A)throw Error(p[e]);this._dict_set=!0}}function m(b,e){var g=new k(e);if(g.push(b,!0),g.err)throw g.msg;return g.result}var n=b("./zlib/deflate"),t=b("./utils/common"),h=b("./utils/strings"),p=b("./zlib/messages"),g=b("./zlib/zstream"),v=Object.prototype.toString,A=0,z=-1,y=0,w=
8;k.prototype.push=function(b,e){var g,f,k=this.strm,p=this.options.chunkSize;if(this.ended)return!1;f=e===~~e?e:!0===e?4:0;"string"==typeof b?k.input=h.string2buf(b):"[object ArrayBuffer]"===v.call(b)?k.input=new Uint8Array(b):k.input=b;k.next_in=0;k.avail_in=k.input.length;do{if(0===k.avail_out&&(k.output=new t.Buf8(p),k.next_out=0,k.avail_out=p),g=n.deflate(k,f),1!==g&&g!==A)return this.onEnd(g),this.ended=!0,!1;0!==k.avail_out&&(0!==k.avail_in||4!==f&&2!==f)||("string"===this.options.to?this.onData(h.buf2binstring(t.shrinkBuf(k.output,
k.next_out))):this.onData(t.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||0===k.avail_out)&&1!==g);return 4===f?(g=n.deflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===A):2!==f||(this.onEnd(A),k.avail_out=0,!0)};k.prototype.onData=function(b){this.chunks.push(b)};k.prototype.onEnd=function(b){b===A&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks));this.chunks=[];this.err=b;this.msg=this.strm.msg};f.Deflate=k;f.deflate=m;f.deflateRaw=
function(b,e){return e=e||{},e.raw=!0,m(b,e)};f.gzip=function(b,e){return e=e||{},e.gzip=!0,m(b,e)}},{"./utils/common":62,"./utils/strings":63,"./zlib/deflate":67,"./zlib/messages":72,"./zlib/zstream":74}],61:[function(b,e,f){function k(b){if(!(this instanceof k))return new k(b);var e=this.options=t.assign({chunkSize:16384,windowBits:0,to:""},b||{});e.raw&&0<=e.windowBits&&16>e.windowBits&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15));!(0<=e.windowBits&&16>e.windowBits)||b&&b.windowBits||
(e.windowBits+=32);15<e.windowBits&&48>e.windowBits&&0===(15&e.windowBits)&&(e.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new v;this.strm.avail_out=0;b=n.inflateInit2(this.strm,e.windowBits);if(b!==p.Z_OK)throw Error(g[b]);this.header=new A;n.inflateGetHeader(this.strm,this.header)}function m(b,e){var g=new k(e);if(g.push(b,!0),g.err)throw g.msg;return g.result}var n=b("./zlib/inflate"),t=b("./utils/common"),h=b("./utils/strings"),p=b("./zlib/constants"),g=b("./zlib/messages"),
v=b("./zlib/zstream"),A=b("./zlib/gzheader"),z=Object.prototype.toString;k.prototype.push=function(b,e){var g,f,k,m,v,A,y=this.strm,w=this.options.chunkSize,D=this.options.dictionary,B=!1;if(this.ended)return!1;f=e===~~e?e:!0===e?p.Z_FINISH:p.Z_NO_FLUSH;"string"==typeof b?y.input=h.binstring2buf(b):"[object ArrayBuffer]"===z.call(b)?y.input=new Uint8Array(b):y.input=b;y.next_in=0;y.avail_in=y.input.length;do{if(0===y.avail_out&&(y.output=new t.Buf8(w),y.next_out=0,y.avail_out=w),g=n.inflate(y,p.Z_NO_FLUSH),
g===p.Z_NEED_DICT&&D&&(A="string"==typeof D?h.string2buf(D):"[object ArrayBuffer]"===z.call(D)?new Uint8Array(D):D,g=n.inflateSetDictionary(this.strm,A)),g===p.Z_BUF_ERROR&&!0===B&&(g=p.Z_OK,B=!1),g!==p.Z_STREAM_END&&g!==p.Z_OK)return this.onEnd(g),this.ended=!0,!1;y.next_out&&(0!==y.avail_out&&g!==p.Z_STREAM_END&&(0!==y.avail_in||f!==p.Z_FINISH&&f!==p.Z_SYNC_FLUSH)||("string"===this.options.to?(k=h.utf8border(y.output,y.next_out),m=y.next_out-k,v=h.buf2string(y.output,k),y.next_out=m,y.avail_out=
w-m,m&&t.arraySet(y.output,y.output,k,m,0),this.onData(v)):this.onData(t.shrinkBuf(y.output,y.next_out))));0===y.avail_in&&0===y.avail_out&&(B=!0)}while((0<y.avail_in||0===y.avail_out)&&g!==p.Z_STREAM_END);return g===p.Z_STREAM_END&&(f=p.Z_FINISH),f===p.Z_FINISH?(g=n.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===p.Z_OK):f!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),y.avail_out=0,!0)};k.prototype.onData=function(b){this.chunks.push(b)};k.prototype.onEnd=function(b){b===p.Z_OK&&("string"===this.options.to?
this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks));this.chunks=[];this.err=b;this.msg=this.strm.msg};f.Inflate=k;f.inflate=m;f.inflateRaw=function(b,e){return e=e||{},e.raw=!0,m(b,e)};f.ungzip=m},{"./utils/common":62,"./utils/strings":63,"./zlib/constants":65,"./zlib/gzheader":68,"./zlib/inflate":70,"./zlib/messages":72,"./zlib/zstream":74}],62:[function(b,e,f){b="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;f.assign=function(b){for(var e=
Array.prototype.slice.call(arguments,1);e.length;){var h=e.shift();if(h){if("object"!=typeof h)throw new TypeError(h+"must be non-object");for(var f in h)h.hasOwnProperty(f)&&(b[f]=h[f])}}return b};f.shrinkBuf=function(b,e){return b.length===e?b:b.subarray?b.subarray(0,e):(b.length=e,b)};var k={arraySet:function(b,e,h,f,g){if(e.subarray&&b.subarray)return void b.set(e.subarray(h,h+f),g);for(var k=0;k<f;k++)b[g+k]=e[h+k]},flattenChunks:function(b){var e,h,f,g,k;e=f=0;for(h=b.length;e<h;e++)f+=b[e].length;
k=new Uint8Array(f);e=f=0;for(h=b.length;e<h;e++)g=b[e],k.set(g,f),f+=g.length;return k}},m={arraySet:function(b,e,h,f,g){for(var k=0;k<f;k++)b[g+k]=e[h+k]},flattenChunks:function(b){return[].concat.apply([],b)}};f.setTyped=function(b){b?(f.Buf8=Uint8Array,f.Buf16=Uint16Array,f.Buf32=Int32Array,f.assign(f,k)):(f.Buf8=Array,f.Buf16=Array,f.Buf32=Array,f.assign(f,m))};f.setTyped(b)},{}],63:[function(b,e,f){function k(b,e){if(65537>e&&(b.subarray&&t||!b.subarray&&n))return String.fromCharCode.apply(null,
m.shrinkBuf(b,e));for(var g="",h=0;h<e;h++)g+=String.fromCharCode(b[h]);return g}var m=b("./common"),n=!0,t=!0;try{String.fromCharCode.apply(null,[0])}catch(p){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(p){t=!1}var h=new m.Buf8(256);for(b=0;256>b;b++)h[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;h[254]=h[254]=1;f.string2buf=function(b){var e,h,f,k,p,n=b.length,t=0;for(k=0;k<n;k++)h=b.charCodeAt(k),55296===(64512&h)&&k+1<n&&(f=b.charCodeAt(k+1),56320===(64512&f)&&(h=65536+
(h-55296<<10)+(f-56320),k++)),t+=128>h?1:2048>h?2:65536>h?3:4;e=new m.Buf8(t);for(k=p=0;p<t;k++)h=b.charCodeAt(k),55296===(64512&h)&&k+1<n&&(f=b.charCodeAt(k+1),56320===(64512&f)&&(h=65536+(h-55296<<10)+(f-56320),k++)),128>h?e[p++]=h:2048>h?(e[p++]=192|h>>>6,e[p++]=128|63&h):65536>h?(e[p++]=224|h>>>12,e[p++]=128|h>>>6&63,e[p++]=128|63&h):(e[p++]=240|h>>>18,e[p++]=128|h>>>12&63,e[p++]=128|h>>>6&63,e[p++]=128|63&h);return e};f.buf2binstring=function(b){return k(b,b.length)};f.binstring2buf=function(b){for(var e=
new m.Buf8(b.length),h=0,f=e.length;h<f;h++)e[h]=b.charCodeAt(h);return e};f.buf2string=function(b,e){var g,f,p,m,n=e||b.length,t=Array(2*n);for(g=f=0;g<n;)if(p=b[g++],128>p)t[f++]=p;else if(m=h[p],4<m)t[f++]=65533,g+=m-1;else{for(p&=2===m?31:3===m?15:7;1<m&&g<n;)p=p<<6|63&b[g++],m--;1<m?t[f++]=65533:65536>p?t[f++]=p:(p-=65536,t[f++]=55296|p>>10&1023,t[f++]=56320|1023&p)}return k(t,f)};f.utf8border=function(b,e){var g;e=e||b.length;e>b.length&&(e=b.length);for(g=e-1;0<=g&&128===(192&b[g]);)g--;return 0>
g?e:0===g?e:g+h[b[g]]>e?g:e}},{"./common":62}],64:[function(b,e,f){e.exports=function(b,e,f,t){var h=65535&b|0;b=b>>>16&65535|0;for(var k;0!==f;){k=2E3<f?2E3:f;f-=k;do h=h+e[t++]|0,b=b+h|0;while(--k);h%=65521;b%=65521}return h|b<<16|0}},{}],65:[function(b,e,f){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,
Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],66:[function(b,e,f){var k=function(){for(var b,e=[],f=0;256>f;f++){b=f;for(var h=0;8>h;h++)b=1&b?3988292384^b>>>1:b>>>1;e[f]=b}return e}();e.exports=function(b,e,f,h){f=h+f;for(b^=-1;h<f;h++)b=b>>>8^k[255&(b^e[h])];return b^-1}},{}],67:[function(b,e,f){function k(b,e){return b.msg=D[e],e}function m(b){for(var e=b.length;0<=--e;)b[e]=0}function n(b){var e=
b.state,g=e.pending;g>b.avail_out&&(g=b.avail_out);0!==g&&(K.arraySet(b.output,e.pending_buf,e.pending_out,g,b.next_out),b.next_out+=g,e.pending_out+=g,b.total_out+=g,b.avail_out-=g,e.pending-=g,0===e.pending&&(e.pending_out=0))}function t(b,e){M._tr_flush_block(b,0<=b.block_start?b.block_start:-1,b.strstart-b.block_start,e);b.block_start=b.strstart;n(b.strm)}function h(b,e){b.pending_buf[b.pending++]=e}function p(b,e){b.pending_buf[b.pending++]=e>>>8&255;b.pending_buf[b.pending++]=255&e}function g(b,
e){var g,h,f=b.max_chain_length,k=b.strstart,p=b.prev_length,m=b.nice_match,E=b.strstart>b.w_size-Y?b.strstart-(b.w_size-Y):0,n=b.window,I=b.w_mask,v=b.prev,q=b.strstart+V,D=n[k+p-1],t=n[k+p];b.prev_length>=b.good_match&&(f>>=2);m>b.lookahead&&(m=b.lookahead);do if(g=e,n[g+p]===t&&n[g+p-1]===D&&n[g]===n[k]&&n[++g]===n[k+1]){k+=2;for(g++;n[++k]===n[++g]&&n[++k]===n[++g]&&n[++k]===n[++g]&&n[++k]===n[++g]&&n[++k]===n[++g]&&n[++k]===n[++g]&&n[++k]===n[++g]&&n[++k]===n[++g]&&k<q;);if(h=V-(q-k),k=q-V,h>
p){if(b.match_start=e,p=h,h>=m)break;D=n[k+p-1];t=n[k+p]}}while((e=v[e&I])>E&&0!==--f);return p<=b.lookahead?p:b.lookahead}function v(b){var e,g,h,f,k=b.w_size;do{if(f=b.window_size-b.lookahead-b.strstart,b.strstart>=k+(k-Y)){K.arraySet(b.window,b.window,k,k,0);b.match_start-=k;b.strstart-=k;b.block_start-=k;e=g=b.hash_size;do h=b.head[--e],b.head[e]=h>=k?h-k:0;while(--g);e=g=k;do h=b.prev[--e],b.prev[e]=h>=k?h-k:0;while(--g);f+=k}if(0===b.strm.avail_in)break;e=b.strm;h=b.window;var p=b.strstart+
b.lookahead,m=e.avail_in;if(g=(m>f&&(m=f),0===m?0:(e.avail_in-=m,K.arraySet(h,e.input,e.next_in,m,p),1===e.state.wrap?e.adler=Q(e.adler,h,m,p):2===e.state.wrap&&(e.adler=O(e.adler,h,m,p)),e.next_in+=m,e.total_in+=m,m)),b.lookahead+=g,b.lookahead+b.insert>=N)for(f=b.strstart-b.insert,b.ins_h=b.window[f],b.ins_h=(b.ins_h<<b.hash_shift^b.window[f+1])&b.hash_mask;b.insert&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[f+N-1])&b.hash_mask,b.prev[f&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=f,f++,b.insert--,
!(b.lookahead+b.insert<N)););}while(b.lookahead<Y&&0!==b.strm.avail_in)}function A(b,e){for(var h,f;;){if(b.lookahead<Y){if(v(b),b.lookahead<Y&&e===B)return Z;if(0===b.lookahead)break}if(h=0,b.lookahead>=N&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+N-1])&b.hash_mask,h=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),0!==h&&b.strstart-h<=b.w_size-Y&&(b.match_length=g(b,h)),b.match_length>=N)if(f=M._tr_tally(b,b.strstart-b.match_start,b.match_length-N),b.lookahead-=
b.match_length,b.match_length<=b.max_lazy_match&&b.lookahead>=N){b.match_length--;do b.strstart++,b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+N-1])&b.hash_mask,h=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart;while(0!==--b.match_length);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+1])&b.hash_mask;else f=M._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(f&&
(t(b,!1),0===b.strm.avail_out))return Z}return b.insert=b.strstart<N-1?b.strstart:N-1,e===E?(t(b,!0),0===b.strm.avail_out?ia:ca):b.last_lit&&(t(b,!1),0===b.strm.avail_out)?Z:ha}function z(b,e){for(var h,f,k;;){if(b.lookahead<Y){if(v(b),b.lookahead<Y&&e===B)return Z;if(0===b.lookahead)break}if(h=0,b.lookahead>=N&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+N-1])&b.hash_mask,h=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),b.prev_length=b.match_length,b.prev_match=b.match_start,
b.match_length=N-1,0!==h&&b.prev_length<b.max_lazy_match&&b.strstart-h<=b.w_size-Y&&(b.match_length=g(b,h),5>=b.match_length&&(b.strategy===ja||b.match_length===N&&4096<b.strstart-b.match_start)&&(b.match_length=N-1)),b.prev_length>=N&&b.match_length<=b.prev_length){k=b.strstart+b.lookahead-N;f=M._tr_tally(b,b.strstart-1-b.prev_match,b.prev_length-N);b.lookahead-=b.prev_length-1;b.prev_length-=2;do++b.strstart<=k&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+N-1])&b.hash_mask,h=b.prev[b.strstart&
b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart);while(0!==--b.prev_length);if(b.match_available=0,b.match_length=N-1,b.strstart++,f&&(t(b,!1),0===b.strm.avail_out))return Z}else if(b.match_available){if(f=M._tr_tally(b,0,b.window[b.strstart-1]),f&&t(b,!1),b.strstart++,b.lookahead--,0===b.strm.avail_out)return Z}else b.match_available=1,b.strstart++,b.lookahead--}return b.match_available&&(M._tr_tally(b,0,b.window[b.strstart-1]),b.match_available=0),b.insert=b.strstart<N-1?b.strstart:N-1,e===
E?(t(b,!0),0===b.strm.avail_out?ia:ca):b.last_lit&&(t(b,!1),0===b.strm.avail_out)?Z:ha}function y(b,e,g,h,f){this.good_length=b;this.max_lazy=e;this.nice_length=g;this.max_chain=h;this.func=f}function w(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=ea;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=
this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new K.Buf16(2*qa);this.dyn_dtree=new K.Buf16(2*(2*pa+1));this.bl_tree=new K.Buf16(2*(2*P+1));m(this.dyn_ltree);m(this.dyn_dtree);m(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=
new K.Buf16(W+1);this.heap=new K.Buf16(2*va+1);m(this.heap);this.heap_max=this.heap_len=0;this.depth=new K.Buf16(2*va+1);m(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function G(b){var e;return b&&b.state?(b.total_in=b.total_out=0,b.data_type=na,e=b.state,e.pending=0,e.pending_out=0,0>e.wrap&&(e.wrap=-e.wrap),e.status=e.wrap?ka:la,b.adler=2===e.wrap?0:1,e.last_flush=B,M._tr_init(e),R):k(b,U)}function u(b){var e=
G(b);e===R&&(b=b.state,b.window_size=2*b.w_size,m(b.head),b.max_lazy_match=J[b.level].max_lazy,b.good_match=J[b.level].good_length,b.nice_match=J[b.level].nice_length,b.max_chain_length=J[b.level].max_chain,b.strstart=0,b.block_start=0,b.lookahead=0,b.insert=0,b.match_length=b.prev_length=N-1,b.match_available=0,b.ins_h=0);return e}function H(b,e,g,h,f,p){if(!b)return U;var m=1;if(e===T&&(e=6),0>h?(m=0,h=-h):15<h&&(m=2,h-=16),1>f||f>F||g!==ea||8>h||15<h||0>e||9<e||0>p||p>fa)return k(b,U);8===h&&(h=
9);var n=new w;return b.state=n,n.strm=b,n.wrap=m,n.gzhead=null,n.w_bits=h,n.w_size=1<<n.w_bits,n.w_mask=n.w_size-1,n.hash_bits=f+7,n.hash_size=1<<n.hash_bits,n.hash_mask=n.hash_size-1,n.hash_shift=~~((n.hash_bits+N-1)/N),n.window=new K.Buf8(2*n.w_size),n.head=new K.Buf16(n.hash_size),n.prev=new K.Buf16(n.w_size),n.lit_bufsize=1<<f+6,n.pending_buf_size=4*n.lit_bufsize,n.pending_buf=new K.Buf8(n.pending_buf_size),n.d_buf=1*n.lit_bufsize,n.l_buf=3*n.lit_bufsize,n.level=e,n.strategy=p,n.method=g,u(b)}
var J,K=b("../utils/common"),M=b("./trees"),Q=b("./adler32"),O=b("./crc32"),D=b("./messages"),B=0,E=4,R=0,U=-2,T=-1,ja=1,fa=4,na=2,ea=8,F=9,va=286,pa=30,P=19,qa=2*va+1,W=15,N=3,V=258,Y=V+N+1,ka=42,la=113,Z=1,ha=2,ia=3,ca=4;J=[new y(0,0,0,0,function(b,e){var g=65535;for(g>b.pending_buf_size-5&&(g=b.pending_buf_size-5);;){if(1>=b.lookahead){if(v(b),0===b.lookahead&&e===B)return Z;if(0===b.lookahead)break}b.strstart+=b.lookahead;b.lookahead=0;var h=b.block_start+g;if((0===b.strstart||b.strstart>=h)&&
(b.lookahead=b.strstart-h,b.strstart=h,t(b,!1),0===b.strm.avail_out)||b.strstart-b.block_start>=b.w_size-Y&&(t(b,!1),0===b.strm.avail_out))return Z}return b.insert=0,e===E?(t(b,!0),0===b.strm.avail_out?ia:ca):(b.strstart>b.block_start&&t(b,!1),Z)}),new y(4,4,8,4,A),new y(4,5,16,8,A),new y(4,6,32,32,A),new y(4,4,16,16,z),new y(8,16,32,32,z),new y(8,16,128,128,z),new y(8,32,128,256,z),new y(32,128,258,1024,z),new y(32,258,258,4096,z)];f.deflateInit=function(b,e){return H(b,e,ea,15,8,0)};f.deflateInit2=
H;f.deflateReset=u;f.deflateResetKeep=G;f.deflateSetHeader=function(b,e){return b&&b.state?2!==b.state.wrap?U:(b.state.gzhead=e,R):U};f.deflate=function(b,e){var g,f,D,u;if(!b||!b.state||5<e||0>e)return b?k(b,U):U;if(f=b.state,!b.output||!b.input&&0!==b.avail_in||666===f.status&&e!==E)return k(b,0===b.avail_out?-5:U);if(f.strm=b,g=f.last_flush,f.last_flush=e,f.status===ka)2===f.wrap?(b.adler=0,h(f,31),h(f,139),h(f,8),f.gzhead?(h(f,(f.gzhead.text?1:0)+(f.gzhead.hcrc?2:0)+(f.gzhead.extra?4:0)+(f.gzhead.name?
8:0)+(f.gzhead.comment?16:0)),h(f,255&f.gzhead.time),h(f,f.gzhead.time>>8&255),h(f,f.gzhead.time>>16&255),h(f,f.gzhead.time>>24&255),h(f,9===f.level?2:2<=f.strategy||2>f.level?4:0),h(f,255&f.gzhead.os),f.gzhead.extra&&f.gzhead.extra.length&&(h(f,255&f.gzhead.extra.length),h(f,f.gzhead.extra.length>>8&255)),f.gzhead.hcrc&&(b.adler=O(b.adler,f.pending_buf,f.pending,0)),f.gzindex=0,f.status=69):(h(f,0),h(f,0),h(f,0),h(f,0),h(f,0),h(f,9===f.level?2:2<=f.strategy||2>f.level?4:0),h(f,3),f.status=la)):(D=
ea+(f.w_bits-8<<4)<<8,D|=(2<=f.strategy||2>f.level?0:6>f.level?1:6===f.level?2:3)<<6,0!==f.strstart&&(D|=32),f.status=la,p(f,D+(31-D%31)),0!==f.strstart&&(p(f,b.adler>>>16),p(f,65535&b.adler)),b.adler=1);if(69===f.status)if(f.gzhead.extra){for(D=f.pending;f.gzindex<(65535&f.gzhead.extra.length)&&(f.pending!==f.pending_buf_size||(f.gzhead.hcrc&&f.pending>D&&(b.adler=O(b.adler,f.pending_buf,f.pending-D,D)),n(b),D=f.pending,f.pending!==f.pending_buf_size));)h(f,255&f.gzhead.extra[f.gzindex]),f.gzindex++;
f.gzhead.hcrc&&f.pending>D&&(b.adler=O(b.adler,f.pending_buf,f.pending-D,D));f.gzindex===f.gzhead.extra.length&&(f.gzindex=0,f.status=73)}else f.status=73;if(73===f.status)if(f.gzhead.name){D=f.pending;do{if(f.pending===f.pending_buf_size&&(f.gzhead.hcrc&&f.pending>D&&(b.adler=O(b.adler,f.pending_buf,f.pending-D,D)),n(b),D=f.pending,f.pending===f.pending_buf_size)){u=1;break}u=f.gzindex<f.gzhead.name.length?255&f.gzhead.name.charCodeAt(f.gzindex++):0;h(f,u)}while(0!==u);f.gzhead.hcrc&&f.pending>D&&
(b.adler=O(b.adler,f.pending_buf,f.pending-D,D));0===u&&(f.gzindex=0,f.status=91)}else f.status=91;if(91===f.status)if(f.gzhead.comment){D=f.pending;do{if(f.pending===f.pending_buf_size&&(f.gzhead.hcrc&&f.pending>D&&(b.adler=O(b.adler,f.pending_buf,f.pending-D,D)),n(b),D=f.pending,f.pending===f.pending_buf_size)){u=1;break}u=f.gzindex<f.gzhead.comment.length?255&f.gzhead.comment.charCodeAt(f.gzindex++):0;h(f,u)}while(0!==u);f.gzhead.hcrc&&f.pending>D&&(b.adler=O(b.adler,f.pending_buf,f.pending-D,
D));0===u&&(f.status=103)}else f.status=103;if(103===f.status&&(f.gzhead.hcrc?(f.pending+2>f.pending_buf_size&&n(b),f.pending+2<=f.pending_buf_size&&(h(f,255&b.adler),h(f,b.adler>>8&255),b.adler=0,f.status=la)):f.status=la),0!==f.pending){if(n(b),0===b.avail_out)return f.last_flush=-1,R}else if(0===b.avail_in&&(e<<1)-(4<e?9:0)<=(g<<1)-(4<g?9:0)&&e!==E)return k(b,-5);if(666===f.status&&0!==b.avail_in)return k(b,-5);if(0!==b.avail_in||0!==f.lookahead||e!==B&&666!==f.status){var z;if(2===f.strategy)a:{for(var y;;){if(0===
f.lookahead&&(v(f),0===f.lookahead)){if(e===B){z=Z;break a}break}if(f.match_length=0,y=M._tr_tally(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++,y&&(t(f,!1),0===f.strm.avail_out)){z=Z;break a}}z=(f.insert=0,e===E?(t(f,!0),0===f.strm.avail_out?ia:ca):f.last_lit&&(t(f,!1),0===f.strm.avail_out)?Z:ha)}else if(3===f.strategy)a:{var A,w;for(y=f.window;;){if(f.lookahead<=V){if(v(f),f.lookahead<=V&&e===B){z=Z;break a}if(0===f.lookahead)break}if(f.match_length=0,f.lookahead>=N&&0<f.strstart&&(w=f.strstart-
1,A=y[w],A===y[++w]&&A===y[++w]&&A===y[++w])){for(g=f.strstart+V;A===y[++w]&&A===y[++w]&&A===y[++w]&&A===y[++w]&&A===y[++w]&&A===y[++w]&&A===y[++w]&&A===y[++w]&&w<g;);f.match_length=V-(g-w);f.match_length>f.lookahead&&(f.match_length=f.lookahead)}if(f.match_length>=N?(z=M._tr_tally(f,1,f.match_length-N),f.lookahead-=f.match_length,f.strstart+=f.match_length,f.match_length=0):(z=M._tr_tally(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++),z&&(t(f,!1),0===f.strm.avail_out)){z=Z;break a}}z=(f.insert=
0,e===E?(t(f,!0),0===f.strm.avail_out?ia:ca):f.last_lit&&(t(f,!1),0===f.strm.avail_out)?Z:ha)}else z=J[f.level].func(f,e);if(z!==ia&&z!==ca||(f.status=666),z===Z||z===ia)return 0===b.avail_out&&(f.last_flush=-1),R;if(z===ha&&(1===e?M._tr_align(f):5!==e&&(M._tr_stored_block(f,0,0,!1),3===e&&(m(f.head),0===f.lookahead&&(f.strstart=0,f.block_start=0,f.insert=0))),n(b),0===b.avail_out))return f.last_flush=-1,R}return e!==E?R:0>=f.wrap?1:(2===f.wrap?(h(f,255&b.adler),h(f,b.adler>>8&255),h(f,b.adler>>16&
255),h(f,b.adler>>24&255),h(f,255&b.total_in),h(f,b.total_in>>8&255),h(f,b.total_in>>16&255),h(f,b.total_in>>24&255)):(p(f,b.adler>>>16),p(f,65535&b.adler)),n(b),0<f.wrap&&(f.wrap=-f.wrap),0!==f.pending?R:1)};f.deflateEnd=function(b){var e;return b&&b.state?(e=b.state.status,e!==ka&&69!==e&&73!==e&&91!==e&&103!==e&&e!==la&&666!==e?k(b,U):(b.state=null,e===la?k(b,-3):R)):U};f.deflateSetDictionary=function(b,e){var g,f,h,k,p,n,E;f=e.length;if(!b||!b.state||(g=b.state,k=g.wrap,2===k||1===k&&g.status!==
ka||g.lookahead))return U;1===k&&(b.adler=Q(b.adler,e,f,0));g.wrap=0;f>=g.w_size&&(0===k&&(m(g.head),g.strstart=0,g.block_start=0,g.insert=0),p=new K.Buf8(g.w_size),K.arraySet(p,e,f-g.w_size,g.w_size,0),e=p,f=g.w_size);p=b.avail_in;n=b.next_in;E=b.input;b.avail_in=f;b.next_in=0;b.input=e;for(v(g);g.lookahead>=N;){f=g.strstart;h=g.lookahead-(N-1);do g.ins_h=(g.ins_h<<g.hash_shift^g.window[f+N-1])&g.hash_mask,g.prev[f&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=f,f++;while(--h);g.strstart=f;g.lookahead=
N-1;v(g)}return g.strstart+=g.lookahead,g.block_start=g.strstart,g.insert=g.lookahead,g.lookahead=0,g.match_length=g.prev_length=N-1,g.match_available=0,b.next_in=n,b.input=E,b.avail_in=p,g.wrap=k,R};f.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./messages":72,"./trees":73}],68:[function(b,e,f){e.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1}},
{}],69:[function(b,e,f){e.exports=function(b,e){var f,k,h,p,g,m,A,z,y,w,G,u,H,J,K,M,Q,O,D,B,E,R,U,T;f=b.state;k=b.next_in;U=b.input;h=k+(b.avail_in-5);p=b.next_out;T=b.output;g=p-(e-b.avail_out);m=p+(b.avail_out-257);A=f.dmax;z=f.wsize;y=f.whave;w=f.wnext;G=f.window;u=f.hold;H=f.bits;J=f.lencode;K=f.distcode;M=(1<<f.lenbits)-1;Q=(1<<f.distbits)-1;a:do b:for(15>H&&(u+=U[k++]<<H,H+=8,u+=U[k++]<<H,H+=8),O=J[u&M];;){if(D=O>>>24,u>>>=D,H-=D,D=O>>>16&255,0===D)T[p++]=65535&O;else{if(!(16&D)){if(0===(64&
D)){O=J[(65535&O)+(u&(1<<D)-1)];continue b}if(32&D){f.mode=12;break a}b.msg="invalid literal/length code";f.mode=30;break a}B=65535&O;(D&=15)&&(H<D&&(u+=U[k++]<<H,H+=8),B+=u&(1<<D)-1,u>>>=D,H-=D);15>H&&(u+=U[k++]<<H,H+=8,u+=U[k++]<<H,H+=8);O=K[u&Q];c:for(;;){if(D=O>>>24,u>>>=D,H-=D,D=O>>>16&255,!(16&D)){if(0===(64&D)){O=K[(65535&O)+(u&(1<<D)-1)];continue c}b.msg="invalid distance code";f.mode=30;break a}if(E=65535&O,D&=15,H<D&&(u+=U[k++]<<H,H+=8,H<D&&(u+=U[k++]<<H,H+=8)),E+=u&(1<<D)-1,E>A){b.msg=
"invalid distance too far back";f.mode=30;break a}if(u>>>=D,H-=D,D=p-g,E>D){if(D=E-D,D>y&&f.sane){b.msg="invalid distance too far back";f.mode=30;break a}if(O=0,R=G,0===w){if(O+=z-D,D<B){B-=D;do T[p++]=G[O++];while(--D);O=p-E;R=T}}else if(w<D){if(O+=z+w-D,D-=w,D<B){B-=D;do T[p++]=G[O++];while(--D);if(O=0,w<B){D=w;B-=D;do T[p++]=G[O++];while(--D);O=p-E;R=T}}}else if(O+=w-D,D<B){B-=D;do T[p++]=G[O++];while(--D);O=p-E;R=T}for(;2<B;)T[p++]=R[O++],T[p++]=R[O++],T[p++]=R[O++],B-=3;B&&(T[p++]=R[O++],1<B&&
(T[p++]=R[O++]))}else{O=p-E;do T[p++]=T[O++],T[p++]=T[O++],T[p++]=T[O++],B-=3;while(2<B);B&&(T[p++]=T[O++],1<B&&(T[p++]=T[O++]))}break}}break}while(k<h&&p<m);B=H>>3;k-=B;H-=B<<3;b.next_in=k;b.next_out=p;b.avail_in=k<h?5+(h-k):5-(k-h);b.avail_out=p<m?257+(m-p):257-(p-m);f.hold=u&(1<<H)-1;f.bits=H}},{}],70:[function(b,e,f){function k(b){return(b>>>24&255)+(b>>>8&65280)+((65280&b)<<8)+((255&b)<<24)}function m(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=
0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new z.Buf16(320);this.work=new z.Buf16(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function n(b){var e;return b&&b.state?(e=b.state,b.total_in=b.total_out=e.total=0,b.msg="",e.wrap&&(b.adler=1&e.wrap),e.mode=K,e.last=
0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new z.Buf32(M),e.distcode=e.distdyn=new z.Buf32(Q),e.sane=1,e.back=-1,H):J}function t(b){var e;return b&&b.state?(e=b.state,e.wsize=0,e.whave=0,e.wnext=0,n(b)):J}function h(b,e){var g,f;return b&&b.state?(f=b.state,0>e?(g=0,e=-e):(g=(e>>4)+1,48>e&&(e&=15)),e&&(8>e||15<e)?J:(null!==f.window&&f.wbits!==e&&(f.window=null),f.wrap=g,f.wbits=e,t(b))):J}function p(b,e){var g,f;return b?(f=new m,b.state=f,f.window=null,g=h(b,e),
g!==H&&(b.state=null),g):J}function g(b,e,g,f){var h;b=b.state;return null===b.window&&(b.wsize=1<<b.wbits,b.wnext=0,b.whave=0,b.window=new z.Buf8(b.wsize)),f>=b.wsize?(z.arraySet(b.window,e,g-b.wsize,b.wsize,0),b.wnext=0,b.whave=b.wsize):(h=b.wsize-b.wnext,h>f&&(h=f),z.arraySet(b.window,e,g-f,h,b.wnext),f-=h,f?(z.arraySet(b.window,e,g-f,f,0),b.wnext=f,b.whave=b.wsize):(b.wnext+=h,b.wnext===b.wsize&&(b.wnext=0),b.whave<b.wsize&&(b.whave+=h))),0}var v,A,z=b("../utils/common"),y=b("./adler32"),w=b("./crc32"),
G=b("./inffast"),u=b("./inftrees"),H=0,J=-2,K=1,M=852,Q=592,O=!0;f.inflateReset=t;f.inflateReset2=h;f.inflateResetKeep=n;f.inflateInit=function(b){return p(b,15)};f.inflateInit2=p;f.inflate=function(b,e){var f,h,p,m,n,t,D,B,F,M,Q,P,qa,W,N,V,Y,ka,la,Z,ha,ia,ca=0,I=new z.Buf8(4),xa=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!b||!b.state||!b.output||!b.input&&0!==b.avail_in)return J;f=b.state;12===f.mode&&(f.mode=13);n=b.next_out;p=b.output;D=b.avail_out;m=b.next_in;h=b.input;t=b.avail_in;B=
f.hold;F=f.bits;M=t;Q=D;ha=H;a:for(;;)switch(f.mode){case K:if(0===f.wrap){f.mode=13;break}for(;16>F;){if(0===t)break a;t--;B+=h[m++]<<F;F+=8}if(2&f.wrap&&35615===B){f.check=0;I[0]=255&B;I[1]=B>>>8&255;f.check=w(f.check,I,2,0);F=B=0;f.mode=2;break}if(f.flags=0,f.head&&(f.head.done=!1),!(1&f.wrap)||(((255&B)<<8)+(B>>8))%31){b.msg="incorrect header check";f.mode=30;break}if(8!==(15&B)){b.msg="unknown compression method";f.mode=30;break}if(B>>>=4,F-=4,Z=(15&B)+8,0===f.wbits)f.wbits=Z;else if(Z>f.wbits){b.msg=
"invalid window size";f.mode=30;break}f.dmax=1<<Z;b.adler=f.check=1;f.mode=512&B?10:12;F=B=0;break;case 2:for(;16>F;){if(0===t)break a;t--;B+=h[m++]<<F;F+=8}if(f.flags=B,8!==(255&f.flags)){b.msg="unknown compression method";f.mode=30;break}if(57344&f.flags){b.msg="unknown header flags set";f.mode=30;break}f.head&&(f.head.text=B>>8&1);512&f.flags&&(I[0]=255&B,I[1]=B>>>8&255,f.check=w(f.check,I,2,0));F=B=0;f.mode=3;case 3:for(;32>F;){if(0===t)break a;t--;B+=h[m++]<<F;F+=8}f.head&&(f.head.time=B);512&
f.flags&&(I[0]=255&B,I[1]=B>>>8&255,I[2]=B>>>16&255,I[3]=B>>>24&255,f.check=w(f.check,I,4,0));F=B=0;f.mode=4;case 4:for(;16>F;){if(0===t)break a;t--;B+=h[m++]<<F;F+=8}f.head&&(f.head.xflags=255&B,f.head.os=B>>8);512&f.flags&&(I[0]=255&B,I[1]=B>>>8&255,f.check=w(f.check,I,2,0));F=B=0;f.mode=5;case 5:if(1024&f.flags){for(;16>F;){if(0===t)break a;t--;B+=h[m++]<<F;F+=8}f.length=B;f.head&&(f.head.extra_len=B);512&f.flags&&(I[0]=255&B,I[1]=B>>>8&255,f.check=w(f.check,I,2,0));F=B=0}else f.head&&(f.head.extra=
null);f.mode=6;case 6:if(1024&f.flags&&(P=f.length,P>t&&(P=t),P&&(f.head&&(Z=f.head.extra_len-f.length,f.head.extra||(f.head.extra=Array(f.head.extra_len)),z.arraySet(f.head.extra,h,m,P,Z)),512&f.flags&&(f.check=w(f.check,h,P,m)),t-=P,m+=P,f.length-=P),f.length))break a;f.length=0;f.mode=7;case 7:if(2048&f.flags){if(0===t)break a;P=0;do Z=h[m+P++],f.head&&Z&&65536>f.length&&(f.head.name+=String.fromCharCode(Z));while(Z&&P<t);if(512&f.flags&&(f.check=w(f.check,h,P,m)),t-=P,m+=P,Z)break a}else f.head&&
(f.head.name=null);f.length=0;f.mode=8;case 8:if(4096&f.flags){if(0===t)break a;P=0;do Z=h[m+P++],f.head&&Z&&65536>f.length&&(f.head.comment+=String.fromCharCode(Z));while(Z&&P<t);if(512&f.flags&&(f.check=w(f.check,h,P,m)),t-=P,m+=P,Z)break a}else f.head&&(f.head.comment=null);f.mode=9;case 9:if(512&f.flags){for(;16>F;){if(0===t)break a;t--;B+=h[m++]<<F;F+=8}if(B!==(65535&f.check)){b.msg="header crc mismatch";f.mode=30;break}F=B=0}f.head&&(f.head.hcrc=f.flags>>9&1,f.head.done=!0);b.adler=f.check=
0;f.mode=12;break;case 10:for(;32>F;){if(0===t)break a;t--;B+=h[m++]<<F;F+=8}b.adler=f.check=k(B);F=B=0;f.mode=11;case 11:if(0===f.havedict)return b.next_out=n,b.avail_out=D,b.next_in=m,b.avail_in=t,f.hold=B,f.bits=F,2;b.adler=f.check=1;f.mode=12;case 12:if(5===e||6===e)break a;case 13:if(f.last){B>>>=7&F;F-=7&F;f.mode=27;break}for(;3>F;){if(0===t)break a;t--;B+=h[m++]<<F;F+=8}switch(f.last=1&B,B>>>=1,--F,3&B){case 0:f.mode=14;break;case 1:W=f;if(O){v=new z.Buf32(512);A=new z.Buf32(32);for(V=0;144>
V;)W.lens[V++]=8;for(;256>V;)W.lens[V++]=9;for(;280>V;)W.lens[V++]=7;for(;288>V;)W.lens[V++]=8;u(1,W.lens,0,288,v,0,W.work,{bits:9});for(V=0;32>V;)W.lens[V++]=5;u(2,W.lens,0,32,A,0,W.work,{bits:5});O=!1}W.lencode=v;W.lenbits=9;W.distcode=A;W.distbits=5;if(f.mode=20,6===e){B>>>=2;F-=2;break a}break;case 2:f.mode=17;break;case 3:b.msg="invalid block type",f.mode=30}B>>>=2;F-=2;break;case 14:B>>>=7&F;for(F-=7&F;32>F;){if(0===t)break a;t--;B+=h[m++]<<F;F+=8}if((65535&B)!==(B>>>16^65535)){b.msg="invalid stored block lengths";
f.mode=30;break}if(f.length=65535&B,B=0,F=0,f.mode=15,6===e)break a;case 15:f.mode=16;case 16:if(P=f.length){if(P>t&&(P=t),P>D&&(P=D),0===P)break a;z.arraySet(p,h,m,P,n);t-=P;m+=P;D-=P;n+=P;f.length-=P;break}f.mode=12;break;case 17:for(;14>F;){if(0===t)break a;t--;B+=h[m++]<<F;F+=8}if(f.nlen=(31&B)+257,B>>>=5,F-=5,f.ndist=(31&B)+1,B>>>=5,F-=5,f.ncode=(15&B)+4,B>>>=4,F-=4,286<f.nlen||30<f.ndist){b.msg="too many length or distance symbols";f.mode=30;break}f.have=0;f.mode=18;case 18:for(;f.have<f.ncode;){for(;3>
F;){if(0===t)break a;t--;B+=h[m++]<<F;F+=8}f.lens[xa[f.have++]]=7&B;B>>>=3;F-=3}for(;19>f.have;)f.lens[xa[f.have++]]=0;if(f.lencode=f.lendyn,f.lenbits=7,ia={bits:f.lenbits},ha=u(0,f.lens,0,19,f.lencode,0,f.work,ia),f.lenbits=ia.bits,ha){b.msg="invalid code lengths set";f.mode=30;break}f.have=0;f.mode=19;case 19:for(;f.have<f.nlen+f.ndist;){for(;ca=f.lencode[B&(1<<f.lenbits)-1],N=ca>>>24,V=65535&ca,!(N<=F);){if(0===t)break a;t--;B+=h[m++]<<F;F+=8}if(16>V)B>>>=N,F-=N,f.lens[f.have++]=V;else{if(16===
V){for(W=N+2;F<W;){if(0===t)break a;t--;B+=h[m++]<<F;F+=8}if(B>>>=N,F-=N,0===f.have){b.msg="invalid bit length repeat";f.mode=30;break}Z=f.lens[f.have-1];P=3+(3&B);B>>>=2;F-=2}else if(17===V){for(W=N+3;F<W;){if(0===t)break a;t--;B+=h[m++]<<F;F+=8}B>>>=N;F-=N;Z=0;P=3+(7&B);B>>>=3;F-=3}else{for(W=N+7;F<W;){if(0===t)break a;t--;B+=h[m++]<<F;F+=8}B>>>=N;F-=N;Z=0;P=11+(127&B);B>>>=7;F-=7}if(f.have+P>f.nlen+f.ndist){b.msg="invalid bit length repeat";f.mode=30;break}for(;P--;)f.lens[f.have++]=Z}}if(30===
f.mode)break;if(0===f.lens[256]){b.msg="invalid code -- missing end-of-block";f.mode=30;break}if(f.lenbits=9,ia={bits:f.lenbits},ha=u(1,f.lens,0,f.nlen,f.lencode,0,f.work,ia),f.lenbits=ia.bits,ha){b.msg="invalid literal/lengths set";f.mode=30;break}if(f.distbits=6,f.distcode=f.distdyn,ia={bits:f.distbits},ha=u(2,f.lens,f.nlen,f.ndist,f.distcode,0,f.work,ia),f.distbits=ia.bits,ha){b.msg="invalid distances set";f.mode=30;break}if(f.mode=20,6===e)break a;case 20:f.mode=21;case 21:if(6<=t&&258<=D){b.next_out=
n;b.avail_out=D;b.next_in=m;b.avail_in=t;f.hold=B;f.bits=F;G(b,Q);n=b.next_out;p=b.output;D=b.avail_out;m=b.next_in;h=b.input;t=b.avail_in;B=f.hold;F=f.bits;12===f.mode&&(f.back=-1);break}for(f.back=0;ca=f.lencode[B&(1<<f.lenbits)-1],N=ca>>>24,W=ca>>>16&255,V=65535&ca,!(N<=F);){if(0===t)break a;t--;B+=h[m++]<<F;F+=8}if(W&&0===(240&W)){Y=N;ka=W;for(la=V;ca=f.lencode[la+((B&(1<<Y+ka)-1)>>Y)],N=ca>>>24,W=ca>>>16&255,V=65535&ca,!(Y+N<=F);){if(0===t)break a;t--;B+=h[m++]<<F;F+=8}B>>>=Y;F-=Y;f.back+=Y}if(B>>>=
N,F-=N,f.back+=N,f.length=V,0===W){f.mode=26;break}if(32&W){f.back=-1;f.mode=12;break}if(64&W){b.msg="invalid literal/length code";f.mode=30;break}f.extra=15&W;f.mode=22;case 22:if(f.extra){for(W=f.extra;F<W;){if(0===t)break a;t--;B+=h[m++]<<F;F+=8}f.length+=B&(1<<f.extra)-1;B>>>=f.extra;F-=f.extra;f.back+=f.extra}f.was=f.length;f.mode=23;case 23:for(;ca=f.distcode[B&(1<<f.distbits)-1],N=ca>>>24,W=ca>>>16&255,V=65535&ca,!(N<=F);){if(0===t)break a;t--;B+=h[m++]<<F;F+=8}if(0===(240&W)){Y=N;ka=W;for(la=
V;ca=f.distcode[la+((B&(1<<Y+ka)-1)>>Y)],N=ca>>>24,W=ca>>>16&255,V=65535&ca,!(Y+N<=F);){if(0===t)break a;t--;B+=h[m++]<<F;F+=8}B>>>=Y;F-=Y;f.back+=Y}if(B>>>=N,F-=N,f.back+=N,64&W){b.msg="invalid distance code";f.mode=30;break}f.offset=V;f.extra=15&W;f.mode=24;case 24:if(f.extra){for(W=f.extra;F<W;){if(0===t)break a;t--;B+=h[m++]<<F;F+=8}f.offset+=B&(1<<f.extra)-1;B>>>=f.extra;F-=f.extra;f.back+=f.extra}if(f.offset>f.dmax){b.msg="invalid distance too far back";f.mode=30;break}f.mode=25;case 25:if(0===
D)break a;if(P=Q-D,f.offset>P){if(P=f.offset-P,P>f.whave&&f.sane){b.msg="invalid distance too far back";f.mode=30;break}P>f.wnext?(P-=f.wnext,qa=f.wsize-P):qa=f.wnext-P;P>f.length&&(P=f.length);W=f.window}else W=p,qa=n-f.offset,P=f.length;P>D&&(P=D);D-=P;f.length-=P;do p[n++]=W[qa++];while(--P);0===f.length&&(f.mode=21);break;case 26:if(0===D)break a;p[n++]=f.length;D--;f.mode=21;break;case 27:if(f.wrap){for(;32>F;){if(0===t)break a;t--;B|=h[m++]<<F;F+=8}if(Q-=D,b.total_out+=Q,f.total+=Q,Q&&(b.adler=
f.check=f.flags?w(f.check,p,Q,n-Q):y(f.check,p,Q,n-Q)),Q=D,(f.flags?B:k(B))!==f.check){b.msg="incorrect data check";f.mode=30;break}F=B=0}f.mode=28;case 28:if(f.wrap&&f.flags){for(;32>F;){if(0===t)break a;t--;B+=h[m++]<<F;F+=8}if(B!==(4294967295&f.total)){b.msg="incorrect length check";f.mode=30;break}F=B=0}f.mode=29;case 29:ha=1;break a;case 30:ha=-3;break a;case 31:return-4;default:return J}return b.next_out=n,b.avail_out=D,b.next_in=m,b.avail_in=t,f.hold=B,f.bits=F,(f.wsize||Q!==b.avail_out&&30>
f.mode&&(27>f.mode||4!==e))&&g(b,b.output,b.next_out,Q-b.avail_out)?(f.mode=31,-4):(M-=b.avail_in,Q-=b.avail_out,b.total_in+=M,b.total_out+=Q,f.total+=Q,f.wrap&&Q&&(b.adler=f.check=f.flags?w(f.check,p,Q,b.next_out-Q):y(f.check,p,Q,b.next_out-Q)),b.data_type=f.bits+(f.last?64:0)+(12===f.mode?128:0)+(20===f.mode||15===f.mode?256:0),(0===M&&0===Q||4===e)&&ha===H&&(ha=-5),ha)};f.inflateEnd=function(b){if(!b||!b.state)return J;var e=b.state;return e.window&&(e.window=null),b.state=null,H};f.inflateGetHeader=
function(b,e){var f;return b&&b.state?(f=b.state,0===(2&f.wrap)?J:(f.head=e,e.done=!1,H)):J};f.inflateSetDictionary=function(b,e){var f,h,k=e.length;return b&&b.state?(f=b.state,0!==f.wrap&&11!==f.mode?J:11===f.mode&&(h=1,h=y(h,e,k,0),h!==f.check)?-3:g(b,e,k,k)?(f.mode=31,-4):(f.havedict=1,H)):J};f.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./inffast":69,"./inftrees":71}],71:[function(b,e,f){var k=b("../utils/common"),m=[3,4,5,6,7,8,9,10,11,
13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],n=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],t=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(b,e,f,A,z,y,w,G){var g,p,v,K,M,Q,O,D,B=G.bits,E,R,U,T,ja,fa,na=0,ea,F=null,va=0,pa=new k.Buf16(16);
K=new k.Buf16(16);var P=null,qa=0;for(E=0;15>=E;E++)pa[E]=0;for(R=0;R<A;R++)pa[e[f+R]]++;T=B;for(U=15;1<=U&&0===pa[U];U--);if(T>U&&(T=U),0===U)return z[y++]=20971520,z[y++]=20971520,G.bits=1,0;for(B=1;B<U&&0===pa[B];B++);T<B&&(T=B);for(E=g=1;15>=E;E++)if(g<<=1,g-=pa[E],0>g)return-1;if(0<g&&(0===b||1!==U))return-1;K[1]=0;for(E=1;15>E;E++)K[E+1]=K[E]+pa[E];for(R=0;R<A;R++)0!==e[f+R]&&(w[K[e[f+R]]++]=R);if(0===b?(F=P=w,M=19):1===b?(F=m,va-=257,P=n,qa-=257,M=256):(F=t,P=h,M=-1),ea=0,R=0,E=B,K=y,ja=T,
fa=0,v=-1,na=1<<T,A=na-1,1===b&&852<na||2===b&&592<na)return 1;for(var W=0;;){W++;Q=E-fa;w[R]<M?(O=0,D=w[R]):w[R]>M?(O=P[qa+w[R]],D=F[va+w[R]]):(O=96,D=0);g=1<<E-fa;B=p=1<<ja;do p-=g,z[K+(ea>>fa)+p]=Q<<24|O<<16|D|0;while(0!==p);for(g=1<<E-1;ea&g;)g>>=1;if(0!==g?(ea&=g-1,ea+=g):ea=0,R++,0===--pa[E]){if(E===U)break;E=e[f+w[R]]}if(E>T&&(ea&A)!==v){0===fa&&(fa=T);K+=B;ja=E-fa;for(g=1<<ja;ja+fa<U&&(g-=pa[ja+fa],!(0>=g));)ja++,g<<=1;if(na+=1<<ja,1===b&&852<na||2===b&&592<na)return 1;v=ea&A;z[v]=T<<24|ja<<
16|K-y|0}}return 0!==ea&&(z[K+ea]=E-fa<<24|4194304),G.bits=T,0}},{"../utils/common":62}],72:[function(b,e,f){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],73:[function(b,e,f){function k(b){for(var e=b.length;0<=--e;)b[e]=0}function m(b,e,f,g,h){this.static_tree=b;this.extra_bits=e;this.extra_base=f;this.elems=g;this.max_length=h;this.has_stree=b&&b.length}function n(b,
e){this.dyn_tree=b;this.max_code=0;this.stat_desc=e}function t(b,e){b.pending_buf[b.pending++]=255&e;b.pending_buf[b.pending++]=e>>>8&255}function h(b,e,f){b.bi_valid>na-f?(b.bi_buf|=e<<b.bi_valid&65535,t(b,b.bi_buf),b.bi_buf=e>>na-b.bi_valid,b.bi_valid+=f-na):(b.bi_buf|=e<<b.bi_valid&65535,b.bi_valid+=f)}function p(b,e,f){h(b,f[2*e],f[2*e+1])}function g(b,e){var f=0;do f|=1&b,b>>>=1,f<<=1;while(0<--e);return f>>>1}function v(b,e,f){var h,k=Array(fa+1),p=0;for(h=1;h<=fa;h++)k[h]=p=p+f[h-1]<<1;for(f=
0;f<=e;f++)h=b[2*f+1],0!==h&&(b[2*f]=g(k[h]++,h))}function A(b){var e;for(e=0;e<R;e++)b.dyn_ltree[2*e]=0;for(e=0;e<U;e++)b.dyn_dtree[2*e]=0;for(e=0;e<T;e++)b.bl_tree[2*e]=0;b.dyn_ltree[2*ea]=1;b.opt_len=b.static_len=0;b.last_lit=b.matches=0}function z(b){8<b.bi_valid?t(b,b.bi_buf):0<b.bi_valid&&(b.pending_buf[b.pending++]=b.bi_buf);b.bi_buf=0;b.bi_valid=0}function y(b,e,f,g){var h=2*e,k=2*f;return b[h]<b[k]||b[h]===b[k]&&g[e]<=g[f]}function w(b,e,f){for(var g=b.heap[f],h=f<<1;h<=b.heap_len&&(h<b.heap_len&&
y(e,b.heap[h+1],b.heap[h],b.depth)&&h++,!y(e,g,b.heap[h],b.depth));)b.heap[f]=b.heap[h],f=h,h<<=1;b.heap[f]=g}function G(b,e,f){var g,k,m,n,v=0;if(0!==b.last_lit){do g=b.pending_buf[b.d_buf+2*v]<<8|b.pending_buf[b.d_buf+2*v+1],k=b.pending_buf[b.l_buf+v],v++,0===g?p(b,k,e):(m=la[k],p(b,m+E+1,e),n=P[m],0!==n&&(k-=Z[m],h(b,k,n)),g--,m=256>g?ka[g]:ka[256+(g>>>7)],p(b,m,f),n=qa[m],0!==n&&(g-=ha[m],h(b,g,n)));while(v<b.last_lit)}p(b,ea,e)}function u(b,e){var f,g,h,k=e.dyn_tree;g=e.stat_desc.static_tree;
var p=e.stat_desc.has_stree,m=e.stat_desc.elems,n=-1;b.heap_len=0;b.heap_max=ja;for(f=0;f<m;f++)0!==k[2*f]?(b.heap[++b.heap_len]=n=f,b.depth[f]=0):k[2*f+1]=0;for(;2>b.heap_len;)h=b.heap[++b.heap_len]=2>n?++n:0,k[2*h]=1,b.depth[h]=0,b.opt_len--,p&&(b.static_len-=g[2*h+1]);e.max_code=n;for(f=b.heap_len>>1;1<=f;f--)w(b,k,f);h=m;do f=b.heap[1],b.heap[1]=b.heap[b.heap_len--],w(b,k,1),g=b.heap[1],b.heap[--b.heap_max]=f,b.heap[--b.heap_max]=g,k[2*h]=k[2*f]+k[2*g],b.depth[h]=(b.depth[f]>=b.depth[g]?b.depth[f]:
b.depth[g])+1,k[2*f+1]=k[2*g+1]=h,b.heap[1]=h++,w(b,k,1);while(2<=b.heap_len);b.heap[--b.heap_max]=b.heap[1];var t,q,p=e.dyn_tree,m=e.max_code,B=e.stat_desc.static_tree,D=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,z=e.stat_desc.extra_base,y=e.stat_desc.max_length,A=0;for(g=0;g<=fa;g++)b.bl_count[g]=0;p[2*b.heap[b.heap_max]+1]=0;for(f=b.heap_max+1;f<ja;f++)h=b.heap[f],g=p[2*p[2*h+1]+1]+1,g>y&&(g=y,A++),p[2*h+1]=g,h>m||(b.bl_count[g]++,t=0,h>=z&&(t=u[h-z]),q=p[2*h],b.opt_len+=q*(g+t),D&&(b.static_len+=
q*(B[2*h+1]+t)));if(0!==A){do{for(g=y-1;0===b.bl_count[g];)g--;b.bl_count[g]--;b.bl_count[g+1]+=2;b.bl_count[y]--;A-=2}while(0<A);for(g=y;0!==g;g--)for(h=b.bl_count[g];0!==h;)t=b.heap[--f],t>m||(p[2*t+1]!==g&&(b.opt_len+=(g-p[2*t+1])*p[2*t],p[2*t+1]=g),h--)}v(k,n,b.bl_count)}function H(b,e,f){var g,h,k=-1,p=e[1],m=0,n=7,v=4;0===p&&(n=138,v=3);e[2*(f+1)+1]=65535;for(g=0;g<=f;g++)h=p,p=e[2*(g+1)+1],++m<n&&h===p||(m<v?b.bl_tree[2*h]+=m:0!==h?(h!==k&&b.bl_tree[2*h]++,b.bl_tree[2*F]++):10>=m?b.bl_tree[2*
va]++:b.bl_tree[2*pa]++,m=0,k=h,0===p?(n=138,v=3):h===p?(n=6,v=3):(n=7,v=4))}function J(b,e,f){var g,k,m=-1,n=e[1],v=0,t=7,B=4;0===n&&(t=138,B=3);for(g=0;g<=f;g++)if(k=n,n=e[2*(g+1)+1],!(++v<t&&k===n)){if(v<B){do p(b,k,b.bl_tree);while(0!==--v)}else 0!==k?(k!==m&&(p(b,k,b.bl_tree),v--),p(b,F,b.bl_tree),h(b,v-3,2)):10>=v?(p(b,va,b.bl_tree),h(b,v-3,3)):(p(b,pa,b.bl_tree),h(b,v-11,7));v=0;m=k;0===n?(t=138,B=3):k===n?(t=6,B=3):(t=7,B=4)}}function K(b){var e,f=4093624447;for(e=0;31>=e;e++,f>>>=1)if(1&
f&&0!==b.dyn_ltree[2*e])return O;if(0!==b.dyn_ltree[18]||0!==b.dyn_ltree[20]||0!==b.dyn_ltree[26])return D;for(e=32;e<E;e++)if(0!==b.dyn_ltree[2*e])return D;return O}function M(b,e,f,g){h(b,(B<<1)+(g?1:0),3);z(b);t(b,f);t(b,~f);Q.arraySet(b.pending_buf,b.window,e,f,b.pending);b.pending+=f}var Q=b("../utils/common"),O=0,D=1,B=0,E=256,R=E+1+29,U=30,T=19,ja=2*R+1,fa=15,na=16,ea=256,F=16,va=17,pa=18,P=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],qa=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,
8,8,9,9,10,10,11,11,12,12,13,13],W=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],V=Array(2*(R+2));k(V);var Y=Array(2*U);k(Y);var ka=Array(512);k(ka);var la=Array(256);k(la);var Z=Array(29);k(Z);var ha=Array(U);k(ha);var ia,ca,I,xa=!1;f._tr_init=function(b){if(!xa){var e,f,h,k=Array(fa+1);for(h=f=0;28>h;h++)for(Z[h]=f,e=0;e<1<<P[h];e++)la[f++]=h;la[f-1]=h;for(h=f=0;16>h;h++)for(ha[h]=f,e=0;e<1<<qa[h];e++)ka[f++]=h;for(f>>=7;h<U;h++)for(ha[h]=f<<7,e=0;e<
1<<qa[h]-7;e++)ka[256+f++]=h;for(e=0;e<=fa;e++)k[e]=0;for(e=0;143>=e;)V[2*e+1]=8,e++,k[8]++;for(;255>=e;)V[2*e+1]=9,e++,k[9]++;for(;279>=e;)V[2*e+1]=7,e++,k[7]++;for(;287>=e;)V[2*e+1]=8,e++,k[8]++;v(V,R+1,k);for(e=0;e<U;e++)Y[2*e+1]=5,Y[2*e]=g(e,5);ia=new m(V,P,E+1,R,fa);ca=new m(Y,qa,0,U,fa);I=new m([],W,0,T,7);xa=!0}b.l_desc=new n(b.dyn_ltree,ia);b.d_desc=new n(b.dyn_dtree,ca);b.bl_desc=new n(b.bl_tree,I);b.bi_buf=0;b.bi_valid=0;A(b)};f._tr_stored_block=M;f._tr_flush_block=function(b,e,f,g){var k,
p,m=0;if(0<b.level){2===b.strm.data_type&&(b.strm.data_type=K(b));u(b,b.l_desc);u(b,b.d_desc);H(b,b.dyn_ltree,b.l_desc.max_code);H(b,b.dyn_dtree,b.d_desc.max_code);u(b,b.bl_desc);for(m=T-1;3<=m&&0===b.bl_tree[2*N[m]+1];m--);m=(b.opt_len+=3*(m+1)+14,m);k=b.opt_len+3+7>>>3;p=b.static_len+3+7>>>3;p<=k&&(k=p)}else k=p=f+5;if(f+4<=k&&-1!==e)M(b,e,f,g);else if(4===b.strategy||p===k)h(b,2+(g?1:0),3),G(b,V,Y);else{h(b,4+(g?1:0),3);e=b.l_desc.max_code+1;f=b.d_desc.max_code+1;m+=1;h(b,e-257,5);h(b,f-1,5);h(b,
m-4,4);for(k=0;k<m;k++)h(b,b.bl_tree[2*N[k]+1],3);J(b,b.dyn_ltree,e-1);J(b,b.dyn_dtree,f-1);G(b,b.dyn_ltree,b.dyn_dtree)}A(b);g&&z(b)};f._tr_tally=function(b,e,f){return b.pending_buf[b.d_buf+2*b.last_lit]=e>>>8&255,b.pending_buf[b.d_buf+2*b.last_lit+1]=255&e,b.pending_buf[b.l_buf+b.last_lit]=255&f,b.last_lit++,0===e?b.dyn_ltree[2*f]++:(b.matches++,e--,b.dyn_ltree[2*(la[f]+E+1)]++,b.dyn_dtree[2*(256>e?ka[e]:ka[256+(e>>>7)])]++),b.last_lit===b.lit_bufsize-1};f._tr_align=function(b){h(b,2,3);p(b,ea,
V);16===b.bi_valid?(t(b,b.bi_buf),b.bi_buf=0,b.bi_valid=0):8<=b.bi_valid&&(b.pending_buf[b.pending++]=255&b.bi_buf,b.bi_buf>>=8,b.bi_valid-=8)}},{"../utils/common":62}],74:[function(b,e,f){e.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}},{}]},{},[10])(10)});!function(c,b,e){function f(){return"function"!=typeof b.createElement?b.createElement(arguments[0]):h?b.createElementNS.call(b,"http://www.w3.org/2000/svg",arguments[0]):b.createElement.apply(b,arguments)}var k=[],m=[];e={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(b,c){var e=this;setTimeout(function(){c(e[b])},0)},addTest:function(b,c,e){m.push({name:b,fn:c,options:e})},addAsyncTest:function(b){m.push({name:null,fn:b})}};var n=function(){};
n.prototype=e;n=new n;e._prefixes=e._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];var t=b.documentElement,h="svg"===t.nodeName.toLowerCase();h||!function(b,c){function e(){var b=D.elements;return"string"==typeof b?b.split(" "):b}function f(b){var c=O[b[M]];return c||(c={},Q++,b[M]=Q,O[Q]=c),c}function g(b,e,g){if(e||(e=c),m)return e.createElement(b);g||(g=f(e));var h;return h=g.cache[b]?g.cache[b].cloneNode():K.test(b)?(g.cache[b]=g.createElem(b)).cloneNode():g.createElem(b),
!h.canHaveChildren||t.test(b)||h.tagUrn?h:g.frag.appendChild(h)}function h(b,c){c.cache||(c.cache={},c.createElem=b.createElement,c.createFrag=b.createDocumentFragment,c.frag=c.createFrag());b.createElement=function(e){return D.shivMethods?g(e,b,c):c.createElem(e)};b.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+e().join().replace(/[\w\-:]+/g,function(b){return c.createElem(b),c.frag.createElement(b),'c("'+b+'")'})+");return n}")(D,
c.frag)}function k(b){b||(b=c);var e=f(b);if(D.shivCSS&&!p&&!e.hasCSS){var g,k=b;g=k.createElement("p");k=k.getElementsByTagName("head")[0]||k.documentElement;g=(g.innerHTML="x<style>article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}</style>",k.insertBefore(g.lastChild,k.firstChild));e.hasCSS=!!g}return m||h(b,e),b}var p,m,n=b.html5||{},t=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,
K=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,M="_html5shiv",Q=0,O={};!function(){try{var b=c.createElement("a");b.innerHTML="<xyz></xyz>";p="hidden"in b;var e;if(!(e=1==b.childNodes.length)){c.createElement("a");var f=c.createDocumentFragment();e="undefined"==typeof f.cloneNode||"undefined"==typeof f.createDocumentFragment||"undefined"==typeof f.createElement}m=e}catch(U){m=p=!0}}();var D={elements:n.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",
version:"3.7.3",shivCSS:!1!==n.shivCSS,supportsUnknownElements:m,shivMethods:!1!==n.shivMethods,type:"default",shivDocument:k,createElement:g,createDocumentFragment:function(b,g){if(b||(b=c),m)return b.createDocumentFragment();g=g||f(b);for(var h=g.frag.cloneNode(),k=0,p=e(),n=p.length;n>k;k++)h.createElement(p[k]);return h},addElements:function(b,c){var e=D.elements;"string"!=typeof e&&(e=e.join(" "));"string"!=typeof b&&(b=b.join(" "));D.elements=e+" "+b;k(c)}};b.html5=D;k(c);"object"==typeof module&&
module.exports&&(module.exports=D)}("undefined"!=typeof c?c:this,b);e.testStyles=function(c,e,k,m){var g,p,n,v,u=f("div"),A;n=b.body;A=(n||(n=f(h?"svg":"body"),n.fake=!0),n);if(parseInt(k,10))for(;k--;)n=f("div"),n.id=m?m[k]:"modernizr"+(k+1),u.appendChild(n);return g=f("style"),g.type="text/css",g.id="smodernizr",(A.fake?A:u).appendChild(g),A.appendChild(u),g.styleSheet?g.styleSheet.cssText=c:g.appendChild(b.createTextNode(c)),u.id="modernizr",A.fake&&(A.style.background="",A.style.overflow="hidden",
v=t.style.overflow,t.style.overflow="hidden",t.appendChild(A)),p=e(u,c),A.fake?(A.parentNode.removeChild(A),t.style.overflow=v,t.offsetHeight):u.parentNode.removeChild(u),!!p};(function(){var b,c,e,f,h,t;for(t in m)if(m.hasOwnProperty(t)){if(b=[],c=m[t],c.name&&(b.push(c.name.toLowerCase()),c.options&&c.options.aliases&&c.options.aliases.length))for(e=0;e<c.options.aliases.length;e++)b.push(c.options.aliases[e].toLowerCase());e="function"===typeof c.fn?c.fn():c.fn;for(f=0;f<b.length;f++)h=b[f],h=
h.split("."),1===h.length?n[h[0]]=e:(!n[h[0]]||n[h[0]]instanceof Boolean||(n[h[0]]=new Boolean(n[h[0]])),n[h[0]][h[1]]=e),k.push((e?"":"no-")+h.join("-"))}})();(function(b){var c=t.className,e=n._config.classPrefix||"";if(h&&(c=c.baseVal),n._config.enableJSClass)c=c.replace(new RegExp("(^|\\s)"+e+"no-js(\\s|$)"),"$1"+e+"js$2");n._config.enableClasses&&(c+=" "+e+b.join(" "+e),h?t.className.baseVal=c:t.className=c)})(k);delete e.addTest;delete e.addAsyncTest;for(e=0;e<n._q.length;e++)n._q[e]();c.Modernizr=
n}(window,document);(function(c){c.fn.parallaxSlider=function(m){var n=c.extend({},c.fn.parallaxSlider.defaults,m);return this.each(function(){var m=c(this),h=c.meta?c.extend({},n,m.data()):n,p=c(".pxs_slider",m),g=p.children(),v=g.length,A=c(".pxs_next",m),z=c(".pxs_prev",m),y=c(".pxs_bg1",m),w=c(".pxs_bg2",m),G=c(".pxs_bg3",m),u=0,H=c(".pxs_thumbnails",m),J=H.children(),K,M=c(".pxs_loading",m),Q=c(".pxs_slider_wrapper",m),O=0;Q.find("img").each(function(){var m=c(this);c("<img/>").on("load",function(){++O;if(O==2*
v){M.hide();Q.show();var m=p.find("img:first").width();k(p,g,v,y,w,G,m,A,z);H.css({width:m+"px","margin-left":-m/2+"px"});var n=m/(v+1);J.each(function(b){var e=c(this);b=n*(b+1)-e.width()/2;e.css("left",b+"px");h.thumbRotation&&(b=Math.floor(41*Math.random())-20,e.css({"-moz-transform":"rotate("+b+"deg)","-webkit-transform":"rotate("+b+"deg)",transform:"rotate("+b+"deg)"}));e.bind("mouseenter",function(){c(this).stop().animate({top:"-10px"},100)}).bind("mouseleave",function(){c(this).stop().animate({top:"0px"},
100)})});f(J.eq(0));A.bind("click",function(){++u;if(u>=v)if(h.circular)u=0;else return--u,!1;f(J.eq(u));e(u,p,G,w,y,h.speed,h.easing,h.easingBg)});z.bind("click",function(){--u;if(0>u)if(h.circular)u=v-1;else return++u,!1;f(J.eq(u));e(u,p,G,w,y,h.speed,h.easing,h.easingBg)});J.bind("click",function(){var b=c(this);f(b);h.auto&&clearInterval(K);u=b.index();e(u,p,G,w,y,h.speed,h.easing,h.easingBg)});0!=h.auto&&(h.circular=!0,K=setInterval(function(){A.trigger("click")},h.auto));c(window).resize(function(){b=
c(window).width();k(p,g,v,y,w,G,m,A,z);e(u,p,G,w,y,1,h.easing,h.easingBg)})}}).attr("src",m.attr("src"))})})};var b=c(window).width(),e=function(c,e,f,h,k,g,v,A){c=parseInt(-b*c);e.stop().animate({left:c+"px"},g,v);f.stop().animate({left:c/2+"px"},g,A);h.stop().animate({left:c/4+"px"},g,A);k.stop().animate({left:c/8+"px"},g,A)},f=function(b){b.siblings().removeClass("selected");b.addClass("selected")},k=function(c,e,f,h,k,g,v,A,z){f*=b;c.width(f+"px");e.width(b+"px");h.width(f+"px");k.width(f+"px");
g.width(f+"px");A.css("right","20px");z.css("left","20px")};c.fn.parallaxSlider.defaults={auto:0,speed:1E3,easing:"jswing",easingBg:"jswing",circular:!0,thumbRotation:!0}})(jQuery);var docCookies={getItem:function(c){return c&&this.hasItem(c)?unescape(document.cookie.replace(RegExp("(?:^|.*;\\s*)"+escape(c).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},setItem:function(c,b,e,f,k,m){if(c&&!/^(?:expires|max\-age|path|domain|secure)$/i.test(c)){var n="";if(e)switch(e.constructor){case Number:n=Infinity===e?"; expires=Tue, 19 Jan 2038 03:14:07 GMT":"; max-age="+e;break;case String:n="; expires="+e;break;case Date:n="; expires="+e.toGMTString()}document.cookie=
escape(c)+"="+escape(b)+n+(k?"; domain="+k:"")+(f?"; path="+f:"")+(m?"; secure":"")}},removeItem:function(c,b){c&&this.hasItem(c)&&(document.cookie=escape(c)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(b?"; path="+b:""))},hasItem:function(c){return RegExp("(?:^|;\\s*)"+escape(c).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}},JQ=jQuery;
window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(c){window.setTimeout(c,1E3/60)}}();
window.transitionEnd=function(c,b){var e=!1,f=document.createElement("div");JQ(["transition","WebkitTransition","MozTransition","msTransition"]).each(function(b,c){if(void 0!==f.style[c])return e=!0,!1});e?c.bind("webkitTransitionEnd oTransitionEnd MSTransitionEnd transitionend",function(e){c.unbind("webkitTransitionEnd oTransitionEnd MSTransitionEnd transitionend");b(e,c)}):setTimeout(function(){b(null,c)},0);return c};
var preloader={_overlay:null,_loader:null,_name:null,_percentage:null,_on_complete:null,_text_loader:null,_text_loader_overlay:null,_logo_loader:null,_logo_loader_meter:null,_total:0,_loaded:0,_image_queue:[],_percentage_loaded:0,_mode:"number",_text:"loading...",_text_colour:"#FFFFFF",_images:[],_show_progress:!0,_show_percentage:!0,_background:"#000000",_logo:"",_logo_size:[80,80],_cookie:!1,_timeout:10,_init:function(){JQ("img").each(function(c){JQ(this).attr("src")&&preloader._images.push(JQ(this).attr("src"))});
if(preloader._cookie){if(docCookies.getItem("melonhtml5_preloader_"+preloader._cookie)){JQ("#preloader").remove();JQ(document.body).removeClass("preloader");return}docCookies.setItem("melonhtml5_preloader_"+preloader._cookie,(new Date).getTime(),Infinity)}preloader._total=preloader._images.length;preloader._build();preloader._load()},_build:function(){this._overlay=JQ("#preloader");this._overlay.length||(this._overlay=JQ("<div>").attr("id","preloader").prependTo(JQ(document.body)));this._overlay.addClass("preloader_"+
this._mode);"line"!==this._mode&&this._overlay.css("background-color",this._background);switch(this._mode){case "number":var c=this._hexToRgb(this._text_colour);this._percentage=JQ("<div>").html("<div></div><span></span>").css({color:this._text_colour,"border-color":c?"rgba("+c.r+", "+c.g+", "+c.b+", 0.7)":this._text_colour}).addClass("preloader_percentage").appendTo(this._overlay);this._percentage.children("div").css("border-left-color",this._text_colour);break;case "text":this._text_loader=JQ("<div>").addClass("preloader_loader").text(this._text).css("color",
this._text_colour).appendTo(this._overlay);this._text_loader_overlay=JQ("<div>").css("background-color",this._background).appendTo(this._text_loader);break;case "scale_text":for(var c="",b=0;b<this._text.length;b++)c+="<span>"+this._htmlentities(this._text.charAt(b))+"</span>";this._text_loader=JQ("<div>").addClass("preloader_loader").html(c).css("color",this._text_colour).appendTo(this._overlay);break;case "logo":this._logo_loader=JQ("<div>").css({width:this._logo_size[0],height:this._logo_size[1],
"margin-left":this._logo_size[0]/2*-1,"margin-top":this._logo_size[1]/2*-1,"background-image":'url("'+this._logo+'")'}).addClass("preloader_loader").appendTo(this._overlay);this._logo_loader_meter=JQ("<div>").css("background-color",this._background).appendTo(this._logo_loader);this._show_progress&&(this._percentage=JQ("<div>").css({color:this._text_colour,width:this._logo_size[0],height:this._logo_size[1],"margin-left":this._logo_size[0]/2*-1,"margin-top":this._logo_size[1]/2,"background-color":this._background}).addClass("preloader_percentage").appendTo(this._overlay));
break;case "line":this._line_loader=JQ("<div>").addClass("preloader_loader").css("background-color",this._background).appendTo(this._overlay);JQ("<div>").addClass("preloader_peg").css("box-shadow","0 0 10px "+this._background).appendTo(this._line_loader);JQ(document.body).css("visibility","visible");break;case "progress":this._progress_loader=JQ("<div>").addClass("preloader_loader").appendTo(this._overlay),this._progress_loader_meter=JQ("<div>").addClass("preloader_meter").appendTo(this._progress_loader),
this._show_progress&&(this._percentage=JQ("<div>").addClass("preloader_percentage").text(0).appendTo(this._overlay))}this._overlay.appendTo(JQ(document.body));"text"!==this._mode&&"scale_text"!==this._mode||this._text_loader.css("margin-left",this._text_loader.width()/2*-1)},_load:function(){if(("number"===this._mode||"logo"===this._mode||"progress"===this._mode)&&this._show_progress){this._percentage.data("num",0);var c="0"+(preloader._show_percentage?"%":"");"number"===this._mode?this._percentage.children("span").text(c):
this._percentage.text(c)}JQ.each(this._images,function(b,c){var e=function(){preloader._imageOnLoad(c)},k=new Image;k.src=c;k.complete?e():(k.onload=e,k.onerror=e)});setTimeout(function(){preloader._overlay&&preloader._animatePercentage(preloader._percentage_loaded,100)},this._images.length?1E3*this._timeout:0)},_hexToRgb:function(c){return(c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(c))?{r:parseInt(c[1],16),g:parseInt(c[2],16),b:parseInt(c[3],16)}:null},_htmlentities:function(c){return c.toString().replace(/&/g,
"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;")},_animatePercentage:function(c,b){preloader._percentage_loaded=c;c<b&&(c++,setTimeout(function(){switch(preloader._mode){case "text":preloader._text_loader_overlay.css("left",c+"%");break;case "scale_text":var e=parseInt(preloader._text.length*c*.01,10);preloader._text_loader.children("span").eq(e).addClass("loaded");break;case "line":preloader._line_loader.width(c+"%");break;case "number":preloader._show_progress&&
(e=c+(preloader._show_percentage?"%":""),preloader._percentage.children("span").text(e));break;case "logo":preloader._show_progress&&(e=c+(preloader._show_percentage?"%":""),preloader._percentage.text(e));preloader._logo_loader_meter.css("bottom",c+"%");break;case "progress":preloader._show_progress&&(e=c+(preloader._show_percentage?"%":""),preloader._percentage.text(e)),preloader._progress_loader_meter.width(c+"%")}preloader._animatePercentage(c,b)},5),100===c&&preloader._loadFinish())},_imageOnLoad:function(c){this._image_queue.push(c);
this._image_queue.length&&this._image_queue[0]===c&&this._processQueue()},_reQueue:function(){preloader._image_queue.splice(0,1);preloader._processQueue()},_processQueue:function(){0!==this._image_queue.length&&(this._loaded++,preloader._animatePercentage(preloader._percentage_loaded,parseInt(this._loaded/this._total*100,10)),this._reQueue())},_loadFinish:function(){transitionEnd(this._overlay,function(c,b){preloader._overlay&&(preloader._overlay.remove(),preloader._overlay=null)});this._overlay.addClass("complete");
JQ(document.body).removeClass("preloader");this._on_complete&&this._on_complete()},config:function(c){"undefined"!==typeof c.mode&&(this._mode=c.mode);"undefined"!==typeof c.text&&(this._text=c.text);"undefined"!==typeof c.text_colour&&(this._text_colour=c.text_colour);"undefined"!==typeof c.timeout&&(this._timeout=parseInt(c.timeout,10));"undefined"!==typeof c.showProgress&&(this._show_progress=c.showProgress?!0:!1);"undefined"!==typeof c.showPercentage&&(this._show_percentage=c.showPercentage?!0:
!1);"undefined"!==typeof c.background&&(this._background=c.background);"undefined"!==typeof c.logo&&(this._logo=c.logo);"undefined"!==typeof c.logo_size&&(this._logo_size=c.logo_size);"undefined"!==typeof c.onComplete&&(this._on_complete=c.onComplete);"undefined"!==typeof c.images&&(this._images=c.images);"undefined"!==typeof c.cookie&&(this._cookie=c.cookie)}};setTimeout(function(){JQ(document).ready(preloader._init)});!function(){var c="undefined"!=typeof module&&module.exports,b="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,e=function(){var b,c,e=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),
"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],f=0;c=e.length;for(var h={};c>f;f++)if(b=e[f],b&&b[1]in document){f=0;for(c=b.length;c>f;f++)h[e[0][f]]=b[f];return h}return!1}(),f={request:function(c){var f=e.requestFullscreen;c=c||document.documentElement;/5\.1[\.\d]* Safari/.test(navigator.userAgent)?
c[f]():c[f](b&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[e.exitFullscreen]()},toggle:function(b){this.isFullscreen?this.exit():this.request(b)},raw:e};return e?(Object.defineProperties(f,{isFullscreen:{get:function(){return!!document[e.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[e.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[e.fullscreenEnabled]}}}),void(c?module.exports=f:window.screenfull=f)):void(c?module.exports=!1:window.screenfull=
!1)}();(function(c){function b(){var b=c(this),e=z(b);b.is(".fixed-top, .fixed-bottom, .horizontal-percent")?b.css("min-height",G(e.first)+G(e.last)+c(e.divider).height()+"px"):b.css("min-width",u(e.first)+u(e.last)+c(e.divider).width()+"px")}function e(b){b.preventDefault();var e=c(this),g=e.parent();e.addClass("dragged");b.type.match(/^touch/)&&e.addClass("touch");var h=n(g,y(b),w(b));c(document).on("touchmove mousemove",h);c(document).one("touchend mouseup",function(b){c(document).off("touchmove mousemove",
h);e.removeClass("dragged touch");g.trigger("dividerdragend",[f(g)])});g.trigger("dividerdragstart",[f(g)])}function f(b){var c=b.is(".fixed-top, .fixed-bottom, .horizontal-percent")?"height":"width";return{firstComponentSize:b.find(".split-pane-component:first")[c](),lastComponentSize:b.find(".split-pane-component:last")[c]()}}function k(){var b=c(this),e=m(b),f=b.parent().closest(".split-pane")[0]||window;c(f).on(f===window?"resize":"splitpaneresize",function(b){(b.target===document?window:b.target)===
f&&e(b)})}function m(b){var c=z(b);if(b.is(".fixed-top"))return function(e){e=G(c.last);e=c.splitPane.offsetHeight-e-c.divider.offsetHeight;c.first.offsetHeight>e&&H(c,e+"px");b.trigger("splitpaneresize")};if(b.is(".fixed-bottom"))return function(e){e=G(c.first);e=c.splitPane.offsetHeight-e-c.divider.offsetHeight;c.last.offsetHeight>e&&J(c,e+"px");b.trigger("splitpaneresize")};if(b.is(".horizontal-percent"))return function(e){e=G(c.last);var f=G(c.first),f=c.splitPane.offsetHeight-f-c.divider.offsetHeight;
c.last.offsetHeight>f?J(c,f/c.splitPane.offsetHeight*100+"%"):c.splitPane.offsetHeight-c.first.offsetHeight-c.divider.offsetHeight<e&&J(c,e/c.splitPane.offsetHeight*100+"%");b.trigger("splitpaneresize")};if(b.is(".fixed-left"))return function(e){e=u(c.last);e=c.splitPane.offsetWidth-e-c.divider.offsetWidth;c.first.offsetWidth>e&&K(c,e+"px");b.trigger("splitpaneresize")};if(b.is(".fixed-right"))return function(e){e=u(c.first);e=c.splitPane.offsetWidth-e-c.divider.offsetWidth;c.last.offsetWidth>e&&
M(c,e+"px");b.trigger("splitpaneresize")};if(b.is(".vertical-percent"))return function(e){e=u(c.last);var f=u(c.first),f=c.splitPane.offsetWidth-f-c.divider.offsetWidth;c.last.offsetWidth>f?M(c,f/c.splitPane.offsetWidth*100+"%"):c.splitPane.offsetWidth-c.first.offsetWidth-c.divider.offsetWidth<e&&M(c,e/c.splitPane.offsetWidth*100+"%");b.trigger("splitpaneresize")}}function n(b,c,e){var f=z(b);if(b.is(".fixed-top"))return t(f,e);if(b.is(".fixed-bottom"))return h(f,e);if(b.is(".horizontal-percent"))return p(f,
e);if(b.is(".fixed-left"))return g(f,c);if(b.is(".fixed-right"))return v(f,c);if(b.is(".vertical-percent"))return A(f,c)}function t(b,e){var f=G(b.first),g=b.splitPane.offsetHeight-G(b.last)-b.divider.offsetHeight,h=b.divider.offsetTop-e;return function(e){e.preventDefault&&e.preventDefault();e=h+w(e);H(b,Math.min(Math.max(f,e),g)+"px");c(b.splitPane).trigger("splitpaneresize")}}function h(b,e){var f=G(b.last),g=b.splitPane.offsetHeight-G(b.first)-b.divider.offsetHeight,h=b.last.offsetHeight+e;return function(e){e.preventDefault&&
e.preventDefault();e=Math.min(Math.max(f,h-w(e)),g);J(b,e+"px");c(b.splitPane).trigger("splitpaneresize")}}function p(b,e){var f=b.splitPane.offsetHeight,g=G(b.last),h=f-G(b.first)-b.divider.offsetHeight,k=b.last.offsetHeight+e;return function(e){e.preventDefault&&e.preventDefault();e=Math.min(Math.max(g,k-w(e)),h);J(b,e/f*100+"%");c(b.splitPane).trigger("splitpaneresize")}}function g(b,e){var f=u(b.first),g=b.splitPane.offsetWidth-u(b.last)-b.divider.offsetWidth,h=b.divider.offsetLeft-e;return function(e){e.preventDefault&&
e.preventDefault();e=h+y(e);K(b,Math.min(Math.max(f,e),g)+"px");c(b.splitPane).trigger("splitpaneresize")}}function v(b,e){var f=u(b.last),g=b.splitPane.offsetWidth-u(b.first)-b.divider.offsetWidth,h=b.last.offsetWidth+e;return function(e){e.preventDefault&&e.preventDefault();e=Math.min(Math.max(f,h-y(e)),g);M(b,e+"px");c(b.splitPane).trigger("splitpaneresize")}}function A(b,e){var f=b.splitPane.offsetWidth,g=u(b.last),h=f-u(b.first)-b.divider.offsetWidth,k=b.last.offsetWidth+e;return function(e){e.preventDefault&&
e.preventDefault();e=Math.min(Math.max(g,k-y(e)),h);M(b,e/f*100+"%");c(b.splitPane).trigger("splitpaneresize")}}function z(b){return{splitPane:b[0],first:b.children(".split-pane-component:first")[0],divider:b.children(".split-pane-divider")[0],last:b.children(".split-pane-component:last")[0]}}function y(b){if(void 0!==b.pageX)return b.pageX;if(void 0!==b.originalEvent.pageX)return b.originalEvent.pageX;if(b.originalEvent.touches)return b.originalEvent.touches[0].pageX}function w(b){if(void 0!==b.pageY)return b.pageY;
if(void 0!==b.originalEvent.pageY)return b.originalEvent.pageY;if(b.originalEvent.touches)return b.originalEvent.touches[0].pageY}function G(b){return parseInt(c(b).css("min-height"),10)||0}function u(b){return parseInt(c(b).css("min-width"),10)||0}function H(b,c){b.first.style.height=c;b.divider.style.top=c;b.last.style.top=c}function J(b,c){b.first.style.bottom=c;b.divider.style.bottom=c;b.last.style.height=c}function K(b,c){b.first.style.width=c;b.divider.style.left=c;b.last.style.left=c}function M(b,
c){b.first.style.right=c;b.divider.style.right=c;b.last.style.width=c}var Q={init:function(){var f=this;f.each(b);f.children(".split-pane-divider").html('<div class="split-pane-divider-inner"></div>');f.children(".split-pane-divider").on("touchstart mousedown",e);setTimeout(function(){f.each(k);c(window).trigger("resize")},100)},firstComponentSize:function(b){this.each(function(){var e=c(this),f=z(e);e.is(".fixed-top")?t(f,f.divider.offsetTop)({pageY:b}):e.is(".fixed-bottom")?(b=f.splitPane.offsetHeight-
f.divider.offsetHeight-b,h(f,-f.last.offsetHeight)({pageY:-b})):e.is(".horizontal-percent")?(b=f.splitPane.offsetHeight-f.divider.offsetHeight-b,p(f,-f.last.offsetHeight)({pageY:-b})):e.is(".fixed-left")?g(f,f.divider.offsetLeft)({pageX:b}):e.is(".fixed-right")?(b=f.splitPane.offsetWidth-f.divider.offsetWidth-b,v(f,-f.last.offsetWidth)({pageX:-b})):e.is(".vertical-percent")&&(b=f.splitPane.offsetWidth-f.divider.offsetWidth-b,A(f,-f.last.offsetWidth)({pageX:-b}))})},lastComponentSize:function(b){this.each(function(){var e=
c(this),f=z(e);e.is(".fixed-top")?(b=f.splitPane.offsetHeight-f.divider.offsetHeight-b,t(f,f.divider.offsetTop)({pageY:b})):e.is(".fixed-bottom")?h(f,-f.last.offsetHeight)({pageY:-b}):e.is(".horizontal-percent")?p(f,-f.last.offsetHeight)({pageY:-b}):e.is(".fixed-left")?(b=f.splitPane.offsetWidth-f.divider.offsetWidth-b,g(f,f.divider.offsetLeft)({pageX:b})):e.is(".fixed-right")?v(f,-f.last.offsetWidth)({pageX:-b}):e.is(".vertical-percent")&&A(f,-f.last.offsetWidth)({pageX:-b})})}};c.fn.splitPane=function(b){Q[b||
"init"].apply(this,c.grep(arguments,function(b,c){return 0<c}))}})(jQuery);(function(){function c(){if(p){requestAnimFrame(c);for(var b=0,e=h.length;b<e;b++)h[b].update()}}function b(b,k){if(b.nodeName&&!1!==/^(ul|ol)$/i.test(b.nodeName))f(b)&&e(b);else return!1;var g=t?new n(b):new m(b);k&&k.live&&(g.syncInterval=setInterval(function(){g.sync.call(g)},500));g.sync();h.push(g);1===h.length&&(p=!0,c())}function e(b){for(var c=0;c<h.length;c++){var e=h[c];e.element==b&&(e.destroy(),h.splice(c,1),c--)}0===h.length&&(p=!1)}function f(b){for(var c=0,e=h.length;c<e;c++)if(h[c].element==
b)return!0;return!1}function k(b,c,e){var f,g;if("string"===typeof b)for(b=document.querySelectorAll(b),f=0,g=b.length;f<g;f++)c.call(null,b[f],e);else if("object"===typeof b&&"number"===typeof b.length)for(f=0,g=b.length;f<g;f++)c.call(null,b[f],e);else if(b.nodeName)c.call(null,b,e);else throw"Stroll target was of unexpected type.";}function m(b){this.element=b}function n(b){this.element=b;this.element.style.overflow="hidden";this.top={value:0,natural:0};this.touch={value:0,offset:0,start:0,previous:0,
lastMove:Date.now(),accellerateTimeout:-1,isAccellerating:!1,isActive:!1};this.velocity=0}var t=!!("ontouchstart"in window),h=[],p=!1;m.prototype.sync=function(){this.items=Array.prototype.slice.apply(this.element.children);this.listHeight=this.element.offsetHeight;for(var b=0,c=this.items.length;b<c;b++){var e=this.items[b];e._offsetHeight=e.offsetHeight;e._offsetTop=e.offsetTop;e._offsetBottom=e._offsetTop+e._offsetHeight;e._state=""}this.update(!0)};m.prototype.update=function(b){var c=this.element.pageYOffset||
this.element.scrollTop,e=c+this.listHeight;if(c!==this.lastTop||b){this.lastTop=c;b=0;for(var f=this.items.length;b<f;b++){var g=this.items[b];g._offsetBottom<c?"past"!==g._state&&(g._state="past",g.classList.add("past"),g.classList.remove("future")):g._offsetTop>e?"future"!==g._state&&(g._state="future",g.classList.add("future"),g.classList.remove("past")):g._state&&("past"===g._state&&g.classList.remove("past"),"future"===g._state&&g.classList.remove("future"),g._state="")}}};m.prototype.destroy=
function(){clearInterval(this.syncInterval);for(var b=0,c=this.items.length;b<c;b++){var e=this.items[b];e.classList.remove("past");e.classList.remove("future")}};n.prototype=new m;n.prototype.sync=function(){this.items=Array.prototype.slice.apply(this.element.children);this.listHeight=this.element.offsetHeight;for(var b,c=0,e=this.items.length;c<e;c++)b=this.items[c],b._offsetHeight=b.offsetHeight,b._offsetTop=b.offsetTop,b._offsetBottom=b._offsetTop+b._offsetHeight,b._state="",b.style.opacity=1;
this.top.natural=this.element.scrollTop;this.top.value=this.top.natural;this.top.max=b._offsetBottom-this.listHeight;this.update(!0);this.bind()};n.prototype.bind=function(){var b=this;this.touchStartDelegate=function(c){b.onTouchStart(c)};this.touchMoveDelegate=function(c){b.onTouchMove(c)};this.touchEndDelegate=function(c){b.onTouchEnd(c)};this.element.addEventListener("touchstart",this.touchStartDelegate,!1);this.element.addEventListener("touchmove",this.touchMoveDelegate,!1);this.element.addEventListener("touchend",
this.touchEndDelegate,!1)};n.prototype.onTouchStart=function(b){b.preventDefault();if(1===b.touches.length)if(this.touch.isActive=!0,this.touch.start=b.touches[0].clientY,this.touch.previous=this.touch.start,this.touch.value=this.touch.start,this.touch.offset=0,this.velocity){this.touch.isAccellerating=!0;var c=this;this.touch.accellerateTimeout=setTimeout(function(){c.touch.isAccellerating=!1;c.velocity=0},500)}else this.velocity=0};n.prototype.onTouchMove=function(b){if(1===b.touches.length){var c=
this.touch.value;this.touch.value=b.touches[0].clientY;this.touch.lastMove=Date.now();b=this.touch.value>this.touch.previous&&0>this.velocity||this.touch.value<this.touch.previous&&0<this.velocity;this.touch.isAccellerating&&b?(clearInterval(this.touch.accellerateTimeout),this.velocity+=(this.touch.previous-this.touch.value)/10):(this.velocity=0,this.touch.isAccellerating=!1,this.touch.offset=Math.round(this.touch.start-this.touch.value));this.touch.previous=c}};n.prototype.onTouchEnd=function(b){var c=
this.touch.start-this.touch.value;this.touch.isAccellerating||(this.velocity=(this.touch.start-this.touch.value)/10);if(200<Date.now()-this.touch.lastMove||5>Math.abs(this.touch.previous-this.touch.value))this.velocity=0;this.top.value+=this.touch.offset;this.touch.offset=0;this.touch.start=0;this.touch.value=0;this.touch.isActive=!1;this.touch.isAccellerating=!1;clearInterval(this.touch.accellerateTimeout);(4<Math.abs(this.velocity)||10<Math.abs(c))&&b.preventDefault()};n.prototype.update=function(b){var c=
this.top.value+this.velocity+this.touch.offset;if(this.velocity||this.touch.offset)this.element.scrollTop=c,c=Math.max(0,Math.min(this.element.scrollTop,this.top.max)),this.top.value=c-this.touch.offset;if(!this.touch.isActive||this.touch.isAccellerating)this.velocity*=.95;.15>Math.abs(this.velocity)&&(this.velocity=0);if(c!==this.top.natural||b){this.top.natural=c;this.top.value=c-this.touch.offset;b=c+this.listHeight;for(var e=0,f=this.items.length;e<f;e++){var g=this.items[e];g._offsetBottom<c?
0>=this.velocity&&"past"!==g._state&&(g.classList.add("past"),g._state="past"):g._offsetTop>b?0<=this.velocity&&"future"!==g._state&&(g.classList.add("future"),g._state="future"):g._state&&("past"===g._state&&g.classList.remove("past"),"future"===g._state&&g.classList.remove("future"),g._state="")}}};n.prototype.destroy=function(){m.prototype.destroy.apply(this);this.element.removeEventListener("touchstart",this.touchStartDelegate,!1);this.element.removeEventListener("touchmove",this.touchMoveDelegate,
!1);this.element.removeEventListener("touchend",this.touchEndDelegate,!1)};window.stroll={bind:function(c,e){document.body.classList&&k(c,b,e)},unbind:function(b){document.body.classList&&k(b,e)}};window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){window.setTimeout(b,1E3/60)}}()})();!function(c,b){"function"==typeof define&&define.amd?define(["jquery"],function(c){return b(c)}):"object"==typeof exports?module.exports=b(require("jquery")):b(jQuery)}(this,function(c){function b(b){this.$container;this.constraints=null;this.__$tooltip;this.__init(b)}function e(b,e){var f=!0;return c.each(b,function(c,g){return void 0===e[c]||b[c]!==e[c]?(f=!1,!1):void 0}),f}function f(b){var e=b.attr("id");return(e=e?n.window.document.getElementById(e):null)?e===b[0]:c.contains(n.window.document.body,
b[0])}var k={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:"body",plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,
scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},m="undefined"!=typeof window?window:null,n={hasTouchCapability:!(!m||!("ontouchstart"in m||m.DocumentTouch&&m.document instanceof m.DocumentTouch||m.navigator.maxTouchPoints)),hasTransitions:function(){if(!m)return!1;var b=(m.document.body||m.document.documentElement).style,c="transition",e=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof b[c])return!0;for(var c=
c.charAt(0).toUpperCase()+c.substr(1),f=0;f<e.length;f++)if("string"==typeof b[e[f]+c])return!0;return!1}(),IE:!1,semVer:"4.1.6",window:m},t=function(){this.__$emitterPrivate=c({});this.__$emitterPublic=c({});this.__instancesLatestArr=[];this.__plugins={};this._env=n};t.prototype={__bridge:function(b,e,f){if(!e[f]){var g=function(){};g.prototype=b;var h=new g;h.__init&&h.__init(e);c.each(b,function(b,c){0!=b.indexOf("__")&&(e[b]?k.debug&&console.log("The "+b+" method of the "+f+" plugin conflicts with another plugin or native methods"):
(e[b]=function(){return h[b].apply(h,Array.prototype.slice.apply(arguments))},e[b].bridged=h))});e[f]=h}return this},__setWindow:function(b){return n.window=b,this},_getRuler:function(c){return new b(c)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,
Array.prototype.slice.apply(arguments)),this},_plugin:function(b){if("string"==typeof b){var e=null;return 0<b.indexOf(".")?e=this.__plugins[b]:c.each(this.__plugins,function(c,f){return f.name.substring(f.name.length-b.length-1)=="."+b?(e=f,!1):void 0}),e}if(0>b.name.indexOf("."))throw Error("Plugins must be namespaced");return this.__plugins[b.name]=b,b.core&&this.__bridge(b.core,this,b.name),this},_trigger:function(){var b=Array.prototype.slice.apply(arguments);return"string"==typeof b[0]&&(b[0]=
{type:b[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,b),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,b),this},instances:function(b){var e=[];return c(b||".tooltipstered").each(function(){var b=c(this),f=b.data("tooltipster-ns");f&&c.each(f,function(c,f){e.push(b.data(f))})}),e},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,
Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(b){return c((b?b+" ":"")+".tooltipstered").toArray()},setDefaults:function(b){return c.extend(k,b),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}};c.tooltipster=new t;c.Tooltipster=function(b,e){this.__callbacks={close:[],
open:[]};this.__closingTime;this.__Content;this.__contentBcr;this.__destroying=this.__destroyed=!1;this.__$emitterPrivate=c({});this.__$emitterPublic=c({});this.__enabled=!0;this.__garbageCollector;this.__Geometry;this.__lastPosition;this.__namespace="tooltipster-"+Math.round(1E6*Math.random());this.__options;this.__$originParents;this.__pointerIsOverOrigin=!1;this.__previousThemes=[];this.__state="closed";this.__timeouts={close:[],open:null};this.__touchEvents=[];this.__tracker=null;this._$origin;
this._$tooltip;this.__init(b,e)};c.Tooltipster.prototype={__init:function(b,e){var f=this;if(f._$origin=c(b),f.__options=c.extend(!0,{},k,e),f.__optionsFormat(),!n.IE||n.IE>=f.__options.IEmin){var h=null;if(void 0===f._$origin.data("tooltipster-initialTitle")&&(h=f._$origin.attr("title"),void 0===h&&(h=null),f._$origin.data("tooltipster-initialTitle",h)),null!==f.__options.content)f.__contentSet(f.__options.content);else{var p,m=f._$origin.attr("data-tooltip-content");m&&(p=c(m));p&&p[0]?f.__contentSet(p.first()):
f.__contentSet(h)}f._$origin.removeAttr("title").addClass("tooltipstered");f.__prepareOrigin();f.__prepareGC();c.each(f.__options.plugins,function(b,c){f._plug(c)});n.hasTouchCapability&&c("body").on("touchmove."+f.__namespace+"-triggerOpen",function(b){f._touchRecordEvent(b)});f._on("created",function(){f.__prepareTooltip()})._on("repositioned",function(b){f.__lastPosition=b.position})}else f.__options.disabled=!0},__contentInsert:function(){var b=this._$tooltip.find(".tooltipster-content"),c=this.__Content;
return this._trigger({type:"format",content:this.__Content,format:function(b){c=b}}),this.__options.functionFormat&&(c=this.__options.functionFormat.call(this,this,{origin:this._$origin[0]},this.__Content)),"string"!=typeof c||this.__options.contentAsHTML?b.empty().append(c):b.text(c),this},__contentSet:function(b){return b instanceof c&&this.__options.contentCloning&&(b=b.clone(!0)),this.__Content=b,this._trigger({type:"updated",content:b}),this},__destroyError:function(){throw Error("This tooltip has been destroyed and cannot execute your method call.");
},__geometry:function(){var b=this._$origin,e=this._$origin.is("area");if(e)var f=this._$origin.parent().attr("name"),b=c('img[usemap="#'+f+'"]');var k=b[0].getBoundingClientRect(),m=c(n.window.document),t=c(n.window),f=b,y={available:{document:null,window:null},document:{size:{height:m.height(),width:m.width()}},window:{scroll:{left:n.window.scrollX||n.window.document.documentElement.scrollLeft,top:n.window.scrollY||n.window.document.documentElement.scrollTop},size:{height:t.height(),width:t.width()}},
origin:{fixedLineage:!1,offset:{},size:{height:k.bottom-k.top,width:k.right-k.left},usemapImage:e?b[0]:null,windowOffset:{bottom:k.bottom,left:k.left,right:k.right,top:k.top}}};if(e){var e=this._$origin.attr("shape"),w=this._$origin.attr("coords");if(w&&(w=w.split(","),c.map(w,function(b,c){w[c]=parseInt(b)})),"default"!=e)switch(e){case "circle":e=w[0];b=w[1];k=w[2];y.origin.size.height=2*k;y.origin.size.width=y.origin.size.height;y.origin.windowOffset.left+=e-k;y.origin.windowOffset.top+=b-k;break;
case "rect":e=w[0];b=w[1];k=w[2];y.origin.size.height=w[3]-b;y.origin.size.width=k-e;y.origin.windowOffset.left+=e;y.origin.windowOffset.top+=b;break;case "poly":for(var m=k=b=e=0,t="even",G=0;G<w.length;G++){var u=w[G];"even"==t?(u>k&&(k=u,0===G&&(e=k)),e>u&&(e=u),t="odd"):(u>m&&(m=u,1==G&&(b=m)),b>u&&(b=u),t="even")}y.origin.size.height=m-b;y.origin.size.width=k-e;y.origin.windowOffset.left+=e;y.origin.windowOffset.top+=b}}this._trigger({type:"geometry",edit:function(b){y.origin.size.height=b.height;
y.origin.windowOffset.left=b.left;y.origin.windowOffset.top=b.top;y.origin.size.width=b.width},geometry:{height:y.origin.size.height,left:y.origin.windowOffset.left,top:y.origin.windowOffset.top,width:y.origin.size.width}});y.origin.windowOffset.right=y.origin.windowOffset.left+y.origin.size.width;y.origin.windowOffset.bottom=y.origin.windowOffset.top+y.origin.size.height;y.origin.offset.left=y.origin.windowOffset.left+y.window.scroll.left;y.origin.offset.top=y.origin.windowOffset.top+y.window.scroll.top;
y.origin.offset.bottom=y.origin.offset.top+y.origin.size.height;y.origin.offset.right=y.origin.offset.left+y.origin.size.width;y.available.document={bottom:{height:y.document.size.height-y.origin.offset.bottom,width:y.document.size.width},left:{height:y.document.size.height,width:y.origin.offset.left},right:{height:y.document.size.height,width:y.document.size.width-y.origin.offset.right},top:{height:y.origin.offset.top,width:y.document.size.width}};for(y.available.window={bottom:{height:Math.max(y.window.size.height-
Math.max(y.origin.windowOffset.bottom,0),0),width:y.window.size.width},left:{height:y.window.size.height,width:Math.max(y.origin.windowOffset.left,0)},right:{height:y.window.size.height,width:Math.max(y.window.size.width-Math.max(y.origin.windowOffset.right,0),0)},top:{height:Math.max(y.origin.windowOffset.top,0),width:y.window.size.width}};"html"!=f[0].tagName.toLowerCase();){if("fixed"==f.css("position")){y.origin.fixedLineage=!0;break}f=f.parent()}return y},__optionsFormat:function(){return"number"==
typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),"string"==typeof this.__options.parent&&
(this.__options.parent=c(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var b=this;return b.__options.selfDestruction?b.__garbageCollector=setInterval(function(){var e=(new Date).getTime();
b.__touchEvents=c.grep(b.__touchEvents,function(b,c){return 6E4<e-b.time});f(b._$origin)||b.destroy()},2E4):clearInterval(b.__garbageCollector),b},__prepareOrigin:function(){var b=this;if(b._$origin.off("."+b.__namespace+"-triggerOpen"),n.hasTouchCapability&&b._$origin.on("touchstart."+b.__namespace+"-triggerOpen touchend."+b.__namespace+"-triggerOpen touchcancel."+b.__namespace+"-triggerOpen",function(c){b._touchRecordEvent(c)}),b.__options.triggerOpen.click||b.__options.triggerOpen.tap&&n.hasTouchCapability){var c=
"";b.__options.triggerOpen.click&&(c+="click."+b.__namespace+"-triggerOpen ");b.__options.triggerOpen.tap&&n.hasTouchCapability&&(c+="touchend."+b.__namespace+"-triggerOpen");b._$origin.on(c,function(c){b._touchIsMeaningfulEvent(c)&&b._open(c)})}if(b.__options.triggerOpen.mouseenter||b.__options.triggerOpen.touchstart&&n.hasTouchCapability)c="",b.__options.triggerOpen.mouseenter&&(c+="mouseenter."+b.__namespace+"-triggerOpen "),b.__options.triggerOpen.touchstart&&n.hasTouchCapability&&(c+="touchstart."+
b.__namespace+"-triggerOpen"),b._$origin.on(c,function(c){!b._touchIsTouchEvent(c)&&b._touchIsEmulatedEvent(c)||(b.__pointerIsOverOrigin=!0,b._openShortly(c))});if(b.__options.triggerClose.mouseleave||b.__options.triggerClose.touchleave&&n.hasTouchCapability)c="",b.__options.triggerClose.mouseleave&&(c+="mouseleave."+b.__namespace+"-triggerOpen "),b.__options.triggerClose.touchleave&&n.hasTouchCapability&&(c+="touchend."+b.__namespace+"-triggerOpen touchcancel."+b.__namespace+"-triggerOpen"),b._$origin.on(c,
function(c){b._touchIsMeaningfulEvent(c)&&(b.__pointerIsOverOrigin=!1)});return b},__prepareTooltip:function(){var b=this,e=b.__options.interactive?"auto":"";return b._$tooltip.attr("id",b.__namespace).css({"pointer-events":e,zIndex:b.__options.zIndex}),c.each(b.__previousThemes,function(c,e){b._$tooltip.removeClass(e)}),c.each(b.__options.theme,function(c,e){b._$tooltip.addClass(e)}),b.__previousThemes=c.merge([],b.__options.theme),b},__scrollHandler:function(b){if(this.__options.triggerClose.scroll)this._close(b);
else{if(b.target===n.window.document)this.__Geometry.origin.fixedLineage||this.__options.repositionOnScroll&&this.reposition(b);else{var e=this.__geometry(),f=!1;("fixed"!=this._$origin.css("position")&&this.__$originParents.each(function(b,g){var h=c(g),k=h.css("overflow-x"),p=h.css("overflow-y");if("visible"!=k||"visible"!=p){var m=g.getBoundingClientRect();if("visible"!=k&&(e.origin.windowOffset.left<m.left||e.origin.windowOffset.right>m.right)||"visible"!=p&&(e.origin.windowOffset.top<m.top||
e.origin.windowOffset.bottom>m.bottom))return f=!0,!1}return"fixed"==h.css("position")?!1:void 0}),f)?this._$tooltip.css("visibility","hidden"):(this._$tooltip.css("visibility","visible"),this.__options.repositionOnScroll)?this.reposition(b):this._$tooltip.css({left:this.__lastPosition.coord.left+(e.origin.offset.left-this.__Geometry.origin.offset.left),top:this.__lastPosition.coord.top+(e.origin.offset.top-this.__Geometry.origin.offset.top)})}this._trigger({type:"scroll",event:b})}return this},__stateSet:function(b){return this.__state=
b,this._trigger({type:"state",state:b}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,c.each(this.__timeouts.close,function(b,c){clearTimeout(c)}),this.__timeouts.close=[],this},__trackerStart:function(){var b=this,c=b._$tooltip.find(".tooltipster-content");return b.__options.trackTooltip&&(b.__contentBcr=c[0].getBoundingClientRect()),b.__tracker=setInterval(function(){if(f(b._$origin)&&f(b._$tooltip)){if(b.__options.trackOrigin){var g=b.__geometry(),
h=!1;e(g.origin.size,b.__Geometry.origin.size)&&(b.__Geometry.origin.fixedLineage?e(g.origin.windowOffset,b.__Geometry.origin.windowOffset)&&(h=!0):e(g.origin.offset,b.__Geometry.origin.offset)&&(h=!0));h||(b.__options.triggerClose.mouseleave?b._close():b.reposition())}b.__options.trackTooltip&&(g=c[0].getBoundingClientRect(),g.height===b.__contentBcr.height&&g.width===b.__contentBcr.width||(b.reposition(),b.__contentBcr=g))}else b._close()},b.__options.trackerInterval),b},_close:function(b,e){var f=
this,h=!0;if(f._trigger({type:"close",event:b,stop:function(){h=!1}}),h||f.__destroying){e&&f.__callbacks.close.push(e);f.__callbacks.open=[];f.__timeoutsClear();var k=function(){c.each(f.__callbacks.close,function(c,e){e.call(f,f,{event:b,origin:f._$origin[0]})});f.__callbacks.close=[]};if("closed"!=f.__state){var p=!0,m=(new Date).getTime()+f.__options.animationDuration[1];if("disappearing"==f.__state&&m>f.__closingTime&&(p=!1),p)f.__closingTime=m,"disappearing"!=f.__state&&f.__stateSet("disappearing"),
p=function(){clearInterval(f.__tracker);f._trigger({type:"closing",event:b});f._$tooltip.off("."+f.__namespace+"-triggerClose").removeClass("tooltipster-dying");c(n.window).off("."+f.__namespace+"-triggerClose");f.__$originParents.each(function(b,e){c(e).off("scroll."+f.__namespace+"-triggerClose")});f.__$originParents=null;c("body").off("."+f.__namespace+"-triggerClose");f._$origin.off("."+f.__namespace+"-triggerClose");f._off("dismissable");f.__stateSet("closed");f._trigger({type:"after",event:b});
f.__options.functionAfter&&f.__options.functionAfter.call(f,f,{event:b,origin:f._$origin[0]});k()},n.hasTransitions?(f._$tooltip.css({"-moz-animation-duration":f.__options.animationDuration[1]+"ms","-ms-animation-duration":f.__options.animationDuration[1]+"ms","-o-animation-duration":f.__options.animationDuration[1]+"ms","-webkit-animation-duration":f.__options.animationDuration[1]+"ms","animation-duration":f.__options.animationDuration[1]+"ms","transition-duration":f.__options.animationDuration[1]+
"ms"}),f._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),0<f.__options.animationDuration[1]&&f._$tooltip.delay(f.__options.animationDuration[1]),f._$tooltip.queue(p)):f._$tooltip.stop().fadeOut(f.__options.animationDuration[1],p)}else k()}return f},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),
this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(b,e){var g=this;if(!g.__destroying&&f(g._$origin)&&g.__enabled){var h=!0;if("closed"==g.__state&&(g._trigger({type:"before",event:b,stop:function(){h=!1}}),h&&g.__options.functionBefore&&(h=g.__options.functionBefore.call(g,g,{event:b,origin:g._$origin[0]}))),!1!==h&&null!==g.__Content){e&&g.__callbacks.open.push(e);g.__callbacks.close=[];g.__timeoutsClear();
var k,p=function(){"stable"!=g.__state&&g.__stateSet("stable");c.each(g.__callbacks.open,function(b,c){c.call(g,g,{origin:g._$origin[0],tooltip:g._$tooltip[0]})});g.__callbacks.open=[]};if("closed"!==g.__state)k=0,"disappearing"===g.__state?(g.__stateSet("appearing"),n.hasTransitions?(g._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),0<g.__options.animationDuration[0]&&g._$tooltip.delay(g.__options.animationDuration[0]),g._$tooltip.queue(p)):g._$tooltip.stop().fadeIn(p)):
"stable"==g.__state&&p();else{if(g.__stateSet("appearing"),k=g.__options.animationDuration[0],g.__contentInsert(),g.reposition(b,!0),n.hasTransitions?(g._$tooltip.addClass("tooltipster-"+g.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":g.__options.animationDuration[0]+"ms","-ms-animation-duration":g.__options.animationDuration[0]+"ms","-o-animation-duration":g.__options.animationDuration[0]+"ms","-webkit-animation-duration":g.__options.animationDuration[0]+"ms",
"animation-duration":g.__options.animationDuration[0]+"ms","transition-duration":g.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=g.__state&&(g._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),0<g.__options.animationDuration[0]&&g._$tooltip.delay(g.__options.animationDuration[0]),g._$tooltip.queue(p))},0)):g._$tooltip.css("display","none").fadeIn(g.__options.animationDuration[0],p),g.__trackerStart(),c(n.window).on("resize."+g.__namespace+"-triggerClose",
function(b){var e=c(document.activeElement);(e.is("input")||e.is("textarea"))&&c.contains(g._$tooltip[0],e[0])||g.reposition(b)}).on("scroll."+g.__namespace+"-triggerClose",function(b){g.__scrollHandler(b)}),g.__$originParents=g._$origin.parents(),g.__$originParents.each(function(b,e){c(e).on("scroll."+g.__namespace+"-triggerClose",function(b){g.__scrollHandler(b)})}),g.__options.triggerClose.mouseleave||g.__options.triggerClose.touchleave&&n.hasTouchCapability){g._on("dismissable",function(b){b.dismissable?
b.delay?(u=setTimeout(function(){g._close(b.event)},b.delay),g.__timeouts.close.push(u)):g._close(b):clearTimeout(u)});var m=g._$origin,t="",G="",u=null;g.__options.interactive&&(m=m.add(g._$tooltip));g.__options.triggerClose.mouseleave&&(t+="mouseenter."+g.__namespace+"-triggerClose ",G+="mouseleave."+g.__namespace+"-triggerClose ");g.__options.triggerClose.touchleave&&n.hasTouchCapability&&(t+="touchstart."+g.__namespace+"-triggerClose",G+="touchend."+g.__namespace+"-triggerClose touchcancel."+
g.__namespace+"-triggerClose");m.on(G,function(b){!g._touchIsTouchEvent(b)&&g._touchIsEmulatedEvent(b)||g._trigger({delay:("mouseleave"==b.type?g.__options.delay:g.__options.delayTouch)[1],dismissable:!0,event:b,type:"dismissable"})}).on(t,function(b){!g._touchIsTouchEvent(b)&&g._touchIsEmulatedEvent(b)||g._trigger({dismissable:!1,event:b,type:"dismissable"})})}g.__options.triggerClose.originClick&&g._$origin.on("click."+g.__namespace+"-triggerClose",function(b){g._touchIsTouchEvent(b)||g._touchIsEmulatedEvent(b)||
g._close(b)});(g.__options.triggerClose.click||g.__options.triggerClose.tap&&n.hasTouchCapability)&&setTimeout(function(){if("closed"!=g.__state){var b="";g.__options.triggerClose.click&&(b+="click."+g.__namespace+"-triggerClose ");g.__options.triggerClose.tap&&n.hasTouchCapability&&(b+="touchend."+g.__namespace+"-triggerClose");c("body").on(b,function(b){g._touchIsMeaningfulEvent(b)&&(g._touchRecordEvent(b),g.__options.interactive&&c.contains(g._$tooltip[0],b.target)||g._close(b))});g.__options.triggerClose.tap&&
n.hasTouchCapability&&c("body").on("touchstart."+g.__namespace+"-triggerClose",function(b){g._touchRecordEvent(b)})}},0);g._trigger("ready");g.__options.functionReady&&g.__options.functionReady.call(g,g,{origin:g._$origin[0],tooltip:g._$tooltip[0]})}0<g.__options.timer&&(u=setTimeout(function(){g._close()},g.__options.timer+k),g.__timeouts.close.push(u))}}return g},_openShortly:function(b){var c=this,e=!0;if("stable"!=c.__state&&"appearing"!=c.__state&&!c.__timeouts.open&&(c._trigger({type:"start",
event:b,stop:function(){e=!1}}),e)){var f=0==b.type.indexOf("touch")?c.__options.delayTouch:c.__options.delay;f[0]?c.__timeouts.open=setTimeout(function(){c.__timeouts.open=null;c.__pointerIsOverOrigin&&c._touchIsMeaningfulEvent(b)?(c._trigger("startend"),c._open(b)):c._trigger("startcancel")},f[0]):(c._trigger("startend"),c._open(b))}return c},_optionsExtract:function(b,e){var f=this,h=c.extend(!0,{},e),k=f.__options[b];return k||(k={},c.each(e,function(b,c){var e=f.__options[b];void 0!==e&&(k[b]=
e)})),c.each(h,function(b,e){void 0!==k[b]&&("object"!=typeof e||e instanceof Array||null==e||"object"!=typeof k[b]||k[b]instanceof Array||null==k[b]?h[b]=k[b]:c.extend(h[b],k[b]))}),h},_plug:function(b){var e=c.tooltipster._plugin(b);if(!e)throw Error('The "'+b+'" plugin is not defined');return e.instance&&c.tooltipster.__bridge(e.instance,this,e.name),this},_touchIsEmulatedEvent:function(b){for(var c=!1,e=(new Date).getTime(),f=this.__touchEvents.length-1;0<=f;f--){var h=this.__touchEvents[f];if(!(500>
e-h.time))break;h.target===b.target&&(c=!0)}return c},_touchIsMeaningfulEvent:function(b){return this._touchIsTouchEvent(b)&&!this._touchSwiped(b.target)||!this._touchIsTouchEvent(b)&&!this._touchIsEmulatedEvent(b)},_touchIsTouchEvent:function(b){return 0==b.type.indexOf("touch")},_touchRecordEvent:function(b){return this._touchIsTouchEvent(b)&&(b.time=(new Date).getTime(),this.__touchEvents.push(b)),this},_touchSwiped:function(b){for(var c=!1,e=this.__touchEvents.length-1;0<=e;e--){var f=this.__touchEvents[e];
if("touchmove"==f.type){c=!0;break}if("touchstart"==f.type&&b===f.target)break}return c},_trigger:function(){var b=Array.prototype.slice.apply(arguments);return"string"==typeof b[0]&&(b[0]={type:b[0]}),b[0].instance=this,b[0].origin=this._$origin?this._$origin[0]:null,b[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,b),c.tooltipster._trigger.apply(c.tooltipster,b),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,b),this},_unplug:function(b){var e=
this;if(e[b]){var f=c.tooltipster._plugin(b);f.instance&&c.each(f.instance,function(c,f){e[c]&&e[c].bridged===e[b]&&delete e[c]});e[b].__destroy&&e[b].__destroy();delete e[b]}return e},close:function(b){return this.__destroyed?this.__destroyError():this._close(null,b),this},content:function(b){var c=this;if(void 0===b)return c.__Content;if(c.__destroyed)c.__destroyError();else if(c.__contentSet(b),null!==c.__Content){if("closed"!==c.__state&&(c.__contentInsert(),c.reposition(),c.__options.updateAnimation))if(n.hasTransitions){var e=
c.__options.updateAnimation;c._$tooltip.addClass("tooltipster-update-"+e);setTimeout(function(){"closed"!=c.__state&&c._$tooltip.removeClass("tooltipster-update-"+e)},1E3)}else c._$tooltip.fadeTo(200,.5,function(){"closed"!=c.__state&&c._$tooltip.fadeTo(200,1)})}else c._close();return c},destroy:function(){var b=this;return b.__destroyed?b.__destroyError():b.__destroying||(b.__destroying=!0,b._close(null,function(){b._trigger("destroy");b.__destroying=!1;b.__destroyed=!0;b._$origin.removeData(b.__namespace).off("."+
b.__namespace+"-triggerOpen");c("body").off("."+b.__namespace+"-triggerOpen");var e=b._$origin.data("tooltipster-ns");e&&(1===e.length?(e=null,"previous"==b.__options.restoration?e=b._$origin.data("tooltipster-initialTitle"):"current"==b.__options.restoration&&(e="string"==typeof b.__Content?b.__Content:c("<div></div>").append(b.__Content).html()),e&&b._$origin.attr("title",e),b._$origin.removeClass("tooltipstered"),b._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")):(e=
c.grep(e,function(c,e){return c!==b.__namespace}),b._$origin.data("tooltipster-ns",e)));b._trigger("destroyed");b._off();b.off();b.__Content=null;b.__$emitterPrivate=null;b.__$emitterPublic=null;b.__options.parent=null;b._$origin=null;b._$tooltip=null;c.tooltipster.__instancesLatestArr=c.grep(c.tooltipster.__instancesLatestArr,function(c,e){return b!==c});clearInterval(b.__garbageCollector)})),b},disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=
!1,this)},elementOrigin:function(){return this.__destroyed?void this.__destroyError():this._$origin[0]},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(b){return this.close(b)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,
Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(b){return this.__destroyed||this.__destroying?this.__destroyError():this._open(null,b),this},option:function(b,e){return void 0===e?this.__options[b]:(this.__destroyed?this.__destroyError():(this.__options[b]=e,this.__optionsFormat(),0<=c.inArray(b,["trigger","triggerClose","triggerOpen"])&&
this.__prepareOrigin(),"selfDestruction"===b&&this.__prepareGC()),this)},reposition:function(b,c){return this.__destroyed?this.__destroyError():"closed"!=this.__state&&f(this._$origin)&&(c||f(this._$tooltip))&&(c||this._$tooltip.detach(),this.__Geometry=this.__geometry(),this._trigger({type:"reposition",event:b,helper:{geo:this.__Geometry}})),this},show:function(b){return this.open(b)},status:function(){return{destroyed:this.__destroyed,destroying:this.__destroying,enabled:this.__enabled,open:"closed"!==
this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}};c.fn.tooltipster=function(){var b=Array.prototype.slice.apply(arguments);if(0===this.length)return this;if("string"==typeof b[0]){var e="#*$~&";return this.each(function(){var f=c(this).data("tooltipster-ns"),f=f?c(this).data(f[0]):null;if(!f)throw Error("You called Tooltipster's \""+
b[0]+'" method on an uninitialized element');if("function"!=typeof f[b[0]])throw Error('Unknown method "'+b[0]+'"');1<this.length&&"content"==b[0]&&(b[1]instanceof c||"object"==typeof b[1]&&null!=b[1]&&b[1].tagName)&&!f.__options.contentCloning&&f.__options.debug&&console.log("You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.");var g=f[b[0]](b[1],b[2]);return g!==f||"instance"===b[0]?(e=g,!1):void 0}),"#*$~&"!==e?e:this}c.tooltipster.__instancesLatestArr=
[];var f=b[0]&&void 0!==b[0].multiple,m=f&&b[0].multiple||!f&&k.multiple,f=(f=b[0]&&void 0!==b[0].content)&&b[0].content||!f&&k.content,n=b[0]&&void 0!==b[0].contentCloning,n=n&&b[0].contentCloning||!n&&k.contentCloning,t=b[0]&&void 0!==b[0].debug,y=t&&b[0].debug||!t&&k.debug;return 1<this.length&&(f instanceof c||"object"==typeof f&&null!=f&&f.tagName)&&!n&&y&&console.log("You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE."),
this.each(function(){var e=!1,f=c(this),g=f.data("tooltipster-ns"),h=null;g?m?e=!0:y&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):e=!0;e&&(h=new c.Tooltipster(this,b[0]),g||(g=[]),g.push(h.__namespace),f.data("tooltipster-ns",g),f.data(h.__namespace,h),h.__options.functionInit&&h.__options.functionInit.call(h,h,{origin:this}),h._trigger("init"));c.tooltipster.__instancesLatestArr.push(h)}),this};b.prototype={__init:function(b){this.__$tooltip=
b;this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto");this.$container=c('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo("body")},__forceRedraw:function(){var b=this.__$tooltip.parent();this.__$tooltip.detach();this.__$tooltip.appendTo(b)},constrain:function(b,c){return this.constraints={width:b,height:c},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:b}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",
overflow:""});this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var b=this.__$tooltip[0].getBoundingClientRect(),c={size:{height:b.height||b.bottom,width:b.width||b.right}};if(this.constraints){var e=this.__$tooltip.find(".tooltipster-content"),f=this.__$tooltip.outerHeight(),k=e[0].getBoundingClientRect(),b=b.width<=this.constraints.width&&k.width>=e[0].scrollWidth-
1;c.fits=f<=this.constraints.height&&b}return n.IE&&11>=n.IE&&c.size.width!==n.window.document.documentElement.clientWidth&&(c.size.width=Math.ceil(c.size.width)+1),c}};t=navigator.userAgent.toLowerCase();-1!=t.indexOf("msie")?n.IE=parseInt(t.split("msie")[1]):-1!==t.toLowerCase().indexOf("trident")&&-1!==t.indexOf(" rv:11")?n.IE=11:-1!=t.toLowerCase().indexOf("edge/")&&(n.IE=parseInt(t.toLowerCase().split("edge/")[1]));return c.tooltipster._plugin({name:"tooltipster.sideTip",instance:{__defaults:function(){return{arrow:!0,
distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(b){var c=this;c.__instance=b;c.__namespace="tooltipster-sideTip-"+Math.round(1E6*Math.random());c.__previousState="closed";c.__options;c.__optionsFormat();c.__instance._on("state."+c.__namespace,function(b){"closed"==b.state?c.__close():"appearing"==b.state&&"closed"==c.__previousState&&c.__create();c.__previousState=b.state});c.__instance._on("options."+c.__namespace,
function(){c.__optionsFormat()});c.__instance._on("reposition."+c.__namespace,function(b){c.__reposition(b.event,b.helper)})},__close:function(){this.__instance.content()instanceof c&&this.__instance.content().detach();this.__instance._$tooltip.remove();this.__instance._$tooltip=null},__create:function(){var b=c('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');
this.__options.arrow||b.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide();this.__options.minWidth&&b.css("min-width",this.__options.minWidth+"px");this.__options.maxWidth&&b.css("max-width",this.__options.maxWidth+"px");this.__instance._$tooltip=b;this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){if(this.__options=this.__instance._optionsExtract("tooltipster.sideTip",this.__defaults()),this.__options.position&&
(this.__options.side=this.__options.position),"object"!=typeof this.__options.distance&&(this.__options.distance=[this.__options.distance]),4>this.__options.distance.length&&(void 0===this.__options.distance[1]&&(this.__options.distance[1]=this.__options.distance[0]),void 0===this.__options.distance[2]&&(this.__options.distance[2]=this.__options.distance[0]),void 0===this.__options.distance[3]&&(this.__options.distance[3]=this.__options.distance[1]),this.__options.distance={top:this.__options.distance[0],
right:this.__options.distance[1],bottom:this.__options.distance[2],left:this.__options.distance[3]}),"string"==typeof this.__options.side)this.__options.side=[this.__options.side,{top:"bottom",right:"left",bottom:"top",left:"right"}[this.__options.side]],"left"==this.__options.side[0]||"right"==this.__options.side[0]?this.__options.side.push("top","bottom"):this.__options.side.push("right","left");6===c.tooltipster._env.IE&&!0!==this.__options.arrow&&(this.__options.arrow=!1)},__reposition:function(b,
e){var f,h=this,k=h.__targetFind(e),m=[];h.__instance._$tooltip.detach();var n=h.__instance._$tooltip.clone(),p=c.tooltipster._getRuler(n),t=!1,u=h.__instance.option("animation");switch(u&&n.removeClass("tooltipster-"+u),c.each(["window","document"],function(f,g){var u=null;if(h.__instance._trigger({container:g,helper:e,satisfied:t,takeTest:function(b){u=b},results:m,type:"positionTest"}),1==u||0!=u&&0==t&&("window"!=g||h.__options.viewportAware))for(f=0;f<h.__options.side.length;f++){var v={horizontal:0,
vertical:0},w=h.__options.side[f];"top"==w||"bottom"==w?v.vertical=h.__options.distance[w]:v.horizontal=h.__options.distance[w];h.__sideChange(n,w);c.each(["natural","constrained"],function(c,f){if(u=null,h.__instance._trigger({container:g,event:b,helper:e,mode:f,results:m,satisfied:t,side:w,takeTest:function(b){u=b},type:"positionTest"}),1==u||0!=u&&0==t){var n={container:g,distance:v,fits:null,mode:f,outerSize:null,side:w,size:null,target:k[w],whole:null},y=("natural"==f?p.free():p.constrain(e.geo.available[g][w].width-
v.horizontal,e.geo.available[g][w].height-v.vertical)).measure();if(n.size=y.size,n.outerSize={height:y.size.height+v.vertical,width:y.size.width+v.horizontal},"natural"==f?e.geo.available[g][w].width>=n.outerSize.width&&e.geo.available[g][w].height>=n.outerSize.height?n.fits=!0:n.fits=!1:n.fits=y.fits,"window"==g&&(n.fits?"top"==w||"bottom"==w?n.whole=e.geo.origin.windowOffset.right>=h.__options.minIntersection&&e.geo.window.size.width-e.geo.origin.windowOffset.left>=h.__options.minIntersection:
n.whole=e.geo.origin.windowOffset.bottom>=h.__options.minIntersection&&e.geo.window.size.height-e.geo.origin.windowOffset.top>=h.__options.minIntersection:n.whole=!1),m.push(n),n.whole)t=!0;else if("natural"==n.mode&&(n.fits||n.size.width<=e.geo.available[g][w].width))return!1}})}}),h.__instance._trigger({edit:function(b){m=b},event:b,helper:e,results:m,type:"positionTested"}),m.sort(function(b,c){if(b.whole&&!c.whole)return-1;if(!b.whole&&c.whole)return 1;if(b.whole&&c.whole){var e=h.__options.side.indexOf(b.side),
f=h.__options.side.indexOf(c.side);return f>e?-1:e>f?1:"natural"==b.mode?-1:1}return b.fits&&!c.fits?-1:!b.fits&&c.fits?1:b.fits&&c.fits?(e=h.__options.side.indexOf(b.side),f=h.__options.side.indexOf(c.side),f>e?-1:e>f?1:"natural"==b.mode?-1:1):"document"==b.container&&"bottom"==b.side&&"natural"==b.mode?-1:1}),f=m[0],f.coord={},f.side){case "left":case "right":f.coord.top=Math.floor(f.target-f.size.height/2);break;case "bottom":case "top":f.coord.left=Math.floor(f.target-f.size.width/2)}switch(f.side){case "left":f.coord.left=
e.geo.origin.windowOffset.left-f.outerSize.width;break;case "right":f.coord.left=e.geo.origin.windowOffset.right+f.distance.horizontal;break;case "top":f.coord.top=e.geo.origin.windowOffset.top-f.outerSize.height;break;case "bottom":f.coord.top=e.geo.origin.windowOffset.bottom+f.distance.vertical}"window"==f.container?"top"==f.side||"bottom"==f.side?0>f.coord.left?0<=e.geo.origin.windowOffset.right-this.__options.minIntersection?f.coord.left=0:f.coord.left=e.geo.origin.windowOffset.right-this.__options.minIntersection-
1:f.coord.left>e.geo.window.size.width-f.size.width&&(e.geo.origin.windowOffset.left+this.__options.minIntersection<=e.geo.window.size.width?f.coord.left=e.geo.window.size.width-f.size.width:f.coord.left=e.geo.origin.windowOffset.left+this.__options.minIntersection+1-f.size.width):0>f.coord.top?0<=e.geo.origin.windowOffset.bottom-this.__options.minIntersection?f.coord.top=0:f.coord.top=e.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:f.coord.top>e.geo.window.size.height-f.size.height&&
(e.geo.origin.windowOffset.top+this.__options.minIntersection<=e.geo.window.size.height?f.coord.top=e.geo.window.size.height-f.size.height:f.coord.top=e.geo.origin.windowOffset.top+this.__options.minIntersection+1-f.size.height):(f.coord.left>e.geo.window.size.width-f.size.width&&(f.coord.left=e.geo.window.size.width-f.size.width),0>f.coord.left&&(f.coord.left=0));h.__sideChange(n,f.side);e.tooltipClone=n[0];e.tooltipParent=h.__instance.option("parent").parent[0];e.mode=f.mode;e.whole=f.whole;e.origin=
h.__instance._$origin[0];e.tooltip=h.__instance._$tooltip[0];delete f.container;delete f.fits;delete f.mode;delete f.outerSize;delete f.whole;f.distance=f.distance.horizontal||f.distance.vertical;u=c.extend(!0,{},f);(h.__instance._trigger({edit:function(b){f=b},event:b,helper:e,position:u,type:"position"}),h.__options.functionPosition)&&(u=h.__options.functionPosition.call(h,h.__instance,e,u))&&(f=u);p.destroy();var H,J;"top"==f.side||"bottom"==f.side?(H={prop:"left",val:f.target-f.coord.left},J=
f.size.width-this.__options.minIntersection):(H={prop:"top",val:f.target-f.coord.top},J=f.size.height-this.__options.minIntersection);H.val<this.__options.minIntersection?H.val=this.__options.minIntersection:H.val>J&&(H.val=J);J=e.geo.origin.fixedLineage?e.geo.origin.windowOffset:{left:e.geo.origin.windowOffset.left+e.geo.window.scroll.left,top:e.geo.origin.windowOffset.top+e.geo.window.scroll.top};f.coord={left:J.left+(f.coord.left-e.geo.origin.windowOffset.left),top:J.top+(f.coord.top-e.geo.origin.windowOffset.top)};
h.__sideChange(h.__instance._$tooltip,f.side);e.geo.origin.fixedLineage?h.__instance._$tooltip.css("position","fixed"):h.__instance._$tooltip.css("position","");h.__instance._$tooltip.css({left:f.coord.left,top:f.coord.top,height:f.size.height,width:f.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(H.prop,H.val);h.__instance._$tooltip.appendTo(h.__instance.option("parent"));h.__instance._trigger({type:"repositioned",event:b,position:f})},__sideChange:function(b,c){b.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+
c)},__targetFind:function(b){var c={},e=this.__instance._$origin[0].getClientRects();1<e.length&&1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),e=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1));2>e.length?(c.top=Math.floor(b.geo.origin.windowOffset.left+b.geo.origin.size.width/2),c.bottom=c.top,c.left=Math.floor(b.geo.origin.windowOffset.top+b.geo.origin.size.height/2),c.right=c.left):(b=e[0],c.top=Math.floor(b.left+
(b.right-b.left)/2),b=2<e.length?e[Math.ceil(e.length/2)-1]:e[0],c.right=Math.floor(b.top+(b.bottom-b.top)/2),b=e[e.length-1],c.bottom=Math.floor(b.left+(b.right-b.left)/2),b=2<e.length?e[Math.ceil((e.length+1)/2)-1]:e[e.length-1],c.left=Math.floor(b.top+(b.bottom-b.top)/2));return c}}}),c});void 0===Date.now&&(Date.now=function(){return(new Date).valueOf()});
var TWEEN=TWEEN||function(){var c=[];return{REVISION:"14",getAll:function(){return c},removeAll:function(){c=[]},add:function(b){c.push(b)},remove:function(b){b=c.indexOf(b);-1!==b&&c.splice(b,1)},update:function(b){if(0===c.length)return!1;var e=0;for(b=void 0!==b?b:"undefined"!==typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now();e<c.length;)c[e].update(b)?e++:c.splice(e,1);return!0}}}();
TWEEN.Tween=function(c){var b={},e={},f={},k=1E3,m=0,n=!1,t=!1,h=0,p=null,g=TWEEN.Easing.Linear.None,v=TWEEN.Interpolation.Linear,A=[],z=null,y=!1,w=null,G=null,u=null,H;for(H in c)b[H]=parseFloat(c[H],10);this.to=function(b,c){void 0!==c&&(k=c);e=b;return this};this.start=function(g){TWEEN.add(this);t=!0;y=!1;p=void 0!==g?g:"undefined"!==typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now();p+=h;for(var k in e){if(e[k]instanceof Array){if(0===
e[k].length)continue;e[k]=[c[k]].concat(e[k])}b[k]=c[k];!1===b[k]instanceof Array&&(b[k]*=1);f[k]=b[k]||0}return this};this.stop=function(){if(!t)return this;TWEEN.remove(this);t=!1;null!==u&&u.call(c);this.stopChainedTweens();return this};this.stopChainedTweens=function(){for(var b=0,c=A.length;b<c;b++)A[b].stop()};this.delay=function(b){h=b;return this};this.repeat=function(b){m=b;return this};this.yoyo=function(b){n=b;return this};this.easing=function(b){g=b;return this};this.interpolation=function(b){v=
b;return this};this.chain=function(){A=arguments;return this};this.onStart=function(b){z=b;return this};this.onUpdate=function(b){w=b;return this};this.onComplete=function(b){G=b;return this};this.onStop=function(b){u=b;return this};this.update=function(t){var u;if(t<p)return!0;!1===y&&(null!==z&&z.call(c),y=!0);var H=(t-p)/k,H=1<H?1:H,J=g(H);for(u in e){var O=b[u]||0,D=e[u];D instanceof Array?c[u]=v(D,J):("string"===typeof D&&(D=O+parseFloat(D,10)),"number"===typeof D&&(c[u]=O+(D-O)*J))}null!==w&&
w.call(c,J);if(1==H)if(0<m){isFinite(m)&&m--;for(u in f)"string"===typeof e[u]&&(f[u]+=parseFloat(e[u],10)),n&&(H=f[u],f[u]=e[u],e[u]=H),b[u]=f[u];p=t+h}else{null!==G&&G.call(c);u=0;for(H=A.length;u<H;u++)A[u].start(t);return!1}return!0}};
TWEEN.Easing={Linear:{None:function(c){return c}},Quadratic:{In:function(c){return c*c},Out:function(c){return c*(2-c)},InOut:function(c){return 1>(c*=2)?.5*c*c:-.5*(--c*(c-2)-1)}},Cubic:{In:function(c){return c*c*c},Out:function(c){return--c*c*c+1},InOut:function(c){return 1>(c*=2)?.5*c*c*c:.5*((c-=2)*c*c+2)}},Quartic:{In:function(c){return c*c*c*c},Out:function(c){return 1- --c*c*c*c},InOut:function(c){return 1>(c*=2)?.5*c*c*c*c:-.5*((c-=2)*c*c*c-2)}},Quintic:{In:function(c){return c*c*c*c*c},Out:function(c){return--c*
c*c*c*c+1},InOut:function(c){return 1>(c*=2)?.5*c*c*c*c*c:.5*((c-=2)*c*c*c*c+2)}},Sinusoidal:{In:function(c){return 1-Math.cos(c*Math.PI/2)},Out:function(c){return Math.sin(c*Math.PI/2)},InOut:function(c){return.5*(1-Math.cos(Math.PI*c))}},Exponential:{In:function(c){return 0===c?0:Math.pow(1024,c-1)},Out:function(c){return 1===c?1:1-Math.pow(2,-10*c)},InOut:function(c){return 0===c?0:1===c?1:1>(c*=2)?.5*Math.pow(1024,c-1):.5*(-Math.pow(2,-10*(c-1))+2)}},Circular:{In:function(c){return 1-Math.sqrt(1-
c*c)},Out:function(c){return Math.sqrt(1- --c*c)},InOut:function(c){return 1>(c*=2)?-.5*(Math.sqrt(1-c*c)-1):.5*(Math.sqrt(1-(c-=2)*c)+1)}},Elastic:{In:function(c){var b,e=.1;if(0===c)return 0;if(1===c)return 1;!e||1>e?(e=1,b=.1):b=.4*Math.asin(1/e)/(2*Math.PI);return-(e*Math.pow(2,10*--c)*Math.sin(2*(c-b)*Math.PI/.4))},Out:function(c){var b,e=.1;if(0===c)return 0;if(1===c)return 1;!e||1>e?(e=1,b=.1):b=.4*Math.asin(1/e)/(2*Math.PI);return e*Math.pow(2,-10*c)*Math.sin(2*(c-b)*Math.PI/.4)+1},InOut:function(c){var b,
e=.1;if(0===c)return 0;if(1===c)return 1;!e||1>e?(e=1,b=.1):b=.4*Math.asin(1/e)/(2*Math.PI);return 1>(c*=2)?-.5*e*Math.pow(2,10*--c)*Math.sin(2*(c-b)*Math.PI/.4):.5*e*Math.pow(2,-10*--c)*Math.sin(2*(c-b)*Math.PI/.4)+1}},Back:{In:function(c){return c*c*(2.70158*c-1.70158)},Out:function(c){return--c*c*(2.70158*c+1.70158)+1},InOut:function(c){return 1>(c*=2)?.5*c*c*(3.5949095*c-2.5949095):.5*((c-=2)*c*(3.5949095*c+2.5949095)+2)}},Bounce:{In:function(c){return 1-TWEEN.Easing.Bounce.Out(1-c)},Out:function(c){return c<
1/2.75?7.5625*c*c:c<2/2.75?7.5625*(c-=1.5/2.75)*c+.75:c<2.5/2.75?7.5625*(c-=2.25/2.75)*c+.9375:7.5625*(c-=2.625/2.75)*c+.984375},InOut:function(c){return.5>c?.5*TWEEN.Easing.Bounce.In(2*c):.5*TWEEN.Easing.Bounce.Out(2*c-1)+.5}}};
TWEEN.Interpolation={Linear:function(c,b){var e=c.length-1,f=e*b,k=Math.floor(f),m=TWEEN.Interpolation.Utils.Linear;return 0>b?m(c[0],c[1],f):1<b?m(c[e],c[e-1],e-f):m(c[k],c[k+1>e?e:k+1],f-k)},Bezier:function(c,b){var e=0,f=c.length-1,k=Math.pow,m=TWEEN.Interpolation.Utils.Bernstein,n;for(n=0;n<=f;n++)e+=k(1-b,f-n)*k(b,n)*c[n]*m(f,n);return e},CatmullRom:function(c,b){var e=c.length-1,f=e*b,k=Math.floor(f),m=TWEEN.Interpolation.Utils.CatmullRom;return c[0]===c[e]?(0>b&&(k=Math.floor(f=e*(1+b))),m(c[(k-
1+e)%e],c[k],c[(k+1)%e],c[(k+2)%e],f-k)):0>b?c[0]-(m(c[0],c[0],c[1],c[1],-f)-c[0]):1<b?c[e]-(m(c[e],c[e],c[e-1],c[e-1],f-e)-c[e]):m(c[k?k-1:0],c[k],c[e<k+1?e:k+1],c[e<k+2?e:k+2],f-k)},Utils:{Linear:function(c,b,e){return(b-c)*e+c},Bernstein:function(c,b){var e=TWEEN.Interpolation.Utils.Factorial;return e(c)/e(b)/e(c-b)},Factorial:function(){var c=[1];return function(b){var e=1,f;if(c[b])return c[b];for(f=b;1<f;f--)e*=f;return c[b]=e}}(),CatmullRom:function(c,b,e,f,k){c=.5*(e-c);f=.5*(f-b);var m=k*
k;return(2*b-2*e+c+f)*k*m+(-3*b+3*e-2*c-f)*m+c*k+b}}};eval(function(c,b,e,f,k,m){k=function(b){return b};if(!"".replace(/^/,String)){for(;e--;)m[e]=f[e]||e;f=[function(b){return m[b]}];k=function(){return"\\w+"};e=1}for(;e--;)f[e]&&(c=c.replace(new RegExp("\\b"+k(e)+"\\b","g"),f[e]));return c}('9 8={"7":6,"5":"4 3 2","1":"0"};',10,10,"Desktop form_factor browser web generic complete_device_name false is_mobile WURFL var".split(" "),0,{}));engineGUI=window.engineGUI||{};
$(document).ready(function(){var c=45*Math.PI/180,b=$("#WebGLInteractiveMenu").width()/2,e="Move Horizontaly;Info;Duplicate;Resize;Textures;Rotate;Remove;Object Notes".split(";"),f="engine3D.enableTransformControls('translate')   engine3D.enableTransformControls('scale') toggleTextureSelect() engine3D.enableTransformControls('rotate') scene3DObjectSelectRemove() camera3DNoteAdd()".split(" "),k=$("<div class='rect'></div>").hide().appendTo("body"),m=$(".rect").width()/2;k.remove();for(k=0;8>k;k++){var n=
k+1;$("#WebGLInteractiveMenu").append('<div class="rect tooltip-top" title="'+e[k]+'" id="icn'+n+'" onclick="'+f[k]+'"></div>');var t=b*Math.cos(c*k-Math.PI/2)+b-m,h=b*Math.sin(-c*k+Math.PI/2)+b-m;$("#icn"+n).css({"background-image":'url("images/hicn'+n+'.png")',"-webkit-animation-delay":"2s","animation-delay":"2s"});$("#icn"+n).animate({left:t,bottom:h},"slow")}$("#icn1").addClass("active");$(".rect").click(function(b){b.preventDefault();$(".active").removeClass("active");$(this).addClass("active");
$(this).attr("id").substr(3)});$(".tooltip-share-menu").tooltipster({interactive:!0,content:$('<a href="#" onclick="" class="hi-icon icon-html tooltip" title="Embed 3D Scene in Your Website" style="color:white"></a><br/><a href="#" class="hi-icon icon-print" style="color:white"></a><br/><a href="#" class="hi-icon icon-email" style="color:white"></a>')});$(".tooltip-save-menu").tooltipster({interactive:!0,content:$('<a href="#openLogin" onclick="engineGUI.save(true);" class="hi-icon icon-earth" style="color:white"></a><br/><a href="#openSaving" onclick="engineGUI.save(false);" class="hi-icon icon-usb" style="color:white"></a>')});
$(".tooltip-open-menu").tooltipster({interactive:!0,content:$('<a href="#openLogin" onclick="engineGUI.save(true);" class="hi-icon icon-earth" style="color:white"></a><br/><a href="#openSaving" onclick="fileSelect(\'opendesign\')" class="hi-icon icon-usb" style="color:white"></a>')});$(".tooltip-tools-menu").tooltipster({interactive:!0,content:$('<a href="#" onclick="makeScreenshot()" class="hi-icon icon-screenshot" style="color:white"></a><br/><a href="#" onclick="screenfull.request(document.documentElement)" class="hi-icon icon-expand" style="color:white"></a>')});
$(".tooltip").tooltipster({animation:"fade",delay:200,theme:"tooltipster-default",touchDevices:!1,trigger:"hover",position:"bottom",contentAsHTML:!0});$("#menu2DTools").tooltipster({theme:"tooltipster-light",trigger:"custom",touchDevices:!0,interactive:!0,contentAsHTML:!0,content:""});$("#WebGLSelectMenu").tooltipster({theme:"tooltipster-light",trigger:"custom",touchDevices:!0,delay:0,interactive:!0,position:"top",contentAsHTML:!0,content:""});$(".tooltip-right").tooltipster({animation:"fade",delay:200,
theme:"tooltipster-default",touchDevices:!1,trigger:"hover",position:"right"});$(".tooltip-top").tooltipster({animation:"fade",delay:200,theme:"tooltipster-default",touchDevices:!1,trigger:"hover",position:"top",contentAsHTML:!0});$(".cssmenu ul ul li:odd").addClass("odd");$(".cssmenu ul ul li:even").addClass("even");$(".cssmenu > ul > li > a").click(function(b){engineGUI.menuItemClick(this)});$("#menuTop p").click(function(){$(this).hide().after('<input type="text" class="editP" value="'+$(this).html()+
'" size="10" />');$(".editP").focus()});$(".editP").bind("blur",function(){$(this).hide().prev("#menuTop p").html($(this).val()).show()});stroll.bind(".cssmenu ul");$("#pxs_container").parallaxSlider()});
engineGUI.open=function(c){var b=new JSZip;document.body.appendChild(spinner);document.getElementById("start").getElementsByClassName("close")[0].setAttribute("href","#close");$.ajax("scenes/"+SCENEFILE,{contentType:"application/zip",beforeSend:function(b){b.overrideMimeType("text/plain; charset=x-user-defined")},success:function(e){try{2==c?(engine3D.buildPanorama(skyFloorMesh,"0000",75,75,75,"",null),engine3D.setLights(),scene3D.remove(skyMesh),scene3D.remove(weatherSkyCloudsMesh),scene3D.remove(weatherSkyRainbowMesh),
scene3D.remove(scene3DHouseGroundContainer),scene3D.add(skyFloorMesh),scene3D.add(scene3DFloorGroundContainer)):3==c&&engine2D.show(),setTimeout(function(){camera3DAnimate(0,20,0,1500)},500),setTimeout(function(){engine3D["new"]();engine2D["new"]();b.loadAsync(e).then(function(b){b.file("options.json").async("string").then(function(b){b=JSON.parse(b);settings=b.settings;for(var c=0;c<b.floor.length;c++)scene3DFloorFurnitureContainer[c].name=b.floor[c].name});engine2D.open(b);engine3D.open(b);setTimeout(function(){document.body.removeChild(spinner);
1==c?engine3D.showHouse():2==c?engine3D.showFloor():3==c&&engine2D.show();setTimeout(function(){scene3DAnimateRotate=settings.autorotate},4E3)},1E3)})},2E3)}catch(f){alertify.alert("Failed to open Scene "+f)}}})};
engineGUI.save=function(c){setTimeout(function(){var b=new JSZip;b.file("scene3DTerrain.json",JSON.stringify(engine3D.collectArrayFromContainer(scene3DHouseGroundContainer)));var e={};e.settings=settings;e.floors=[];for(var f=0;f<scene3DFloorFurnitureContainer.length;f++)e.floors.push(JSON.stringify('"name":"'+scene3DFloorFurnitureContainer[f].name+'"'));b.file("options.json",JSON.stringify(e));b.file("scene3DRoofContainer.json",JSON.stringify(engine3D.collectArrayFromContainer(scene3DRoofContainer)));
b.file("scene3DHouseContainer.json",JSON.stringify(engine3D.collectArrayFromContainer(scene3DHouseContainer)));for(var e=[],k=[],f=0;f<scene2DWallMesh.length;f++)e.push(engine3D.collectArrayFromContainer(scene3DFloorFurnitureContainer[f])),k.push(engine2D.collectArrayFromContainer(f));b.file("scene3DFloorContainer.json",JSON.stringify(e));b.file("scene2DFloorContainer.json",JSON.stringify(k));try{b.file("house.jpg",imageBase64("imgHouse"),{base64:!0})}catch(m){}c||(b.file("readme.txt","Saved by WebGL HousePlanner."),
b.folder("obj"),b.folder("obj/Textures"));b=b.generate({type:"blob"});c?""===SESSION?window.location="#openLogin":(f=new FormData,f.append("file",b),$.ajax("php/objects.php?upload=scene",{type:"POST",contentType:"application/octet-stream",processData:!1,data:f,success:function(b,c){"error"!=b.status&&alert("ok")},error:function(){alert("not so ok")}}),window.location="#close"):(saveAs(b,"scene.zip"),window.location="#close")},4E3)};
function getCookie(c){c=("; "+document.cookie).split("; "+c+"=");if(2==c.length)return c.pop().split(";").shift()}function createCookie(c,b,e){if(e){var f=new Date;f.setTime(f.getTime()+864E5*e);e="; expires="+f.toGMTString()}else e="";document.cookie=c+"="+b+e+"; path=/"};$(document).ready(function(){$("#search-box").keyup(function(c){if(38==c.keyCode)$("#search_suggestion_holder").is(":visible")&&($(".selected").is(":visible")?(c=$("#search_suggestion_holder li").index($("#search_suggestion_holder li.selected")),$("#search_suggestion_holder li.selected").removeClass("selected"),c--,$("#search_suggestion_holder li:eq("+c+")").addClass("selected")):$("#search_suggestion_holder li").last().addClass("selected"));else if(40==c.keyCode)$("#search_suggestion_holder").is(":visible")&&
($(".selected").is(":visible")?(c=$("#search_suggestion_holder li").index($("#search_suggestion_holder li.selected")),$("#search_suggestion_holder li.selected").removeClass("selected"),c++,$("#search_suggestion_holder li:eq("+c+")").addClass("selected")):$("#search_suggestion_holder li").first().addClass("selected"));else if(13==c.keyCode)$(".selected").is(":visible")&&(c=$(".selected").text(),$("#search-box").val(c),$("#search_suggestion_holder").hide());else{var b=$(this).val();$("#search-close").hide();
$("#loader").show();setTimeout(function(){$.ajax({url:"php/search.php",data:"keyword="+b,success:function(b){$("#search_suggestion_holder").html(b);$("#search_suggestion_holder").show();$("#loader").hide();$("#search-close").show()}})},400)}});$("#search_suggestion_holder").on("click","li",function(){$("#search_suggestion_holder").hide()})});var engine3D=window.engine3D||{},engine2D=window.engine2D||{},scene3D,scene3DCube,scene3DPanorama,scene2D,canvas2D,scene2DAdvanced,physics3D,dpr,renderer,rendererCube,rendererPanorama,rendererQuad=[4],camera3DQuad=[4],camera3DQuadGrid,scene3DRoofContainer,scene3DHouseContainer,_scene3DHouseGroundContainer,scene3DHouseGroundContainer,scene3DHouseFXContainer,scene3DFloorGroundContainer,scene3DPanoramaContainer,scene3DCutawayPlaneMesh,scene3DLevelGroundContainer,scene3DLevelWallContainer,scene3DFloorFurnitureContainer=
[],scene3DFloorMeasurementsContainer=[],scene3DFloorWallContainer=[],scene3DFloorDoorContainer=[],scene3DFloorWindowContainer=[],scene3DFloorShapeContainer=[],scene3DFloorShapeTextures=[],scene3DCeilingShapeContainer=[],scene3DCeilingShapeTextures=[],scene2DFloorShape=[],scene2DFloorDraftPlanImage=[],scene3DPivotPoint,scene3DCubeMesh,sceneAmbientLight,sceneDirectionalLight,sceneSpotLight,controls3D,camera3D,camera3DPositionCache,camera3DPivotCache,camera3DCube,camera3DPanorama,groundGrid,groundMesh,
skyMesh,skyFloorMesh,weatherSkyGeometry,weatherSkyMaterial,weatherSkyCloudsMesh,weatherSkyRainbowMesh,SESSION="",RADIAN=Math.PI/180,SCENE="house",SCENEFILE="scene1.zip",TOOL3D="view",TOOL3DINTERACTIVE="",TOOL3DLANDSCAPE="rotate",TOOL3DFLOOR="measure",TOOL2D="vector",WEATHER="sunny",DAY="day",FLOOR=1,REALSIZERATIO=1,SelectedObject=null,SelectedNote=null,SelectedPicture=null,SelectedWall=null,leftButtonDown=!1,rightButtonDown=!1,clickTime,clickMenuTime,doubleClickTime,zoom2Dimg,zoom2Dheight=80,zoom2Dwidth=
241,zoom2DCTX=null,zoom2DSlider=null,zoom2D=1,scene2DDrawLineGeometry=[],scene2DDrawLine,scene2DWallMesh=[],scene2DWallGroup=[],scene2DWallPointGroup=[],scene2DWindowGroup=[],scene2DDoorGroup=[],scene2DLabelGroup=[],scene2DFloorMesh=[],scene2DDoorMesh=[],scene2DWindowMesh=[],scene2DInteriorMesh=[],scene2DExteriorMesh=[],scene2DWallDimentions=[],scene3DWallInteriorTextureDefault,scene3DWallExteriorTextureDefault,scene3DWallInteriorTextures=[],scene3DWallExteriorTextures=[],scene2DWallRegularMaterial,
scene2DWallRegularMaterialSelect,scene2DWallBearingMaterial,scene2DWallBearingMaterialSelect,physics3DContainer,animation=[],scene3DAnimateRotate=!1,requestAnimationID,spinner=document.createElement("div"),settings={sunlight:!1,clouds:!0,rainbow:!0,panorama_day:"2056",panorama_night:"2057",autorotate:!1},mouse,touch,target,clock,textureLoader,projector,vector,geometry,material,texture,mesh,terrain3D,terrain3DMaterial,fileReader,getScreenshotData=!1,FXAAPass,SSAOPass,effectComposer,depthMaterial,depthRenderTarget,
depthScale=1,FXAAProcessing={enabled:!0},SSAOProcessing={enabled:!1,renderMode:0};engine3D.showCube=!1;
