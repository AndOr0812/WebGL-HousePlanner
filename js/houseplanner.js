!function(c,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=c.document?b(c,!0):function(c){if(!c.document)throw Error("jQuery requires a window with a document");return b(c)}:b(c)}("undefined"!=typeof window?window:this,function(c,b){function e(c,b){b=b||H;var r=b.createElement("script");r.text=c;b.head.appendChild(r).parentNode.removeChild(r)}function f(c){var r=!!c&&"length"in c&&c.length,b=p.type(c);return"function"!==b&&!p.isWindow(c)&&("array"===b||0===r||"number"==
typeof r&&0<r&&r-1 in c)}function k(c,b,e){return p.isFunction(b)?p.grep(c,function(c,r){return!!b.call(c,r,c)!==e}):b.nodeType?p.grep(c,function(c){return c===b!==e}):"string"!=typeof b?p.grep(c,function(c){return-1<Z.call(b,c)!==e}):rb.test(b)?p.filter(b,c,e):(b=p.filter(b,c),p.grep(c,function(c){return-1<Z.call(b,c)!==e&&1===c.nodeType}))}function m(c,b){for(;(c=c[b])&&1!==c.nodeType;);return c}function q(c){var r={};return p.each(c.match(ra)||[],function(c,b){r[b]=!0}),r}function t(c){return c}
function h(c){throw c;}function n(c,b,e){var r;try{c&&p.isFunction(r=c.promise)?r.call(c).done(b).fail(e):c&&p.isFunction(r=c.then)?r.call(c,b,e):b.call(void 0,c)}catch(Ua){e.call(void 0,Ua)}}function g(){H.removeEventListener("DOMContentLoaded",g);c.removeEventListener("load",g);p.ready()}function v(){this.expando=p.expando+v.uid++}function B(c,b,e){var r;if(void 0===e&&1===c.nodeType)if(r="data-"+b.replace(sb,"-$&").toLowerCase(),e=c.getAttribute(r),"string"==typeof e){try{r=e,e="true"===r||"false"!==
r&&("null"===r?null:r===+r+""?+r:tb.test(r)?JSON.parse(r):r)}catch(Ua){}na.set(c,b,e)}else e=void 0;return e}function z(c,b,e,g){var r,E=1,h=20,f=g?function(){return g.cur()}:function(){return p.css(c,b,"")},k=f(),n=e&&e[3]||(p.cssNumber[b]?"":"px"),q=(p.cssNumber[b]||"px"!==n&&+k)&&Ea.exec(p.css(c,b));if(q&&q[3]!==n){n=n||q[3];e=e||[];q=+k||1;do E=E||".5",q/=E,p.style(c,b,q+n);while(E!==(E=f()/k)&&1!==E&&--h)}return e&&(q=+q||+k||0,r=e[1]?q+(e[1]+1)*e[2]:+e[2],g&&(g.unit=n,g.start=q,g.end=r)),r}
function x(c,b){for(var r,e,g=[],E=0,h=c.length;E<h;E++)if(e=c[E],e.style)if(r=e.style.display,b){if("none"===r&&(g[E]=V.get(e,"display")||null,g[E]||(e.style.display="")),""===e.style.display&&Ja(e)){r=E;var f,k=void 0;f=e.ownerDocument;var n=e.nodeName;f=(e=Va[n])?e:(k=f.body.appendChild(f.createElement(n)),e=p.css(k,"display"),k.parentNode.removeChild(k),"none"===e&&(e="block"),Va[n]=e,e);g[r]=f}}else"none"!==r&&(g[E]="none",V.set(e,"display",r));for(E=0;E<h;E++)null!=g[E]&&(c[E].style.display=
g[E]);return c}function w(c,b){var r;return r="undefined"!=typeof c.getElementsByTagName?c.getElementsByTagName(b||"*"):"undefined"!=typeof c.querySelectorAll?c.querySelectorAll(b||"*"):[],void 0===b||b&&p.nodeName(c,b)?p.merge([c],r):r}function F(c,b){for(var r=0,e=c.length;r<e;r++)V.set(c[r],"globalEval",!b||V.get(b[r],"globalEval"))}function u(c,b,e,g,f){for(var r,E,h,k,n=b.createDocumentFragment(),q=[],qa=0,m=c.length;qa<m;qa++)if(r=c[qa],r||0===r)if("object"===p.type(r))p.merge(q,r.nodeType?
[r]:r);else if(wb.test(r)){E=E||n.appendChild(b.createElement("div"));h=(Wa.exec(r)||["",""])[1].toLowerCase();h=la[h]||la._default;E.innerHTML=h[1]+p.htmlPrefilter(r)+h[2];for(h=h[0];h--;)E=E.lastChild;p.merge(q,E.childNodes);E=n.firstChild;E.textContent=""}else q.push(b.createTextNode(r));n.textContent="";for(qa=0;r=q[qa++];)if(g&&-1<p.inArray(r,g))f&&f.push(r);else if(k=p.contains(r.ownerDocument,r),E=w(n.appendChild(r),"script"),k&&F(E),e)for(h=0;r=E[h++];)Xa.test(r.type||"")&&e.push(r);return n}
function G(){return!0}function I(){return!1}function J(){try{return H.activeElement}catch(r){}}function K(c,b,e,g,h,f){var r,E;if("object"==typeof b){"string"!=typeof e&&(g=g||e,e=void 0);for(E in b)K(c,E,e,g,b[E],f);return c}if(null==g&&null==h?(h=e,g=e=void 0):null==h&&("string"==typeof e?(h=g,g=void 0):(h=g,g=e,e=void 0)),!1===h)h=I;else if(!h)return c;return 1===f&&(r=h,h=function(c){return p().off(c),r.apply(this,arguments)},h.guid=r.guid||(r.guid=p.guid++)),c.each(function(){p.event.add(this,
b,h,g,e)})}function P(c,b){return p.nodeName(c,"table")&&p.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?c.getElementsByTagName("tbody")[0]||c:c}function N(c){return c.type=(null!==c.getAttribute("type"))+"/"+c.type,c}function C(c){var r=xb.exec(c.type);return r?c.type=r[1]:c.removeAttribute("type"),c}function A(c,b){var r,e,g,E,h,f;if(1===b.nodeType){if(V.hasData(c)&&(r=V.access(c),e=V.set(b,r),f=r.events))for(g in delete e.handle,e.events={},f)for(r=0,e=f[g].length;r<e;r++)p.event.add(b,g,f[g][r]);
na.hasData(c)&&(E=na.access(c),h=p.extend({},E),na.set(b,h))}}function y(c,b,g,h){b=aa.apply([],b);var r,E,f,k,n=0,q=c.length,m=q-1,qa=b[0],z=p.isFunction(qa);if(z||1<q&&"string"==typeof qa&&!ca.checkClone&&yb.test(qa))return c.each(function(r){var e=c.eq(r);z&&(b[0]=qa.call(this,r,e.html()));y(e,b,g,h)});if(q&&(r=u(b,c[0].ownerDocument,!1,c,h),E=r.firstChild,1===r.childNodes.length&&(r=E),E||h)){E=p.map(w(r,"script"),N);for(f=E.length;n<q;n++)k=r,n!==m&&(k=p.clone(k,!0,!0),f&&p.merge(E,w(k,"script"))),
g.call(c[n],k,n);if(f)for(r=E[E.length-1].ownerDocument,p.map(E,C),n=0;n<f;n++)k=E[n],Xa.test(k.type||"")&&!V.access(k,"globalEval")&&p.contains(r,k)&&(k.src?p._evalUrl&&p._evalUrl(k.src):e(k.textContent.replace(zb,""),r))}return c}function Q(c,b,e){for(var r=b?p.filter(b,c):c,g=0;null!=(b=r[g]);g++)e||1!==b.nodeType||p.cleanData(w(b)),b.parentNode&&(e&&p.contains(b.ownerDocument,b)&&F(w(b,"script")),b.parentNode.removeChild(b));return c}function S(c,b,e){var r,g,E,h,f=c.style;return e=e||Ka(c),e&&
(h=e.getPropertyValue(b)||e[b],""!==h||p.contains(c.ownerDocument,c)||(h=p.style(c,b)),!ca.pixelMarginRight()&&Na.test(h)&&Ya.test(b)&&(r=f.width,g=f.minWidth,E=f.maxWidth,f.minWidth=f.maxWidth=f.width=h,h=e.width,f.width=r,f.minWidth=g,f.maxWidth=E)),void 0!==h?h+"":h}function R(c,b){return{get:function(){return c()?void delete this.get:(this.get=b).apply(this,arguments)}}}function ia(c){if(c in Za)return c;for(var b=c[0].toUpperCase()+c.slice(1),r=$a.length;r--;)if(c=$a[r]+b,c in Za)return c}function ea(c,
b,e){return(c=Ea.exec(b))?Math.max(0,c[2]-(e||0))+(c[3]||"px"):b}function ma(c,b,e,g,h){var r=0;for(b=e===(g?"border":"content")?4:"width"===b?1:0;4>b;b+=2)"margin"===e&&(r+=p.css(c,e+ya[b],!0,h)),g?("content"===e&&(r-=p.css(c,"padding"+ya[b],!0,h)),"margin"!==e&&(r-=p.css(c,"border"+ya[b]+"Width",!0,h))):(r+=p.css(c,"padding"+ya[b],!0,h),"padding"!==e&&(r+=p.css(c,"border"+ya[b]+"Width",!0,h)));return r}function da(c,b,e){var r,g=!0,h=Ka(c),f="border-box"===p.css(c,"boxSizing",!1,h);if(c.getClientRects().length&&
(r=c.getBoundingClientRect()[b]),0>=r||null==r){if(r=S(c,b,h),(0>r||null==r)&&(r=c.style[b]),Na.test(r))return r;g=f&&(ca.boxSizingReliable()||r===c.style[b]);r=parseFloat(r)||0}return r+ma(c,b,e||(f?"border":"content"),g,h)+"px"}function D(c,b,e,g,h){return new D.prototype.init(c,b,e,g,h)}function va(){za&&(c.requestAnimationFrame(va),p.fx.tick())}function oa(){return c.setTimeout(function(){Ba=void 0}),Ba=p.now()}function O(c,b){var r,e=0,g={height:c};for(b=b?1:0;4>e;e+=2-b)r=ya[e],g["margin"+r]=
g["padding"+r]=c;return b&&(g.opacity=g.width=c),g}function pa(c,b,e){for(var r,g=(M.tweeners[b]||[]).concat(M.tweeners["*"]),h=0,f=g.length;h<f;h++)if(r=g[h].call(e,b,c))return r}function U(c,b){var r,e,g,h,f;for(r in c)if(e=p.camelCase(r),g=b[e],h=c[r],p.isArray(h)&&(g=h[1],h=c[r]=h[0]),r!==e&&(c[e]=h,delete c[r]),f=p.cssHooks[e],f&&"expand"in f)for(r in h=f.expand(h),delete c[e],h)r in c||(c[r]=h[r],b[r]=g);else b[e]=g}function M(c,b,e){var r,g=0,h=M.prefilters.length,f=p.Deferred().always(function(){delete E.elem}),
E=function(){if(r)return!1;for(var b=Ba||oa(),b=Math.max(0,k.startTime+k.duration-b),e=1-(b/k.duration||0),g=0,h=k.tweens.length;g<h;g++)k.tweens[g].run(e);return f.notifyWith(c,[k,e,b]),1>e&&h?b:(f.resolveWith(c,[k]),!1)},k=f.promise({elem:c,props:p.extend({},b),opts:p.extend(!0,{specialEasing:{},easing:p.easing._default},e),originalProperties:b,originalOptions:e,startTime:Ba||oa(),duration:e.duration,tweens:[],createTween:function(b,r){var e=p.Tween(c,k.opts,b,r,k.opts.specialEasing[b]||k.opts.easing);
return k.tweens.push(e),e},stop:function(b){var e=0,g=b?k.tweens.length:0;if(r)return this;for(r=!0;e<g;e++)k.tweens[e].run(1);return b?(f.notifyWith(c,[k,1,0]),f.resolveWith(c,[k,b])):f.rejectWith(c,[k,b]),this}});e=k.props;for(U(e,k.opts.specialEasing);g<h;g++)if(b=M.prefilters[g].call(k,c,e,k.opts))return p.isFunction(b.stop)&&(p._queueHooks(k.elem,k.opts.queue).stop=p.proxy(b.stop,b)),b;return p.map(e,pa,k),p.isFunction(k.opts.start)&&k.opts.start.call(c,k),p.fx.timer(p.extend(E,{elem:c,anim:k,
queue:k.opts.queue})),k.progress(k.opts.progress).done(k.opts.done,k.opts.complete).fail(k.opts.fail).always(k.opts.always)}function T(c){return(c.match(ra)||[]).join(" ")}function W(c){return c.getAttribute&&c.getAttribute("class")||""}function ja(c,b,e,g){var r;if(p.isArray(b))p.each(b,function(b,r){e||Ab.test(c)?g(c,r):ja(c+"["+("object"==typeof r&&null!=r?b:"")+"]",r,e,g)});else if(e||"object"!==p.type(b))g(c,b);else for(r in b)ja(c+"["+r+"]",b[r],e,g)}function ka(c){return function(b,r){"string"!=
typeof b&&(r=b,b="*");var e,g=0,h=b.toLowerCase().match(ra)||[];if(p.isFunction(r))for(;e=h[g++];)"+"===e[0]?(e=e.slice(1)||"*",(c[e]=c[e]||[]).unshift(r)):(c[e]=c[e]||[]).push(r)}}function X(c,b,e,g){function r(k){var E;return h[k]=!0,p.each(c[k]||[],function(c,k){var n=k(b,e,g);return"string"!=typeof n||f||h[n]?f?!(E=n):void 0:(b.dataTypes.unshift(n),r(n),!1)}),E}var h={},f=c===Oa;return r(b.dataTypes[0])||!h["*"]&&r("*")}function ga(c,b){var r,e,g=p.ajaxSettings.flatOptions||{};for(r in b)void 0!==
b[r]&&((g[r]?c:e||(e={}))[r]=b[r]);return e&&p.extend(!0,c,e),c}function ha(c){return p.isWindow(c)?c:9===c.nodeType&&c.defaultView}var ba=[],H=c.document,wa=Object.getPrototypeOf,Y=ba.slice,aa=ba.concat,sa=ba.push,Z=ba.indexOf,fa={},ua=fa.toString,Ca=fa.hasOwnProperty,Fa=Ca.toString,Da=Fa.call(Object),ca={},p=function(c,b){return new p.fn.init(c,b)},Bb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Cb=/^-ms-/,Db=/-([a-z])/g,Eb=function(c,b){return b.toUpperCase()};p.fn=p.prototype={jquery:"3.1.1",constructor:p,
length:0,toArray:function(){return Y.call(this)},get:function(c){return null==c?Y.call(this):0>c?this[c+this.length]:this[c]},pushStack:function(c){c=p.merge(this.constructor(),c);return c.prevObject=this,c},each:function(c){return p.each(this,c)},map:function(c){return this.pushStack(p.map(this,function(b,r){return c.call(b,r,b)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(c){var b=this.length;
c=+c+(0>c?b:0);return this.pushStack(0<=c&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:sa,sort:ba.sort,splice:ba.splice};p.extend=p.fn.extend=function(){var c,b,e,g,h,f,k=arguments[0]||{},n=1,q=arguments.length,m=!1;"boolean"==typeof k&&(m=k,k=arguments[n]||{},n++);"object"==typeof k||p.isFunction(k)||(k={});for(n===q&&(k=this,n--);n<q;n++)if(null!=(c=arguments[n]))for(b in c)e=k[b],g=c[b],k!==g&&(m&&g&&(p.isPlainObject(g)||(h=p.isArray(g)))?(h?(h=!1,f=e&&p.isArray(e)?
e:[]):f=e&&p.isPlainObject(e)?e:{},k[b]=p.extend(m,f,g)):void 0!==g&&(k[b]=g));return k};p.extend({expando:"jQuery"+("3.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(c){throw Error(c);},noop:function(){},isFunction:function(c){return"function"===p.type(c)},isArray:Array.isArray,isWindow:function(c){return null!=c&&c===c.window},isNumeric:function(c){var b=p.type(c);return("number"===b||"string"===b)&&!isNaN(c-parseFloat(c))},isPlainObject:function(c){var b,r;return!(!c||"[object Object]"!==
ua.call(c))&&(!(b=wa(c))||(r=Ca.call(b,"constructor")&&b.constructor,"function"==typeof r&&Fa.call(r)===Da))},isEmptyObject:function(c){for(var b in c)return!1;return!0},type:function(c){return null==c?c+"":"object"==typeof c||"function"==typeof c?fa[ua.call(c)]||"object":typeof c},globalEval:function(c){e(c)},camelCase:function(c){return c.replace(Cb,"ms-").replace(Db,Eb)},nodeName:function(c,b){return c.nodeName&&c.nodeName.toLowerCase()===b.toLowerCase()},each:function(c,b){var r,e=0;if(f(c))for(r=
c.length;e<r&&!1!==b.call(c[e],e,c[e]);e++);else for(e in c)if(!1===b.call(c[e],e,c[e]))break;return c},trim:function(c){return null==c?"":(c+"").replace(Bb,"")},makeArray:function(c,b){var e=b||[];return null!=c&&(f(Object(c))?p.merge(e,"string"==typeof c?[c]:c):sa.call(e,c)),e},inArray:function(c,b,e){return null==b?-1:Z.call(b,c,e)},merge:function(c,b){for(var e=+b.length,r=0,g=c.length;r<e;r++)c[g++]=b[r];return c.length=g,c},grep:function(c,b,e){for(var r=[],g=0,h=c.length,f=!e;g<h;g++)e=!b(c[g],
g),e!==f&&r.push(c[g]);return r},map:function(c,b,e){var r,g,h=0,k=[];if(f(c))for(r=c.length;h<r;h++)g=b(c[h],h,e),null!=g&&k.push(g);else for(h in c)g=b(c[h],h,e),null!=g&&k.push(g);return aa.apply([],k)},guid:1,proxy:function(c,b){var e,r,g;if("string"==typeof b&&(e=c[b],b=c,c=e),p.isFunction(c))return r=Y.call(arguments,2),g=function(){return c.apply(b||this,r.concat(Y.call(arguments)))},g.guid=c.guid=c.guid||p.guid++,g},now:Date.now,support:ca});"function"==typeof Symbol&&(p.fn[Symbol.iterator]=
ba[Symbol.iterator]);p.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(c,b){fa["[object "+b+"]"]=b.toLowerCase()});var Aa=function(c){function b(c,b,e,r){var g,h,f,k,n,E=b&&b.ownerDocument,q=b?b.nodeType:9;if(e=e||[],"string"!=typeof c||!c||1!==q&&9!==q&&11!==q)return e;if(!r&&((b?b.ownerDocument||b:ua)!==Z&&P(b),b=b||Z,sa)){if(11!==q&&(k=Aa.exec(c)))if(g=k[1])if(9===q){if(!(h=b.getElementById(g)))return e;if(h.id===g)return e.push(h),e}else{if(E&&(h=
E.getElementById(g))&&S(b,h)&&h.id===g)return e.push(h),e}else{if(k[2])return V.apply(e,b.getElementsByTagName(c)),e;if((g=k[3])&&B.getElementsByClassName&&b.getElementsByClassName)return V.apply(e,b.getElementsByClassName(g)),e}if(!(!B.qsa||O[c+" "]||D&&D.test(c))){if(1!==q)E=b,n=c;else if("object"!==b.nodeName.toLowerCase()){(f=b.getAttribute("id"))?f=f.replace(xa,ya):b.setAttribute("id",f=fa);h=Y(c);for(g=h.length;g--;)h[g]="#"+f+" "+v(h[g]);n=h.join(",");E=ra.test(c)&&m(b.parentNode)||b}if(n)try{return V.apply(e,
E.querySelectorAll(n)),e}catch(jc){}finally{f===fa&&b.removeAttribute("id")}}}return N(c.replace(ba,"$1"),b,e,r)}function e(){function c(e,r){return b.push(e+" ")>aa.cacheLength&&delete c[b.shift()],c[e+" "]=r}var b=[];return c}function r(c){return c[fa]=!0,c}function g(c){var b=Z.createElement("fieldset");try{return!!c(b)}catch(hc){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function h(c,b){for(var e=c.split("|"),r=e.length;r--;)aa.attrHandle[e[r]]=b}function f(c,b){var e=b&&c,r=
e&&1===c.nodeType&&1===b.nodeType&&c.sourceIndex-b.sourceIndex;if(r)return r;if(e)for(;e=e.nextSibling;)if(e===b)return-1;return c?1:-1}function k(c){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===c}}function n(c){return function(b){var e=b.nodeName.toLowerCase();return("input"===e||"button"===e)&&b.type===c}}function q(c){return function(b){return"form"in b?b.parentNode&&!1===b.disabled?"label"in b?"label"in b.parentNode?b.parentNode.disabled===c:b.disabled===c:b.isDisabled===
c||b.isDisabled!==!c&&Ba(b)===c:b.disabled===c:"label"in b&&b.disabled===c}}function p(c){return r(function(b){return b=+b,r(function(e,r){for(var g,h=c([],e.length,b),f=h.length;f--;)e[g=h[f]]&&(e[g]=!(r[g]=e[g]))})})}function m(c){return c&&"undefined"!=typeof c.getElementsByTagName&&c}function z(){}function v(c){for(var b=0,e=c.length,r="";b<e;b++)r+=c[b].value;return r}function H(c,b,e){var r=b.dir,g=b.next,h=g||r,f=e&&"parentNode"===h,k=ea++;return b.first?function(b,e,g){for(;b=b[r];)if(1===
b.nodeType||f)return c(b,e,g);return!1}:function(b,e,n){var E,q,p,m=[R,k];if(n)for(;b=b[r];){if((1===b.nodeType||f)&&c(b,e,n))return!0}else for(;b=b[r];)if(1===b.nodeType||f)if(p=b[fa]||(b[fa]={}),q=p[b.uniqueID]||(p[b.uniqueID]={}),g&&g===b.nodeName.toLowerCase())b=b[r]||b;else{if((E=q[h])&&E[0]===R&&E[1]===k)return m[2]=E[2];if(q[h]=m,m[2]=c(b,e,n))return!0}return!1}}function u(c){return 1<c.length?function(b,e,r){for(var g=c.length;g--;)if(!c[g](b,e,r))return!1;return!0}:c[0]}function y(c,b,e,
r,g){for(var h,f=[],k=0,n=c.length,E=null!=b;k<n;k++)(h=c[k])&&(e&&!e(h,r,g)||(f.push(h),E&&b.push(k)));return f}function t(c,e,g,h,f,k){return h&&!h[fa]&&(h=t(h)),f&&!f[fa]&&(f=t(f,k)),r(function(r,k,n,E){var q,p,m=[],z=[],v=k.length,H;if(!(H=r)){H=e||"*";for(var u=n.nodeType?[n]:n,qa=[],t=0,aa=u.length;t<aa;t++)b(H,u[t],qa);H=qa}H=!c||!r&&e?H:y(H,m,c,n,E);u=g?f||(r?c:v||h)?[]:k:H;if(g&&g(H,u,n,E),h)for(q=y(u,z),h(q,[],n,E),n=q.length;n--;)(p=q[n])&&(u[z[n]]=!(H[z[n]]=p));if(r){if(f||c){if(f){q=
[];for(n=u.length;n--;)(p=u[n])&&q.push(H[n]=p);f(null,u=[],q,E)}for(n=u.length;n--;)(p=u[n])&&-1<(q=f?W(r,p):m[n])&&(r[q]=!(k[q]=p))}}else u=y(u===k?u.splice(v,u.length):u),f?f(null,k,u,E):V.apply(k,u)})}function F(c){var b,e,r,g=c.length,h=aa.relative[c[0].type];e=h||aa.relative[" "];for(var f=h?1:0,k=H(function(c){return c===b},e,!0),n=H(function(c){return-1<W(b,c)},e,!0),E=[function(c,e,r){c=!h&&(r||e!==A)||((b=e).nodeType?k(c,e,r):n(c,e,r));return b=null,c}];f<g;f++)if(e=aa.relative[c[f].type])E=
[H(u(E),e)];else{if(e=aa.filter[c[f].type].apply(null,c[f].matches),e[fa]){for(r=++f;r<g&&!aa.relative[c[r].type];r++);return t(1<f&&u(E),1<f&&v(c.slice(0,f-1).concat({value:" "===c[f-2].type?"*":""})).replace(ba,"$1"),e,f<r&&F(c.slice(f,r)),r<g&&F(c=c.slice(r)),r<g&&v(c))}E.push(e)}return u(E)}function x(c,e){var g=0<e.length,h=0<c.length,f=function(r,f,k,n,E){var q,p,m,z=0,v="0",H=r&&[],u=[],qa=A,t=r||h&&aa.find.TAG("*",E),B=R+=null==qa?1:Math.random()||.1,F=t.length;for(E&&(A=f===Z||f||E);v!==
F&&null!=(q=t[v]);v++){if(h&&q){p=0;for(f||q.ownerDocument===Z||(P(q),k=!sa);m=c[p++];)if(m(q,f||Z,k)){n.push(q);break}E&&(R=B)}g&&((q=!m&&q)&&z--,r&&H.push(q))}if(z+=v,g&&v!==z){for(p=0;m=e[p++];)m(H,u,f,k);if(r){if(0<z)for(;v--;)H[v]||u[v]||(u[v]=U.call(n));u=y(u)}V.apply(n,u);E&&!r&&0<u.length&&1<z+e.length&&b.uniqueSort(n)}return E&&(R=B,A=qa),H};return g?r(f):f}var C,B,aa,G,w,Y,I,N,A,J,Q,P,Z,K,sa,D,da,wa,S,fa="sizzle"+1*new Date,ua=c.document,R=0,ea=0,M=e(),Fa=e(),O=e(),Ca=function(c,b){return c===
b&&(Q=!0),0},T={}.hasOwnProperty,ca=[],U=ca.pop,X=ca.push,V=ca.push,oa=ca.slice,W=function(c,b){for(var e=0,r=c.length;e<r;e++)if(c[e]===b)return e;return-1},ma=RegExp("[\\x20\\t\\r\\n\\f]+","g"),ba=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),ia=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ga=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ha=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),ja=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
ka=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,Da={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},va=/^(?:input|select|textarea|button)$/i,pa=/^h\d$/i,na=
/^[^{]+\{\s*\[native \w/,Aa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ra=/[+~]/,la=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),ta=function(c,b,e){c="0x"+b-65536;return c!==c||e?b:0>c?String.fromCharCode(c+65536):String.fromCharCode(c>>10|55296,1023&c|56320)},xa=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ya=function(c,b){return b?"\x00"===c?"\ufffd":c.slice(0,-1)+"\\"+c.charCodeAt(c.length-1).toString(16)+" ":"\\"+c},za=function(){P()},Ba=H(function(c){return!0===
c.disabled&&("form"in c||"label"in c)},{dir:"parentNode",next:"legend"});try{V.apply(ca=oa.call(ua.childNodes),ua.childNodes),ca[ua.childNodes.length].nodeType}catch(gc){V={apply:ca.length?function(c,b){X.apply(c,oa.call(b))}:function(c,b){for(var e=c.length,r=0;c[e++]=b[r++];);c.length=e-1}}}B=b.support={};w=b.isXML=function(c){c=c&&(c.ownerDocument||c).documentElement;return!!c&&"HTML"!==c.nodeName};P=b.setDocument=function(c){var b,e;c=c?c.ownerDocument||c:ua;return c!==Z&&9===c.nodeType&&c.documentElement?
(Z=c,K=Z.documentElement,sa=!w(Z),ua!==Z&&(e=Z.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",za,!1):e.attachEvent&&e.attachEvent("onunload",za)),B.attributes=g(function(c){return c.className="i",!c.getAttribute("className")}),B.getElementsByTagName=g(function(c){return c.appendChild(Z.createComment("")),!c.getElementsByTagName("*").length}),B.getElementsByClassName=na.test(Z.getElementsByClassName),B.getById=g(function(c){return K.appendChild(c).id=fa,!Z.getElementsByName||
!Z.getElementsByName(fa).length}),B.getById?(aa.filter.ID=function(c){var b=c.replace(la,ta);return function(c){return c.getAttribute("id")===b}},aa.find.ID=function(c,b){if("undefined"!=typeof b.getElementById&&sa){var e=b.getElementById(c);return e?[e]:[]}}):(aa.filter.ID=function(c){var b=c.replace(la,ta);return function(c){return(c="undefined"!=typeof c.getAttributeNode&&c.getAttributeNode("id"))&&c.value===b}},aa.find.ID=function(c,b){if("undefined"!=typeof b.getElementById&&sa){var e,r,g,h=
b.getElementById(c);if(h){if(e=h.getAttributeNode("id"),e&&e.value===c)return[h];g=b.getElementsByName(c);for(r=0;h=g[r++];)if(e=h.getAttributeNode("id"),e&&e.value===c)return[h]}return[]}}),aa.find.TAG=B.getElementsByTagName?function(c,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(c):B.qsa?b.querySelectorAll(c):void 0}:function(c,b){var e,r=[],g=0,h=b.getElementsByTagName(c);if("*"===c){for(;e=h[g++];)1===e.nodeType&&r.push(e);return r}return h},aa.find.CLASS=B.getElementsByClassName&&
function(c,b){if("undefined"!=typeof b.getElementsByClassName&&sa)return b.getElementsByClassName(c)},da=[],D=[],(B.qsa=na.test(Z.querySelectorAll))&&(g(function(c){K.appendChild(c).innerHTML="<a id='"+fa+"'></a><select id='"+fa+"-\r\\' msallowcapture=''><option selected=''></option></select>";c.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");c.querySelectorAll("[selected]").length||D.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
c.querySelectorAll("[id~="+fa+"-]").length||D.push("~=");c.querySelectorAll(":checked").length||D.push(":checked");c.querySelectorAll("a#"+fa+"+*").length||D.push(".#.+[+~]")}),g(function(c){c.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=Z.createElement("input");b.setAttribute("type","hidden");c.appendChild(b).setAttribute("name","D");c.querySelectorAll("[name=d]").length&&D.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==c.querySelectorAll(":enabled").length&&
D.push(":enabled",":disabled");K.appendChild(c).disabled=!0;2!==c.querySelectorAll(":disabled").length&&D.push(":enabled",":disabled");c.querySelectorAll("*,:x");D.push(",.*:")})),(B.matchesSelector=na.test(wa=K.matches||K.webkitMatchesSelector||K.mozMatchesSelector||K.oMatchesSelector||K.msMatchesSelector))&&g(function(c){B.disconnectedMatch=wa.call(c,"*");wa.call(c,"[s!='']:x");da.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),
D=D.length&&new RegExp(D.join("|")),da=da.length&&new RegExp(da.join("|")),b=na.test(K.compareDocumentPosition),S=b||na.test(K.contains)?function(c,b){var e=9===c.nodeType?c.documentElement:c,r=b&&b.parentNode;return c===r||!(!r||1!==r.nodeType||!(e.contains?e.contains(r):c.compareDocumentPosition&&16&c.compareDocumentPosition(r)))}:function(c,b){if(b)for(;b=b.parentNode;)if(b===c)return!0;return!1},Ca=b?function(c,b){if(c===b)return Q=!0,0;var e=!c.compareDocumentPosition-!b.compareDocumentPosition;
return e?e:(e=(c.ownerDocument||c)===(b.ownerDocument||b)?c.compareDocumentPosition(b):1,1&e||!B.sortDetached&&b.compareDocumentPosition(c)===e?c===Z||c.ownerDocument===ua&&S(ua,c)?-1:b===Z||b.ownerDocument===ua&&S(ua,b)?1:J?W(J,c)-W(J,b):0:4&e?-1:1)}:function(c,b){if(c===b)return Q=!0,0;var e,r=0;e=c.parentNode;var g=b.parentNode,h=[c],k=[b];if(!e||!g)return c===Z?-1:b===Z?1:e?-1:g?1:J?W(J,c)-W(J,b):0;if(e===g)return f(c,b);for(e=c;e=e.parentNode;)h.unshift(e);for(e=b;e=e.parentNode;)k.unshift(e);
for(;h[r]===k[r];)r++;return r?f(h[r],k[r]):h[r]===ua?-1:k[r]===ua?1:0},Z):Z};b.matches=function(c,e){return b(c,null,null,e)};b.matchesSelector=function(c,e){if((c.ownerDocument||c)!==Z&&P(c),e=e.replace(ha,"='$1']"),!(!B.matchesSelector||!sa||O[e+" "]||da&&da.test(e)||D&&D.test(e)))try{var r=wa.call(c,e);if(r||B.disconnectedMatch||c.document&&11!==c.document.nodeType)return r}catch(ic){}return 0<b(e,Z,null,[c]).length};b.contains=function(c,b){return(c.ownerDocument||c)!==Z&&P(c),S(c,b)};b.attr=
function(c,b){(c.ownerDocument||c)!==Z&&P(c);var e=aa.attrHandle[b.toLowerCase()],e=e&&T.call(aa.attrHandle,b.toLowerCase())?e(c,b,!sa):void 0;return void 0!==e?e:B.attributes||!sa?c.getAttribute(b):(e=c.getAttributeNode(b))&&e.specified?e.value:null};b.escape=function(c){return(c+"").replace(xa,ya)};b.error=function(c){throw Error("Syntax error, unrecognized expression: "+c);};b.uniqueSort=function(c){var b,e=[],r=0,g=0;if(Q=!B.detectDuplicates,J=!B.sortStable&&c.slice(0),c.sort(Ca),Q){for(;b=c[g++];)b===
c[g]&&(r=e.push(g));for(;r--;)c.splice(e[r],1)}return J=null,c};G=b.getText=function(c){var b,e="",r=0;if(b=c.nodeType)if(1===b||9===b||11===b){if("string"==typeof c.textContent)return c.textContent;for(c=c.firstChild;c;c=c.nextSibling)e+=G(c)}else{if(3===b||4===b)return c.nodeValue}else for(;b=c[r++];)e+=G(b);return e};aa=b.selectors={cacheLength:50,createPseudo:r,match:Da,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},
"~":{dir:"previousSibling"}},preFilter:{ATTR:function(c){return c[1]=c[1].replace(la,ta),c[3]=(c[3]||c[4]||c[5]||"").replace(la,ta),"~="===c[2]&&(c[3]=" "+c[3]+" "),c.slice(0,4)},CHILD:function(c){return c[1]=c[1].toLowerCase(),"nth"===c[1].slice(0,3)?(c[3]||b.error(c[0]),c[4]=+(c[4]?c[5]+(c[6]||1):2*("even"===c[3]||"odd"===c[3])),c[5]=+(c[7]+c[8]||"odd"===c[3])):c[3]&&b.error(c[0]),c},PSEUDO:function(c){var b,e=!c[6]&&c[2];return Da.CHILD.test(c[0])?null:(c[3]?c[2]=c[4]||c[5]||"":e&&ja.test(e)&&
(b=Y(e,!0))&&(b=e.indexOf(")",e.length-b)-e.length)&&(c[0]=c[0].slice(0,b),c[2]=e.slice(0,b)),c.slice(0,3))}},filter:{TAG:function(c){var b=c.replace(la,ta).toLowerCase();return"*"===c?function(){return!0}:function(c){return c.nodeName&&c.nodeName.toLowerCase()===b}},CLASS:function(c){var b=M[c+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+c+"([\\x20\\t\\r\\n\\f]|$)"),M(c,function(c){return b.test("string"==typeof c.className&&c.className||"undefined"!=typeof c.getAttribute&&c.getAttribute("class")||
"")}))},ATTR:function(c,e,r){return function(g){g=b.attr(g,c);return null==g?"!="===e:!e||(g+="","="===e?g===r:"!="===e?g!==r:"^="===e?r&&0===g.indexOf(r):"*="===e?r&&-1<g.indexOf(r):"$="===e?r&&g.slice(-r.length)===r:"~="===e?-1<(" "+g.replace(ma," ")+" ").indexOf(r):"|="===e&&(g===r||g.slice(0,r.length+1)===r+"-"))}},CHILD:function(c,b,e,r,g){var h="nth"!==c.slice(0,3),f="last"!==c.slice(-4),k="of-type"===b;return 1===r&&0===g?function(c){return!!c.parentNode}:function(b,e,n){var E,q,p,m,z,v;e=
h!==f?"nextSibling":"previousSibling";var H=b.parentNode,u=k&&b.nodeName.toLowerCase();n=!n&&!k;var y=!1;if(H){if(h){for(;e;){for(m=b;m=m[e];)if(k?m.nodeName.toLowerCase()===u:1===m.nodeType)return!1;v=e="only"===c&&!v&&"nextSibling"}return!0}if(v=[f?H.firstChild:H.lastChild],f&&n)for(m=H,p=m[fa]||(m[fa]={}),q=p[m.uniqueID]||(p[m.uniqueID]={}),E=q[c]||[],y=(z=E[0]===R&&E[1])&&E[2],m=z&&H.childNodes[z];m=++z&&m&&m[e]||(y=z=0)||v.pop();){if(1===m.nodeType&&++y&&m===b){q[c]=[R,z,y];break}}else if(n&&
(m=b,p=m[fa]||(m[fa]={}),q=p[m.uniqueID]||(p[m.uniqueID]={}),E=q[c]||[],z=E[0]===R&&E[1],y=z),!1===y)for(;(m=++z&&m&&m[e]||(y=z=0)||v.pop())&&((k?m.nodeName.toLowerCase()!==u:1!==m.nodeType)||!++y||(n&&(p=m[fa]||(m[fa]={}),q=p[m.uniqueID]||(p[m.uniqueID]={}),q[c]=[R,y]),m!==b)););return y-=g,y===r||0===y%r&&0<=y/r}}},PSEUDO:function(c,e){var g,h=aa.pseudos[c]||aa.setFilters[c.toLowerCase()]||b.error("unsupported pseudo: "+c);return h[fa]?h(e):1<h.length?(g=[c,c,"",e],aa.setFilters.hasOwnProperty(c.toLowerCase())?
r(function(c,b){for(var r,g=h(c,e),f=g.length;f--;)r=W(c,g[f]),c[r]=!(b[r]=g[f])}):function(c){return h(c,0,g)}):h}},pseudos:{not:r(function(c){var b=[],e=[],g=I(c.replace(ba,"$1"));return g[fa]?r(function(c,b,e,r){var h;e=g(c,null,r,[]);for(r=c.length;r--;)(h=e[r])&&(c[r]=!(b[r]=h))}):function(c,r,h){return b[0]=c,g(b,null,h,e),b[0]=null,!e.pop()}}),has:r(function(c){return function(e){return 0<b(c,e).length}}),contains:r(function(c){return c=c.replace(la,ta),function(b){return-1<(b.textContent||
b.innerText||G(b)).indexOf(c)}}),lang:r(function(c){return ka.test(c||"")||b.error("unsupported lang: "+c),c=c.replace(la,ta).toLowerCase(),function(b){var e;do if(e=sa?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return e=e.toLowerCase(),e===c||0===e.indexOf(c+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var e=c.location&&c.location.hash;return e&&e.slice(1)===b.id},root:function(c){return c===K},focus:function(c){return c===Z.activeElement&&(!Z.hasFocus||
Z.hasFocus())&&!!(c.type||c.href||~c.tabIndex)},enabled:q(!1),disabled:q(!0),checked:function(c){var b=c.nodeName.toLowerCase();return"input"===b&&!!c.checked||"option"===b&&!!c.selected},selected:function(c){return c.parentNode&&c.parentNode.selectedIndex,!0===c.selected},empty:function(c){for(c=c.firstChild;c;c=c.nextSibling)if(6>c.nodeType)return!1;return!0},parent:function(c){return!aa.pseudos.empty(c)},header:function(c){return pa.test(c.nodeName)},input:function(c){return va.test(c.nodeName)},
button:function(c){var b=c.nodeName.toLowerCase();return"input"===b&&"button"===c.type||"button"===b},text:function(c){var b;return"input"===c.nodeName.toLowerCase()&&"text"===c.type&&(null==(b=c.getAttribute("type"))||"text"===b.toLowerCase())},first:p(function(){return[0]}),last:p(function(c,b){return[b-1]}),eq:p(function(c,b,e){return[0>e?e+b:e]}),even:p(function(c,b){for(var e=0;e<b;e+=2)c.push(e);return c}),odd:p(function(c,b){for(var e=1;e<b;e+=2)c.push(e);return c}),lt:p(function(c,b,e){for(b=
0>e?e+b:e;0<=--b;)c.push(b);return c}),gt:p(function(c,b,e){for(e=0>e?e+b:e;++e<b;)c.push(e);return c})}};aa.pseudos.nth=aa.pseudos.eq;for(C in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})aa.pseudos[C]=k(C);for(C in{submit:!0,reset:!0})aa.pseudos[C]=n(C);z.prototype=aa.filters=aa.pseudos;aa.setFilters=new z;Y=b.tokenize=function(c,e){var r,g,h,f,k,n,E;if(k=Fa[c+" "])return e?0:k.slice(0);k=c;n=[];for(E=aa.preFilter;k;){r&&!(g=ia.exec(k))||(g&&(k=k.slice(g[0].length)||k),n.push(h=[]));r=!1;
(g=ga.exec(k))&&(r=g.shift(),h.push({value:r,type:g[0].replace(ba," ")}),k=k.slice(r.length));for(f in aa.filter)!(g=Da[f].exec(k))||E[f]&&!(g=E[f](g))||(r=g.shift(),h.push({value:r,type:f,matches:g}),k=k.slice(r.length));if(!r)break}return e?k.length:k?b.error(c):Fa(c,n).slice(0)};return I=b.compile=function(c,b){var e,r=[],g=[],h=O[c+" "];if(!h){b||(b=Y(c));for(e=b.length;e--;)h=F(b[e]),h[fa]?r.push(h):g.push(h);h=O(c,x(g,r));h.selector=c}return h},N=b.select=function(c,b,e,r){var g,h,f,k,n,E="function"==
typeof c&&c,q=!r&&Y(c=E.selector||c);if(e=e||[],1===q.length){if(h=q[0]=q[0].slice(0),2<h.length&&"ID"===(f=h[0]).type&&9===b.nodeType&&sa&&aa.relative[h[1].type]){if(b=(aa.find.ID(f.matches[0].replace(la,ta),b)||[])[0],!b)return e;E&&(b=b.parentNode);c=c.slice(h.shift().value.length)}for(g=Da.needsContext.test(c)?0:h.length;g--&&(f=h[g],!aa.relative[k=f.type]);)if((n=aa.find[k])&&(r=n(f.matches[0].replace(la,ta),ra.test(h[0].type)&&m(b.parentNode)||b))){if(h.splice(g,1),c=r.length&&v(h),!c)return V.apply(e,
r),e;break}}return(E||I(c,q))(r,b,!sa,e,!b||ra.test(c)&&m(b.parentNode)||b),e},B.sortStable=fa.split("").sort(Ca).join("")===fa,B.detectDuplicates=!!Q,P(),B.sortDetached=g(function(c){return 1&c.compareDocumentPosition(Z.createElement("fieldset"))}),g(function(c){return c.innerHTML="<a href='#'></a>","#"===c.firstChild.getAttribute("href")})||h("type|href|height|width",function(c,b,e){if(!e)return c.getAttribute(b,"type"===b.toLowerCase()?1:2)}),B.attributes&&g(function(c){return c.innerHTML="<input/>",
c.firstChild.setAttribute("value",""),""===c.firstChild.getAttribute("value")})||h("value",function(c,b,e){if(!e&&"input"===c.nodeName.toLowerCase())return c.defaultValue}),g(function(c){return null==c.getAttribute("disabled")})||h("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(c,b,e){var r;if(!e)return!0===c[b]?b.toLowerCase():(r=c.getAttributeNode(b))&&r.specified?r.value:null}),b}(c);p.find=Aa;p.expr=Aa.selectors;
p.expr[":"]=p.expr.pseudos;p.uniqueSort=p.unique=Aa.uniqueSort;p.text=Aa.getText;p.isXMLDoc=Aa.isXML;p.contains=Aa.contains;p.escapeSelector=Aa.escape;var ta=function(c,b,e){for(var r=[],g=void 0!==e;(c=c[b])&&9!==c.nodeType;)if(1===c.nodeType){if(g&&p(c).is(e))break;r.push(c)}return r},bb=function(c,b){for(var e=[];c;c=c.nextSibling)1===c.nodeType&&c!==b&&e.push(c);return e},cb=p.expr.match.needsContext,db=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,rb=/^.[^:#\[\.,]*$/;p.filter=
function(c,b,e){var r=b[0];return e&&(c=":not("+c+")"),1===b.length&&1===r.nodeType?p.find.matchesSelector(r,c)?[r]:[]:p.find.matches(c,p.grep(b,function(c){return 1===c.nodeType}))};p.fn.extend({find:function(c){var b,e,r=this.length,g=this;if("string"!=typeof c)return this.pushStack(p(c).filter(function(){for(b=0;b<r;b++)if(p.contains(g[b],this))return!0}));e=this.pushStack([]);for(b=0;b<r;b++)p.find(c,g[b],e);return 1<r?p.uniqueSort(e):e},filter:function(c){return this.pushStack(k(this,c||[],!1))},
not:function(c){return this.pushStack(k(this,c||[],!0))},is:function(c){return!!k(this,"string"==typeof c&&cb.test(c)?p(c):c||[],!1).length}});var eb,Gb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(p.fn.init=function(c,b,e){var r,g;if(!c)return this;if(e=e||eb,"string"==typeof c){if(r="<"===c[0]&&">"===c[c.length-1]&&3<=c.length?[null,c,null]:Gb.exec(c),!r||!r[1]&&b)return!b||b.jquery?(b||e).find(c):this.constructor(b).find(c);if(r[1]){if(b=b instanceof p?b[0]:b,p.merge(this,p.parseHTML(r[1],b&&b.nodeType?
b.ownerDocument||b:H,!0)),db.test(r[1])&&p.isPlainObject(b))for(r in b)p.isFunction(this[r])?this[r](b[r]):this.attr(r,b[r]);return this}return g=H.getElementById(r[2]),g&&(this[0]=g,this.length=1),this}return c.nodeType?(this[0]=c,this.length=1,this):p.isFunction(c)?void 0!==e.ready?e.ready(c):c(p):p.makeArray(c,this)}).prototype=p.fn;eb=p(H);var Hb=/^(?:parents|prev(?:Until|All))/,Ib={children:!0,contents:!0,next:!0,prev:!0};p.fn.extend({has:function(c){var b=p(c,this),e=b.length;return this.filter(function(){for(var c=
0;c<e;c++)if(p.contains(this,b[c]))return!0})},closest:function(c,b){var e,r=0,g=this.length,h=[],f="string"!=typeof c&&p(c);if(!cb.test(c))for(;r<g;r++)for(e=this[r];e&&e!==b;e=e.parentNode)if(11>e.nodeType&&(f?-1<f.index(e):1===e.nodeType&&p.find.matchesSelector(e,c))){h.push(e);break}return this.pushStack(1<h.length?p.uniqueSort(h):h)},index:function(c){return c?"string"==typeof c?Z.call(p(c),this[0]):Z.call(this,c.jquery?c[0]:c):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(c,
b){return this.pushStack(p.uniqueSort(p.merge(this.get(),p(c,b))))},addBack:function(c){return this.add(null==c?this.prevObject:this.prevObject.filter(c))}});p.each({parent:function(c){return(c=c.parentNode)&&11!==c.nodeType?c:null},parents:function(c){return ta(c,"parentNode")},parentsUntil:function(c,b,e){return ta(c,"parentNode",e)},next:function(c){return m(c,"nextSibling")},prev:function(c){return m(c,"previousSibling")},nextAll:function(c){return ta(c,"nextSibling")},prevAll:function(c){return ta(c,
"previousSibling")},nextUntil:function(c,b,e){return ta(c,"nextSibling",e)},prevUntil:function(c,b,e){return ta(c,"previousSibling",e)},siblings:function(c){return bb((c.parentNode||{}).firstChild,c)},children:function(c){return bb(c.firstChild)},contents:function(c){return c.contentDocument||p.merge([],c.childNodes)}},function(c,b){p.fn[c]=function(e,r){var g=p.map(this,b,e);return"Until"!==c.slice(-5)&&(r=e),r&&"string"==typeof r&&(g=p.filter(r,g)),1<this.length&&(Ib[c]||p.uniqueSort(g),Hb.test(c)&&
g.reverse()),this.pushStack(g)}});var ra=/[^\x20\t\r\n\f]+/g;p.Callbacks=function(c){c="string"==typeof c?q(c):p.extend({},c);var b,e,r,g,h=[],f=[],k=-1,n=function(){g=c.once;for(r=b=!0;f.length;k=-1)for(e=f.shift();++k<h.length;)!1===h[k].apply(e[0],e[1])&&c.stopOnFalse&&(k=h.length,e=!1);c.memory||(e=!1);b=!1;g&&(h=e?[]:"")},m={add:function(){return h&&(e&&!b&&(k=h.length-1,f.push(e)),function vb(b){p.each(b,function(b,e){p.isFunction(e)?c.unique&&m.has(e)||h.push(e):e&&e.length&&"string"!==p.type(e)&&
vb(e)})}(arguments),e&&!b&&n()),this},remove:function(){return p.each(arguments,function(c,b){for(var e;-1<(e=p.inArray(b,h,e));)h.splice(e,1),e<=k&&k--}),this},has:function(c){return c?-1<p.inArray(c,h):0<h.length},empty:function(){return h&&(h=[]),this},disable:function(){return g=f=[],h=e="",this},disabled:function(){return!h},lock:function(){return g=f=[],e||b||(h=e=""),this},locked:function(){return!!g},fireWith:function(c,e){return g||(e=e||[],e=[c,e.slice?e.slice():e],f.push(e),b||n()),this},
fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!r}};return m};p.extend({Deferred:function(b){var e=[["notify","progress",p.Callbacks("memory"),p.Callbacks("memory"),2],["resolve","done",p.Callbacks("once memory"),p.Callbacks("once memory"),0,"resolved"],["reject","fail",p.Callbacks("once memory"),p.Callbacks("once memory"),1,"rejected"]],r="pending",g={state:function(){return r},always:function(){return f.done(arguments).fail(arguments),this},"catch":function(c){return g.then(null,
c)},pipe:function(){var c=arguments;return p.Deferred(function(b){p.each(e,function(e,r){var g=p.isFunction(c[r[4]])&&c[r[4]];f[r[1]](function(){var c=g&&g.apply(this,arguments);c&&p.isFunction(c.promise)?c.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[r[0]+"With"](this,g?[c]:arguments)})});c=null}).promise()},then:function(b,r,g){function f(b,e,r,g){return function(){var n=this,q=arguments,E=function(){var c,m;if(!(b<k)){if(c=r.apply(n,q),c===e.promise())throw new TypeError("Thenable self-resolution");
m=c&&("object"==typeof c||"function"==typeof c)&&c.then;p.isFunction(m)?g?m.call(c,f(k,e,t,g),f(k,e,h,g)):(k++,m.call(c,f(k,e,t,g),f(k,e,h,g),f(k,e,t,e.notifyWith))):(r!==t&&(n=void 0,q=[c]),(g||e.resolveWith)(n,q))}},m=g?E:function(){try{E()}catch(ab){p.Deferred.exceptionHook&&p.Deferred.exceptionHook(ab,m.stackTrace),b+1>=k&&(r!==h&&(n=void 0,q=[ab]),e.rejectWith(n,q))}};b?m():(p.Deferred.getStackHook&&(m.stackTrace=p.Deferred.getStackHook()),c.setTimeout(m))}}var k=0;return p.Deferred(function(c){e[0][3].add(f(0,
c,p.isFunction(g)?g:t,c.notifyWith));e[1][3].add(f(0,c,p.isFunction(b)?b:t));e[2][3].add(f(0,c,p.isFunction(r)?r:h))}).promise()},promise:function(c){return null!=c?p.extend(c,g):g}},f={};return p.each(e,function(c,b){var h=b[2],k=b[5];g[b[1]]=h.add;k&&h.add(function(){r=k},e[3-c][2].disable,e[0][2].lock);h.add(b[3].fire);f[b[0]]=function(){return f[b[0]+"With"](this===f?void 0:this,arguments),this};f[b[0]+"With"]=h.fireWith}),g.promise(f),b&&b.call(f,f),f},when:function(c){var b=arguments.length,
e=b,r=Array(e),g=Y.call(arguments),h=p.Deferred(),f=function(c){return function(e){r[c]=this;g[c]=1<arguments.length?Y.call(arguments):e;--b||h.resolveWith(r,g)}};if(1>=b&&(n(c,h.done(f(e)).resolve,h.reject),"pending"===h.state()||p.isFunction(g[e]&&g[e].then)))return h.then();for(;e--;)n(g[e],f(e),h.reject);return h.promise()}});var Jb=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;p.Deferred.exceptionHook=function(b,e){c.console&&c.console.warn&&b&&Jb.test(b.name)&&c.console.warn("jQuery.Deferred exception: "+
b.message,b.stack,e)};p.readyException=function(b){c.setTimeout(function(){throw b;})};var Qa=p.Deferred();p.fn.ready=function(c){return Qa.then(c)["catch"](function(c){p.readyException(c)}),this};p.extend({isReady:!1,readyWait:1,holdReady:function(c){c?p.readyWait++:p.ready(!0)},ready:function(c){(!0===c?--p.readyWait:p.isReady)||(p.isReady=!0,!0!==c&&0<--p.readyWait||Qa.resolveWith(H,[p]))}});p.ready.then=Qa.then;"complete"===H.readyState||"loading"!==H.readyState&&!H.documentElement.doScroll?c.setTimeout(p.ready):
(H.addEventListener("DOMContentLoaded",g),c.addEventListener("load",g));var xa=function(c,b,e,g,h,f,k){var r=0,n=c.length,q=null==e;if("object"===p.type(e))for(r in h=!0,e)xa(c,b,r,e[r],!0,f,k);else if(void 0!==g&&(h=!0,p.isFunction(g)||(k=!0),q&&(k?(b.call(c,g),b=null):(q=b,b=function(c,b,e){return q.call(p(c),e)})),b))for(;r<n;r++)b(c[r],e,k?g:g.call(c[r],r,b(c[r],e)));return h?c:q?b.call(c):n?b(c[0],e):f},La=function(c){return 1===c.nodeType||9===c.nodeType||!+c.nodeType};v.uid=1;v.prototype={cache:function(c){var b=
c[this.expando];return b||(b={},La(c)&&(c.nodeType?c[this.expando]=b:Object.defineProperty(c,this.expando,{value:b,configurable:!0}))),b},set:function(c,b,e){var g;c=this.cache(c);if("string"==typeof b)c[p.camelCase(b)]=e;else for(g in b)c[p.camelCase(g)]=b[g];return c},get:function(c,b){return void 0===b?this.cache(c):c[this.expando]&&c[this.expando][p.camelCase(b)]},access:function(c,b,e){return void 0===b||b&&"string"==typeof b&&void 0===e?this.get(c,b):(this.set(c,b,e),void 0!==e?e:b)},remove:function(c,
b){var e,g=c[this.expando];if(void 0!==g){if(void 0!==b)for(p.isArray(b)?b=b.map(p.camelCase):(b=p.camelCase(b),b=b in g?[b]:b.match(ra)||[]),e=b.length;e--;)delete g[b[e]];(void 0===b||p.isEmptyObject(g))&&(c.nodeType?c[this.expando]=void 0:delete c[this.expando])}},hasData:function(c){c=c[this.expando];return void 0!==c&&!p.isEmptyObject(c)}};var V=new v,na=new v,tb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,sb=/[A-Z]/g;p.extend({hasData:function(c){return na.hasData(c)||V.hasData(c)},data:function(c,b,e){return na.access(c,
b,e)},removeData:function(c,b){na.remove(c,b)},_data:function(c,b,e){return V.access(c,b,e)},_removeData:function(c,b){V.remove(c,b)}});p.fn.extend({data:function(c,b){var e,g,r,h=this[0],f=h&&h.attributes;if(void 0===c){if(this.length&&(r=na.get(h),1===h.nodeType&&!V.get(h,"hasDataAttrs"))){for(e=f.length;e--;)f[e]&&(g=f[e].name,0===g.indexOf("data-")&&(g=p.camelCase(g.slice(5)),B(h,g,r[g])));V.set(h,"hasDataAttrs",!0)}return r}return"object"==typeof c?this.each(function(){na.set(this,c)}):xa(this,
function(b){var e;if(h&&void 0===b){if((e=na.get(h,c),void 0!==e)||(e=B(h,c),void 0!==e))return e}else this.each(function(){na.set(this,c,b)})},null,b,1<arguments.length,null,!0)},removeData:function(c){return this.each(function(){na.remove(this,c)})}});p.extend({queue:function(c,b,e){var g;if(c)return b=(b||"fx")+"queue",g=V.get(c,b),e&&(!g||p.isArray(e)?g=V.access(c,b,p.makeArray(e)):g.push(e)),g||[]},dequeue:function(c,b){b=b||"fx";var e=p.queue(c,b),g=e.length,r=e.shift(),h=p._queueHooks(c,b),
f=function(){p.dequeue(c,b)};"inprogress"===r&&(r=e.shift(),g--);r&&("fx"===b&&e.unshift("inprogress"),delete h.stop,r.call(c,f,h));!g&&h&&h.empty.fire()},_queueHooks:function(c,b){var e=b+"queueHooks";return V.get(c,e)||V.access(c,e,{empty:p.Callbacks("once memory").add(function(){V.remove(c,[b+"queue",e])})})}});p.fn.extend({queue:function(c,b){var e=2;return"string"!=typeof c&&(b=c,c="fx",e--),arguments.length<e?p.queue(this[0],c):void 0===b?this:this.each(function(){var e=p.queue(this,c,b);p._queueHooks(this,
c);"fx"===c&&"inprogress"!==e[0]&&p.dequeue(this,c)})},dequeue:function(c){return this.each(function(){p.dequeue(this,c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,b){var e,g=1,r=p.Deferred(),h=this,f=this.length,k=function(){--g||r.resolveWith(h,[h])};"string"!=typeof c&&(b=c,c=void 0);for(c=c||"fx";f--;)(e=V.get(h[f],c+"queueHooks"))&&e.empty&&(g++,e.empty.add(k));return k(),r.promise(b)}});var fb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ea=new RegExp("^(?:([+-])=|)("+
fb+")([a-z%]*)$","i"),ya=["Top","Right","Bottom","Left"],Ja=function(c,b){return c=b||c,"none"===c.style.display||""===c.style.display&&p.contains(c.ownerDocument,c)&&"none"===p.css(c,"display")},gb=function(c,b,e,g){var r,h={};for(r in b)h[r]=c.style[r],c.style[r]=b[r];e=e.apply(c,g||[]);for(r in b)c.style[r]=h[r];return e},Va={};p.fn.extend({show:function(){return x(this,!0)},hide:function(){return x(this)},toggle:function(c){return"boolean"==typeof c?c?this.show():this.hide():this.each(function(){Ja(this)?
p(this).show():p(this).hide()})}});var hb=/^(?:checkbox|radio)$/i,Wa=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Xa=/^$|\/(?:java|ecma)script/i,la={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};la.optgroup=la.option;la.tbody=la.tfoot=la.colgroup=la.caption=la.thead;la.th=la.td;var wb=/<|&#?\w+;/;!function(){var c=
H.createDocumentFragment().appendChild(H.createElement("div")),b=H.createElement("input");b.setAttribute("type","radio");b.setAttribute("checked","checked");b.setAttribute("name","t");c.appendChild(b);ca.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;c.innerHTML="<textarea>x</textarea>";ca.noCloneChecked=!!c.cloneNode(!0).lastChild.defaultValue}();var Ma=H.documentElement,Kb=/^key/,Lb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ib=/^([^.]*)(?:\.(.+)|)/;p.event={global:{},add:function(c,
b,e,g,h){var r,f,k,n,q,m,z,v,E,H;if(q=V.get(c))for(e.handler&&(r=e,e=r.handler,h=r.selector),h&&p.find.matchesSelector(Ma,h),e.guid||(e.guid=p.guid++),(n=q.events)||(n=q.events={}),(f=q.handle)||(f=q.handle=function(b){return"undefined"!=typeof p&&p.event.triggered!==b.type?p.event.dispatch.apply(c,arguments):void 0}),b=(b||"").match(ra)||[""],q=b.length;q--;)k=ib.exec(b[q])||[],E=H=k[1],k=(k[2]||"").split(".").sort(),E&&(z=p.event.special[E]||{},E=(h?z.delegateType:z.bindType)||E,z=p.event.special[E]||
{},m=p.extend({type:E,origType:H,data:g,handler:e,guid:e.guid,selector:h,needsContext:h&&p.expr.match.needsContext.test(h),namespace:k.join(".")},r),(v=n[E])||(v=n[E]=[],v.delegateCount=0,z.setup&&!1!==z.setup.call(c,g,k,f)||c.addEventListener&&c.addEventListener(E,f)),z.add&&(z.add.call(c,m),m.handler.guid||(m.handler.guid=e.guid)),h?v.splice(v.delegateCount++,0,m):v.push(m),p.event.global[E]=!0)},remove:function(c,b,e,g,h){var r,f,k,n,q,m,z,v,E,H,u,y=V.hasData(c)&&V.get(c);if(y&&(n=y.events)){b=
(b||"").match(ra)||[""];for(q=b.length;q--;)if(k=ib.exec(b[q])||[],E=u=k[1],H=(k[2]||"").split(".").sort(),E){z=p.event.special[E]||{};E=(g?z.delegateType:z.bindType)||E;v=n[E]||[];k=k[2]&&new RegExp("(^|\\.)"+H.join("\\.(?:.*\\.|)")+"(\\.|$)");for(f=r=v.length;r--;)m=v[r],!h&&u!==m.origType||e&&e.guid!==m.guid||k&&!k.test(m.namespace)||g&&g!==m.selector&&("**"!==g||!m.selector)||(v.splice(r,1),m.selector&&v.delegateCount--,z.remove&&z.remove.call(c,m));f&&!v.length&&(z.teardown&&!1!==z.teardown.call(c,
H,y.handle)||p.removeEvent(c,E,y.handle),delete n[E])}else for(E in n)p.event.remove(c,E+b[q],e,g,!0);p.isEmptyObject(n)&&V.remove(c,"handle events")}},dispatch:function(c){var b=p.event.fix(c),e,g,r,h,f,k,n=Array(arguments.length);g=(V.get(this,"events")||{})[b.type]||[];var q=p.event.special[b.type]||{};n[0]=b;for(e=1;e<arguments.length;e++)n[e]=arguments[e];if(b.delegateTarget=this,!q.preDispatch||!1!==q.preDispatch.call(this,b)){k=p.event.handlers.call(this,b,g);for(e=0;(h=k[e++])&&!b.isPropagationStopped();)for(b.currentTarget=
h.elem,g=0;(f=h.handlers[g++])&&!b.isImmediatePropagationStopped();)b.rnamespace&&!b.rnamespace.test(f.namespace)||(b.handleObj=f,b.data=f.data,r=((p.event.special[f.origType]||{}).handle||f.handler).apply(h.elem,n),void 0!==r&&!1===(b.result=r)&&(b.preventDefault(),b.stopPropagation()));return q.postDispatch&&q.postDispatch.call(this,b),b.result}},handlers:function(c,b){var e,g,r,h,f,k=[],n=b.delegateCount,q=c.target;if(n&&q.nodeType&&!("click"===c.type&&1<=c.button))for(;q!==this;q=q.parentNode||
this)if(1===q.nodeType&&("click"!==c.type||!0!==q.disabled)){h=[];f={};for(e=0;e<n;e++)g=b[e],r=g.selector+" ",void 0===f[r]&&(f[r]=g.needsContext?-1<p(r,this).index(q):p.find(r,this,null,[q]).length),f[r]&&h.push(g);h.length&&k.push({elem:q,handlers:h})}return q=this,n<b.length&&k.push({elem:q,handlers:b.slice(n)}),k},addProp:function(c,b){Object.defineProperty(p.Event.prototype,c,{enumerable:!0,configurable:!0,get:p.isFunction(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[c]},
set:function(b){Object.defineProperty(this,c,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(c){return c[p.expando]?c:new p.Event(c)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==J()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===J()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&p.nodeName(this,"input"))return this.click(),!1},_default:function(c){return p.nodeName(c.target,
"a")}},beforeunload:{postDispatch:function(c){void 0!==c.result&&c.originalEvent&&(c.originalEvent.returnValue=c.result)}}}};p.removeEvent=function(c,b,e){c.removeEventListener&&c.removeEventListener(b,e)};p.Event=function(c,b){return this instanceof p.Event?(c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||void 0===c.defaultPrevented&&!1===c.returnValue?G:I,this.target=c.target&&3===c.target.nodeType?c.target.parentNode:c.target,this.currentTarget=c.currentTarget,
this.relatedTarget=c.relatedTarget):this.type=c,b&&p.extend(this,b),this.timeStamp=c&&c.timeStamp||p.now(),void(this[p.expando]=!0)):new p.Event(c,b)};p.Event.prototype={constructor:p.Event,isDefaultPrevented:I,isPropagationStopped:I,isImmediatePropagationStopped:I,isSimulated:!1,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=G;c&&!this.isSimulated&&c.preventDefault()},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=G;c&&!this.isSimulated&&
c.stopPropagation()},stopImmediatePropagation:function(){var c=this.originalEvent;this.isImmediatePropagationStopped=G;c&&!this.isSimulated&&c.stopImmediatePropagation();this.stopPropagation()}};p.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,
toElement:!0,touches:!0,which:function(c){var b=c.button;return null==c.which&&Kb.test(c.type)?null!=c.charCode?c.charCode:c.keyCode:!c.which&&void 0!==b&&Lb.test(c.type)?1&b?1:2&b?3:4&b?2:0:c.which}},p.event.addProp);p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(c,b){p.event.special[c]={delegateType:b,bindType:b,handle:function(c){var e,g=c.relatedTarget,h=c.handleObj;return g&&(g===this||p.contains(this,g))||(c.type=h.origType,
e=h.handler.apply(this,arguments),c.type=b),e}}});p.fn.extend({on:function(c,b,e,g){return K(this,c,b,e,g)},one:function(c,b,e,g){return K(this,c,b,e,g,1)},off:function(c,b,e){var g,h;if(c&&c.preventDefault&&c.handleObj)return g=c.handleObj,p(c.delegateTarget).off(g.namespace?g.origType+"."+g.namespace:g.origType,g.selector,g.handler),this;if("object"==typeof c){for(h in c)this.off(h,b,c[h]);return this}return!1!==b&&"function"!=typeof b||(e=b,b=void 0),!1===e&&(e=I),this.each(function(){p.event.remove(this,
c,e,b)})}});var Mb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Nb=/<script|<style|<link/i,yb=/checked\s*(?:[^=]|=\s*.checked.)/i,xb=/^true\/(.*)/,zb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;p.extend({htmlPrefilter:function(c){return c.replace(Mb,"<$1></$2>")},clone:function(c,b,e){var g,h,r,f,k=c.cloneNode(!0),n=p.contains(c.ownerDocument,c);if(!(ca.noCloneChecked||1!==c.nodeType&&11!==c.nodeType||p.isXMLDoc(c)))for(f=w(k),r=w(c),g=0,h=r.length;g<
h;g++){var q=r[g],m=f[g],z=m.nodeName.toLowerCase();"input"===z&&hb.test(q.type)?m.checked=q.checked:"input"!==z&&"textarea"!==z||(m.defaultValue=q.defaultValue)}if(b)if(e)for(r=r||w(c),f=f||w(k),g=0,h=r.length;g<h;g++)A(r[g],f[g]);else A(c,k);return f=w(k,"script"),0<f.length&&F(f,!n&&w(c,"script")),k},cleanData:function(c){for(var b,e,g,h=p.event.special,r=0;void 0!==(e=c[r]);r++)if(La(e)){if(b=e[V.expando]){if(b.events)for(g in b.events)h[g]?p.event.remove(e,g):p.removeEvent(e,g,b.handle);e[V.expando]=
void 0}e[na.expando]&&(e[na.expando]=void 0)}}});p.fn.extend({detach:function(c){return Q(this,c,!0)},remove:function(c){return Q(this,c)},text:function(c){return xa(this,function(c){return void 0===c?p.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=c)})},null,c,arguments.length)},append:function(){return y(this,arguments,function(c){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||P(this,c).appendChild(c)})},prepend:function(){return y(this,
arguments,function(c){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=P(this,c);b.insertBefore(c,b.firstChild)}})},before:function(){return y(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this)})},after:function(){return y(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this.nextSibling)})},empty:function(){for(var c,b=0;null!=(c=this[b]);b++)1===c.nodeType&&(p.cleanData(w(c,!1)),c.textContent="");return this},clone:function(c,
b){return c=null!=c&&c,b=null==b?c:b,this.map(function(){return p.clone(this,c,b)})},html:function(c){return xa(this,function(c){var b=this[0]||{},e=0,g=this.length;if(void 0===c&&1===b.nodeType)return b.innerHTML;if("string"==typeof c&&!Nb.test(c)&&!la[(Wa.exec(c)||["",""])[1].toLowerCase()]){c=p.htmlPrefilter(c);try{for(;e<g;e++)b=this[e]||{},1===b.nodeType&&(p.cleanData(w(b,!1)),b.innerHTML=c);b=0}catch(fc){}}b&&this.empty().append(c)},null,c,arguments.length)},replaceWith:function(){var c=[];
return y(this,arguments,function(b){var e=this.parentNode;0>p.inArray(this,c)&&(p.cleanData(w(this)),e&&e.replaceChild(b,this))},c)}});p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,b){p.fn[c]=function(c){for(var e=[],g=p(c),h=g.length-1,r=0;r<=h;r++)c=r===h?this:this.clone(!0),p(g[r])[b](c),sa.apply(e,c.get());return this.pushStack(e)}});var Ya=/^margin/,Na=new RegExp("^("+fb+")(?!px)[a-z%]+$","i"),Ka=function(b){var e=
b.ownerDocument.defaultView;return e&&e.opener||(e=c),e.getComputedStyle(b)};!function(){function b(){if(n){n.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";n.innerHTML="";Ma.appendChild(k);var b=c.getComputedStyle(n);e="1%"!==b.top;f="2px"===b.marginLeft;g="4px"===b.width;n.style.marginRight="50%";h="4px"===b.marginRight;Ma.removeChild(k);n=null}}var e,g,h,f,k=H.createElement("div"),n=H.createElement("div");n.style&&(n.style.backgroundClip=
"content-box",n.cloneNode(!0).style.backgroundClip="",ca.clearCloneStyle="content-box"===n.style.backgroundClip,k.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",k.appendChild(n),p.extend(ca,{pixelPosition:function(){return b(),e},boxSizingReliable:function(){return b(),g},pixelMarginRight:function(){return b(),h},reliableMarginLeft:function(){return b(),f}}))}();var Ob=/^(none|table(?!-c[ea]).+)/,Pb={position:"absolute",visibility:"hidden",
display:"block"},jb={letterSpacing:"0",fontWeight:"400"},$a=["Webkit","Moz","ms"],Za=H.createElement("div").style;p.extend({cssHooks:{opacity:{get:function(c,b){if(b){var e=S(c,"opacity");return""===e?"1":e}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(c,b,e,g){if(c&&3!==c.nodeType&&8!==c.nodeType&&c.style){var h,f,
r,k=p.camelCase(b),n=c.style;return b=p.cssProps[k]||(p.cssProps[k]=ia(k)||k),r=p.cssHooks[b]||p.cssHooks[k],void 0===e?r&&"get"in r&&void 0!==(h=r.get(c,!1,g))?h:n[b]:(f=typeof e,"string"===f&&(h=Ea.exec(e))&&h[1]&&(e=z(c,b,h),f="number"),null!=e&&e===e&&("number"===f&&(e+=h&&h[3]||(p.cssNumber[k]?"":"px")),ca.clearCloneStyle||""!==e||0!==b.indexOf("background")||(n[b]="inherit"),r&&"set"in r&&void 0===(e=r.set(c,e,g))||(n[b]=e)),void 0)}},css:function(c,b,e,g){var h,f,r,k=p.camelCase(b);return b=
p.cssProps[k]||(p.cssProps[k]=ia(k)||k),r=p.cssHooks[b]||p.cssHooks[k],r&&"get"in r&&(h=r.get(c,!0,e)),void 0===h&&(h=S(c,b,g)),"normal"===h&&b in jb&&(h=jb[b]),""===e||e?(f=parseFloat(h),!0===e||isFinite(f)?f||0:h):h}});p.each(["height","width"],function(c,b){p.cssHooks[b]={get:function(c,e,g){if(e)return!Ob.test(p.css(c,"display"))||c.getClientRects().length&&c.getBoundingClientRect().width?da(c,b,g):gb(c,Pb,function(){return da(c,b,g)})},set:function(c,e,g){var h,f=g&&Ka(c);g=g&&ma(c,b,g,"border-box"===
p.css(c,"boxSizing",!1,f),f);return g&&(h=Ea.exec(e))&&"px"!==(h[3]||"px")&&(c.style[b]=e,e=p.css(c,b)),ea(c,e,g)}}});p.cssHooks.marginLeft=R(ca.reliableMarginLeft,function(c,b){if(b)return(parseFloat(S(c,"marginLeft"))||c.getBoundingClientRect().left-gb(c,{marginLeft:0},function(){return c.getBoundingClientRect().left}))+"px"});p.each({margin:"",padding:"",border:"Width"},function(c,b){p.cssHooks[c+b]={expand:function(e){var g=0,h={};for(e="string"==typeof e?e.split(" "):[e];4>g;g++)h[c+ya[g]+b]=
e[g]||e[g-2]||e[0];return h}};Ya.test(c)||(p.cssHooks[c+b].set=ea)});p.fn.extend({css:function(c,b){return xa(this,function(c,b,e){var g,h={},f=0;if(p.isArray(b)){e=Ka(c);for(g=b.length;f<g;f++)h[b[f]]=p.css(c,b[f],!1,e);return h}return void 0!==e?p.style(c,b,e):p.css(c,b)},c,b,1<arguments.length)}});p.Tween=D;D.prototype={constructor:D,init:function(c,b,e,g,h,f){this.elem=c;this.prop=e;this.easing=h||p.easing._default;this.options=b;this.start=this.now=this.cur();this.end=g;this.unit=f||(p.cssNumber[e]?
"":"px")},cur:function(){var c=D.propHooks[this.prop];return c&&c.get?c.get(this):D.propHooks._default.get(this)},run:function(c){var b,e=D.propHooks[this.prop];return this.options.duration?this.pos=b=p.easing[this.easing](c,this.options.duration*c,0,1,this.options.duration):this.pos=b=c,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),e&&e.set?e.set(this):D.propHooks._default.set(this),this}};D.prototype.init.prototype=D.prototype;D.propHooks=
{_default:{get:function(c){var b;return 1!==c.elem.nodeType||null!=c.elem[c.prop]&&null==c.elem.style[c.prop]?c.elem[c.prop]:(b=p.css(c.elem,c.prop,""),b&&"auto"!==b?b:0)},set:function(c){p.fx.step[c.prop]?p.fx.step[c.prop](c):1!==c.elem.nodeType||null==c.elem.style[p.cssProps[c.prop]]&&!p.cssHooks[c.prop]?c.elem[c.prop]=c.now:p.style(c.elem,c.prop,c.now+c.unit)}}};D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=c.now)}};p.easing={linear:function(c){return c},
swing:function(c){return.5-Math.cos(c*Math.PI)/2},_default:"swing"};p.fx=D.prototype.init;p.fx.step={};var Ba,za,Qb=/^(?:toggle|show|hide)$/,Rb=/queueHooks$/;p.Animation=p.extend(M,{tweeners:{"*":[function(c,b){var e=this.createTween(c,b);return z(e.elem,c,Ea.exec(b),e),e}]},tweener:function(c,b){p.isFunction(c)?(b=c,c=["*"]):c=c.match(ra);for(var e,g=0,h=c.length;g<h;g++)e=c[g],M.tweeners[e]=M.tweeners[e]||[],M.tweeners[e].unshift(b)},prefilters:[function(c,b,e){var g,h,f,k,r,n,q,m,z="width"in b||
"height"in b,v=this,H={},u=c.style,y=c.nodeType&&Ja(c),t=V.get(c,"fxshow");e.queue||(k=p._queueHooks(c,"fx"),null==k.unqueued&&(k.unqueued=0,r=k.empty.fire,k.empty.fire=function(){k.unqueued||r()}),k.unqueued++,v.always(function(){v.always(function(){k.unqueued--;p.queue(c,"fx").length||k.empty.fire()})}));for(g in b)if(h=b[g],Qb.test(h)){if(delete b[g],f=f||"toggle"===h,h===(y?"hide":"show")){if("show"!==h||!t||void 0===t[g])continue;y=!0}H[g]=t&&t[g]||p.style(c,g)}if(n=!p.isEmptyObject(b),n||!p.isEmptyObject(H))for(g in z&&
1===c.nodeType&&(e.overflow=[u.overflow,u.overflowX,u.overflowY],q=t&&t.display,null==q&&(q=V.get(c,"display")),m=p.css(c,"display"),"none"===m&&(q?m=q:(x([c],!0),q=c.style.display||q,m=p.css(c,"display"),x([c]))),("inline"===m||"inline-block"===m&&null!=q)&&"none"===p.css(c,"float")&&(n||(v.done(function(){u.display=q}),null==q&&(m=u.display,q="none"===m?"":m)),u.display="inline-block")),e.overflow&&(u.overflow="hidden",v.always(function(){u.overflow=e.overflow[0];u.overflowX=e.overflow[1];u.overflowY=
e.overflow[2]})),n=!1,H)n||(t?"hidden"in t&&(y=t.hidden):t=V.access(c,"fxshow",{display:q}),f&&(t.hidden=!y),y&&x([c],!0),v.done(function(){y||x([c]);V.remove(c,"fxshow");for(g in H)p.style(c,g,H[g])})),n=pa(y?t[g]:0,g,v),g in t||(t[g]=n.start,y&&(n.end=n.start,n.start=0))}],prefilter:function(c,b){b?M.prefilters.unshift(c):M.prefilters.push(c)}});p.speed=function(c,b,e){var g=c&&"object"==typeof c?p.extend({},c):{complete:e||!e&&b||p.isFunction(c)&&c,duration:c,easing:e&&b||b&&!p.isFunction(b)&&
b};return p.fx.off||H.hidden?g.duration=0:"number"!=typeof g.duration&&(g.duration in p.fx.speeds?g.duration=p.fx.speeds[g.duration]:g.duration=p.fx.speeds._default),null!=g.queue&&!0!==g.queue||(g.queue="fx"),g.old=g.complete,g.complete=function(){p.isFunction(g.old)&&g.old.call(this);g.queue&&p.dequeue(this,g.queue)},g};p.fn.extend({fadeTo:function(c,b,e,g){return this.filter(Ja).css("opacity",0).show().end().animate({opacity:b},c,e,g)},animate:function(c,b,e,g){var h=p.isEmptyObject(c),f=p.speed(b,
e,g);b=function(){var b=M(this,p.extend({},c),f);(h||V.get(this,"finish"))&&b.stop(!0)};return b.finish=b,h||!1===f.queue?this.each(b):this.queue(f.queue,b)},stop:function(c,b,e){var g=function(c){var b=c.stop;delete c.stop;b(e)};return"string"!=typeof c&&(e=b,b=c,c=void 0),b&&!1!==c&&this.queue(c||"fx",[]),this.each(function(){var b=!0,h=null!=c&&c+"queueHooks",f=p.timers,k=V.get(this);if(h)k[h]&&k[h].stop&&g(k[h]);else for(h in k)k[h]&&k[h].stop&&Rb.test(h)&&g(k[h]);for(h=f.length;h--;)f[h].elem!==
this||null!=c&&f[h].queue!==c||(f[h].anim.stop(e),b=!1,f.splice(h,1));!b&&e||p.dequeue(this,c)})},finish:function(c){return!1!==c&&(c=c||"fx"),this.each(function(){var b,e=V.get(this),g=e[c+"queue"];b=e[c+"queueHooks"];var h=p.timers,f=g?g.length:0;e.finish=!0;p.queue(this,c,[]);b&&b.stop&&b.stop.call(this,!0);for(b=h.length;b--;)h[b].elem===this&&h[b].queue===c&&(h[b].anim.stop(!0),h.splice(b,1));for(b=0;b<f;b++)g[b]&&g[b].finish&&g[b].finish.call(this);delete e.finish})}});p.each(["toggle","show",
"hide"],function(c,b){var e=p.fn[b];p.fn[b]=function(c,g,h){return null==c||"boolean"==typeof c?e.apply(this,arguments):this.animate(O(b,!0),c,g,h)}});p.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(c,b){p.fn[c]=function(c,e,g){return this.animate(b,c,e,g)}});p.timers=[];p.fx.tick=function(){var c,b=0,e=p.timers;for(Ba=p.now();b<e.length;b++)c=e[b],c()||e[b]!==c||e.splice(b--,1);e.length||
p.fx.stop();Ba=void 0};p.fx.timer=function(c){p.timers.push(c);c()?p.fx.start():p.timers.pop()};p.fx.interval=13;p.fx.start=function(){za||(za=c.requestAnimationFrame?c.requestAnimationFrame(va):c.setInterval(p.fx.tick,p.fx.interval))};p.fx.stop=function(){c.cancelAnimationFrame?c.cancelAnimationFrame(za):c.clearInterval(za);za=null};p.fx.speeds={slow:600,fast:200,_default:400};p.fn.delay=function(b,e){return b=p.fx?p.fx.speeds[b]||b:b,e=e||"fx",this.queue(e,function(e,g){var h=c.setTimeout(e,b);
g.stop=function(){c.clearTimeout(h)}})};(function(){var c=H.createElement("input"),b=H.createElement("select").appendChild(H.createElement("option"));c.type="checkbox";ca.checkOn=""!==c.value;ca.optSelected=b.selected;c=H.createElement("input");c.value="t";c.type="radio";ca.radioValue="t"===c.value})();var kb,Ga=p.expr.attrHandle;p.fn.extend({attr:function(c,b){return xa(this,p.attr,c,b,1<arguments.length)},removeAttr:function(c){return this.each(function(){p.removeAttr(this,c)})}});p.extend({attr:function(c,
b,e){var g,h,f=c.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof c.getAttribute?p.prop(c,b,e):(1===f&&p.isXMLDoc(c)||(h=p.attrHooks[b.toLowerCase()]||(p.expr.match.bool.test(b)?kb:void 0)),void 0!==e?null===e?void p.removeAttr(c,b):h&&"set"in h&&void 0!==(g=h.set(c,e,b))?g:(c.setAttribute(b,e+""),e):h&&"get"in h&&null!==(g=h.get(c,b))?g:(g=p.find.attr(c,b),null==g?void 0:g))},attrHooks:{type:{set:function(c,b){if(!ca.radioValue&&"radio"===b&&p.nodeName(c,"input")){var e=c.value;return c.setAttribute("type",
b),e&&(c.value=e),b}}}},removeAttr:function(c,b){var e,g=0,h=b&&b.match(ra);if(h&&1===c.nodeType)for(;e=h[g++];)c.removeAttribute(e)}});kb={set:function(c,b,e){return!1===b?p.removeAttr(c,e):c.setAttribute(e,e),e}};p.each(p.expr.match.bool.source.match(/\w+/g),function(c,b){var e=Ga[b]||p.find.attr;Ga[b]=function(c,b,g){var h,f,k=b.toLowerCase();return g||(f=Ga[k],Ga[k]=h,h=null!=e(c,b,g)?k:null,Ga[k]=f),h}});var Sb=/^(?:input|select|textarea|button)$/i,Tb=/^(?:a|area)$/i;p.fn.extend({prop:function(c,
b){return xa(this,p.prop,c,b,1<arguments.length)},removeProp:function(c){return this.each(function(){delete this[p.propFix[c]||c]})}});p.extend({prop:function(c,b,e){var g,h,f=c.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&p.isXMLDoc(c)||(b=p.propFix[b]||b,h=p.propHooks[b]),void 0!==e?h&&"set"in h&&void 0!==(g=h.set(c,e,b))?g:c[b]=e:h&&"get"in h&&null!==(g=h.get(c,b))?g:c[b]},propHooks:{tabIndex:{get:function(c){var b=p.find.attr(c,"tabindex");return b?parseInt(b,10):Sb.test(c.nodeName)||Tb.test(c.nodeName)&&
c.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});ca.optSelected||(p.propHooks.selected={get:function(c){c=c.parentNode;return c&&c.parentNode&&c.parentNode.selectedIndex,null},set:function(c){c=c.parentNode;c&&(c.selectedIndex,c.parentNode&&c.parentNode.selectedIndex)}});p.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){p.propFix[this.toLowerCase()]=this});p.fn.extend({addClass:function(c){var b,e,g,
h,f,k,n=0;if(p.isFunction(c))return this.each(function(b){p(this).addClass(c.call(this,b,W(this)))});if("string"==typeof c&&c)for(b=c.match(ra)||[];e=this[n++];)if(h=W(e),g=1===e.nodeType&&" "+T(h)+" "){for(k=0;f=b[k++];)0>g.indexOf(" "+f+" ")&&(g+=f+" ");g=T(g);h!==g&&e.setAttribute("class",g)}return this},removeClass:function(c){var b,e,g,h,f,k,n=0;if(p.isFunction(c))return this.each(function(b){p(this).removeClass(c.call(this,b,W(this)))});if(!arguments.length)return this.attr("class","");if("string"==
typeof c&&c)for(b=c.match(ra)||[];e=this[n++];)if(h=W(e),g=1===e.nodeType&&" "+T(h)+" "){for(k=0;f=b[k++];)for(;-1<g.indexOf(" "+f+" ");)g=g.replace(" "+f+" "," ");g=T(g);h!==g&&e.setAttribute("class",g)}return this},toggleClass:function(c,b){var e=typeof c;return"boolean"==typeof b&&"string"===e?b?this.addClass(c):this.removeClass(c):p.isFunction(c)?this.each(function(e){p(this).toggleClass(c.call(this,e,W(this),b),b)}):this.each(function(){var b,g,h,f;if("string"===e)for(g=0,h=p(this),f=c.match(ra)||
[];b=f[g++];)h.hasClass(b)?h.removeClass(b):h.addClass(b);else void 0!==c&&"boolean"!==e||(b=W(this),b&&V.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===c?"":V.get(this,"__className__")||""))})},hasClass:function(c){var b,e=0;for(c=" "+c+" ";b=this[e++];)if(1===b.nodeType&&-1<(" "+T(W(b))+" ").indexOf(c))return!0;return!1}});var Ub=/\r/g;p.fn.extend({val:function(c){var b,e,g,h=this[0];if(arguments.length)return g=p.isFunction(c),this.each(function(e){var h;1===this.nodeType&&
(h=g?c.call(this,e,p(this).val()):c,null==h?h="":"number"==typeof h?h+="":p.isArray(h)&&(h=p.map(h,function(c){return null==c?"":c+""})),b=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,h,"value")||(this.value=h))});if(h)return b=p.valHooks[h.type]||p.valHooks[h.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(e=b.get(h,"value"))?e:(e=h.value,"string"==typeof e?e.replace(Ub,""):null==e?"":e)}});p.extend({valHooks:{option:{get:function(c){var b=p.find.attr(c,
"value");return null!=b?b:T(p.text(c))}},select:{get:function(c){var b,e,g=c.options,h=c.selectedIndex,f="select-one"===c.type,k=f?null:[],n=f?h+1:g.length;for(e=0>h?n:f?h:0;e<n;e++)if(b=g[e],!(!b.selected&&e!==h||b.disabled||b.parentNode.disabled&&p.nodeName(b.parentNode,"optgroup"))){if(c=p(b).val(),f)return c;k.push(c)}return k},set:function(c,b){for(var e,g,h=c.options,f=p.makeArray(b),k=h.length;k--;)g=h[k],(g.selected=-1<p.inArray(p.valHooks.option.get(g),f))&&(e=!0);return e||(c.selectedIndex=
-1),f}}}});p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(c,b){if(p.isArray(b))return c.checked=-1<p.inArray(p(c).val(),b)}};ca.checkOn||(p.valHooks[this].get=function(c){return null===c.getAttribute("value")?"on":c.value})});var lb=/^(?:focusinfocus|focusoutblur)$/;p.extend(p.event,{trigger:function(b,e,g,h){var f,k,n,q,r,m,z,v=[g||H],u=Ca.call(b,"type")?b.type:b;f=Ca.call(b,"namespace")?b.namespace.split("."):[];if(k=n=g=g||H,3!==g.nodeType&&8!==g.nodeType&&!lb.test(u+p.event.triggered)&&
(-1<u.indexOf(".")&&(f=u.split("."),u=f.shift(),f.sort()),r=0>u.indexOf(":")&&"on"+u,b=b[p.expando]?b:new p.Event(u,"object"==typeof b&&b),b.isTrigger=h?2:3,b.namespace=f.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=g),e=null==e?[b]:p.makeArray(e,[b]),z=p.event.special[u]||{},h||!z.trigger||!1!==z.trigger.apply(g,e))){if(!h&&!z.noBubble&&!p.isWindow(g)){q=z.delegateType||u;for(lb.test(q+u)||(k=k.parentNode);k;k=
k.parentNode)v.push(k),n=k;n===(g.ownerDocument||H)&&v.push(n.defaultView||n.parentWindow||c)}for(f=0;(k=v[f++])&&!b.isPropagationStopped();)b.type=1<f?q:z.bindType||u,(m=(V.get(k,"events")||{})[b.type]&&V.get(k,"handle"))&&m.apply(k,e),(m=r&&k[r])&&m.apply&&La(k)&&(b.result=m.apply(k,e),!1===b.result&&b.preventDefault());return b.type=u,h||b.isDefaultPrevented()||z._default&&!1!==z._default.apply(v.pop(),e)||!La(g)||r&&p.isFunction(g[u])&&!p.isWindow(g)&&(n=g[r],n&&(g[r]=null),p.event.triggered=
u,g[u](),p.event.triggered=void 0,n&&(g[r]=n)),b.result}},simulate:function(c,b,e){c=p.extend(new p.Event,e,{type:c,isSimulated:!0});p.event.trigger(c,null,b)}});p.fn.extend({trigger:function(c,b){return this.each(function(){p.event.trigger(c,b,this)})},triggerHandler:function(c,b){var e=this[0];if(e)return p.event.trigger(c,b,e,!0)}});p.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),
function(c,b){p.fn[b]=function(c,e){return 0<arguments.length?this.on(b,null,c,e):this.trigger(b)}});p.fn.extend({hover:function(c,b){return this.mouseenter(c).mouseleave(b||c)}});ca.focusin="onfocusin"in c;ca.focusin||p.each({focus:"focusin",blur:"focusout"},function(c,b){var e=function(c){p.event.simulate(b,c.target,p.event.fix(c))};p.event.special[b]={setup:function(){var g=this.ownerDocument||this,h=V.access(g,b);h||g.addEventListener(c,e,!0);V.access(g,b,(h||0)+1)},teardown:function(){var g=
this.ownerDocument||this,h=V.access(g,b)-1;h?V.access(g,b,h):(g.removeEventListener(c,e,!0),V.remove(g,b))}}});var Ha=c.location,mb=p.now(),Ra=/\?/;p.parseXML=function(b){var e;if(!b||"string"!=typeof b)return null;try{e=(new c.DOMParser).parseFromString(b,"text/xml")}catch(qa){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||p.error("Invalid XML: "+b),e};var Ab=/\[\]$/,nb=/\r?\n/g,Vb=/^(?:submit|button|image|reset|file)$/i,Wb=/^(?:input|select|textarea|keygen)/i;p.param=function(c,
b){var e,g=[],h=function(c,b){var e=p.isFunction(b)?b():b;g[g.length]=encodeURIComponent(c)+"="+encodeURIComponent(null==e?"":e)};if(p.isArray(c)||c.jquery&&!p.isPlainObject(c))p.each(c,function(){h(this.name,this.value)});else for(e in c)ja(e,c[e],b,h);return g.join("&")};p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var c=p.prop(this,"elements");return c?p.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&
!p(this).is(":disabled")&&Wb.test(this.nodeName)&&!Vb.test(c)&&(this.checked||!hb.test(c))}).map(function(c,b){var e=p(this).val();return null==e?null:p.isArray(e)?p.map(e,function(c){return{name:b.name,value:c.replace(nb,"\r\n")}}):{name:b.name,value:e.replace(nb,"\r\n")}}).get()}});var Xb=/%20/g,Yb=/#.*$/,Zb=/([?&])_=[^&]*/,$b=/^(.*?):[ \t]*([^\r\n]*)$/gm,ac=/^(?:GET|HEAD)$/,bc=/^\/\//,ob={},Oa={},pb="*/".concat("*"),Sa=H.createElement("a");Sa.href=Ha.href;p.extend({active:0,lastModified:{},etag:{},
ajaxSettings:{url:Ha.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ha.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":pb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,
"text html":!0,"text json":JSON.parse,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,b){return b?ga(ga(c,p.ajaxSettings),b):ga(p.ajaxSettings,c)},ajaxPrefilter:ka(ob),ajaxTransport:ka(Oa),ajax:function(b,e){function g(b,e,g,n){var m,v,u,H,C=e;if(!r){r=!0;q&&c.clearTimeout(q);h=void 0;k=n||"";Y.readyState=0<b?4:0;n=200<=b&&300>b||304===b;if(g){u=y;for(var G=Y,w,I,N,A,J=u.contents,E=u.dataTypes;"*"===E[0];)E.shift(),void 0===w&&(w=u.mimeType||G.getResponseHeader("Content-Type"));
if(w)for(I in J)if(J[I]&&J[I].test(w)){E.unshift(I);break}if(E[0]in g)N=E[0];else{for(I in g){if(!E[0]||u.converters[I+" "+E[0]]){N=I;break}A||(A=I)}N=N||A}g=N?(N!==E[0]&&E.unshift(N),g[N]):void 0;u=g}var P;a:{g=y;w=u;I=Y;N=n;var Q,Z,K;u={};G=g.dataTypes.slice();if(G[1])for(Q in g.converters)u[Q.toLowerCase()]=g.converters[Q];for(A=G.shift();A;)if(g.responseFields[A]&&(I[g.responseFields[A]]=w),!K&&N&&g.dataFilter&&(w=g.dataFilter(w,g.dataType)),K=A,A=G.shift())if("*"===A)A=K;else if("*"!==K&&K!==
A){if(Q=u[K+" "+A]||u["* "+A],!Q)for(P in u)if(Z=P.split(" "),Z[1]===A&&(Q=u[K+" "+Z[0]]||u["* "+Z[0]])){!0===Q?Q=u[P]:!0!==u[P]&&(A=Z[0],G.unshift(Z[1]));break}if(!0!==Q)if(Q&&g["throws"])w=Q(w);else try{w=Q(w)}catch(Fb){P={state:"parsererror",error:Q?Fb:"No conversion from "+K+" to "+A};break a}}P={state:"success",data:w}}u=P;n?(y.ifModified&&(H=Y.getResponseHeader("Last-Modified"),H&&(p.lastModified[f]=H),H=Y.getResponseHeader("etag"),H&&(p.etag[f]=H)),204===b||"HEAD"===y.type?C="nocontent":304===
b?C="notmodified":(C=u.state,m=u.data,v=u.error,n=!v)):(v=C,!b&&C||(C="error",0>b&&(b=0)));Y.status=b;Y.statusText=(e||C)+"";n?B.resolveWith(t,[m,C,Y]):B.rejectWith(t,[Y,C,v]);Y.statusCode(x);x=void 0;z&&aa.trigger(n?"ajaxSuccess":"ajaxError",[Y,y,n?m:v]);F.fireWith(t,[Y,C]);z&&(aa.trigger("ajaxComplete",[Y,y]),--p.active||p.event.trigger("ajaxStop"))}}"object"==typeof b&&(e=b,b=void 0);e=e||{};var h,f,k,n,q,m,r,z,v,u,y=p.ajaxSetup({},e),t=y.context||y,aa=y.context&&(t.nodeType||t.jquery)?p(t):p.event,
B=p.Deferred(),F=p.Callbacks("once memory"),x=y.statusCode||{},C={},G={},w="canceled",Y={readyState:0,getResponseHeader:function(c){var b;if(r){if(!n)for(n={};b=$b.exec(k);)n[b[1].toLowerCase()]=b[2];b=n[c.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return r?k:null},setRequestHeader:function(c,b){return null==r&&(c=G[c.toLowerCase()]=G[c.toLowerCase()]||c,C[c]=b),this},overrideMimeType:function(c){return null==r&&(y.mimeType=c),this},statusCode:function(c){var b;if(c)if(r)Y.always(c[Y.status]);
else for(b in c)x[b]=[x[b],c[b]];return this},abort:function(c){c=c||w;return h&&h.abort(c),g(0,c),this}};if(B.promise(Y),y.url=((b||y.url||Ha.href)+"").replace(bc,Ha.protocol+"//"),y.type=e.method||e.type||y.method||y.type,y.dataTypes=(y.dataType||"*").toLowerCase().match(ra)||[""],null==y.crossDomain){m=H.createElement("a");try{m.href=y.url,m.href=m.href,y.crossDomain=Sa.protocol+"//"+Sa.host!=m.protocol+"//"+m.host}catch(Pa){y.crossDomain=!0}}if(y.data&&y.processData&&"string"!=typeof y.data&&
(y.data=p.param(y.data,y.traditional)),X(ob,y,e,Y),r)return Y;(z=p.event&&y.global)&&0===p.active++&&p.event.trigger("ajaxStart");y.type=y.type.toUpperCase();y.hasContent=!ac.test(y.type);f=y.url.replace(Yb,"");y.hasContent?y.data&&y.processData&&0===(y.contentType||"").indexOf("application/x-www-form-urlencoded")&&(y.data=y.data.replace(Xb,"+")):(u=y.url.slice(f.length),y.data&&(f+=(Ra.test(f)?"&":"?")+y.data,delete y.data),!1===y.cache&&(f=f.replace(Zb,"$1"),u=(Ra.test(f)?"&":"?")+"_="+mb++ +u),
y.url=f+u);y.ifModified&&(p.lastModified[f]&&Y.setRequestHeader("If-Modified-Since",p.lastModified[f]),p.etag[f]&&Y.setRequestHeader("If-None-Match",p.etag[f]));(y.data&&y.hasContent&&!1!==y.contentType||e.contentType)&&Y.setRequestHeader("Content-Type",y.contentType);Y.setRequestHeader("Accept",y.dataTypes[0]&&y.accepts[y.dataTypes[0]]?y.accepts[y.dataTypes[0]]+("*"!==y.dataTypes[0]?", "+pb+"; q=0.01":""):y.accepts["*"]);for(v in y.headers)Y.setRequestHeader(v,y.headers[v]);if(y.beforeSend&&(!1===
y.beforeSend.call(t,Y,y)||r))return Y.abort();if(w="abort",F.add(y.complete),Y.done(y.success),Y.fail(y.error),h=X(Oa,y,e,Y)){if(Y.readyState=1,z&&aa.trigger("ajaxSend",[Y,y]),r)return Y;y.async&&0<y.timeout&&(q=c.setTimeout(function(){Y.abort("timeout")},y.timeout));try{r=!1,h.send(C,g)}catch(Pa){if(r)throw Pa;g(-1,Pa)}}else g(-1,"No Transport");return Y},getJSON:function(c,b,e){return p.get(c,b,e,"json")},getScript:function(c,b){return p.get(c,void 0,b,"script")}});p.each(["get","post"],function(c,
b){p[b]=function(c,e,g,h){return p.isFunction(e)&&(h=h||g,g=e,e=void 0),p.ajax(p.extend({url:c,type:b,dataType:h,data:e,success:g},p.isPlainObject(c)&&c))}});p._evalUrl=function(c){return p.ajax({url:c,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})};p.fn.extend({wrapAll:function(c){var b;return this[0]&&(p.isFunction(c)&&(c=c.call(this[0])),b=p(c,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var c=this;c.firstElementChild;)c=
c.firstElementChild;return c}).append(this)),this},wrapInner:function(c){return p.isFunction(c)?this.each(function(b){p(this).wrapInner(c.call(this,b))}):this.each(function(){var b=p(this),e=b.contents();e.length?e.wrapAll(c):b.append(c)})},wrap:function(c){var b=p.isFunction(c);return this.each(function(e){p(this).wrapAll(b?c.call(this,e):c)})},unwrap:function(c){return this.parent(c).not("body").each(function(){p(this).replaceWith(this.childNodes)}),this}});p.expr.pseudos.hidden=function(c){return!p.expr.pseudos.visible(c)};
p.expr.pseudos.visible=function(c){return!!(c.offsetWidth||c.offsetHeight||c.getClientRects().length)};p.ajaxSettings.xhr=function(){try{return new c.XMLHttpRequest}catch(r){}};var cc={0:200,1223:204},Ia=p.ajaxSettings.xhr();ca.cors=!!Ia&&"withCredentials"in Ia;ca.ajax=Ia=!!Ia;p.ajaxTransport(function(b){var e,g;if(ca.cors||Ia&&!b.crossDomain)return{send:function(h,f){var k,n=b.xhr();if(n.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(k in b.xhrFields)n[k]=b.xhrFields[k];b.mimeType&&
n.overrideMimeType&&n.overrideMimeType(b.mimeType);b.crossDomain||h["X-Requested-With"]||(h["X-Requested-With"]="XMLHttpRequest");for(k in h)n.setRequestHeader(k,h[k]);e=function(c){return function(){e&&(e=g=n.onload=n.onerror=n.onabort=n.onreadystatechange=null,"abort"===c?n.abort():"error"===c?"number"!=typeof n.status?f(0,"error"):f(n.status,n.statusText):f(cc[n.status]||n.status,n.statusText,"text"!==(n.responseType||"text")||"string"!=typeof n.responseText?{binary:n.response}:{text:n.responseText},
n.getAllResponseHeaders()))}};n.onload=e();g=n.onerror=e("error");void 0!==n.onabort?n.onabort=g:n.onreadystatechange=function(){4===n.readyState&&c.setTimeout(function(){e&&g()})};e=e("abort");try{n.send(b.hasContent&&b.data||null)}catch(ub){if(e)throw ub;}},abort:function(){e&&e()}}});p.ajaxPrefilter(function(c){c.crossDomain&&(c.contents.script=!1)});p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},
converters:{"text script":function(c){return p.globalEval(c),c}}});p.ajaxPrefilter("script",function(c){void 0===c.cache&&(c.cache=!1);c.crossDomain&&(c.type="GET")});p.ajaxTransport("script",function(c){if(c.crossDomain){var b,e;return{send:function(g,h){b=p("<script>").prop({charset:c.scriptCharset,src:c.url}).on("load error",e=function(c){b.remove();e=null;c&&h("error"===c.type?404:200,c.type)});H.head.appendChild(b[0])},abort:function(){e&&e()}}}});var qb=[],Ta=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",
jsonpCallback:function(){var c=qb.pop()||p.expando+"_"+mb++;return this[c]=!0,c}});p.ajaxPrefilter("json jsonp",function(b,e,g){var h,f,k,n=!1!==b.jsonp&&(Ta.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ta.test(b.data)&&"data");if(n||"jsonp"===b.dataTypes[0])return h=b.jsonpCallback=p.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,n?b[n]=b[n].replace(Ta,"$1"+h):!1!==b.jsonp&&(b.url+=(Ra.test(b.url)?"&":"?")+b.jsonp+
"="+h),b.converters["script json"]=function(){return k||p.error(h+" was not called"),k[0]},b.dataTypes[0]="json",f=c[h],c[h]=function(){k=arguments},g.always(function(){void 0===f?p(c).removeProp(h):c[h]=f;b[h]&&(b.jsonpCallback=e.jsonpCallback,qb.push(h));k&&p.isFunction(f)&&f(k[0]);k=f=void 0}),"script"});ca.createHTMLDocument=function(){var c=H.implementation.createHTMLDocument("").body;return c.innerHTML="<form></form><form></form>",2===c.childNodes.length}();p.parseHTML=function(c,b,e){if("string"!=
typeof c)return[];"boolean"==typeof b&&(e=b,b=!1);var g,h,f;return b||(ca.createHTMLDocument?(b=H.implementation.createHTMLDocument(""),g=b.createElement("base"),g.href=H.location.href,b.head.appendChild(g)):b=H),h=db.exec(c),f=!e&&[],h?[b.createElement(h[1])]:(h=u([c],b,f),f&&f.length&&p(f).remove(),p.merge([],h.childNodes))};p.fn.load=function(c,b,e){var g,h,f,k=this,n=c.indexOf(" ");return-1<n&&(g=T(c.slice(n)),c=c.slice(0,n)),p.isFunction(b)?(e=b,b=void 0):b&&"object"==typeof b&&(h="POST"),0<
k.length&&p.ajax({url:c,type:h||"GET",dataType:"html",data:b}).done(function(c){f=arguments;k.html(g?p("<div>").append(p.parseHTML(c)).find(g):c)}).always(e&&function(c,b){k.each(function(){e.apply(this,f||[c.responseText,b,c])})}),this};p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(c,b){p.fn[b]=function(c){return this.on(b,c)}});p.expr.pseudos.animated=function(c){return p.grep(p.timers,function(b){return c===b.elem}).length};p.offset={setOffset:function(c,
b,e){var g,h,f,k,n,q,m=p.css(c,"position"),z=p(c),y={};"static"===m&&(c.style.position="relative");n=z.offset();f=p.css(c,"top");q=p.css(c,"left");("absolute"===m||"fixed"===m)&&-1<(f+q).indexOf("auto")?(g=z.position(),k=g.top,h=g.left):(k=parseFloat(f)||0,h=parseFloat(q)||0);p.isFunction(b)&&(b=b.call(c,e,p.extend({},n)));null!=b.top&&(y.top=b.top-n.top+k);null!=b.left&&(y.left=b.left-n.left+h);"using"in b?b.using.call(c,y):z.css(y)}};p.fn.extend({offset:function(c){if(arguments.length)return void 0===
c?this:this.each(function(b){p.offset.setOffset(this,c,b)});var b,e,g,h,f=this[0];if(f)return f.getClientRects().length?(g=f.getBoundingClientRect(),g.width||g.height?(h=f.ownerDocument,e=ha(h),b=h.documentElement,{top:g.top+e.pageYOffset-b.clientTop,left:g.left+e.pageXOffset-b.clientLeft}):g):{top:0,left:0}},position:function(){if(this[0]){var c,b,e=this[0],g={top:0,left:0};return"fixed"===p.css(e,"position")?b=e.getBoundingClientRect():(c=this.offsetParent(),b=this.offset(),p.nodeName(c[0],"html")||
(g=c.offset()),g={top:g.top+p.css(c[0],"borderTopWidth",!0),left:g.left+p.css(c[0],"borderLeftWidth",!0)}),{top:b.top-g.top-p.css(e,"marginTop",!0),left:b.left-g.left-p.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent;c&&"static"===p.css(c,"position");)c=c.offsetParent;return c||Ma})}});p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,b){var e="pageYOffset"===b;p.fn[c]=function(g){return xa(this,function(c,g,h){var f=ha(c);
return void 0===h?f?f[b]:c[g]:void(f?f.scrollTo(e?f.pageXOffset:h,e?h:f.pageYOffset):c[g]=h)},c,g,arguments.length)}});p.each(["top","left"],function(c,b){p.cssHooks[b]=R(ca.pixelPosition,function(c,e){if(e)return e=S(c,b),Na.test(e)?p(c).position()[b]+"px":e})});p.each({Height:"height",Width:"width"},function(c,b){p.each({padding:"inner"+c,content:b,"":"outer"+c},function(e,g){p.fn[g]=function(h,f){var k=arguments.length&&(e||"boolean"!=typeof h),n=e||(!0===h||!0===f?"margin":"border");return xa(this,
function(b,e,h){var f;return p.isWindow(b)?0===g.indexOf("outer")?b["inner"+c]:b.document.documentElement["client"+c]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+c],f["scroll"+c],b.body["offset"+c],f["offset"+c],f["client"+c])):void 0===h?p.css(b,e,n):p.style(b,e,h,n)},b,k?h:void 0,k)}})});p.fn.extend({bind:function(c,b,e){return this.on(c,null,b,e)},unbind:function(c,b){return this.off(c,null,b)},delegate:function(c,b,e,g){return this.on(b,c,e,g)},undelegate:function(c,b,e){return 1===
arguments.length?this.off(c,"**"):this.off(b,c||"**",e)}});p.parseJSON=JSON.parse;"function"==typeof define&&define.amd&&define("jquery",[],function(){return p});var dc=c.jQuery,ec=c.$;return p.noConflict=function(b){return c.$===p&&(c.$=ec),b&&c.jQuery===p&&(c.jQuery=dc),p},b||(c.jQuery=c.$=p),p});var engine2D=window.engine2D||{};engine2D.drawDoor=function(c){void 0!==scene2DDoorGroup[c].children[0]&&(scene2DDoorGroup[c].visible=!0,paper.project.layers.push(scene2DDoorGroup[c]))};
engine2D.makeDoor=function(c,b,e,f,k,m,q,t){k="hinge.single";c=new paper.Group;f=new paper.Path;t=new paper.Path;var h=new paper.Group,n=new paper.Group,g=new paper.Path,v=new paper.Path;f.moveTo(new paper.Point(0,0));f.lineTo(new paper.Point(b,0));t.moveTo(new paper.Point(0,0));t.lineTo(new paper.Point(b,0));t.strokeColor="#ffff";t.strokeWidth=22;f.strokeColor="#000000";f.strokeWidth=10;g.moveTo(new paper.Point(10,-12));g.lineTo(new paper.Point(10,12));v.moveTo(new paper.Point(f.length-10,-12));
v.lineTo(new paper.Point(f.length-10,12));g.strokeColor=v.strokeColor="#00CC33";g.strokeWidth=v.strokeWidth=3;h.opacity=n.opacity=0;b=new paper.Path.RegularPolygon(new paper.Point(0,0),3,12);var B=new paper.Path.RegularPolygon(new paper.Point(f.length,0),3,12);b.rotate(30);B.rotate(-30);b.fillColor=B.fillColor="#00CC33";h.addChild(g);h.addChild(b);n.addChild(v);n.addChild(B);c.addChild(t);c.addChild(f);c.addChild(h);c.addChild(n);f.group=c;"fold.single"===k?engine2D.makeFoldSingleDoor(c,f,h,n,m,q):
"fold.double"===k?engine2D.makeFoldDoubleDoor(c,f,h,n,m,q):"hinge.single"===k?engine2D.makeHingeSingleDoor(c,f,h,n,m,q):"hinge.double"===k&&engine2D.makeHingeDoubleDoor(c,f,h,n,m,q);c.position=new paper.Point(e.x,e.y);return c};
engine2D.makeFoldSingleDoor=function(c,b,e,f,k,m){var q,t,h,n=new paper.Path,g=new paper.Path;n.strokeColor="#000000";n.strokeWidth=4;"right"===k?(t=new paper.Point(0,0),h=new paper.Point(b.length,0)):"left"===k&&(t=new paper.Point(b.length,0),h=new paper.Point(0,0));n.moveTo(h);"in"===m?(n.lineTo(new paper.Point(h.x,h.y+b.length/2)),k=-45):(n.lineTo(new paper.Point(h.x,h.y-b.length/2)),k=45);g=n.clone();g.rotate(k,g.segments[1].point);t=new paper.Path.Line(t,void 0);c.addChild(t);c.addChild(n);c.addChild(g);
e.attach("mousedrag",function(c){});f.attach("mousedrag",function(c){});b.attach("mouseenter",function(){e.opacity=1;f.opacity=1;e.drag=!1;f.drag=!1});b.attach("mousemove",function(){clearTimeout(q);q=setTimeout(function(){e.opacity=0;f.opacity=0},400)});c.attach("mousedrag",function(b){!0!==e.drag&&!0!==f.drag&&(c.position=b.point,e.opacity=0,f.opacity=0)})};engine2D.makeFoldDoubleDoor=function(c,b,e,f,k,m){};engine2D.makeHingeDoubleDoor=function(c,b,e,f,k,m){};
engine2D.makeHingeSingleDoor=function(c,b,e,f,k,m){function q(e,g,h){e.drag=!0;e.position.x=g.point.x;e.opacity=1;f.opacity=1;b.segments[h].point.x=g.point.x;guide.segments[h].point.x=g.point.x;w.segments[1].point.y="in"===m?w.segments[0].point.y+b.length:w.segments[0].point.y-b.length;u.clear();G.clear();J.clear();I.clear();K.clear();"right"===k&&(0===h?u=new Path.Arc(g.point,new Point(w.segments[0].point.x-b.length*z,w.segments[0].point.y-b.length*x),new Point(w.segments[1].point.x,w.segments[1].point.y)):
(w.segments[0].point.x=g.point.x,w.segments[1].point.x=g.point.x,v=w.segments[0].point.x-b.length*z,B=w.segments[0].point.y-b.length*x,u=new Path.Arc(new Point(b.segments[0].point.x,b.segments[0].point.y),new Point(v,B),new Point(w.segments[1].point.x,w.segments[1].point.y))),u.strokeColor="#000000",u.strokeWidth=1,G=new Path.Arc(new Point(b.segments[1].point.x,b.segments[1].point.y-b.length),new Point(b.segments[0].point.x,b.segments[0].point.y),new Point(b.segments[1].point.x,b.segments[1].point.y+
b.length)),J=new Path.Arc(new Point(b.segments[0].point.x,b.segments[0].point.y-b.length),new Point(b.segments[1].point.x,b.segments[1].point.y),new Point(b.segments[0].point.x,b.segments[0].point.y+b.length)),I=G.clone(),K=J.clone(),G.strokeColor=J.strokeColor="#000000",G.strokeWidth=J.strokeWidth=1,G.dashArray=J.dashArray=[10,10],G.opacity=J.opacity=0,I.strokeColor=K.strokeColor="#000000",I.strokeWidth=K.strokeWidth=20,I.opacity=K.opacity=0,c.appendBottom(u),c.appendBottom(I),c.appendBottom(G),
c.appendBottom(K),c.appendBottom(J))}var t,h,n,g,v,B;n=Math.PI/180*45;var z=Math.sin(n),x=Math.cos(n),w=new paper.Path;w.strokeColor="#000000";w.strokeWidth=4;var F=new paper.Path.Circle(new paper.Point(0,0),10);F.fillColor="#FFCC00";F.opacity=0;"right"===k?(h=new paper.Point(0,0),g=new paper.Point(b.length,0)):"left"===k&&(h=new paper.Point(b.length,0),g=new paper.Point(0,0));w.moveTo(g);"in"===m?(w.lineTo(new paper.Point(g.x,g.y+b.length)),n=new paper.Point(g.x,g.y+b.length),v=g.x+b.length*z,B=
g.y+b.length*x):(w.lineTo(new paper.Point(g.x,g.y-b.length)),n=new paper.Point(g.x,g.y-b.length),v=g.x-b.length*z,B=g.y-b.length*x);var u=new paper.Path.Arc(h,new paper.Point(v,B),n);u.strokeColor="#000000";u.strokeWidth=1;h=new paper.Point(b.length,0-b.length);n=new paper.Point(b.length,0+b.length);mp=new paper.Point(0,0);var G=new paper.Path.Arc(h,mp,n),I=new paper.Path.Arc(h,mp,n);h=new paper.Point(0,0-b.length);n=new paper.Point(0,0+b.length);mp=new paper.Point(0,b.length);var J=new paper.Path.Arc(h,
mp,n),K=new paper.Path.Arc(h,mp,n);G.strokeColor=J.strokeColor="#000000";G.strokeWidth=J.strokeWidth=1;G.dashArray=J.dashArray=[10,10];G.opacity=J.opacity=0;I.strokeColor=K.strokeColor="#000000";I.strokeWidth=K.strokeWidth=20;I.opacity=K.opacity=0;c.addChild(w);c.addChild(u);c.addChild(I);c.addChild(G);c.addChild(K);c.addChild(J);c.addChild(F);b.attach("mouseenter",function(){e.opacity=1;f.opacity=1;e.drag=!1;f.drag=!1;F.opacity=0;G.opacity=0;J.opacity=0});b.attach("mousemove",function(){clearTimeout(t);
t=setTimeout(function(){e.opacity=0;f.opacity=0},400)});e.attach("mousedrag",function(c){q(this,c,0)});f.attach("mousedrag",function(c){q(this,c,1)});I.on("mouseenter",function(){e.opacity=0;f.opacity=0;F.opacity=1;G.opacity=1;J.opacity=0;u.opacity=.1;w.opacity=.1});I.attach("mousemove",function(c){clearTimeout(t);F.position=c.point;t=setTimeout(function(){F.opacity=0;G.opacity=0;u.opacity=1;w.opacity=1},400)});K.attach("mouseenter",function(){e.opacity=0;f.opacity=0;F.opacity=1;G.opacity=0;J.opacity=
1;u.opacity=.1;w.opacity=.1});K.attach("mousemove",function(c){clearTimeout(t);F.position=c.point;t=setTimeout(function(){F.opacity=0;J.opacity=0;u.opacity=1;w.opacity=1},400)});c.attach("mousedrag",function(b){!0!==e.drag&&!0!==f.drag&&(c.position=b.point,e.opacity=0,f.opacity=0,F.opacity=0,G.opacity=0,J.opacity=0)})};engine2D=window.engine2D||{};
engine2D.show=function(){console.log("engine2d.show()");SCENE="2d";animateStop();engine3D.freeMemory();engine2D.freeMemory();engine3D.hide();engine2D.makeGrid();$("#engine2D").show();engineGUI.menuToggleRight("menuRight",!0);engineGUI.menuToggleLeft("menuLeft2D",!0);$("#menuFloorSelector").show();[1,5,8,9,10].forEach(function(c){$("#menuBottomItem"+c).show()});$("#menuBottom").show();var c=document.getElementById("zoom2DProgress");c&&(zoom2Dimg=new Image,zoom2DCTX=c.getContext("2d"),zoom2DSlider=
document.getElementById("zoom2DSlider"),zoom2Dimg.onload=drawImage,zoom2Dimg.src="images/progress-tiles.jpg");$("#zoom2DLevel").show();engineGUI.menuSelect(6,"menuTopItem","#ff3700");engineGUI.menuCorrectHeight();engine2D.showFloor(FLOOR)};engine2D.showFloor=function(c){FLOOR=c;engine2D.clear();engine2D.drawFloor(FLOOR);engine2D.drawWall(FLOOR);engine2D.drawDoor(FLOOR);engine2D.drawWindow(FLOOR);engine2D.attachObjectsToWalls(FLOOR,scene2DDoorGroup);engine2D.attachObjectsToWalls(FLOOR,scene2DWindowGroup)};
engine2D.newFloor=function(c){};engine2D.clear=function(){for(var c=0;c<scene2DWallGroup.length;c++){for(var b=0;b<scene2DWallGroup[c].children.length;b++)scene2DWallGroup[c].children[b].visible=!1;scene2DFloorShape[c].visible=!1;scene2DLabelGroup[c].visible=!1;scene2DDoorGroup[c].visible=!1;scene2DWindowGroup[c].visible=!1}};
engine2D.hide=function(){if(canvas2D){for(var c=0;c<scene2DWallGroup.length;c++)engine2D.clear(c,!1);canvas2D.off("mouseenter");canvas2D.off("mouseleave");canvas2D.off("mousedown");canvas2D.off("mouseup");canvas2D.off("mousedrag");canvas2D.off("mousemove");canvas2D.off("doubleclick")}try{$("#menu2DTools").tooltipster("hide")}catch(b){}$("#engine2D").hide();$("#menuLeft2D").hide();$("#menuRight2D").hide()};
engine2D.drawGrid=function(c,b){for(var e=0;e<=paper.view.size.width;e+=c){var f=new paper.Path.Line(new paper.Point(e,0),new paper.Point(e,paper.view.size.width)),k=new paper.Path.Line(new paper.Point(0,e),new paper.Point(paper.view.size.width,e));f.strokeColor=k.strokeColor=b;canvas2D.addChild(f);canvas2D.addChild(k)}};
engine2D.makeGrid=function(){canvas2D=new paper.Group;var c=new paper.Path.Circle(new paper.Point(0,0),450);c.fillColor="#CCCCCC";c.opacity=.2;c.position.x=paper.view.center.x+40;c.position.y=paper.view.center.y+80;var b=new paper.Path.Rectangle(new paper.Point(0,0),paper.view.viewSize);b.fillColor="#ffffff";canvas2D.addChild(b);canvas2D.addChild(c);engine2D.drawGrid(40,"#6dcff6");engine2D.drawGrid(20,"#E0E0E0")};
engine2D.lockObject=function(c){var b=scene2D.getObjects().filter(function(b){return b.id===c});!0===b[0].lockMovementX?(b[0].item(2).set({visible:!1}),b[0].set({lockMovementX:!1,lockMovementY:!1})):(b[0].item(2).set({visible:!0}),b[0].set({lockMovementX:!0,lockMovementY:!0}));return!1};
engine2D.collectArrayFromContainer=function(c){var b=[],e,f;for(f in scene2DWallMesh[c])"wall"===f.name&&(e={wall:"standard",interior:"",exterior:""},e.id=f.id,e.locked=f.lockMovementX,e.position.x1=f.item(0).path[0][1],e.position.y1=f.item(0).path[0][2],e.position.x2=f.item(0).path[1][3],e.position.y2=f.item(0).path[1][4],e.curve.x=f.item(0).path[1][1],e.curve.y=f.item(0).path[1][2],b.push(e));for(f in scene2DDoorMesh[c])"door"===f.name&&(e={},e.door=f.name,e.id=f.id,e.locked=f.lockMovementX,e.open=
f.open,e.direction=f.direction,e.position.x1=f.get("x1"),e.position.y1=f.get("y1"),e.position.x2=f.get("x2"),e.position.y2=f.get("y2"),e.position.z=f.z,e.curve.x=0,e.curve.y=0,b.push(e));return b};engine2D.freeMemory=function(){for(var c=paper.project.activeLayer.children,b=0;b<c.length-1;b++)c[b].remove()};engine2D=window.engine2D||{};engine2D.drawFloor=function(c){void 0!==scene2DFloorShape[c].children[0]&&(scene2DFloorShape[c].visible=!0,scene2DLabelGroup[c].visible=!0,paper.project.layers.push(scene2DFloorShape[c]),paper.project.layers.push(scene2DLabelGroup[c]),scene2DFloorShape[c].on("mousedown",engine2D.drawWall_onMouseDown),engine2D.calculateWallMeasureColor(c))};
engine2D.makeFloor=function(c){if(void 0!==scene2DWallGroup[c].children[0]){console.log("2D Floor Generate ["+c+"] "+scene2DWallGroup[c].children.length);var b=new paper.Path;b.closed=!0;var e=scene2DWallGroup[c].children[0].children[0].children[0],f=e.segments[0].point;b.moveTo(f);for(var k=0;k<scene2DWallGroup[c].children.length;k++)for(var e=scene2DWallGroup[c].children[k].children[4].children[0],m=0;m<scene2DWallGroup[c].children.length;m++){var q=scene2DWallGroup[c].children[m].children[4].children[0];
if(e.id!=q.id&&e.hitTest(q.segments[0].point)){b.quadraticCurveTo(f,q.segments[1].point);f=q.segments[1].point;break}}b.fillColor="#D8D8D8";b.remove();scene2DFloorShape[c]=new paper.Group([b]);var t=document.createElement("canvas");t.width=b.bounds.width;t.height=b.bounds.height;var h=t.getContext("2d"),e=new Image;e.src="objects/FloorPlan/Default/4.png";e.onload=function(){h.fillStyle=h.createPattern(this,"repeat");h.fillRect(0,0,b.bounds.width,b.bounds.height);h.fill();var e=new paper.Raster(t,
new paper.Point(b.bounds.x,b.bounds.y));e.fitBounds(b.bounds,!0);scene2DFloorShape[c]=new paper.Group([b,e]);scene2DFloorShape[c].clipped=!0};scene2DFloorShape[c].visible=!1}};engine2D.makeLabel=function(c,b,e,f,k){c=new paper.PointText;c.content=b+"\n"+e;c.justification="center";c.fontSize=28;c.position=new paper.Point(f,k);return c};
engine2D.fillFloor=function(c,b){for(var e=1,f={x:0,y:0},k=0;k<scene2DWallMesh[c].length;k++){var m=scene2DWallMesh[c][k],q={x:m.item(0).path[0][1],y:m.item(0).path[0][2]},t={x:m.item(0).path[1][3],y:m.item(0).path[1][4]};1==e&&(b.path[0][1]=q.x,b.path[0][2]=q.y);b.path[e][1]=m.item(0).path[1][1];b.path[e][2]=m.item(0).path[1][2];t.x==f.x&&t.y==f.y&&(t=q);b.path[e][3]=t.x;b.path[e][4]=t.y;f=t;e++}};engine2D=window.engine2D||{};engine2D.History=[];engine2D.HistoryForward=function(){};engine2D.HistoryBack=function(){};engine2D.HistoryAdd=function(){};var engine2D=window.engine2D||{},panAndZoom;
engine2D.initialize=function(){var c=document.getElementById("engine2D");paper.setup(c);paper.view.setViewSize(window.innerWidth,window.innerHeight);panAndZoom=new SimplePanAndZoom;$("#engine2D").bind("mousewheel",function(c){if(c.shiftKey)paper.view.center=panAndZoom.changeCenter(paper.view.center,c.deltaX,c.deltaY,c.deltaFactor);else{var b=panAndZoom.changeZoom(paper.view.zoom,-c.deltaY);5>=b&&1<=b&&(paper.view.zoom=b)}return c.preventDefault()});engine2D["new"](0);engine2D["new"](1)};
engine2D["new"]=function(c){scene2DWallMesh[c]=[];scene2DWallDimentions[c]=[];scene2DInteriorMesh[c]=[];scene2DExteriorMesh[c]=[];scene2DFloorShape[c]=new paper.Group;scene2DDoorGroup[c]=new paper.Group;scene2DWindowGroup[c]=new paper.Group;scene2DWallGroup[c]=new paper.Group;scene2DWallPointGroup[c]=new paper.Group;scene2DLabelGroup[c]=new paper.Group};
engine2D.open=function(c){var b=0;c.file("scene2DFloorContainer.json").async("string").then(function(c){$.each(JSON.parse(c),function(c){console.log(this);engine2D["new"](b);$.each(this,function(c){void 0!==this.door&&scene2DDoorGroup[b].addChild(engine2D.makeDoor(b,this.length,{x:this.x,y:this.y},this.z,this.type,this.open,this.direction,this.door));void 0!==this.window&&scene2DWindowGroup[b].addChild(engine2D.makeWindow(b,this.length,{x:this.x,y:this.y},this.z,this.open,this.direction,this.window));
void 0!==this.wall&&scene2DWallGroup[b].addChild(engine2D.makeWall(b,{x:this.x1,y:this.y1},{x:this.x2,y:this.y2},{x:this.cx,y:this.cy},this.h));void 0!==this.label&&scene2DLabelGroup[b].addChild(engine2D.makeLabel(b,this.label,this.size,this.x,this.y))});engine2D.makeFloor(b);b++})})};engine2D=window.engine2D||{};engine2D.makeStairs=function(c,b,e){c=new paper.Group;new paper.Path;return c};var engine2D=window.engine2D||{},drawWall={radius:4,tolerance:20,handle:null,path:null,curPoint:null,prevPoint:null,curHandleSeg:null};engine2D.drawWall=function(c){if(void 0!==scene2DWallGroup[c].children[0]){for(var b=0;b<scene2DWallGroup[c].children.length;b++)scene2DWallGroup[c].children[b].visible=!0;engine2D.calculateWallCorners(c);paper.project.layers.push(scene2DWallGroup[c]);paper.project.layers.push(scene2DWallPointGroup[c]);canvas2D.on("mousedown",engine2D.drawWall_onMouseDown)}};
engine2D.drawWall_onMouseDown=function(c){this.on("mouseup",engine2D.drawWall_onMouseUp);this.on("mousedrag",engine2D.drawWall_onMouseDrag);drawWall.path=new paper.Path({segments:[c.point,c.point],strokeColor:"#ff5733",strokeWidth:10,strokeCap:"round"});drawWall.prevPoint=drawWall.path.firstSegment.point;drawWall.curPoint=drawWall.path.lastSegment.point;drawWall.curHandleSeg=null;drawWall.path.on("mouseup",engine2D.drawWall_onMouseUp);paper.project.layers.push(drawWall.path)};
engine2D.drawWall_onMouseUp=function(c){this.off("mouseup",engine2D.drawWall_onMouseUp);this.off("mousedrag",engine2D.drawWall_onMouseDrag);drawWall.path.off("mouseup",engine2D.drawWall_onMouseUp);for(c=0;c<drawWall.path.segments.length;c+=2){var b=drawWall.path.segments[c].point,e=drawWall.path.segments[c+1].point;console.log("Wall draw Segment "+b+":"+e);for(var b=new paper.Path({segments:[b,e]}),f,k,e=0;e<scene2DWallGroup[FLOOR].children.length&&!(f=scene2DWallGroup[FLOOR].children[e],k=f.children[4].children[0].getIntersections(b),
0<k.length);e++);if(0<k.length)for(b=0;b<k.length;b++)console.log("Convert to wall Path + Attach "+k[b].intersection.point),engine2D.splitWall(f,k[b]);else console.log("Convert to wall Path")}drawWall.path.visible=!1;drawWall.path.remove()};
engine2D.drawWall_onMouseDrag=function(c){var b=c.point;c=b.x-drawWall.prevPoint.x;var e=b.y-drawWall.prevPoint.y,f=(new paper.Point(c,e)).abs();f.x<f.y?(drawWall.curPoint.x=drawWall.prevPoint.x,drawWall.curPoint.y=b.y):(drawWall.curPoint.x=b.x,drawWall.curPoint.y=drawWall.prevPoint.y);c=drawWall.curPoint.x-drawWall.prevPoint.x;e=drawWall.curPoint.y-drawWall.prevPoint.y;b=new paper.Point(c,e);b.length=1;drawWall.curHandleSeg&&(c=drawWall.prevPoint.x+b.x*drawWall.radius,e=drawWall.prevPoint.y+b.y*
drawWall.radius,drawWall.curHandleSeg.point=new paper.Point(c,e),c=b.x*-drawWall.handle,e=b.y*-drawWall.handle,drawWall.curHandleSeg.handleIn=new paper.Point(c,e));Math.min(f.x,f.y)>drawWall.tolerance&&(c=drawWall.curPoint.x-b.x*drawWall.radius,e=drawWall.curPoint.y-b.y*drawWall.radius,c=new paper.Point(c,e),c=new paper.Segment(c,null,b*drawWall.handle),drawWall.path.insert(drawWall.path.segments.length-1,c),drawWall.curHandleSeg=drawWall.path.lastSegment,drawWall.prevPoint=drawWall.curHandleSeg.point.clone(),
drawWall.path.add(drawWall.curHandleSeg),drawWall.curPoint=drawWall.path.lastSegment.point)};
engine2D.makeWall=function(c,b,e,f,k){console.log("Wall "+b.x+":"+b.y+"-"+e.x+":"+e.y);c=new paper.Group;var m=new paper.Path;m.doors=[];m.windows=[];var q=new paper.Path.Circle(new paper.Point(f.x,f.y),10);q.fillColor="#33CCFF";q.opacity=.5;var t=new paper.Path.Circle(new paper.Point(0,0),8);t.fillColor="#FFCC00";t.visible=!1;m.moveTo(new paper.Point(b.x,b.y));m.quadraticCurveTo(new paper.Point(f.x,f.y),e.x,e.y);b=m.clone();b.strokeColor="#00FF00";b.strokeWidth=1;b.visible=!1;e=new paper.Path;f=
new paper.Path;var h=new paper.PointText,n=new paper.Path.Rectangle(new paper.Rectangle(0,0,50,18)),g=new paper.Group,v=new paper.Group;g.fontSize=v.fontSize=14;n.fillColor="#ffffff";var B=m.segments[0].point.subtract(m.segments[1].point).angle;e=engine2D.pathOffset(m,-20,1);f=engine2D.pathOffset(m,20,1);h.rotation=B;n.rotation=B;h.content=(e.children[0].length/100).toFixed(1)+"m";n.position=e.position;h.position=e.position;g.addChild(n.clone());g.addChild(h.clone());h.content=(f.children[0].length/
100).toFixed(1)+"m";n.position=f.position;h.position=f.position;v.addChild(n);v.addChild(h.clone());h.remove();m.strokeColor="black";m.strokeWidth=20;120>m.length&&(q.visible=!1,t.visible=!1);80>m.length&&(e.visible=!1,f.visible=!1,g.visible=!1,v.visible=!1);h=new paper.Group([m]);c.addChild(e);c.addChild(f);c.addChild(g);c.addChild(v);c.addChild(h);c.addChild(b);c.addChild(t);c.addChild(q);c.addChild(engine2D.calculatePathOffset(m,-10,1,1.5));c.addChild(engine2D.calculatePathOffset(m,10,1,1.5));
paper.project.layers.push(c);q.attach("mouseenter",function(){this.opacity=1});q.attach("mouseleave",function(){this.opacity=.5});q.attach("doubleclick",function(c){c=new paper.Path;c.moveTo(m.segments[0].point);c.lineTo(m.segments[1].point);onPathDrag(this.parent,c.getLocationAt(c.length/2))});q.attach("mousedrag",function(c){onPathDrag(this.parent,c)});h.on("mouseenter",engine2D.wall_onMouseEnter);h.on("mousemove",engine2D.wall_onMouseMove);h.on("mouseleave",engine2D.wall_onMouseLeave);onPathDrag=
function(c,b){c.children[7].position=b.point;var e=c.children[4].children[0],g=c.children[5],h=e.segments[0].point,f=e.segments[1].point;e.clear();e.moveTo(h);e.quadraticCurveTo(b.point,f);g.clear();g.moveTo(h);g.quadraticCurveTo(b.point,f)};onPathTouchDrag=function(c){c=c.originalEvent.changedTouches[0];onPathDrag({clientX:c.pageX,clientY:c.pageY});return!1};c.h=k;return c};
engine2D.wall_onMouseEnter=function(c){this.children[0].parent.parent.children[5].visible=!0;this.children[0].parent.parent.children[6].visible=!0};engine2D.wall_onMouseLeave=function(c){this.children[0].parent.parent.children[5].visible=!1;this.children[0].parent.parent.children[6].visible=!1};engine2D.wall_onMouseMove=function(c){this.children[0].parent.parent.children[6].position=this.children[0].getNearestPoint(c.point)};
engine2D.edge_onMouseEnter=function(c){this.children[2].opacity=1;this.children[3].opacity=1;this.on("mousedown",engine2D.edge_onMouseDown);this.on("mouseleave",engine2D.edge_onMouseLeave)};engine2D.edge_onMouseLeave=function(c){this.children[2].opacity=0;this.children[3].opacity=0};engine2D.wallRelativePoints=function(c,b,e){var f=c.point,k=e[1].point;b.hitTest(k)&&(f=e[0].point,k=c.point);return{start:f,end:k}};
engine2D.edge_onMouseDrag=function(c){!1===this.dragging&&(this.dragging=!0,this.off("mouseenter",engine2D.edge_onMouseEnter),this.off("mouseleave",engine2D.edge_onMouseLeave));for(i=0;i<this.attachments.length;i++){var b=this.attachments[i];b.parent.parent.children[7].visible=120<b.length?!0:!1;var e=engine2D.wallRelativePoints(c,this.children[2],b.segments),f=b.segments[0].point.x+b.segments[1].point.x,k=b.segments[0].point.y+b.segments[1].point.y,m=b.segments[0].point.subtract(b.segments[1].point).angle,
q=e.start.subtract(e.end).angle,f=new paper.Point(f/2,k/2),k=b.doors.length;if(0<k)for(d=0;d<k;d++)b.doors[d].rotate(q-m),b.doors[d].position=f;else b.parent.parent.children[7].position=f;b.clear();b.moveTo(e.start);b.quadraticCurveTo(f,e.end);b.parent.parent.children[0].clear();b.parent.parent.children[1].clear();b.parent.parent.children[0]=engine2D.pathOffset(b,-20,1,b.parent.parent.children[0].strokeColor);b.parent.parent.children[1]=engine2D.pathOffset(b,20,1,b.parent.parent.children[1].strokeColor);
b.parent.parent.children[2].position=b.parent.parent.children[0].children[0].getLocationAt(b.parent.parent.children[0].children[0].length/2).point;b.parent.parent.children[3].position=b.parent.parent.children[1].children[0].getLocationAt(b.parent.parent.children[1].children[0].length/2).point;b.parent.parent.children[2].children[0].rotation=q-m;b.parent.parent.children[3].children[0].rotation=q-m;b.parent.parent.children[2].children[1].rotation=m;b.parent.parent.children[3].children[1].rotation=m;
b.parent.parent.children[2].children[1].content=(b.parent.parent.children[0].children[0].length/100).toFixed(2)+"m";b.parent.parent.children[3].children[1].content=(b.parent.parent.children[1].children[0].length/100).toFixed(2)+"m";b.parent.parent.children[8]=engine2D.calculatePathOffset(b,-10,1,1.5);b.parent.parent.children[9]=engine2D.calculatePathOffset(b,10,1,1.5)}this.position=c.point;engine2D.edgeSmashCorner(this)};
engine2D.edgeSmashCorner=function(c){if(2<=c.attachments.length)for(var b=0;b<c.attachments.length;b+=2)if(void 0!==c.attachments[b+1]){var e=engine2D.calculateWallAngle(c.attachments[b],c.attachments[b+1]),e=Math.abs(e)+180,e=Math.abs(e-360);c.children[4].children[3].content=Math.round(e)+"\u00b0";c.children[4].children[0].clear();c.children[4].children[1].clear();var e=c.attachments[b].parent.parent.children[9].getIntersections(c.attachments[b+1].parent.parent.children[9]),f=c.attachments[b].parent.parent.children[8].getIntersections(c.attachments[b+
1].parent.parent.children[8]),k=c.attachments[b].parent.parent.children[9].getIntersections(c.attachments[b+1].parent.parent.children[8]),m=c.attachments[b].parent.parent.children[8].getIntersections(c.attachments[b+1].parent.parent.children[9]);c.children[1].clear();e[0]&&(c.children[1].moveTo(e[0].point),k[0]&&m[0]&&(c.children[1].lineTo(k[0].point),c.children[1].lineTo(m[0].point)));f[0]&&(e[0]?c.children[1].lineTo(f[0].point):c.children[1].moveTo(f[0].point),k[0]&&m[0]&&(c.children[1].lineTo(k[0].point),
c.children[1].lineTo(m[0].point)))}};engine2D.edge_onMouseDown=function(c){this.on("mouseup",engine2D.edge_onMouseUp);this.on("mousedrag",engine2D.edge_onMouseDrag)};
engine2D.edge_onMouseUp=function(c){this.dragging=!1;this.off("mousedrag",engine2D.edge_onMouseDrag);for(i=0;i<this.attachments.length;i++){c=this.attachments[i];var b=c.parent.parent.children[5],e=this.attachments[i].getLocationAt(this.attachments[i].length/2).point;b.clear();b.moveTo(this.attachments[i].segments[0].point);b.quadraticCurveTo(e,this.attachments[i].segments[1].point);engine2D.calculateWallMeasureWidth(this,c.parent.parent.children[0]);engine2D.calculateWallMeasureWidth(this,c.parent.parent.children[1])}this.children[2].opacity=
0;this.children[3].opacity=0;this.off("mouseleave",engine2D.edge_onMouseLeave);this.off("mousedown",engine2D.edge_onMouseDown);this.on("mouseenter",engine2D.edge_onMouseEnter);engine2D.makeFloor(FLOOR)};
paper.Shape.ArrowLine=function(c,b,e,f,k){function m(c,b,e,g){var h=[],f=Math.sqrt(Math.pow(e-c,2)+Math.pow(g-b,2));h[0]=e-10*((e-c)*Math.cos(.5)-(g-b)*Math.sin(.5))/f;h[1]=g-10*((g-b)*Math.cos(.5)+(e-c)*Math.sin(.5))/f;h[2]=e-10*((e-c)*Math.cos(.5)+(g-b)*Math.sin(.5))/f;h[3]=g-10*((g-b)*Math.cos(.5)-(e-c)*Math.sin(.5))/f;return h}var q=m(c,b,e,f),t=m(e,f,c,b),h=q[0],n=q[1],g=q[2],v=q[3],q=t[0],B=t[1],z=t[2],t=t[3],x=new paper.Path({segments:[new paper.Point(c,b),new paper.Point(e,f)],strokeWidth:1});
e=new paper.Path({segments:[new paper.Point(h,n),new paper.Point(e,f),new paper.Point(g,v)]});e=new paper.CompoundPath([x,e]);!0===k&&(c=new paper.Path({segments:[new paper.Point(q,B),new paper.Point(c,b),new paper.Point(z,t)]}),e.addChild(c));return e};engine2D.calculatePathOffset=function(c,b,e,f){for(var k=new paper.Path,m=0;m<e+1;m++){var q=m/e*c.length,t=c.getPointAt(q),q=c.getNormalAt(q);q.length=b;k.add(t.add(q))}k.scale(f);k.smooth();k.remove();return k};
engine2D.pathOffset=function(c,b,e,f){c=engine2D.calculatePathOffset(c,b,e,1);c=new paper.Shape.ArrowLine(c.segments[0].point.x,c.segments[0].point.y,c.segments[1].point.x,c.segments[1].point.y,!0);c.strokeColor=f;c.strokeWidth=1;return c};engine2D.calculateWallMeasureWidth=function(c,b){for(i=0;i<c.attachments.length;i++)for(l=0;2>l;l++)if(c.attachments[i].hitTest(b.children[0].segments[l].point)){b.scale(.8);break}};
engine2D.calculateWallMeasureColor=function(c,b){for(a=0;a<scene2DWallGroup[c].children.length;a++)for(l=0;2>l;l++){var e=scene2DWallGroup[c].children[a].children[l];scene2DFloorShape[c].hitTest(e.children[0].segments[0].point)?e.strokeColor="#606060":e.strokeColor="#000000"}};
engine2D.addWallCorner=function(c,b,e){b=new paper.Path.Circle(e,60);var f=new paper.Path.Circle(e,8);e=new paper.Path.Circle(e,17);e.strokeColor=f.fillColor="#00CC33";e.strokeWidth=3;e.opacity=f.opacity=0;var k=new paper.Path;k.fillColor="#000000";b=new paper.Group([b,k,f,e]);b.dragging=!1;b.attachments=[];b.on("mouseenter",engine2D.edge_onMouseEnter);scene2DWallPointGroup[c].addChild(b)};
engine2D.calculateWallCorners=function(c){console.log("Fix Wall Corner Geometry "+scene2DWallGroup[c].children.length);scene2DWallPointGroup[c]=new paper.Group;for(var b,e=0;e<scene2DWallGroup[c].children.length;e++)for(var f=scene2DWallGroup[c].children[e].children[4].children[0].segments,k=0;k<f.length;k++){var m=scene2DWallPointGroup[c].hitTest(f[k].point);if(m)for(var q=0;q<scene2DWallGroup[c].children.length;q++){b=m.item.parent;var t=scene2DWallGroup[c].children[q].children[4].children[0];t.hitTest(b.position)&&
b.attachments.push(t)}else engine2D.addWallCorner(c,f,f[k].point)}for(e=0;e<scene2DWallPointGroup[c].children.length;e++)b=scene2DWallPointGroup[c].children[e],engine2D.calculateWallEdge(b),engine2D.edgeSmashCorner(b)};
engine2D.calculateWallEdge=function(c){for(a=0;a<c.attachments.length&&void 0!==c.attachments[a+1];a+=2){var b=c.bounds.width/2,e=new paper.Path,f=new paper.Path,k=new paper.Path,m=new paper.Path.Arc,q=new paper.PointText;if(c.attachments[a].length>b&&c.attachments[a+1].length>b){m=new paper.Point(c.bounds.center.x,c.bounds.center.y);e=c.attachments[a].getLocationAt(b).point;f=c.attachments[a+1].getLocationAt(b).point;Math.round(m.subtract(e).length)>b&&(e=c.attachments[a].getLocationAt(c.attachments[a].length-
b).point);Math.round(m.subtract(f).length)>b&&(f=c.attachments[a+1].getLocationAt(c.attachments[a+1].length-b).point);e=new paper.Path.Line(m,e);f=new paper.Path.Line(m,f);e.strokeColor="#ffffff";e.strokeWidth=1;f.style=e.style;b=engine2D.calculateWallAngle(c.attachments[a],c.attachments[a+1]);k.add(e.segments[1].point);k.add(f.segments[1].point);var t=k.getLocationAt(k.length/2).point;q.position=t;k.clear();k.add(t);k.add(m);k.scale(2);t=k.segments[0].point;k.remove();m=new paper.Path.Arc(e.segments[1].point,
t,f.segments[1].point);m.strokeColor="#000000";m.strokeWidth=1;q.content=Math.abs(b)+"\u00b0";q.justification="center";q.fontSize=14}k=new paper.Group([e,f,m,q]);c.addChild(k)}};engine2D.calculateWallAngle=function(c,b){var e=c.segments[0].point.subtract(c.segments[1].point).angle,f=b.segments[0].point.subtract(b.segments[1].point).angle;return e-f};engine2D.joinWall=function(c){};engine2D.splitWall=function(c,b){console.log(c)};
engine2D.joinWallEdgeCircle=function(c){scene2D.getObjects().filter(function(b){return b.id===c});return!1};engine2D.splitWallEdgeCircle=function(c){for(var b=scene2D.getObjects().filter(function(b){return b.id===c}),e=scene2DMakeWallEdgeCircle(b[0].left,b[0].top,!1),f=1;4>f;f++)b[0].line[f]&&(e.line[f]=b[0].line[f],b[0].line[f]=void 0,b[0].bend[f]=void 0),b[0].pivot[f]&&(e.pivot[f]=b[0].pivot[f],b[0].pivot[f]=void 0);scene2D.add(e);return!1};
engine2D.snapObjectToWall=function(c,b){var e=c.segments[0].point.subtract(c.segments[1].point).angle;b.rotation=e};
engine2D.attachObjectsToWalls=function(c,b){if(void 0!==scene2DWallGroup[c].children[0]){console.log("2D Attach Objects to Walls ["+c+"] "+b[c].children.length);console.log(b[c].children);for(var e=0;e<b[c].children.length;e++)for(var f=b[c].children[e],k=0;k<scene2DWallGroup[c].children.length;k++){var m=scene2DWallGroup[c].children[k],q=m.children[4].children[0].getIntersections(f.children[1]);if(q[0]){k=m.children[4].children[0].hitTest(q[0].point);b===scene2DDoorGroup?k.item.doors.push(b[c].children[e]):
b===scene2DWindowGroup&&k.item.windows.push(b[c].children[e]);engine2D.snapObjectToWall(k.item,f);m.children[7].visible=!1;break}}}};engine2D=window.engine2D||{};engine2D.drawWindow=function(c){void 0!==scene2DWindowGroup[c].children&&(scene2DWindowGroup[c].visible=!0,paper.project.layers.push(scene2DWindowGroup[c]))};
engine2D.makeWindow=function(c,b,e,f,k,m,q){var t=new paper.Group;c=new paper.Path;f=new paper.Path;var h=new paper.Group,n=new paper.Group;c.moveTo(new paper.Point(0,0));c.lineTo(new paper.Point(b,0));c.strokeColor="#000000";c.strokeWidth=10;f.moveTo(new paper.Point(0,0));f.lineTo(new paper.Point(b,0));f.strokeColor="#ffff";f.strokeWidth=22;t.addChild(f);t.addChild(c);c.group=t;t.position=new paper.Point(e.x,e.y);t.attach("mousedrag",function(c){1!=h.drag&&1!=n.drag&&(t.position=c.point,h.opacity=
0,n.opacity=0)});return t};var SimplePanAndZoom,StableZoom;SimplePanAndZoom=function(){function c(){}c.prototype.changeZoom=function(c,e){return 0>e?1.05*c:0<e?c/1.05:c};c.prototype.changeCenter=function(c,e,f,k){e=new paper.Point(e,-f);e=e.multiply(k);return c.add(e)};return c}();function zoom2DdrawBase(c){zoom2DCTX.drawImage(zoom2Dimg,0,0,zoom2Dwidth,zoom2Dheight,0,0,zoom2Dwidth,zoom2Dheight)}
function zoom2DdrawProgress(c){c=zoom2DSlider.value;var b;b=65+1.55*c;zoom2DCTX.drawImage(zoom2Dimg,0,zoom2Dheight,b,zoom2Dheight,0,0,b,zoom2Dheight);c=Math.round(c/10);zoom2DCTX.fillStyle="grey";zoom2DCTX.font="12pt Arial";zoom2DCTX.fillText(c,20,35)}function drawImage(){zoom2DdrawBase(zoom2DCTX);zoom2DdrawProgress(zoom2DCTX)};var engine3D=window.engine3D||{};function scene3DSplitViewTop(){var c=window.innerWidth/1.4,b=.2*window.innerHeight;$("#left-component-1").css({width:c});$("#right-component-1").css({left:c});$("#vertical-divider-1").css({left:c});$("#bottom-component").css({height:b});$("#top-component").css({bottom:b});$("#horizontal-divider").css({bottom:b});engine3D.initRendererQuadSize()}
function scene3DSplitViewFront(){var c=.3*window.innerWidth,b=.2*window.innerHeight;$("#left-component-1").css({width:c});$("#right-component-1").css({left:c});$("#vertical-divider-1").css({left:c});$("#bottom-component").css({height:b});$("#top-component").css({bottom:b});$("#horizontal-divider").css({bottom:b});engine3D.initRendererQuadSize()}
function scene3DSplitViewSide(){var c=.15*window.innerWidth,b=window.innerHeight/1.4;$("#left-component-1").css({width:c});$("#right-component-1").css({left:c});$("#vertical-divider-1").css({left:c});$("#bottom-component").css({height:b});$("#top-component").css({bottom:b});$("#horizontal-divider").css({bottom:b});engine3D.initRendererQuadSize()}function scene3DSplitView3D(){}
function camera3DFloorFlyIn(c){(new TWEEN.Tween(camera3D.position)).to({x:0,y:10,z:0},2E3).easing(TWEEN.Easing.Quadratic.InOut).start();(new TWEEN.Tween(controls3D.target)).to({x:0,y:0,z:0},2E3).easing(TWEEN.Easing.Quadratic.InOut).onComplete(function(){FLOOR=c;engine3D.showFloor()}).start()}function camera3DNoteAdd(){}function scene3DFloorInsertAR(){"undefined"==typeof NyARRgbRaster_Canvas2D&&$.getScript("js/dynamic/JSARToolKit.js",function(c,b,e){})}
function scene3DFloorInsertPicture(){camera3DPositionCache=camera3D.position.clone();camera3DPivotCache=controls3D.target.clone();camera3DInsertPictureEnter()}function camera3DInsertPictureEnter(){(new TWEEN.Tween(camera3D.position)).to({x:0,y:10,z:0},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}
function camera3DInsertPictureExit(){(new TWEEN.Tween(camera3D.position)).to({x:camera3DPositionCache.x,y:camera3DPositionCache.y,z:camera3DPositionCache.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}
function camera3DPictureEnter(){var c=(new THREE.Vector3(0,-1.75,-.4)).applyMatrix4(camera3D.matrixWorld);(new TWEEN.Tween(SelectedPicture.position)).to(c,2E3).easing(TWEEN.Easing.Quadratic.InOut).onComplete(function(){engine3D.initPanorama("WebGLPanorama","3428",.7,.64)}).start();(new TWEEN.Tween(SelectedPicture.rotation)).to({x:camera3D.rotation.x,y:camera3D.rotation.y,z:camera3D.rotation.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}
function camera3DPictureExit(){disposePanorama("WebGLPanorama");(new TWEEN.Tween(SelectedPicture.position)).to({x:camera3DPositionCache.x,y:camera3DPositionCache.y,z:camera3DPositionCache.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start();(new TWEEN.Tween(SelectedPicture.rotation)).to({x:camera3DPivotCache.x,y:camera3DPivotCache.y,z:camera3DPivotCache.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}
function camera3DNoteEnter(){if(""!==SelectedNote.name){var c=(new THREE.Vector3(0,-.5,-.6)).applyMatrix4(camera3D.matrixWorld);(new TWEEN.Tween(SelectedNote.position)).to(c,2E3).easing(TWEEN.Easing.Quadratic.InOut).onComplete(function(){$("#WebGLNote").show()}).start();(new TWEEN.Tween(SelectedNote.rotation)).to({x:camera3D.rotation.x,y:camera3D.rotation.y,z:camera3D.rotation.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}}
function camera3DNoteExit(){$("#WebGLNote").hide();(new TWEEN.Tween(SelectedNote.position)).to({x:camera3DPositionCache.x,y:camera3DPositionCache.y,z:camera3DPositionCache.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start();(new TWEEN.Tween(SelectedNote.rotation)).to({x:camera3DPivotCache.x,y:camera3DPivotCache.y,z:camera3DPivotCache.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}
function camera3DAnimate(c,b,e,f){scene3DAnimateRotate||((new TWEEN.Tween(camera3D.position)).to({x:c,y:b,z:e},f).easing(TWEEN.Easing.Quadratic.InOut).start(),(new TWEEN.Tween(controls3D.target)).to({x:0,y:0,z:0},f).easing(TWEEN.Easing.Quadratic.InOut).start())}
function camera3DWalkViewToggle(){controls3D instanceof THREE.FirstPersonControls?(camera3DPositionCache=new THREE.Vector3(0,6,20),camera3DPivotCache=new THREE.Vector3(0,0,0),camera3DAnimateResetView(),engine3D.enableOrbitControls(camera3D,renderer.domElement)):controls3D instanceof THREE.OrbitControls?(alertify.confirm("",function(c){c&&(camera3DPositionCache=camera3D.position.clone(),camera3DPivotCache=controls3D.target.clone(),scene3DAnimateRotate=!1,(new TWEEN.Tween(camera3D.position)).to({x:0,
y:1.5,z:18},2E3).easing(TWEEN.Easing.Quadratic.InOut).start(),(new TWEEN.Tween(controls3D.target)).to({x:0,y:1.5,z:0},2E3).easing(TWEEN.Easing.Quadratic.InOut).onComplete(function(){engine3D.enableFirstPersonControls()}).start())}),$(".alertify-message").append($.parseHTML("<img src='images/help/wasd-keyboard.jpg' /><br/><br/>Use (W,A,S,D) or arrow keys to move."))):alertify.alert("Not Available in Edit Mode")}function camera3DAnimateResetView(){}
engine3D.enableTransformControls=function(c){controls3D=new THREE.TransformControls(camera3D,renderer.domElement);controls3D.attach(SelectedObject);controls3D.setMode(c);$("#WebGLInteractiveMenu").hide();$("#WebGLTextureSelect").hide()};engine3D.enableOrbitControls=function(c,b){controls3D instanceof THREE.OrbitControls||(controls3D=new THREE.OrbitControls(c,b),controls3D.minDistance=3,controls3D.maxDistance=25,controls3D.maxPolarAngle=Math.PI/2);controls3D.enabled=!0};
engine3D.enableFirstPersonControls=function(){controls3D.enabled=!1;controls3D=new THREE.FirstPersonControls(camera3D,renderer.domElement);controls3D.movementSpeed=5;controls3D.lookSpeed=.15;controls3D.noFly=!0;controls3D.lookVertical=!1;controls3D.activeLook=!0;controls3D.lon=-90;controls3D.lat=0;controls3D.enabled=!0};
engine3D.open3DModel=function(c,b,e,f,k,m,q,t,h,n){try{c.split(".").pop();var g=c.substring(0,c.lastIndexOf("/")+1)+"Textures/",v=function(g){g.name=c;g.boundingBox=[];g.boundingBox.max=[];g.boundingBox.max.x=0;g.boundingBox.max.y=0;g.boundingBox.max.z=0;g.traverse(function(c){c instanceof THREE.Mesh?(c.geometry.computeFaceNormals(),c.geometry.computeVertexNormals(),c.geometry.computeBoundingBox(),g.boundingBox.max.x<c.geometry.boundingBox.max.x&&(g.boundingBox.max.x=c.geometry.boundingBox.max.x),
g.boundingBox.max.y<c.geometry.boundingBox.max.y&&(g.boundingBox.max.y=c.geometry.boundingBox.max.y),g.boundingBox.max.z<c.geometry.boundingBox.max.z&&(g.boundingBox.max.z=c.geometry.boundingBox.max.z),c.castShadow=!0,h&&(c.receiveShadow=!0),null!==c.material&&(c.material.side=THREE.DoubleSide,1<c.material.shininess-10?c.material.shininess-=10:0===c.material.shininess&&(c.material.shininess=.1),c.material.transparent=1>c.material.opacity?!0:!1)):c instanceof THREE.PointLight&&console.log("light found!")});
g.position.x=e;g.position.y=f;g.position.z=k;g.rotation.x=m;g.rotation.y=q+Math.PI;console.log("ObjectLoader add model to scene "+g.name);b===scene3DHouseGroundContainer&&(_scene3DHouseGroundContainer=g);b.add(g);var v,z;if(n){v=new THREE.MeshBasicMaterial({color:0});engine3D.fontLoader.load("fonts/helvetiker_regular.typeface.json",function(c){z=new THREE.TextGeometry(n,{font:c,weight:"normal",size:.05,height:.01})});var t=new THREE.Mesh(z,v);t.position.x=1.25;t.position.y=.5;t.position.z=.05;t.rotation.y=
1.5;t.name=n;engine3D.open3DModel("objects/Platform/note.jsz",g,1.25,.1,-.3,0,1.5,1,!1,null);g.add(t);console.log(c+" Add Note: '"+n+"'")}if(b==scene3DFloorFurnitureContainer[FLOOR]){v=new THREE.LineBasicMaterial({color:0,linewidth:2});z=new THREE.Geometry;var u=e-3*g.boundingBox.max.x,B=k-3*g.boundingBox.max.z,t=e+3*g.boundingBox.max.x,I=k+3*g.boundingBox.max.z;z.vertices.push(new THREE.Vector3(u,0,B));z.vertices.push(new THREE.Vector3(t,0,B));z.vertices.push(new THREE.Vector3(u,0,B));z.vertices.push(new THREE.Vector3(u,
0,I));var J=new THREE.Line(z,v,THREE.LineSegments);J.position.y=.01;var K=[],P=[];K[0]=400*g.boundingBox.max.z;K[1]=400*g.boundingBox.max.x;engine3D.fontLoader.load("font/helvetiker_regular.typeface.json",function(c){for(var b=0;1>=b;b++){var g;g=100<K[b]?(K[b]/100).toFixed(2)+" m":Math.round(K[b])+" cm";P[b]=new THREE.TextGeometry(g,{font:c,weight:"normal",size:.2,height:.01});P[b].computeBoundingBox()}c=new THREE.Mesh(P[0],v);c.position.x=e-P[0].boundingBox.max.x/2;c.position.y=.01;c.position.z=
B-.1;c.rotation.x=-1.5;b=new THREE.Mesh(P[1],v);b.position.x=u-.1;b.position.y=.01;b.position.z=k+P[1].boundingBox.max.x/2;b.rotation.x=-1.55;b.rotation.z=1.6;J.add(c);J.add(b)});g.add(J);J.visible=!1}};if("jsz"==c.split(".").pop()){var B=c.split("/").pop().slice(0,-4)+".json";$.ajax(c,{contentType:"application/zip",beforeSend:function(c){c.overrideMimeType("text/plain; charset=x-user-defined")},success:function(c){(new JSZip).loadAsync(c).then(function(b){b.file(B).async("string").then(function(b){c=
b;c=JSON.parse(c);b=new THREE.ObjectLoader;b.setTexturePath(g);for(var e=0;e<c.object.children.length;e++){c.object.children[e].uuid=THREE.Math.generateUUID();for(var h=1,f=0;f<c.geometries.length;f++)if(c.geometries[f].uuid==c.object.children[e].geometry){h=c.geometries[f].materials[0].opacity;break}0===h&&(h=.99);for(f=0;f<c.materials.length;f++){for(var k=0;k<c.textures.length;k++)if(c.textures[k].uuid==c.materials[f].map){c.textures[k].uuid=THREE.Math.generateUUID();c.materials[f].map=c.textures[k].uuid;
break}if(c.materials[f].uuid==c.object.children[e].material){c.materials[f].opacity=h;h=THREE.Math.generateUUID();for(k=0;k<c.object.children.length;k++)c.object.children[k].material==c.materials[f].uuid&&(c.object.children[k].material=h);c.materials[f].uuid=h;break}}}b.parse(c,v)})})},error:function(b,e,g){alertify.alert("3D Model ("+c+") Loading Error")}})}else"obj"==c.split(".").pop()&&(loader=new THREE.OBJLoader,loader.load(c,function(g){g.name=c;g.position.x=e;g.position.y=f;g.position.z=k;g.rotation.x=
m;g.rotation.y=q;console.log("OBJMTL add model to scene"+c.slice(0,-4));console.log(g);b.add(g)},onProgress,onError))}catch(z){console.log("open3DModel Error "+z)}};
engine3D.showHouse=function(){console.log("showHouse()");engine3D.freeMemory();engine3D.hide();engine2D.hide();SCENE="house";engineGUI.initMenu("menuRight3DHouse","Exterior/index.json");engine3D.enableOrbitControls(camera3D,renderer.domElement);SSAOProcessing.enabled=!1;$(renderer.domElement).bind("mousedown",on3DHouseMouseDown);$(renderer.domElement).bind("mouseup",on3DHouseMouseUp);$(renderer.domElement).bind("mousemove",on3DHouseMouseMove);$(renderer.domElement).bind("dblclick",onDocumentDoubleClick);
"moveXY"==TOOL3DINTERACTIVE?engineGUI.menuSelect(0,"menuInteractiveItem","#ff3700"):"moveZ"==TOOL3DINTERACTIVE?engineGUI.menuSelect(1,"menuInteractiveItem","#ff3700"):"rotate"==TOOL3DINTERACTIVE&&engineGUI.menuSelect(2,"menuInteractiveItem","#ff3700");[2,3,4,5,6,7,11,12,13].forEach(function(c){$("#menuBottomItem"+c).show()});$("#menuBottom").show();engineGUI.menuToggleRight("menuRight",!0);engineGUI.menuToggleLeft("menuLeft3DHouse",!0);engineGUI.menuSelect(1,"menuTopItem","#ff3700");engineGUI.menuCorrectHeight();
engine3D.setSky(DAY);scene3D.add(skyMesh);settings.clouds&&scene3D.add(weatherSkyCloudsMesh);settings.rainbow&&scene3D.add(weatherSkyRainbowMesh);engine3D.setLights();engine3D.makeFloor();scene3D.add(scene3DHouseGroundContainer);scene3D.add(scene3DHouseContainer);scene3D.add(scene3DRoofContainer);if(void 0!=scene2DWallGroup[FLOOR].children[0]){for(var c=[-1,0,1,2,3,4],b=0;b<scene2DFloorShape.length;b++){var e=.1+c[b]*scene2DWallGroup[FLOOR].children[0].h;scene3DFloorShapeContainer[b].position.y=e;
scene3DCeilingShapeContainer[b].position.y=e+scene2DWallGroup[FLOOR].children[0].h;scene3D.add(scene3DFloorShapeContainer[b]);scene3D.add(scene3DCeilingShapeContainer[b])}for(var b=0;b<scene3DFloorFurnitureContainer.length;b++)scene3D.add(scene3DFloorFurnitureContainer[b])}scene3DCube&&scene3DCube.add(scene3DCubeMesh);$("#engine3D").show();$("#WebGLCanvas").show();setTimeout(function(){camera3DAnimate(0,6,18,1E3)},1E3);engine3D.animate()};
engine3D.showLandscape=function(){scene3DAnimateRotate=!1;engine3D.freeMemory();engine3D.hide();engine2D.hide();SCENE="landscape";engine3D.setSky("day");engine3D.setLights();engine3D.enableOrbitControls(camera3D,renderer.domElement);camera3D.position.set(10,10,15);camera3D.lookAt(scene3D.position);TOOL3DLANDSCAPE="rotate";scene3D.add(skyMesh);scene3D.add(terrain3D);$(renderer.domElement).bind("mousedown",on3DLandscapeMouseDown);$(renderer.domElement).bind("mouseup",on3DLandscapeMouseUp);$(renderer.domElement).bind("mousemove",
on3DLandscapeMouseMove);engineGUI.menuToggleLeft("menuLeft3DLandscape",!0);engineGUI.menuSelect(0,"menuLeft3DLandscapeItem","#ff3700");engineGUI.menuSelect(2,"menuTopItem","#ff3700");engineGUI.menuCorrectHeight();$("#engine3D").show();$("#WebGLCanvas").show();engine3D.animate()};
engine3D.showFloor=function(c){console.log("showFloor()");FLOOR=c;scene3DAnimateRotate=!1;engine3D.freeMemory();engine3D.hide();engine2D.hide();SCENE="floor";engineGUI.initMenu("menuRight3DFloor","Interior/index.json");engine3D.enableOrbitControls(camera3D,renderer.domElement);engine3D.buildPanorama(skyFloorMesh,"0000",75,75,75,"",null);scene3D.add(skyFloorMesh);engine3D.setLights();engine3D.makeFloor();engine3D.makeWalls();console.log(FLOOR);scene3D.add(scene3DFloorFurnitureContainer[FLOOR]);scene3D.add(scene3DFloorShapeContainer[FLOOR]);
scene3D.add(scene3DFloorGroundContainer);scene3DFloorShapeContainer[FLOOR].position.y=.1;if("measure"==TOOL3DFLOOR)for(scene3DFloorMeasurementsGenerate(),c=0;c<scene3DFloorFurnitureContainer[FLOOR].children.length;c++)scene3DFloorFurnitureContainer[FLOOR].children[c].children[1]&&(scene3DFloorFurnitureContainer[FLOOR].children[c].children[1].visible=!0);scene3D.add(scene3DFloorWallContainer[FLOOR]);scene3D.add(scene3DFloorShapeContainer[FLOOR]);$(renderer.domElement).bind("mousedown",on3DFloorMouseDown);
$(renderer.domElement).bind("mouseup",on3DFloorMouseUp);$(renderer.domElement).bind("mousemove",on3DFloorMouseMove);$(renderer.domElement).bind("dblclick",onDocumentDoubleClick);$("#menuFloorSelectorText").html(scene3DFloorFurnitureContainer[FLOOR].name);$("#menuFloorSelector").show();[8,9,10,11,12,13].forEach(function(c){$("#menuBottomItem"+c).show()});$("#menuBottom").show();engineGUI.menuToggleRight("menuRight",!0);engineGUI.menuToggleLeft("menuLeft3DFloor",!0);engineGUI.menuSelect(5,"menuTopItem",
"#ff3700");engineGUI.menuSelect(0,"menuLeft3DFloorItem","#ff3700");engineGUI.menuCorrectHeight();scene3DCube&&scene3DCube.add(scene3DCubeMesh);$("#engine3D").show();$("#WebGLCanvas").show();setTimeout(function(){camera3DAnimate(0,10,12,1E3)},500);engine3D.animate()};
engine3D.showFloorLevel=function(){scene3DAnimateRotate=!1;engine3D.freeMemory();engine3D.hide();engine2D.hide();SCENE="floorlevel";engine3D.setSky("day");engine3D.setLights();engine3D.enableOrbitControls(camera3D,renderer.domElement);camera3D.position.set(10,10,15);camera3D.lookAt(scene3D.position);engine3D.generateLevelWalls();scene3D.add(skyMesh);scene3D.add(scene3DHouseGroundContainer);engineGUI.menuSelect(3,"menuTopItem","#ff3700");engineGUI.menuCorrectHeight();$("#engine3D").show();$("#WebGLCanvas").show();
engine3D.animate()};
engine3D.showRoofDesign=function(){scene3DAnimateRotate=!1;engine3D.freeMemory();engine3D.hide();engine2D.hide();SCENE="roof";engineGUI.initMenu("menuRight3DRoof","Roof/index.json");engine3D.setLights();engine3D.initRendererQuad();scene3D.add(camera3DQuadGrid);scene3D.add(scene3DRoofContainer);$("#WebGLSplitCanvas-0").bind("mousemove",on3DRoofSplit0MouseMove);$("#WebGLSplitCanvas").bind("mouseup",on3DRoofVDividerMouseUp);engineGUI.menuToggleRight("menuRight",!0);engineGUI.menuSelect(4,"menuTopItem",
"#ff3700");engineGUI.menuCorrectHeight();$("#engine3D").show();$("#WebGLSplitCanvas").show();engine3D.animate()};
engine3D.hide=function(){$("#engine3D").hide();if(void 0!==renderer){scene3DCube&&scene3DCube.remove(scene3DCubeMesh);for(c=0;c<scene2DFloorShape.length;c++)scene3D.remove(scene3DFloorShapeContainer[c]),scene3D.remove(scene3DCeilingShapeContainer[c]);$(renderer.domElement).unbind("mousedown",on3DHouseMouseDown);$(renderer.domElement).unbind("mouseup",on3DHouseMouseUp);$(renderer.domElement).unbind("mousemove",on3DHouseMouseMove);$(renderer.domElement).unbind("dblclick",onDocumentDoubleClick);$("#WebGLSplitCanvas-0").unbind("mousemove",
on3DRoofSplit0MouseMove);$("#WebGLSplitCanvas").unbind("mouseup",on3DRoofVDividerMouseUp);$(renderer.domElement).unbind("mousedown",on3DFloorMouseDown);$(renderer.domElement).unbind("mouseup",on3DFloorMouseUp);$(renderer.domElement).unbind("mousemove",on3DFloorMouseMove);$(renderer.domElement).unbind("mousedown",on3DLandscapeMouseDown);$(renderer.domElement).unbind("mouseup",on3DLandscapeMouseUp);$(renderer.domElement).unbind("mousemove",on3DLandscapeMouseMove);disposePanorama("WebGLPanorama");$("#WebGLCanvas").hide();
$("#WebGLSplitCanvas").hide();$("#menuLeft3DHouse").hide();$("#menuLeft3DLandscape").hide();$("#menuLeft3DFloor").hide();$("#menuRight3DHouse").hide();$("#menuRight3DFloor").hide();$("#menuRight3DRoof").hide();$("#menuRightObjects").hide();$("#menuRight").hide();$("#menuFloorSelector").hide();$("#menuWallInput").hide();for(var c=1;13>=c;c++)$("#menuBottomItem"+c).hide();$("#menuBottom").hide()}};
engine3D.newFloor=function(c){var b=scene3DFloorFurnitureContainer.length;null===c&&(c="Floor "+b);scene3DFloorFurnitureContainer[b]=new THREE.Object3D;scene3DFloorFurnitureContainer[b].name=c;scene3DFloorMeasurementsContainer[b]=new THREE.Object3D;scene3DFloorWallContainer[b]=new THREE.Object3D;scene3DFloorShapeContainer[b]=new THREE.Object3D;scene3DFloorShapeTextures[b]=[];scene3DCeilingShapeContainer[b]=new THREE.Object3D;scene3DCeilingShapeTextures[b]=[];scene2DWallMesh[b]=[];scene2DWallDimentions[b]=
[]};function selectDayNight(){"day"==DAY?(DAY="night",$("#menuBottomItem6").attr("class","hi-icon icon-night tooltip")):"night"==DAY&&(DAY="day",$("#menuBottomItem6").attr("class","hi-icon icon-day tooltip"));scene3D.remove(skyMesh);engine3D.setSky(DAY);engine3D.setLights();engine.setWeather();scene3D.add(skyMesh)}engine3D.selectWeather=function(){"sunny"==WEATHER?WEATHER="snowy":"snowy"==WEATHER?WEATHER="rainy":"rainy"==WEATHER&&(WEATHER="sunny");engine.setWeather()};
function scene3DObjectSelectRemove(){"house"==SCENE?scene3DHouseContainer.remove(SelectedObject):"floor"==SCENE&&scene3DFloorFurnitureContainer[FLOOR].remove(SelectedObject);scene3DObjectUnselect()}
function scene3DObjectSelectMenuPosition(c,b){var e=new THREE.Vector3(c,b,.1),f,k;null!==SelectedObject?e=e.setFromMatrixPosition(SelectedObject.matrixWorld):null!==SelectedWall&&(e=e.setFromMatrixPosition(SelectedWall.matrixWorld));e.project(camera3D);f=(e.x+1)/2;k=(-e.y+1)/2;e.x=f*window.innerWidth;e.y=k*window.innerHeight;return e}
function scene3DObjectSelectMenu(c,b,e){c=scene3DObjectSelectMenuPosition(c,b);$(e).css("top",c.y-60).css("left",c.x);$(e).show();null===SelectedObject&&null!==SelectedWall&&($("#WebGLTextureSelect").css("top",c.y+$(e).height()).css("left",c.x-$("#WebGLTextureSelect").width()/2),$("#WebGLColorWheelSelect").css("top",c.y-$("#WebGLColorWheelSelect").height()-32).css("left",c.x-$("#WebGLColorWheelSelect").width()/2))}
function scene3DObjectSelect(c,b,e,f){if(controls3D instanceof THREE.OrbitControls)if(c=new THREE.Vector3(c,b,.5),c.unproject(e),e=(new THREE.Raycaster(e.position,c.sub(e.position).normalize())).intersectObjects(f.children,!0),0<e.length){if(SelectedObject!==e[0].object){scene3DObjectUnselect();controls3D.enabled=!1;SelectedObject=scene3DObjectSelectedRoot(f,e[0].object.uuid);if(0<=e[0].object.name.indexOf("Platform/note.jsz"))SelectedNote=e[0].object,camera3DPositionCache=SelectedNote.position.clone(),
camera3DPivotCache=SelectedNote.rotation.clone(),camera3DNoteEnter();else if(!(0<=SelectedObject.name.indexOf("Platform/camera.jsz")))if(SelectedObject.children===scene3DFloorWallContainer[FLOOR].children)SelectedWall=e[0].object,scene3DObjectSelectMenu(mouse.x,mouse.y,"#WebGLWallPaintMenu");else{if(-1!=SelectedObject.name.indexOf("house"))return scene3DObjectUnselect(),!1;f=SelectedObject.children[SelectedObject.children.length-1];c=65280;rightButtonDown&&(c=16776960);c=new THREE.MeshBasicMaterial({color:c,
side:THREE.BackSide,opacity:.5,transparent:!0});"{highlighteMesh}"!==f.name?(f=SelectedObject.clone(),f.name="{highlighteMesh}",f.position.set(0,0,0),f.rotation.set(0,0,0),f.scale.multiplyScalar(1.06),SelectedObject.add(f)):f.visible=!0;for(b=0;b<f.children.length;b++)"Mesh"===f.children[b].type?(f.children[b].material=c,f.children[b].material.depthWrite=!0,f.children[b].material.depthTest=!0):f.remove(f.children[b]);if("house"!==SCENE){var k=$("#WebGLSelectMenu");k.tooltipster("content",'<a href="#item" onclick="" class="lo-icon icon-info" style="color:#606060"></a><a href="#" onclick="" class="lo-icon icon-settings" style="color:#606060"></a>')}SelectedObject.boundingBox&&
8<e[0].distance&&4>SelectedObject.boundingBox.max.x&&(camera3DPositionCache=camera3D.position.clone(),camera3DPivotCache=controls3D.target.clone(),(new TWEEN.Tween(camera3D.position)).to({x:SelectedObject.position.x,y:SelectedObject.position.y+4,z:SelectedObject.position.z+5},1E3).easing(TWEEN.Easing.Quadratic.InOut).onComplete(function(){}).start(),(new TWEEN.Tween(controls3D.target)).to({x:SelectedObject.position.x,y:SelectedObject.position.y,z:SelectedObject.position.z},1E3).easing(TWEEN.Easing.Quadratic.InOut).start());
void 0!==k&&(console.log(SCENE),f=scene3DObjectSelectMenuPosition(mouse.x,mouse.y),k.css({position:"absolute",left:f.x,top:f.y-50,"z-index":0}),k.tooltipster("open"));engineGUI.toggleSideMenus(!1)}return!0}}else scene3DObjectUnselect();return!1}function scene3DObjectSelectedRoot(c,b){for(var e=0;e<c.children.length;e++)for(var f=0;f<c.children[e].children.length;f++)if(c.children[e].children[f].uuid===b)return c.children[e];return c}
function scene3DObjectUnselect(){if(controls3D instanceof THREE.OrbitControls){if(null!==SelectedObject){var c=SelectedObject.children[SelectedObject.children.length-1];"{highlighteMesh}"===c.name&&(c.visible=!1);SelectedWall=SelectedObject=null;$("#WebGLSelectMenu").tooltipster("hide");$("#WebGLInteractiveMenu").hide();$("#WebGLWallPaintMenu").hide();$("#WebGLColorWheelSelect").hide();$("#WebGLTextureSelect").hide()}else null!==SelectedNote?(SelectedNote=null,camera3DNoteExit()):null!==SelectedPicture&&
(SelectedPicture=null,camera3DPictureExit());controls3D.enabled=!0;camera3DPivotCache=camera3DPositionCache=null}}
engine3D.collectArrayFromContainer=function(c){for(var b=[],e=0;e<c.children.length;e++){var f={};f.file=c.children[e].children[0].name;try{f.note=c.children[e].children[2].name}catch(k){}f.textures="Textures";f.position.x=c.children[e].children[0].position.x;f.position.y=c.children[e].children[0].position.y;f.position.z=c.children[e].children[0].position.z;f.rotation.x=c.children[e].children[0].rotation.x;f.rotation.y=c.children[e].children[0].rotation.y;f.rotation.z=c.children[e].children[0].rotation.z;
b.push(f)}return b};function imageBase64(c){c=document.getElementById(c);var b=document.createElement("canvas");b.width=c.width;b.height=c.height;b.getContext("2d").drawImage(c,0,0);return b.toDataURL("image/png").replace(/^data:image\/(png|jpg);base64,/,"")}function scene3DFloorMeasurementsGenerate(){material=new THREE.LineBasicMaterial({color:0,linewidth:2})}
function scene3DFloorMeasurementShow(){for(var c=!0,b=0;b<scene3DFloorFurnitureContainer[FLOOR].children.length;b++).8>scene3DFloorFurnitureContainer[FLOOR].children[b].position.y&&(scene3DFloorFurnitureContainer[FLOOR].children[b].children[1].visible=!scene3DFloorFurnitureContainer[FLOOR].children[b].children[1].visible),c=scene3DFloorFurnitureContainer[FLOOR].children[b].children[1].visible;c?(engineGUI.menuSelect(0,"menuLeft3DFloorItem","#ff3700"),TOOL3DFLOOR="measure"):(engineGUI.menuSelect(0,
"menuLeft3DFloorItem","black"),TOOL3DFLOOR="")}function scene3DFloorObjectWallMeasurementAjust(){}
engine3D.generateLevelWalls=function(){scene3DLevelWallContainer=new THREE.Object3D;var c=new THREE.BoxGeometry(15,4,13),b=new THREE.MeshBasicMaterial({color:14737632}),c=new THREE.Mesh(c,b);c.position.y=2;scene3DLevelWallContainer.add(c);c=new THREE.BoxGeometry(10,4,9);b=new THREE.MeshBasicMaterial({color:11579568});c=new THREE.Mesh(c,b);c.position.x=2.5;c.position.z=-2;c.position.y=6;scene3DLevelWallContainer.add(c);scene3D.add(scene3DLevelWallContainer)};
engine3D.setBackground=function(c){var b=document.createElement("canvas");b.width=window.innerWidth;b.height=window.innerHeight;var e=b.getContext("2d");"blue"==c?(c=e.createLinearGradient(0,0,0,b.height),c.addColorStop(0,"#1e4877"),c.addColorStop(.5,"#4584b4"),e.fillStyle=c,e.fillRect(0,0,b.width,b.height),document.getElementById("engine3D").style.background="url("+b.toDataURL("image/png")+")"):"split"==c?(e.lineWidth=1,e.beginPath(),e.moveTo(.5*window.innerWidth,0),e.lineTo(.5*window.innerWidth,
window.innerHeight),e.stroke(),e.beginPath(),e.moveTo(0,.5*window.innerHeight),e.lineTo(window.innerWidth,.5*window.innerHeight),e.stroke(),document.getElementById("engine3D").style.background="url("+b.toDataURL("image/png")+")"):document.body.style.background="#fff"};
engine3D.setLights=function(){scene3D.remove(sceneAmbientLight);scene3D.remove(sceneDirectionalLight);scene3D.remove(sceneSpotLight);"house"==SCENE?"day"==DAY?settings.sunlight?(sceneAmbientLight=new THREE.AmbientLight,scene3D.add(sceneAmbientLight),scene3D.add(sceneDirectionalLight),sceneSpotLight.intensity=1,sceneSpotLight.castShadow=!1,scene3D.add(sceneSpotLight)):(sceneAmbientLight=new THREE.AmbientLight(16777215,.7),scene3D.add(sceneAmbientLight),scene3D.add(sceneDirectionalLight)):(sceneSpotLight.intensity=
.8,sceneSpotLight.castShadow=!1,scene3D.add(sceneSpotLight)):"landscape"==SCENE?(sceneAmbientLight=new THREE.AmbientLight(16777215,.5),scene3D.add(sceneAmbientLight),scene3D.add(sceneDirectionalLight)):"roof"==SCENE?(sceneAmbientLight=new THREE.AmbientLight(16777215,.1),scene3D.add(sceneAmbientLight),sceneSpotLight.intensity=.6,sceneSpotLight.castShadow=!1,scene3D.add(sceneSpotLight)):"floorlevel"==SCENE?(sceneAmbientLight=new THREE.AmbientLight(16777215,.5),scene3D.add(sceneAmbientLight),scene3D.add(sceneDirectionalLight)):
"floor"==SCENE&&(sceneAmbientLight=new THREE.AmbientLight,scene3D.add(sceneAmbientLight),sceneDirectionalLight.intensity=.6,scene3D.add(sceneDirectionalLight))};
function insertSceneObject(c){"database"==RUNMODE&&(c="php/objects.php?id="+c,$.ajax({type:"GET",dataType:"json",url:c,async:!1,success:function(b){c=b.file},error:function(c,b,e){alertify.alert("Database Error - 3D Object Not Found")}}));var b=0,e=0,f=0;if("house"==SCENE){f=scene3DHouseContainer.children.length-1;e=b=0;try{b=scene3DHouseContainer.children[f].position.x+scene3DHouseContainer.children[f].geometry.boundingBox.max.x,e=scene3DHouseContainer.children[f].position.z+scene3DHouseContainer.children[f].geometry.boundingBox.max.z}catch(k){}engine3D.open3DModel(c,
scene3DHouseContainer,b,0,e,0,0,1,!0,null)}else"floor"==SCENE&&(f=scene3DFloorFurnitureContainer[FLOOR].children.length-1,b=scene3DFloorFurnitureContainer[FLOOR].children[f].position.x+scene3DFloorFurnitureContainer[FLOOR].children[f].geometry.boundingBox.max.x,e=scene3DFloorFurnitureContainer[FLOOR].children[f].position.z+scene3DFloorFurnitureContainer[FLOOR].children[f].geometry.boundingBox.max.z,engine3D.open3DModel(c,scene3DFloorFurnitureContainer[FLOOR],b,0,e,0,0,1,!0,null))}
function CalculateCutawayGeometry(){alertify.confirm("This feature is experimental and may not work properly. Continue?",function(c){c&&(c=new THREE.BoxGeometry(20,16,1),new THREE.Mesh(c))})}
function animatePanorama(){if(rendererPanorama instanceof THREE.WebGLRenderer){requestAnimationID=window.requestAnimationFrame(animatePanorama);clock.getDelta();mouse.x+=.1;mouse.y=Math.max(-85,Math.min(85,mouse.y));var c=THREE.Math.degToRad(90-mouse.y),b=THREE.Math.degToRad(mouse.x);target.x=Math.sin(c)*Math.cos(b);target.y=Math.cos(c);target.z=Math.sin(c)*Math.sin(b);camera3DPanorama.lookAt(target);rendererPanorama.render(scene3DPanorama,camera3DPanorama)}else engine3D.animate()}
function animateHouseRotate(){requestAnimationID=window.requestAnimationFrame(animateHouseRotate);if(scene3DAnimateRotate){var c=.19*clock.getDelta(),b=camera3D.position.x,e=camera3D.position.z,f=Math.cos(c),c=Math.sin(c);camera3D.position.x=b*f+e*c;camera3D.position.z=e*f-b*c;camera3D.lookAt(scene3D.position);animateClouds();renderer.render(scene3D,camera3D)}else engine3D.animate()}
function animateFloor(){requestAnimationID=window.requestAnimationFrame(animateFloor);sceneSpotLight.visible=!1;controls3D.update();leftButtonDown?renderer.render(scene3D,camera3D):(SSAOProcessing.enabled&&(scene3D.overrideMaterial=depthMaterial,renderer.render(scene3D,camera3D,depthRenderTarget,!0),scene3D.overrideMaterial=null),effectComposer.render());TWEEN.update()}
function animateLandscape(){requestAnimationID=window.requestAnimationFrame(animateLandscape);leftButtonDown&&"rotate"==TOOL3DLANDSCAPE&&controls3D.update();terrain3D.water.material.uniforms.time.value=(new Date).getTime()%1E4;renderer.render(scene3D,camera3D)}
function renderSunlight(){if(settings.sunlight){var c=new THREE.Vector3(0,10,-10),b=new THREE.MeshDepthMaterial,e=new THREE.Vector3;e.copy(c).project(camera3D);e.x+=1;e.y+=1;sunlight.godrayGenUniforms.vSunPositionScreenSpace.value.x=e.x;sunlight.godrayGenUniforms.vSunPositionScreenSpace.value.y=e.y;sunlight.godraysFakeSunUniforms.vSunPositionScreenSpace.value.x=e.x;sunlight.godraysFakeSunUniforms.vSunPositionScreenSpace.value.y=e.y;renderer.clearTarget(sunlight.rtTextureColors,!0,!0,!1);var c=.74*
window.innerHeight,f=.74*window.innerHeight;e.x*=window.innerWidth;e.y*=window.innerHeight;renderer.setScissor(e.x-f/2,e.y-c/2,f,c);renderer.enableScissorTest(!0);sunlight.godraysFakeSunUniforms.fAspect.value=window.innerWidth/window.innerHeight;sunlight.scene.overrideMaterial=sunlight.materialGodraysFakeSun;renderer.render(sunlight.scene,sunlight.camera,sunlight.rtTextureColors);renderer.enableScissorTest(!1);scene3D.overrideMaterial=null;renderer.render(scene3D,camera3D,sunlight.rtTextureColors);
scene3D.overrideMaterial=b;renderer.render(scene3D,camera3D,sunlight.rtTextureDepth,!0);b=1*Math.pow(6,-1);sunlight.godrayGenUniforms.fStepSize.value=b;sunlight.godrayGenUniforms.tInput.value=sunlight.rtTextureDepth;sunlight.scene.overrideMaterial=sunlight.materialGodraysGenerate;renderer.render(sunlight.scene,sunlight.camera,sunlight.rtTextureGodRays2);b=1*Math.pow(6,-2);sunlight.godrayGenUniforms.fStepSize.value=b;sunlight.godrayGenUniforms.tInput.value=sunlight.rtTextureGodRays2;renderer.render(sunlight.scene,
sunlight.camera,sunlight.rtTextureGodRays1);b=1*Math.pow(6,-3);sunlight.godrayGenUniforms.fStepSize.value=b;sunlight.godrayGenUniforms.tInput.value=sunlight.rtTextureGodRays1;renderer.render(sunlight.scene,sunlight.camera,sunlight.rtTextureGodRays2);sunlight.godrayCombineUniforms.tColors.value=sunlight.rtTextureColors;sunlight.godrayCombineUniforms.tGodRays.value=sunlight.rtTextureGodRays2;sunlight.scene.overrideMaterial=sunlight.materialGodraysCombine;renderer.render(sunlight.scene,sunlight.camera);
sunlight.scene.overrideMaterial=null}else renderer.render(scene3D,camera3D)}function animateClouds(){weatherSkyCloudsMesh.rotation.y=camera3D.rotation.y;weatherSkyCloudsMesh.rotation.z=camera3D.rotation.z;weatherSkyCloudsMesh.rotation.x=camera3D.rotation.x;weatherSkyCloudsMesh.position.x=camera3D.position.x/1.5}
function animateHouse(){requestAnimationID=window.requestAnimationFrame(animateHouse);scene3DAnimateRotate?engine3D.animate():(animateClouds(),controls3D.enabled&&(controls3D.update(),rendererCube&&rendererCube.render(scene3DCube,camera3DCube)),leftButtonDown?renderer.render(scene3D,camera3D):(SSAOProcessing.enabled&&(scene3D.overrideMaterial=depthMaterial,renderer.render(scene3D,camera3D,depthRenderTarget,!0),scene3D.overrideMaterial=null),effectComposer.render()),TWEEN.update())}
function animateRoof(){requestAnimationID=window.requestAnimationFrame(animateRoof);for(i=0;4>i;i++)rendererQuad[i].render(scene3D,camera3DQuad[i])}function animateRoof0(){requestAnimationID=window.requestAnimationFrame(animateRoof);rendererQuad[0].render(scene3D,camera3DQuad[0])}function animateStop(){requestAnimationID&&(window.cancelAnimationFrame(requestAnimationID),requestId=void 0)}
engine3D.animate=function(){animateStop();"house"==SCENE?scene3DAnimateRotate?animateHouseRotate():animateHouse():"floor"==SCENE?animateFloor():"landscape"==SCENE||"floorlevel"==SCENE?animateLandscape():"roof"==SCENE&&animateRoof()};
function fileSelect(c){window.File&&window.FileReader&&window.FileList&&window.Blob?($("#fileInput").click(),"2ddraftplan"==c?$("#fileInput").bind("change",handleFile2DImageSelect):"2dautocad"==c?$("#fileInput").bind("change",handleFile2DAutoCADConvert):"3dobject"==c&&$("#fileInput").bind("change",handleFile3DObjectSelect)):alert("The File APIs are not fully supported in this browser.")}
function errorHandler(c){switch(c.target.error.code){case c.target.error.NOT_FOUND_ERR:alert("File Not Found!");break;case c.target.error.NOT_READABLE_ERR:alert("File is not readable");break;case c.target.error.ABORT_ERR:break;default:alert("An error occurred reading this file.")}}
function ajaxBeforeSubmit(){var c=$("#fileInput")[0].files[0].size,b=$("#fileInput")[0].files[0].type;switch(b){case "application/zip":case "application/octet-stream":break;default:return alert(b+" is unsupported file type!"),!1}if(10485760<c)return alert("<b>"+c+"</b> Too big file! <br />File is too big, it should be less than 5 MB."),!1}
function handleFile3DObjectSelect(c){switch(c.target.files[0].type){case "application/zip":case "application/octet-stream":var b={beforeSubmit:ajaxBeforeSubmit,resetForm:!0};$("#uploadForm").submit(function(){$(this).ajaxSubmit(b);return!1});break;case "application/x-javascript":fileReader=new FileReader;fileReader.onerror=errorHandler;fileReader.onloadstart=function(c){};fileReader.onload=function(b){console.log("Load File: "+$("#fileInput").value+":"+c.target.files[0].name);engine3D.open(b.target.result);
engine2D.open(b.target.result)};fileReader.readAsText(file);break;default:return alert("file type should be .js, .json or .zip"),!1}}function handleFile2DAutoCADConvert(c){fileReader=new FileReader;fileReader.onerror=errorHandler;fileReader.onload=function(c){c=new DXFParser(c.target.result);console.log(c)};fileReader.readAsText(c.target.files[0]);$("#fileInput").unbind("change",handleFile2DAutoCADConvert)}
function handleFile2DImageSelect(c){c.target.files[0].type.match("image.*")?(fileReader=new FileReader,fileReader.onerror=errorHandler,fileReader.onabort=function(c){alert("File read cancelled")},fileReader.onload=function(c){var b=new Image;b.src=c.target.result;scene2DFloorDraftPlanImage[FLOOR]=new fabric.Image(b,{top:1,left:1,width:window.innerWidth,height:window.innerHeight,opacity:.6,selectable:!1});scene2D.add(scene2DFloorDraftPlanImage[FLOOR]);scene2D.sendToBack(scene2DFloorDraftPlanImage[FLOOR]);
scene2D.renderAll()},fileReader.readAsDataURL(c.target.files[0]),$("#fileInput").unbind("change",handleFile2DImageSelect)):alert("Currently only photos are supported")}
function toggleTextureSelect(){if($("#WebGLTextureSelect").is(":visible"))$("#WebGLTextureSelect").hide(),$("#WebGLColorWheelSelect").hide();else{$("#WebGLTextureSelect").empty();if(null!==SelectedWall){var c=$("<div>",{"class":"scroll","data-ui":"jscroll-default",style:"width:100%;height:80px"}),b=$("<div>",{"class":"objectItem",style:"width:100px;height:64px"}),e=$("<a>",{href:"#"}).append($("<img>",{id:"test",src:"objects/Wall/Textures/W2367.jpg"}));b.append(e);e=$("<a>",{href:"#"}).append($("<img>",
{id:"test",src:"objects/Wall/Textures/W3465.jpg"}));b.append(e);$("#WebGLTextureSelect").append(c.append(b))}$("#WebGLTextureSelect").show();null!==SelectedWall&&$("#WebGLColorWheelSelect").show()}}
engine3D.freeMemory=function(){if(scene3D instanceof THREE.Scene){for(;0<scene3D.children.length;){var c=scene3D.children[scene3D.children.length-1];c.geometry&&c.geometry.dispose();c.material&&(c.material.map&&c.material.map.dispose(),c.material.dispose());scene3D.remove(c)}scene3DObjectUnselect()}if(camera3DQuad[0]instanceof THREE.OrthographicCamera)for(i=0;4>i;i++)camera3DQuad[i]=null,rendererQuad[i]=null};var engine3D=window.engine3D||{},isDragging=!1;
function onWindowResize(){camera3D.aspect=window.innerWidth/window.innerHeight;camera3D.updateProjectionMatrix();SSAOProcessing.enabled&&SSAOPass.uniforms.resolution.value.set(1/(window.innerWidth*dpr),1/(window.innerHeight*dpr));FXAAProcessing.enabled&&FXAAPass.uniforms.resolution.value.set(1/(window.innerWidth*dpr),1/(window.innerHeight*dpr));effectComposer.setSize(window.innerWidth*dpr,window.innerHeight*dpr);renderer.setSize(window.innerWidth,window.innerHeight);engine3D.initRendererQuadSize();
engineGUI.menuCorrectHeight()}function onCubeMouseMove(c){}
function onDocumentDoubleClick(c){scene3D.visible&&controls3D instanceof THREE.OrbitControls&&null===SelectedObject&&(vector=new THREE.Vector3(c.clientX/window.innerWidth*2-1,2*-(c.clientY/window.innerHeight)+1,.5),vector.unproject(camera3D),c=(new THREE.Raycaster(camera3D.position,vector.sub(camera3D.position).normalize())).intersectObjects(scene3DHouseGroundContainer.children,!0),0<c.length&&(clearTimeout(doubleClickTime),scene3DPivotPoint.position.set(c[0].point.x,0,c[0].point.z),(new TWEEN.Tween(controls3D.target)).to({x:c[0].point.x,
y:0,z:c[0].point.z},800).easing(TWEEN.Easing.Quadratic.InOut).start(),doubleClickTime=setTimeout(function(){scene3D.remove(scene3DPivotPoint)},4E3)))}
function on3DLandscapeMouseMove(c){if("angle"==TOOL3DLANDSCAPE)leftButtonDown&&(terrain3D.rotation.y=c.clientX>window.innerWidth/2?terrain3D.rotation.y+.015:terrain3D.rotation.y-.015);else if(c=new THREE.Vector3(c.clientX/window.innerWidth*2-1,2*-(c.clientY/window.innerHeight)+1,.5),c.unproject(camera3D),c=(new THREE.Raycaster(camera3D.position,c.sub(camera3D.position).normalize())).intersectObjects(terrain3D.children),0<c.length&&(terrain3DMouse.vertex.x=Math.floor(c[0].point.x*plot_vertices-map_left*
plot_vertices),terrain3DMouse.vertex.y=Math.floor(c[0].point.z*plot_vertices-map_top*plot_vertices),terrain3D.material.uniforms.ring_center.value.x=c[0].point.x,terrain3D.material.uniforms.ring_center.value.y=-c[0].point.z),leftButtonDown)landscape.onmousemove()}
function on3DLandscapeMouseDown(c){1==c.which&&(leftButtonDown=!0);controls3D.enabled=!1;if("rotate"==TOOL3DLANDSCAPE)controls3D.enabled=!0;else if("hill"==TOOL3DLANDSCAPE||"valley"==TOOL3DLANDSCAPE)terrain3DMouse.x=c.clientX,terrain3DMouse.y=c.clientY}function on3DLandscapeMouseUp(c){leftButtonDown=!1;controls3D.enabled=!1;if("hill"==TOOL3DLANDSCAPE||"valley"==TOOL3DLANDSCAPE)terrain3DMouse.x=c.clientX,terrain3DMouse.y=c.clientY}
$(document).on("keyup",function(c){c.preventDefault();"house"===SCENE&&27===c.which&&(camera3DPositionCache=new THREE.Vector3(0,6,20),camera3DPivotCache=new THREE.Vector3(0,0,0),camera3DAnimateResetView())});function on3DRoofVDividerMouseUp(c){scene3DInitializeRendererQuadSize()}function on3DRoofSplit0MouseMove(c){}function on3DRoofSplit1MouseMove(c){}function on3DRoofSplit2MouseMove(c){}function on3DRoofSplit3MouseMove(c){}function on3DHouseMouseUp(c){on3DMouseUp(c)}
function on3DHouseMouseDown(c){on3DMouseDown(c);scene3DObjectSelect(mouse.x,mouse.y,camera3D,scene3DHouseContainer)||scene3D.add(scene3DPivotPoint)}function on3DHouseMouseMove(c){isDragging&&null!==SelectedObject&&on3DObjectMove(scene3DHouseGroundContainer,c)}function on3DFloorMouseDown(c){on3DMouseDown(c);scene3DObjectSelect(mouse.x,mouse.y,camera3D,scene3DFloorFurnitureContainer[FLOOR])||scene3D.add(scene3DPivotPoint)}
function on3DFloorMouseUp(c){on3DMouseUp(c);c=.1;null===SelectedObject&&(c=.5);for(var b=0;b<scene3DFloorWallContainer[FLOOR].children.length;b++)tween=(new TWEEN.Tween(scene3DFloorWallContainer[FLOOR].children[b].material)).to({opacity:c},500).start()}
function on3DCubeMove(){0!=engine3D.showCube&&(camera3DCube.position.copy(camera3D.position),camera3DCube.position.sub(controls3D.center),camera3DCube.position.setLength(18),camera3DCube.lookAt(scene3DCube.position),camera3DCube.updateMatrixWorld())}
function on3DObjectMove(c,b){var e=new THREE.Vector3(b.clientX/window.innerWidth*2-1,2*-(b.clientY/window.innerHeight)+1,-2);e.unproject(camera3D);e=(new THREE.Raycaster(camera3D.position,e.sub(camera3D.position).normalize())).intersectObjects(c.children,!0);if(0<e.length){var f=$("#WebGLSelectMenu");leftButtonDown?(f.tooltipster("close"),SelectedObject.position.x=e[0].point.x,SelectedObject.position.z=e[0].point.z):rightButtonDown&&(f.tooltipster("close"),SelectedObject.rotation.y=e[0].point.x)}}
function on3DFloorMouseMove(c){if(0===TWEEN.getAll().length)if(null!==SelectedObject)on3DObjectMove(scene3DFloorGroundContainer,c);else{c=new THREE.Vector3(0,0,8);c.applyQuaternion(camera3D.quaternion);scene3DCutawayPlaneMesh.position.copy(c);scene3DCutawayPlaneMesh.lookAt(camera3D.position);c=[];for(var b=scene3DCutawayPlaneMesh.position.clone(),e=0;e<scene3DCutawayPlaneMesh.geometry.vertices.length;e++){var f=scene3DCutawayPlaneMesh.geometry.vertices[e].clone().applyMatrix4(scene3DCutawayPlaneMesh.matrix).sub(scene3DCutawayPlaneMesh.position),
k=(new THREE.Raycaster(b,f.clone().normalize())).intersectObjects(scene3DFloorWallContainer[FLOOR].children);0<k.length&&k[0].distance<f.length()&&((new TWEEN.Tween(k[0].object.material)).to({opacity:.1},800).start(),c.push(k[0].object.id))}on3DCubeMove()}}
function on3DMouseMove(c){!leftButtonDown||!rightButtonDown||controls3D instanceof THREE.TransformControls||controls3D instanceof THREE.FirstPersonControls||(clearTimeout(clickMenuTime),camera3DCube.position.copy(camera3D.position),camera3DCube.position.sub(controls3D.center),camera3DCube.position.setLength(18),camera3DCube.lookAt(scene3DCube.position))}
function on3DMouseDown(c){1===c.which&&(leftButtonDown=!0);3===c.which&&(rightButtonDown=!0);mouse.x=c.clientX/window.innerWidth*2-1;mouse.y=2*-(c.clientY/window.innerHeight)+1;scene3DObjectUnselect();scene3DAnimateRotate=!1;clickTime=setTimeout(function(){isDragging=!0;0<=document.getElementById("arrow-right").src.indexOf("images/arrowright.png")&&engineGUI.toggleSideMenus(!1)},500)}
function on3DMouseUp(c){isDragging=!1;1==c.which&&(leftButtonDown=!1);3==c.which&&(rightButtonDown=!1);controls3D instanceof THREE.TransformControls||controls3D instanceof THREE.FirstPersonControls||(scene3D.remove(scene3DPivotPoint),clearTimeout(clickTime),null!=SelectedObject?(mouse.x=c.clientX/window.innerWidth*2-1,mouse.y=2*-(c.clientY/window.innerHeight)+1):clickTime=setTimeout(function(){0<=document.getElementById("arrow-right").src.indexOf("images/arrowleft.png")&&engineGUI.toggleSideMenus(!0)},
1E3))};engine3D=window.engine3D||{};
engine3D.makeFloor=function(){for(i=0;i<scene2DFloorShape.length;i++)if(void 0!==scene2DFloorShape[i].children[0]){console.log("3D Floor Generate ["+i+"] "+scene2DWallGroup[i].children.length);scene3DFloorShapeContainer[i]=new THREE.Object3D;scene3DCeilingShapeContainer[i]=new THREE.Object3D;var c=new THREE.Shape;for(a=0;a<scene2DFloorShape[i].children[0].segments.length;a++){var b=scene2DFloorShape[i].children[0].segments[a].point,e=b.x/100*2-1,b=2*-(b.y/100)+1,e=e-13,b=b+7;0===a?c.moveTo(e,b):c.lineTo(e,
b)}var e=new THREE.ShapeGeometry(c),b=new THREE.MeshBasicMaterial,f=THREE.ImageUtils.loadTexture(scene3DFloorShapeTextures[i][0]);f.wrapS=THREE.RepeatWrapping;f.wrapT=THREE.RepeatWrapping;b.map=f;b=new THREE.Mesh(e,b);b.rotation.x=-(90*RADIAN);scene3DFloorShapeContainer[i].add(b);f=THREE.ImageUtils.loadTexture(scene3DCeilingShapeTextures[i][0]);f.wrapS=THREE.RepeatWrapping;f.wrapT=THREE.RepeatWrapping;e=new THREE.MeshBasicMaterial;e.map=f;e.side=THREE.BackSide;b=b.clone();b.material=e;scene3DCeilingShapeContainer[i].add(b);
if(0==i){e=new THREE.Mesh(new THREE.ExtrudeGeometry(c,{amount:-2,bevelEnabled:!1}));e.rotation.x=-(90*RADIAN);var k=new ThreeBSP(e);scene3DFloorShapeContainer[i].add(e);_scene3DHouseGroundContainer.traverse(function(c){if(c instanceof THREE.Mesh){var b=new ThreeBSP(c),b=k.subtract(b).toMesh();b.geometry.computeVertexNormals();c.geometry=b.geometry}});scene3DHouseGroundContainer.visible=!1;_scene3DHouseGroundContainer.position.z=-10;scene3D.add(_scene3DHouseGroundContainer)}}};engine3D=window.engine3D||{};engine3D.History=[];engine3D.historyForward=function(){};engine3D.historyBack=function(){};engine3D.historyAdd=function(){};engine3D.initHousePlanner=function(){if(Detector.webgl){getCookie("firstTimer")?(createCookie("firstTimer","1",15),window.location.href="#start"):window.location.href="#scene";"local"==RUNMODE&&($("#menuTopItem12").hide(),$("#menuTopItem15").hide());$("#menuTop").show();$("#menuBottom").show();0===window.innerWidth&&(window.innerWidth=parent.innerWidth,window.innerHeight=parent.innerHeight);spinner.className="cssload-container";spinner.setAttribute("style","position:absolute;top:32%;left:40%;");spinner.innerHTML=
"<ul class='cssload-flex-container'><li><span class='cssload-loading'></span></li></ul>";projector=new THREE.Projector;clock=new THREE.Clock;mouse=new THREE.Vector2;touch=new THREE.Vector2;target=new THREE.Vector3;textureLoader=new THREE.TextureLoader;scene3DFloorGroundContainer=new THREE.Object3D;scene3DPivotPoint=new THREE.Object3D;var c=new THREE.BoxGeometry(15,15,3);c.computeBoundingBox();material=new THREE.MeshBasicMaterial({color:16776960,side:THREE.DoubleSide});scene3DCutawayPlaneMesh=new THREE.Mesh(c,
material);!0===engine3D.showCube&&(c=[new THREE.MeshBasicMaterial({color:3385941,transparent:!0,opacity:.9,shading:THREE.FlatShading,vertexColors:THREE.VertexColors}),new THREE.MeshBasicMaterial({color:5622784,transparent:!0,opacity:.9,shading:THREE.FlatShading,vertexColors:THREE.VertexColors}),new THREE.MeshBasicMaterial({color:0,transparent:!0,opacity:.9,shading:THREE.FlatShading,vertexColors:THREE.VertexColors}),new THREE.MeshBasicMaterial({color:0,transparent:!0,opacity:.9,shading:THREE.FlatShading,
vertexColors:THREE.VertexColors}),new THREE.MeshBasicMaterial({color:255,transparent:!0,opacity:.9,shading:THREE.FlatShading,vertexColors:THREE.VertexColors}),new THREE.MeshBasicMaterial({color:5592490,transparent:!0,opacity:.9,shading:THREE.FlatShading,vertexColors:THREE.VertexColors})],material=new THREE.MultiMaterial(c),material.vertexColors=THREE.FaceColors,c=engine3D.initCube(8),c.computeLineDistances(),scene3DCubeMesh=new THREE.Line(c,new THREE.LineDashedMaterial({color:16725760,dashSize:3,
gapSize:1,linewidth:2}),THREE.LineSegments),scene3DCubeMesh.geometry.dynamic=!0);engine3D.initRenderer();engine3D.initTerrainGround();engine3D.initTerrainWater();engine3D.initTerrainClouds();engine2D.initialize();engine3D["new"](0);engine3D["new"](1);engine3D.enableOrbitControls(camera3D,renderer.domElement);engine3D.initLights();$("#menuWeatherText").html("Sunny");$("#menuDayNightText").html("Day");engine3D.open3DModel("objects/Platform/floor.jsz",scene3DFloorGroundContainer,0,0,0,0,0,1,!1,null);
engine3D.open3DModel("objects/Landscape/round.jsz",scene3DHouseGroundContainer,0,0,0,0,0,1,!0,null);engine3D.open3DModel("objects/Platform/pivotpoint.jsz",scene3DPivotPoint,0,0,.1,0,0,1,!1,null);$(window).bind("resize",onWindowResize);$(window).bind("beforeunload",function(){return"Are you sure you want to leave?"});engine3D.showHouse()}else/MSIE (\d+\.\d+);/.test(navigator.userAgent)?$("body").append("<br/><br/><br/><div><center><img src='images/webgl.gif' /><h1>Looks like you broke the Internet!</h1><br/><h2>...your WebGL not enabled?</h2><br/><br/>You are running Internet Explorer, the browser does not support WebGL, please install one of these popular browsers<br/><br/><a href='http://www.mozilla.org/en-US/firefox'><img src='images/firefox.png'/></a> <a href='http://www.google.ca/chrome'><img src='images/chrome.png'/></a></center></div>"):
/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&$("body").append("<br/><br/><br/><div><center><img src='images/webgl.gif' /><h1>Looks like you broke the Internet!</h1><br/><h2>...your WebGL not enabled?</h2><img src='images/firefox-webgl.png'/></center></div>"),$("#menuTop").hide(),$("#menuBottom").hide(),document.getElementsByTagName("body")[0].style.overflow="auto",document.getElementsByTagName("html")[0].style.overflow="auto"};
engine3D.initRenderer=function(){camera3D=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,.1,80);dpr=1;void 0!==window.devicePixelRatio&&(dpr=window.devicePixelRatio);renderer=new THREE.WebGLRenderer({devicePixelRatio:dpr,antialias:!1});renderer.shadowMap.enabled=!0;renderer.shadowMapSoft=!0;renderer.shadowMapAutoUpdate=!0;renderer.setSize(window.innerWidth,window.innerHeight);document.getElementById("WebGLCanvas").appendChild(renderer.domElement);!0===engine3D.showCube&&(scene3DCube=
new THREE.Scene,camera3DCube=new THREE.PerspectiveCamera(60,1,1,50),camera3DCube.up=camera3D.up,scene3DCube.add(scene3DCubeMesh),rendererCube=new THREE.WebGLRenderer({devicePixelRatio:dpr,antialias:!1,alpha:!0}),rendererCube.setSize(100,100),document.getElementById("WebGLCubeCanvas").appendChild(rendererCube.domElement))};
engine3D.initRendererQuad=function(){$("div.split-pane").splitPane();for(i=0;4>i;i++)rendererQuad[i]=new THREE.WebGLRenderer({devicePixelRatio:dpr,antialias:!1}),rendererQuad[i].setClearColor(16777215),$("#WebGLSplitCanvas-"+i).append(rendererQuad[i].domElement);camera3DQuad[0]=new THREE.OrthographicCamera($("#WebGLSplitCanvas-0").parent().parent().width()/-60,$("#WebGLSplitCanvas-0").parent().parent().width()/60,$("#WebGLSplitCanvas-0").parent().parent().height()/10,$("#WebGLSplitCanvas-0").parent().parent().height()/
-10,-30,30);camera3DQuad[0].up=new THREE.Vector3(0,0,-1);camera3DQuad[0].lookAt(new THREE.Vector3(0,-1,0));camera3DQuad[1]=new THREE.OrthographicCamera($("#WebGLSplitCanvas-1").parent().parent().width()/-60,$("#WebGLSplitCanvas-1").parent().parent().width()/60,$("#WebGLSplitCanvas-1").parent().parent().height()/10,$("#WebGLSplitCanvas-1").parent().parent().height()/-10,-30,30);camera3DQuad[1].lookAt(new THREE.Vector3(1,0,0));camera3DQuad[1].position.set(0,0,0);camera3DQuad[2]=new THREE.OrthographicCamera($("#WebGLSplitCanvas-2").parent().parent().width()/
-60,$("#WebGLSplitCanvas-2").parent().parent().width()/60,$("#WebGLSplitCanvas-2").parent().parent().height()/10,$("#WebGLSplitCanvas-2").parent().parent().height()/-40,-30,30);camera3DQuad[2].lookAt(new THREE.Vector3(1,0,0));camera3DQuad[2].position.set(0,0,0);camera3DQuad[3]=new THREE.PerspectiveCamera(70,$("#WebGLSplitCanvas-3").parent().width()/$("#WebGLSplitCanvas-3").parent().height(),1,50);camera3DQuad[3].position.set(0,14,8);camera3DQuad[3].lookAt(new THREE.Vector3(0,0,0));camera3DQuadGrid=
new THREE.GridHelper(15,1,new THREE.Color(102),new THREE.Color(7196662));engine3D.initRendererQuadSize()};engine3D.initRendererQuadSize=function(){if(camera3DQuad[0]instanceof THREE.OrthographicCamera)for(i=0;4>i;i++){var c=$("#WebGLSplitCanvas-"+i).parent().parent().width(),b=$("#WebGLSplitCanvas-"+i).parent().parent().height();camera3DQuad[i].aspect=c/b;camera3DQuad[i].updateProjectionMatrix();rendererQuad[i].setSize(c,b)}};
engine3D.initPostprocessing=function(){console.log("init EffectComposer");effectComposer=new THREE.EffectComposer(renderer);effectComposer.setSize(window.innerWidth*dpr,window.innerHeight*dpr);var c=new THREE.RenderPass(scene3D,camera3D);effectComposer.addPass(c);if(SSAOProcessing.enabled){console.log("init SSAOShader");var c=THREE.ShaderLib.depthRGBA,b=THREE.UniformsUtils.clone(c.uniforms);depthMaterial=new THREE.ShaderMaterial({fragmentShader:c.fragmentShader,vertexShader:c.vertexShader,uniforms:b,
blending:THREE.NoBlending});depthRenderTarget=new THREE.WebGLRenderTarget(window.innerWidth,window.innerHeight,{minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter});SSAOPass=new THREE.ShaderPass(THREE.SSAOShader);SSAOPass.renderToScreen=!0;SSAOPass.uniforms.tDepth.value=depthRenderTarget;SSAOPass.uniforms.size.value.set(1/(window.innerWidth*dpr),1/(window.innerHeight*dpr));SSAOPass.uniforms.cameraNear.value=camera3D.near;SSAOPass.uniforms.cameraFar.value=camera3D.far;SSAOPass.uniforms.onlyAO.value=
1==SSAOProcessing.renderMode;SSAOPass.uniforms.aoClamp.value=.3;SSAOPass.uniforms.lumInfluence.value=.5;effectComposer.addPass(SSAOPass)}FXAAProcessing.enabled&&(console.log("init FXAAShader"),FXAAPass=new THREE.ShaderPass(THREE.FXAAShader),FXAAPass.uniforms.resolution.value.set(1/(window.innerWidth*dpr),1/(window.innerHeight*dpr)),FXAAPass.renderToScreen=!0,effectComposer.addPass(FXAAPass))};
engine3D.initLights=function(){sceneDirectionalLight=new THREE.DirectionalLight;sceneDirectionalLight.color.setHSL(.1,1,.95);sceneDirectionalLight.position.set(1,1.8,.8).normalize();sceneDirectionalLight.target.position.set(0,0,0);sceneDirectionalLight.position.multiplyScalar(50);sceneDirectionalLight.castShadow=!0;sceneDirectionalLight.shadow.mapSize.width=2048;sceneDirectionalLight.shadow.mapSize.height=2048;sceneDirectionalLight.shadow.camera.left=-15;sceneDirectionalLight.shadow.camera.left=15;
sceneDirectionalLight.shadow.camera.top=15;sceneDirectionalLight.shadow.camera.bottom=-15;sceneDirectionalLight.shadow.camera.far=2E3;sceneDirectionalLight.shadow.bias=-1E-4;sceneSpotLight=new THREE.SpotLight;sceneSpotLight.shadow.camera.near=1;sceneSpotLight.shadow.camera.far=38;sceneSpotLight.castShadow=!0;sceneSpotLight.intensity=.8;sceneSpotLight.position.set(-4,35,4)};engine3D.initPhysics=function(){};
engine3D.initCube=function(c){c*=.5;geometry=new THREE.Geometry;geometry.vertices.push(new THREE.Vector3(-c,-c,-c),new THREE.Vector3(-c,c,-c),new THREE.Vector3(-c,c,-c),new THREE.Vector3(c,c,-c),new THREE.Vector3(c,c,-c),new THREE.Vector3(c,-c,-c),new THREE.Vector3(c,-c,-c),new THREE.Vector3(-c,-c,-c),new THREE.Vector3(-c,-c,c),new THREE.Vector3(-c,c,c),new THREE.Vector3(-c,c,c),new THREE.Vector3(c,c,c),new THREE.Vector3(c,c,c),new THREE.Vector3(c,-c,c),new THREE.Vector3(c,-c,c),new THREE.Vector3(-c,
-c,c),new THREE.Vector3(-c,-c,-c),new THREE.Vector3(-c,-c,c),new THREE.Vector3(-c,c,-c),new THREE.Vector3(-c,c,c),new THREE.Vector3(c,c,-c),new THREE.Vector3(c,c,c),new THREE.Vector3(c,-c,-c),new THREE.Vector3(c,-c,c));return geometry};
engine3D["new"]=function(c){0===c&&(animateStop(),scene3D=new THREE.Scene,scene3DRoofContainer=new THREE.Object3D,scene3DHouseContainer=new THREE.Object3D,scene3DHouseGroundContainer=new THREE.Object3D,scene3DHouseFXContainer=new THREE.Object3D,scene3DLevelGroundContainer=new THREE.Object3D,scene3DLevelWallContainer=new THREE.Object3D,skyMesh=new THREE.Object3D,skyFloorMesh=new THREE.Object3D,engine3D.fontLoader=new THREE.FontLoader,engine3D.enableOrbitControls(camera3D,renderer.domElement),engine3D.initPostprocessing());
scene3DFloorFurnitureContainer[c]=new THREE.Object3D;scene3DFloorMeasurementsContainer[c]=new THREE.Object3D;scene3DFloorWallContainer[c]=new THREE.Object3D;scene3DFloorShapeContainer[c]=new THREE.Object3D;scene3DCeilingShapeContainer[c]=new THREE.Object3D;scene3DFloorShapeTextures[c]=[];scene3DCeilingShapeTextures[c]=[];scene3DWallInteriorTextures[c]=[];scene3DWallExteriorTextures[c]=[]};
engine3D.open=function(c){var b=0;c.file("scene3DFloorContainer.json").async("string").then(function(c){$.each(JSON.parse(c),function(c){engine3D["new"](b);$.each(this,function(c){c=null;void 0!==this.note&&(c=this.note);void 0!==this.file&&engine3D.open3DModel(this.file,scene3DFloorFurnitureContainer[b],this["position.x"],this["position.y"],this["position.z"],this["rotation.x"],this["rotation.y"],1,!0,c);void 0!==this.floor&&scene3DFloorShapeTextures[b].push(this.floor);void 0!==this.ceiling&&scene3DCeilingShapeTextures[b].push(this.ceiling)});
b++})});c.file("scene3DTerrain.json").async("string").then(function(c){$.each(JSON.parse(c),function(c){engine3D.open3DModel(this.file,scene3DHouseGroundContainer,this["position.x"],this["position.y"],this["position.z"],this["rotation.x"],this["rotation.y"],1,!0,null)})});c.file("scene3DHouseContainer.json").async("string").then(function(c){$.each(JSON.parse(c),function(c){engine3D.open3DModel(this.file,scene3DHouseContainer,this["position.x"],this["position.y"],this["position.z"],this["rotation.x"],
this["rotation.y"],1,!0,null)})});c.file("scene3DRoofContainer.json").async("string").then(function(c){$.each(JSON.parse(c),function(c){engine3D.open3DModel(this.file,scene3DRoofContainer,this["position.x"],this["position.y"],this["position.z"],this["rotation.x"],this["rotation.y"],1,!0,null)})})};engine3D=window.engine3D||{};
engine3D.initPanorama=function(c,b,e,f){scene3DPanorama=new THREE.Scene;camera3DPanorama=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,1,1E3);rendererPanorama=new THREE.WebGLRenderer({devicePixelRatio:window.devicePixelRatio||1,antialias:!1});rendererPanorama.setSize(window.innerWidth*e,window.innerHeight*f);document.getElementById(c).appendChild(rendererPanorama.domElement);document.addEventListener("mousedown",onPanoramaMouseDown,!1);document.addEventListener("mousewheel",onPanoramaMouseWheel,
!1);document.addEventListener("touchstart",onPanoramaTouchStart,!1);document.addEventListener("touchmove",onPanoramaTouchMove,!1);document.getElementById(c).appendChild(spinner);engine3D.buildPanorama(scene3DPanorama,b,1024,1024,1024,"_",null);document.getElementById(c).removeChild(spinner);$("#"+c).show();animatePanorama()};
engine3D.buildPanorama=function(c,b,e,f,k,m,q){if(!(0<c.children.length)){var t=["panoramas/"+b+"/"+m+"right.jpg","panoramas/"+b+"/"+m+"left.jpg","panoramas/"+b+"/"+m+"top.jpg","panoramas/"+b+"/"+m+"bottom.jpg","panoramas/"+b+"/"+m+"front.jpg","panoramas/"+b+"/"+m+"back.jpg"],t=[new THREE.MeshBasicMaterial({map:textureLoader.load("panoramas/"+b+"/_right.jpg"),side:THREE.BackSide}),new THREE.MeshBasicMaterial({map:textureLoader.load("panoramas/"+b+"/_left.jpg"),side:THREE.BackSide}),new THREE.MeshBasicMaterial({map:textureLoader.load("panoramas/"+
b+"/_top.jpg"),side:THREE.BackSide}),new THREE.MeshBasicMaterial({map:textureLoader.load("panoramas/"+b+"/_bottom.jpg"),side:THREE.BackSide}),new THREE.MeshBasicMaterial({map:textureLoader.load("panoramas/"+b+"/_front.jpg"),side:THREE.BackSide}),new THREE.MeshBasicMaterial({map:textureLoader.load("panoramas/"+b+"/_back.jpg"),side:THREE.BackSide})];e=new THREE.BoxGeometry(e,f,k);q=new THREE.Mesh(e,new THREE.MultiMaterial(t));c.add(q);textureLoader.load("panoramas/"+b+"/right.jpg",function(c){t[0].map=
c});textureLoader.load("panoramas/"+b+"/left.jpg",function(c){t[1].map=c});textureLoader.load("panoramas/"+b+"/top.jpg",function(c){t[2].map=c});textureLoader.load("panoramas/"+b+"/bottom.jpg",function(c){t[3].map=c});textureLoader.load("panoramas/"+b+"/front.jpg",function(c){t[4].map=c});textureLoader.load("panoramas/"+b+"/back.jpg",function(c){t[5].map=c})}};
function onPanoramaMouseDown(c){c.preventDefault();document.addEventListener("mousemove",onPanoramaMouseMove,!1);document.addEventListener("mouseup",onPanoramaMouseUp,!1)}function onPanoramaMouseMove(c){var b=c.movementY||c.mozMovementY||0;mouse.x-=.1*(c.movementX||c.mozMovementX||0);mouse.y+=.1*b}function onPanoramaMouseUp(c){document.removeEventListener("mousemove",onPanoramaMouseMove);document.removeEventListener("mouseup",onPanoramaMouseUp)}
function onPanoramaMouseWheel(c){c.wheelDeltaY?camera3DPanorama.fov-=.05*c.wheelDeltaY:c.wheelDelta?camera3DPanorama.fov-=.05*c.wheelDelta:c.detail&&(camera3DPanorama.fov+=1*c.detail);camera3DPanorama.updateProjectionMatrix()}function onPanoramaTouchStart(c){c.preventDefault();c=c.touches[0];touch.x=c.screenX;touch.y=c.screenY}function onPanoramaTouchMove(c){c.preventDefault();c=c.touches[0];mouse.x-=.1*(c.screenX-touch.x);mouse.y+=.1*(c.screenY-touch.y);touch.x=c.screenX;touch.y=c.screenY}
function disposePanorama(c){rendererPanorama instanceof THREE.WebGLRenderer&&(document.removeEventListener("mousedown",onPanoramaMouseDown,!1),document.removeEventListener("mousewheel",onPanoramaMouseWheel,!1),document.removeEventListener("touchstart",onPanoramaTouchStart,!1),document.removeEventListener("touchmove",onPanoramaTouchMove,!1),document.getElementById(c).removeChild(rendererPanorama.domElement));$("#"+c).hide();scene3DPanorama=camera3DPanorama=rendererPanorama=null};var engine3D=window.engine3D||{},plots_x=20,plots_y=20,plot_vertices=2,map_left=plots_x/-2,map_top=plots_y/-2,terrain3DMouse={x:0,y:0,vertex:{x:null,y:null}},verticeIndex=function(c){return c.x+c.y*(plots_x*plot_vertices+1)},findLattices=function(){return function(c,b){var e=[],f,k,m;f=[0];k=0;m=[];for(var q,t,h;k<=c;){for(yieldable=[];;){q=[];for(t=0;t<k+1;t++)h=f[t],Math.pow(t,2)+Math.pow(h,2)<=Math.pow(k,2)&&(q.push({x:t,y:h}),f[t]+=1);if(0===q.length)break;m=m.concat(q)}k+=1;f.push(0)}for(f=0;f<
m.length;f++)k=m[f],e.push(k),0!==k.x&&e.push({x:-k.x,y:k.y}),0!==k.y&&e.push({x:k.x,y:-k.y}),k.x&&k.y&&e.push({x:-k.x,y:-k.y});for(f=0;f<e.length;f++)e[f].x+=b.x,e[f].y+=b.y;return e}}(),landscape=new function(){var c=null;this.select=function(b){c=b};this.onmousemove=function(){if(!controls3D.enabled){var b=findLattices(3*plot_vertices,terrain3DMouse.vertex);this.tools[c](3*plot_vertices,b);for(var e,f=0;f<b.length;f++)e=verticeIndex(b[f]),6<terrain3D.displacement.array[e]&&(terrain3D.displacement.array[e]=
6),-5>terrain3D.displacement.array[e]&&(terrain3D.displacement.array[e]=-5),terrain3D.water.displacement.array[e]=terrain3D.displacement.array[e];terrain3D.water.displacement.needsUpdate=!0}};this.tools={hill:function(c,e){var b,k,m;for(b=0;b<e.length;b++)k=e[b],0>k.x||0>k.y||k.x>=plots_x*plot_vertices+1||k.y>=plots_y*plot_vertices+1||(m=verticeIndex(k),k=Math.sqrt(Math.pow(terrain3DMouse.vertex.x-k.x,2)+Math.pow(terrain3DMouse.vertex.y-k.y,2)),terrain3D.displacement.array[m]+=.03*Math.pow(c-k,.5),
terrain3D.displacement.needsUpdate=!0)},valley:function(c,e){var b,k,m;for(b=0;b<e.length;b++)k=e[b],0>k.x||0>k.y||k.x>=plots_x*plot_vertices+1||k.y>=plots_y*plot_vertices+1||(m=verticeIndex(k),k=Math.sqrt(Math.pow(terrain3DMouse.vertex.x-k.x,2)+Math.pow(terrain3DMouse.vertex.y-k.y,2)),terrain3D.displacement.array[m]-=.03*Math.pow(c-k,.5),terrain3D.displacement.needsUpdate=!0)}}};function Degrees2Radians(c){return Math.PI/180*c}
function scene3DLandscapeGetHeightData(c,b){void 0===b&&(b=1);var e=document.createElement("canvas");e.width=c.width;e.height=c.height;var f=e.getContext("2d"),k=c.width*c.height,e=new Float32Array(k);f.drawImage(c,0,0);for(var m=0;m<k;m++)e[m]=0;f=f.getImageData(0,0,c.width,c.height).data;for(m=k=0;m<f.length;m+=4){var q=f[m]+f[m+1]+f[m+2];e[k++]=q/(12*b)}return e}
engine3D.initTerrainGround=function(){$.ajax({url:"shaders/ground.vertex.fx",beforeSend:function(c){c.overrideMimeType("text/plain; charset=x-shader/x-vertex")},success:function(c){$.ajax({url:"shaders/ground.fragment.fx",beforeSend:function(c){c.overrideMimeType("text/plain; charset=x-shader/x-fragment")},success:function(b){terrain3DMaterial=new THREE.ShaderMaterial({uniforms:{texture_grass:{type:"t",value:textureLoader.load("objects/Landscape/Textures/G36096.jpg")},texture_bare:{type:"t",value:textureLoader.load("objects/Landscape/Textures/F46734.jpg")},
texture_snow:{type:"t",value:textureLoader.load("objects/Landscape/Textures/F46734.jpg")},show_ring:{type:"i",value:!0},ring_width:{type:"f",value:.15},ring_color:{type:"v4",value:new THREE.Vector4(1,0,0,1)},ring_center:{type:"v3",value:new THREE.Vector3},ring_radius:{type:"f",value:1.6}},vertexShader:c,fragmentShader:b});var e=new THREE.PlaneBufferGeometry(plots_x,plots_y,plots_x*plot_vertices,plots_y*plot_vertices);b=new THREE.Float32BufferAttribute(1*e.attributes.position.count,1);e.addAttribute("displacement",
b);terrain3D=new THREE.Mesh(e,terrain3DMaterial);terrain3D.displacement=e.attributes.displacement;terrain3D.displacement.dynamic=!0;terrain3D.rotation.x=-Math.PI/2;$.ajax({url:"shaders/water.vertex.fx",beforeSend:function(c){c.overrideMimeType("text/plain; charset=x-shader/x-vertex")},success:function(c){$.ajax({url:"shaders/water.fragment.fx",beforeSend:function(c){c.overrideMimeType("text/plain; charset=x-shader/x-fragment")},success:function(b){terrain3D.water=new THREE.Mesh(e,new THREE.ShaderMaterial({uniforms:{water_level:{type:"f",
value:-1},time:{type:"f",value:0}},vertexShader:c,fragmentShader:b,transparent:!0}));terrain3D.water.displacement=e.attributes.displacement;terrain3D.water.displacement.dynamic=!0;terrain3D.water.position.z=-1;terrain3D.add(terrain3D.water)}})}})}})}})};
engine3D.initTerrainClouds=function(){weatherSkyCloudsMesh=new THREE.Mesh;weatherSkyRainbowMesh=new THREE.Mesh;$.ajax({url:"shaders/clouds.vertex.fx",beforeSend:function(c){c.overrideMimeType("text/plain; charset=x-shader/x-vertex")},success:function(c){$.ajax({url:"shaders/clouds.fragment.fx",beforeSend:function(c){c.overrideMimeType("text/plain; charset=x-shader/x-fragment")},success:function(b){var e=new THREE.Fog(4555956,-100,1E3);weatherSkyMaterial=new THREE.ShaderMaterial({uniforms:{map:{type:"t"},
fogColor:{type:"c",value:e.color},fogNear:{type:"f",value:e.near},fogFar:{type:"f",value:e.far}},vertexShader:c,fragmentShader:b,depthWrite:!1,depthTest:!1,transparent:!0});weatherSkyGeometry=new THREE.Geometry;b=new THREE.Mesh(new THREE.PlaneGeometry(4,4));for(e=0;20>e;e++)b.position.x=getRandomInt(-20,20),b.position.y=getRandomInt(5.5,10),b.position.z=e,b.rotation.z=getRandomInt(5,10),b.scale.x=b.scale.y=getRandomInt(.5,1),b.updateMatrix(),weatherSkyGeometry.merge(b.geometry,b.matrix);engine3D.setWeather();
engine3D.initSunlight()}})}})};function getRandomInt(c,b){return Math.floor(Math.random()*(b-c+1))+c}engine3D.initTerrainWater=function(){};engine3D=window.engine3D||{};
engine3D.makeWalls=function(){for(var c=0;c<scene2DWallGroup.length;c++)if(scene3DFloorWallContainer[c]=new THREE.Object3D,void 0!==scene2DWallGroup[c].children[0]){console.log("3D Wall Generate ["+c+"] "+scene2DWallGroup[c].children.length);for(var b=0;b<scene2DWallGroup[c].children.length;b++){var e=scene2DWallGroup[c].children[b].children[0].children[0],f=e.segments[0].point.x/100*2-1,k=2*-(e.segments[0].point.y/100)+1,m=(e.segments[0].point.x+e.segments[1].point.x)/2/100*2-1,q=-((e.segments[0].point.y+
e.segments[1].point.y)/2)/100*2+1,t=e.segments[1].point.x/100*2-1,e=2*-(e.segments[1].point.y/100)+1,f=Math.round(f-13),k=Math.round(k+7),m=Math.round(m-13),q=Math.round(q+7),t=Math.round(t-13),e=Math.round(e+7);console.log("x1:"+f+" y1:"+k+" x2:"+t+" y2:"+e+" cx:"+m+" cy:"+q);var h=new THREE.Shape;h.moveTo(f,k);h.quadraticCurveTo(m,q,t,e);h.moveTo(t,e);h.quadraticCurveTo(m,q,f,k);f=new THREE.ExtrudeGeometry(h,{amount:4,bevelEnabled:!1});f.computeBoundingBox();k=new THREE.MeshLambertMaterial({map:scene3DWallInteriorTextureDefault,
transparent:!0,opacity:.6});f=new THREE.Mesh(f,k);f.rotation.x=-(90*RADIAN);f.position.y=0;scene3DFloorWallContainer[c].add(f)}}};engine3D=window.engine3D||{};
engine3D.initSunlight=function(){if(settings.sunlight){new THREE.Vector3(0,10,-10);new THREE.MeshDepthMaterial;new THREE.Vector3;sunlight.scene=new THREE.Scene;sunlight.camera=new THREE.OrthographicCamera(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,-1E4,1E4);sunlight.camera.position.z=50;sunlight.scene.add(sunlight.camera);var c={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat};sunlight.rtTextureColors=new THREE.WebGLRenderTarget(window.innerWidth,
window.innerHeight,c);sunlight.rtTextureDepth=new THREE.WebGLRenderTarget(window.innerWidth,window.innerHeight,c);var b=window.innerWidth/4,e=window.innerHeight/4;sunlight.rtTextureGodRays1=new THREE.WebGLRenderTarget(b,e,c);sunlight.rtTextureGodRays2=new THREE.WebGLRenderTarget(b,e,c);c=THREE.ShaderGodRays.godrays_generate;sunlight.godrayGenUniforms=THREE.UniformsUtils.clone(c.uniforms);sunlight.materialGodraysGenerate=new THREE.ShaderMaterial({uniforms:sunlight.godrayGenUniforms,vertexShader:c.vertexShader,
fragmentShader:c.fragmentShader});c=THREE.ShaderGodRays.godrays_combine;sunlight.godrayCombineUniforms=THREE.UniformsUtils.clone(c.uniforms);sunlight.materialGodraysCombine=new THREE.ShaderMaterial({uniforms:sunlight.godrayCombineUniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader});c=THREE.ShaderGodRays.godrays_fake_sun;sunlight.godraysFakeSunUniforms=THREE.UniformsUtils.clone(c.uniforms);sunlight.materialGodraysFakeSun=new THREE.ShaderMaterial({uniforms:sunlight.godraysFakeSunUniforms,
vertexShader:c.vertexShader,fragmentShader:c.fragmentShader});sunlight.godraysFakeSunUniforms.bgColor.value.setHex(1297);sunlight.godraysFakeSunUniforms.sunColor.value.setHex(16772608);sunlight.godrayCombineUniforms.fGodRayIntensity.value=.4;sunlight.quad=new THREE.Mesh(new THREE.PlaneBufferGeometry(window.innerWidth,window.innerHeight),sunlight.materialGodraysGenerate);sunlight.quad.position.z=-9900;sunlight.scene.add(sunlight.quad)}};
engine3D.setWeather=function(){scene3D.remove(weatherSkyCloudsMesh);scene3D.remove(weatherSkyRainbowMesh);if("day"==DAY){if(settings.clouds&&(texture=textureLoader.load("images/cloud.png"),weatherSkyMaterial.uniforms.map.value=texture,weatherSkyCloudsMesh=new THREE.Mesh(weatherSkyGeometry,weatherSkyMaterial),scene3D.add(weatherSkyCloudsMesh)),settings.rainbow){texture=textureLoader.load("images/rainbow.png");var c=weatherSkyMaterial.clone();c.uniforms=THREE.UniformsUtils.clone(weatherSkyMaterial.uniforms);
c.uniforms.map.value=texture;geometry=new THREE.Geometry;var b=new THREE.Mesh(new THREE.PlaneGeometry(18,18));b.position.x=getRandomInt(1,15);b.position.y=getRandomInt(5,8);b.position.z=-2;b.updateMatrix();geometry.merge(b.geometry,b.matrix);weatherSkyRainbowMesh=new THREE.Mesh(geometry,c);scene3D.add(weatherSkyRainbowMesh)}}else"night"==DAY&&settings.clouds&&(texture=textureLoader.load("images/cloud2.png"),texture.magFilter=THREE.LinearFilter,texture.minFilter=THREE.LinearFilter,weatherSkyMaterial.uniforms.map.value=
texture,weatherSkyCloudsMesh=new THREE.Mesh(weatherSkyGeometry,weatherSkyMaterial),scene3D.add(weatherSkyCloudsMesh))};engine3D.setSky=function(c){if(skyMesh.name!=c){var b="0000";"day"==c?b=settings.panorama_day:"night"==c&&(b=settings.panorama_night);skyMesh=new THREE.Object3D;engine3D.buildPanorama(skyMesh,b,75,75,75,"",null);skyMesh.position.y=5;skyMesh.name=c}};engine3D.setSkyEffects=function(){};var engineGUI=window.engineGUI||{};
$(document).ready(function(){var c=45*Math.PI/180,b=$("#WebGLInteractiveMenu").width()/2,e="Move Horizontaly;Info;Duplicate;Resize;Textures;Rotate;Remove;Object Notes".split(";"),f="engine3D.enableTransformControls('translate')   engine3D.enableTransformControls('scale') toggleTextureSelect() engine3D.enableTransformControls('rotate') scene3DObjectSelectRemove() camera3DNoteAdd()".split(" "),k=$("<div class='rect'></div>").hide().appendTo("body"),m=$(".rect").width()/2;k.remove();for(k=0;8>k;k++){var q=
k+1;$("#WebGLInteractiveMenu").append('<div class="rect tooltip-top" title="'+e[k]+'" id="icn'+q+'" onclick="'+f[k]+'"></div>');var t=b*Math.cos(c*k-Math.PI/2)+b-m,h=b*Math.sin(-c*k+Math.PI/2)+b-m;$("#icn"+q).css({"background-image":'url("images/hicn'+q+'.png")',"-webkit-animation-delay":"2s","animation-delay":"2s"});$("#icn"+q).animate({left:t,bottom:h},"slow")}$("#icn1").addClass("active");$(".rect").click(function(c){c.preventDefault();$(".active").removeClass("active");$(this).addClass("active");
$(this).attr("id").substr(3)});$(".tooltip-share-menu").tooltipster({interactive:!0,content:$('<a href="#" onclick="" class="hi-icon icon-html tooltip" title="Embed 3D Scene in Your Website" style="color:white"></a><br/><a href="#" class="hi-icon icon-print" style="color:white"></a><br/><a href="#" class="hi-icon icon-email" style="color:white"></a>')});$(".tooltip-save-menu").tooltipster({interactive:!0,content:$('<a href="#openLogin" onclick="engineGUI.save(true);" class="hi-icon icon-earth" style="color:white"></a><br/><a href="#openSaving" onclick="engineGUI.save(false);" class="hi-icon icon-usb" style="color:white"></a>')});
$(".tooltip-open-menu").tooltipster({interactive:!0,content:$('<a href="#openLogin" onclick="engineGUI.save(true);" class="hi-icon icon-earth" style="color:white"></a><br/><a href="#openSaving" onclick="fileSelect(\'opendesign\')" class="hi-icon icon-usb" style="color:white"></a>')});$(".tooltip-tools-menu").tooltipster({interactive:!0,content:$('<a href="#" onclick="makeScreenshot()" class="hi-icon icon-screenshot" style="color:white"></a><br/><a href="#" onclick="screenfull.request(document.documentElement)" class="hi-icon icon-expand" style="color:white"></a>')});
$(".tooltip").tooltipster({animation:"fade",delay:200,theme:"tooltipster-default",touchDevices:!1,trigger:"hover",position:"bottom",contentAsHTML:!0});$("#menu2DTools").tooltipster({theme:"tooltipster-light",trigger:"custom",touchDevices:!0,interactive:!0,contentAsHTML:!0,content:""});$("#WebGLSelectMenu").tooltipster({theme:"tooltipster-light",trigger:"custom",touchDevices:!0,delay:0,interactive:!0,position:"top",contentAsHTML:!0,content:""});$(".tooltip-right").tooltipster({animation:"fade",delay:200,
theme:"tooltipster-default",touchDevices:!1,trigger:"hover",position:"right"});$(".tooltip-top").tooltipster({animation:"fade",delay:200,theme:"tooltipster-default",touchDevices:!1,trigger:"hover",position:"top",contentAsHTML:!0});$(".cssmenu ul ul li:odd").addClass("odd");$(".cssmenu ul ul li:even").addClass("even");$(".cssmenu > ul > li > a").click(function(c){engineGUI.menuItemClick(this)});$("#menuTop p").click(function(){$(this).hide().after('<input type="text" class="editP" value="'+$(this).html()+
'" size="10" />');$(".editP").focus()});$(".editP").bind("blur",function(){$(this).hide().prev("#menuTop p").html($(this).val()).show()});stroll.bind(".cssmenu ul");$("#pxs_container").parallaxSlider()});
engineGUI.initMenu=function(c,b){b="database"==RUNMODE?"php/objects.php?menu="+b.split("/").shift():"objects/"+b;$.ajax(b,{dataType:"json",success:function(b){var e=$("#"+c+" .scroll");e.empty();$.each(b.menu,function(){e.append(engineGUI.menuGetItem(this))});$("#"+c+" .cssmenu > ul > li > a").click(function(c){engineGUI.menuItemClick(this)})},error:function(c,f,k){alertify.alert("Menu ("+b+") Loading Error")}});engineGUI.menuCorrectHeight();$("#"+c).show()};
engineGUI.menuSelect=function(c,b,e){if(null===c)for(c=0;6>=c;c++)$("#"+b+c).css("color","black");else engineGUI.menuSelect(null,b,e),$("#"+b+c).css("color",e)};
engineGUI.showRightObjectMenu=function(c){c="database"==RUNMODE?"php/objects.php?objects="+c:"objects/"+c+"/index.json";var b=$("#menuRightObjects .scroll");$("#menuRight3DHouse").hide();$("#menuRight3DFloor").hide();$("#menuRight3DRoof").hide();$("#menuRight2D").hide();$("#menuRightObjects").show();$.ajax(c,{dataType:"json",success:function(c){b.empty();try{$.each(c.menu,function(){0<Object.keys(c.menu).length?getMenuObjectItem(b,this):b.append("<li><span style='margin-let:auto;text-align:center;padding:20px'>No Objects In This Category</span></li>")})}catch(f){b.append("<li><span style='margin-let:auto;text-align:center;padding:20px'>No Objects In This Category</span></li>")}}})};
engineGUI.showRightCatalogMenu=function(){"house"==SCENE?$("#menuRight3DHouse").show():"floor"==SCENE&&$("#menuRight3DFloor").show();$("#menuRightObjects").hide();$("#menuRightObjects .scroll").empty()};engineGUI.toggleSideMenus=function(c){engineGUI.menuToggleRight("menuRight",c);"house"==SCENE?engineGUI.menuToggleLeft("menuLeft3DHouse",c):"floor"==SCENE&&engineGUI.menuToggleLeft("menuLeft3DFloor",c)};
engineGUI.menuToggleRight=function(c,b){var e=document.getElementById(c),f=document.getElementById("arrow-right");e.getAttribute("class");0<=f.src.indexOf("images/arrowleft.png")||b?(e.style.display="block",e.setAttribute("class","show-right"),engineGUI.menuDelay(f,"images/arrowright.png",400)):b||(e.setAttribute("class","hide-right"),engineGUI.menuDelay(f,"images/arrowleft.png",400))};
engineGUI.menuToggleLeft=function(c,b){var e=document.getElementById(c),f=document.getElementById("arrow-left");e.getAttribute("class");0<=f.src.indexOf("images/arrowright.png")||b?(e.style.display="block",e.setAttribute("class",c+"-show-left"),engineGUI.menuDelay(f,"images/arrowleft.png",400)):b||(e.setAttribute("class","hide-left"),engineGUI.menuDelay(f,"images/arrowright.png",400))};engineGUI.menuDelay=function(c,b,e){window.setTimeout(function(){c.setAttribute("src",b)},e)};
engineGUI.menuItemClick=function(c){$(".cssmenu > ul > li").removeClass("active");$(c).closest("li").addClass("active");var b=$(c).next();b.is("ul")&&b.is(":visible")&&($(c).closest("li").removeClass("active"),b.slideUp("normal"));b.is("ul")&&!b.is(":visible")&&($(".cssmenu ul ul:visible").slideUp("normal"),b.slideDown("normal"));return 0==$(c).closest("li").find("ul").children().length?!0:!1};
engineGUI.menuGetItem=function(c,b){var e="<li";c.sub?e+=" class='has-sub'":b&&(e+=" class='last-child'");var f="<a",f=null!=c.link?f+(" href=\"javascript:engineGUI.showRightObjectMenu('"+c.link+"');\""):f+' href="#"',f=f+(">"+c.name+"</a>"),e=$(e+">").append(f);if(c.sub){var k=$("<ul>");$.each(c.sub,function(b){b==c.sub.length-1?k.append(engineGUI.menuGetItem(this,!0)):k.append(engineGUI.menuGetItem(this,!1))});e.append(k)}return e};
function getMenuObjectItem(c,b){var e=$("<img>",{id:b.name,src:"images/loader.gif",href:"#","data-src":b.image,"data-src-retina":b.image.slice(0,-4)+"@2x."+b.image.split(".").pop(),style:"opacity: 0;transition: opacity .3s ease-in;height:100%"}),f=$("<a>",{href:"javascript:insertSceneObject('"+b.file+"')"}).append(e),f=$("<li style='border:1px solid #aaa;text-align:center'>").append($("<div style='background-color:#fff;height:120px'>").append(f).append("<span class='objectItemInfo' style='height:40px'>"));
c.append(f);$(e).unveil(200,function(){$(this).load(function(){this.style.opacity=1})})}
engineGUI.menuCorrectHeight=function(){var c=window.innerHeight-250,b;if("house"==SCENE)$("#menuRight3DHouse .cssmenu").height(),b=$("#menuRight2D .cssmenu");else if("floor"==SCENE)$("#menuRight3DFloor .cssmenu").height(),b=$("#menuRight2D .cssmenu");else if("roof"==SCENE)$("#menuRight3DRoof .cssmenu").height(),b=$("#menuRight2D .cssmenu");else if("2d"==SCENE)$("#menuRight2D .cssmenu").height(),b=$("#menuRight2D .cssmenu");else return;$("#menuRightObjects .scroll").css("height",c);b.height()<c?b.css("height",
"100%"):b.css("height",c)};engineGUI.selectFloor=function(c){c=FLOOR+c;c<FLOOR?"floor"==SCENE?engine3D.showFloor(c):"2d"==SCENE&&engine2D.showFloor(c):alertify.confirm("Add New Floor?",function(c){c&&("floor"==SCENE?engine3D.newFloor("New Floor"):"2d"==SCENE&&engine2D.newFloor("New Floor"))})};function selectMeasurement(){REALSIZERATIO=1.8311874==REALSIZERATIO?1:1.8311874}engineGUI.sceneMapBox=function(){};engineGUI.makeScreenshot=function(){getScreenshotData=!0};
engineGUI.addNewFloor=function(){if($("#addNewFloor").val()){engine3D.newFloor($("#addNewFloor").val());var c="<a href='#' onclick='camera3DFloorFlyIn("+scene3DFloorFurnitureContainer.length+")'><span>"+$("#addNewFloor").val()+"</span></a>",c=$("<li>").append(c);$("#menuLeft3DHouseFloorList").append(c)}};
engineGUI.generateItemList=function(){$("#generateItemList").empty();for(var c=0;c<scene3DFloorFurnitureContainer.length;c++){console.log(scene3DFloorFurnitureContainer[c].name);for(var b=0;b<scene3DFloorFurnitureContainer[c].children.length;b++)console.log(scene3DFloorFurnitureContainer[c].children[b].children[0].name)}for(c=0;c<scene3DHouseContainer.children.length;c++)console.log(scene3DHouseContainer.children[c].children[0].name)};engineGUI.exportPDF=function(){};var Alertify=function(c,b){var e,f=c.document;e=function(){function c(c){"undefined"!=typeof n&&c.parentNode===n&&n.removeChild(c)}var e,q,t,h,n,g,v,B=!1,z=[],x=!1,w={defaultOkLabel:"Ok",okLabel:this.defaultOkLabel,defaultCancelLabel:"Cancel",cancelLabel:this.defaultCancelLabel,defaultMaxLogItems:2,maxLogItems:this.defaultMaxLogItems,promptValue:"",promptPlaceholder:"",delay:5E3,defaultDelay:5E3,transition:b,addListeners:function(c,b){var e="undefined"!=typeof t,h="undefined"!=typeof q,f=this,k=function(){f.hide();
e&&t.removeEventListener("click",n);h&&q.removeEventListener("click",m)},n=function(b){k(b);"function"==typeof c&&("undefined"==typeof g?c(b):c(g.value,b))},m=function(c){k(c);"function"==typeof b&&b(c)};e&&t.addEventListener("click",n);h&&q.addEventListener("click",m)},build:function(c){var b=(c.cssClass||"","<button class='alertify-button alertify-button-ok' id='alertify-ok'>{{ok}}</button>"),e="<div class='alertify-dialog'><div class='alertify-inner'>"+"<p class='alertify-message'>{{message}}</p>".replace("{{message}}",
c.message);return("confirm"===c.type||"prompt"===c.type)&&(b="<button class='alertify-button alertify-button-cancel' id='alertify-cancel'>{{cancel}}</button><button class='alertify-button alertify-button-ok' id='alertify-ok'>{{ok}}</button>"),"prompt"===c.type&&(e+="<div class='alertify-text-wrapper'><input type='text' class='alertify-text' id='alertify-text'></div>"),e=(e+"<nav class='alertify-buttons'>{{buttons}}</nav></div></div>").replace("{{buttons}}",b).replace("{{ok}}",this.okLabel).replace("{{cancel}}",
this.cancelLabel),h.className="alertify",e},closeLogOnClick:!1,closeLogOnClickDefault:!1,setCloseLogOnClick:function(c){this.closeLogOnClick=!!c},close:function(b,e){var g,h,f=e&&!isNaN(e)?+e:this.delay,k=this;this.closeLogOnClick&&b.addEventListener("click",function(){g(b)});h=function(b){b.stopPropagation();this.removeEventListener(k.transition.type,h);c(this)};g=function(b){var e=1;"undefined"!=typeof b&&b.parentNode===n&&(k.transition.supported&&(b.addEventListener(k.transition.type,h),b.className+=
" alertify-log-hide",e=500),setTimeout(function(){c(b)},e||1))};0!==e&&setTimeout(function(){g(b)},f)},dialog:function(c,b,e,g){this.init();z.push({type:b,message:c,onOkay:e,onCancel:g});B||this.setup()},hide:function(){var c,b=this;z.splice(0,1);0<z.length?this.setup(!0):(B=!1,c=function(e){e.stopPropagation();h.removeEventListener(b.transition.type,c)},this.transition.supported&&h.addEventListener(this.transition.type,c),h.className="alertify alertify-hide alertify-hidden")},init:function(){this.injectCss();
null===f.getElementById("alertify")&&(B=!1,z=[],h=f.createElement("div"),h.setAttribute("id","alertify"),h.className="alertify alertify-hidden",f.body.appendChild(h));null===f.getElementById("alertify-logs")&&(n=f.createElement("div"),n.setAttribute("id","alertify-logs"),n.className="alertify-logs",f.body.appendChild(n));if(!v){var c=f.createElement("fakeelement"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},g;for(g in e)if(e.hasOwnProperty(g)&&
c.style[g]!==b){v=e[g];x=!0;break}}this.transition={type:v,supported:x}},log:function(c,b,e){this.init();n.className="alertify-logs";var g=n.childNodes.length-this.maxLogItems;if(0<=g)for(var h=0,g=g+1;g>h;h++)this.close(n.childNodes[h],1);this.notify(c,b,e)},notify:function(c,b,e){var g=f.createElement("div");g.className="alertify-log alertify-log-"+(b||"default");g.innerHTML=c;"function"==typeof e&&g.addEventListener("click",e);n.appendChild(g);setTimeout(function(){g.className+=" alertify-log-show"},
50);this.close(g,this.delay)},setup:function(c){var e=z[0],k=this,n=function(c){h.removeEventListener(k.transition.type,n)};B=!0;this.transition.supported&&!c&&h.addEventListener(this.transition.type,n);h.innerHTML=this.build(e);t=f.getElementById("alertify-ok")||b;q=f.getElementById("alertify-cancel")||b;g=f.getElementById("alertify-text")||b;f.getElementById("alertify-form");g&&("string"==typeof this.promptPlaceholder&&(g.placeholder=this.promptPlaceholder),"string"==typeof this.promptValue&&(g.value=
this.promptValue));this.addListeners(e.onOkay,e.onCancel)},okBtn:function(c){return this.okLabel=c,this},setDelay:function(c){var b=parseInt(c||0,10);return this.delay=isNaN(b)?this.defultDelay:c,this},cancelBtn:function(c){return this.cancelLabel=c,this},setMaxLogItems:function(c){this.maxLogItems=parseInt(c||this.defaultMaxLogItems)},reset:function(){this.okBtn(this.defaultOkLabel);this.cancelBtn(this.defaultCancelLabel);this.setMaxLogItems();this.promptPlaceholder=this.promptValue="";this.delay=
this.defaultDelay;this.setCloseLogOnClick(this.closeLogOnClickDefault)},injectCss:function(){if(!e){var c=f.getElementsByTagName("head")[0],b=f.createElement("style");b.type="text/css";b.innerHTML=".alertify,.alertify *,.alertify-button{box-sizing:border-box}.alertify{font-family:inherit;position:fixed;background-color:rgba(0,0,0,.6);left:0;right:0;top:0;bottom:0;width:100%;height:100%;z-index:99999}.alertify .alertify-alert,.alertify .alertify-dialog{width:100%;margin:0 auto;position:relative;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}.alertify .alertify-alert .alertify-inner,.alertify .alertify-dialog .alertify-inner{width:400px;max-width:95%;margin:0 auto;padding:12px;background:#fff;box-shadow:0 2px 4px -1px rgba(0,0,0,.14),0 4px 5px 0 rgba(0,0,0,.098),0 1px 10px 0 rgba(0,0,0,.084)}.alertify .alertify-buttons{text-align:right}.alertify,.alertify-hide,.alertify-log,.alertify-show{box-sizing:border-box;-webkit-transition:all .3s cubic-bezier(.25,.8,.25,1);transition:all .3s cubic-bezier(.25,.8,.25,1)}.alertify-dialog{padding:12px}.alertify-hidden{opacity:0;display:none}.alertify-logs{position:fixed;z-index:5000;bottom:0;right:0}.alertify-log{display:block;margin-top:10px;position:relative;right:-100%;opacity:0}.alertify-log-show{right:0;opacity:1}.alertify-log-hide{-webkit-transform:translate(100%,0);-ms-transform:translate(100%,0);transform:translate(100%,0);opacity:0}.alertify-inner{text-align:center}.alertify-text{margin-bottom:15px;width:100%;font-size:100%;border:1px solid #CCC;padding:12px}.alertify .alertify-message{padding:12px;margin:0;text-align:left}.alertify-button{background:0 0;color:rgba(0,0,0,.87);position:relative;outline:0;border:0;display:inline-block;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;padding:0 6px;margin:6px 8px;line-height:36px;min-height:36px;white-space:nowrap;min-width:88px;text-align:center;text-transform:uppercase;font-weight:500;font-size:14px;text-decoration:none;cursor:pointer;border-radius:2px}.alertify-button:active,.alertify-button:hover{background-color:rgba(0,0,0,.05)}.alertify-log{float:right;clear:right;background:rgba(0,0,0,.8);padding:12px 24px;color:#fff;box-shadow:0 2px 5px 0 rgba(0,0,0,.26)}.alertify-log.alertify-log-error{background:rgba(244,67,54,.8)}.alertify-log.alertify-log-success{background:rgba(76,175,80,.9)}";
c.insertBefore(b,c.firstChild);e=!0}}};return{reset:function(){return w.reset(),this},alert:function(c,b,e){return w.dialog(c,"alert",b,e),this},confirm:function(c,b,e){return w.dialog(c,"confirm",b,e),this},prompt:function(c,b,e){return w.dialog(c,"prompt",b,e),this},log:function(c,b){return w.log(c,"default",b),this},success:function(c,b){return w.log(c,"success",b),this},error:function(c,b){return w.log(c,"error",b),this},cancelBtn:function(c){return w.cancelBtn(c),this},okBtn:function(c){return w.okBtn(c),
this},delay:function(c){return w.setDelay(c),this},placeholder:function(c){return w.promptPlaceholder=c,this},defaultValue:function(c){return w.promptValue=c,this},maxLogItems:function(c){return w.setMaxLogItems(c),this},closeLogOnClick:function(c){return w.setCloseLogOnClick(!!c),this}}};"undefined"!=typeof module&&module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define(function(){return new e}):c.alertify=new e}("undefined"!=typeof window?window:{});$(function(){var c=!0,b=document.getElementById("picker"),e=b.getContext("2d"),f=new Image;f.onload=function(){e.drawImage(f,0,0,f.width,f.height)};var k="images/colorwheel1.png";switch($(b).attr("var")){case "2":k="images/colorwheel2.png";break;case "3":k="images/colorwheel3.png";break;case "4":k="images/colorwheel4.png";break;case "5":k="images/colorwheel5.png"}f.src=k;$("#picker").mousemove(function(f){if(c){var k=$(b).offset();f=e.getImageData(Math.floor(f.pageX-k.left),Math.floor(f.pageY-k.top),
1,1).data;k="rgb("+f[0]+", "+f[1]+", "+f[2]+")";$(".preview").css("backgroundColor",k);$("#rVal").val(f[0]);$("#gVal").val(f[1]);$("#bVal").val(f[2]);$("#rgbVal").val(f[0]+","+f[1]+","+f[2]);f=f[2]+256*f[1]+65536*f[0];$("#hexVal").val("#"+("0000"+f.toString(16)).substr(-6))}});$("#picker").click(function(b){c=!c});$(".preview").click(function(b){$(".colorpicker").fadeToggle("slow","linear");c=!0})});var saveAs=saveAs||function(c){if(!("undefined"===typeof c||"undefined"!==typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var b=c.document.createElementNS("http://www.w3.org/1999/xhtml","a"),e="download"in b,f=/constructor/i.test(c.HTMLElement)||c.safari,k=/CriOS\/[\d]+/.test(navigator.userAgent),m=function(b){(c.setImmediate||c.setTimeout)(function(){throw b;},0)},q=function(b){setTimeout(function(){"string"===typeof b?(c.URL||c.webkitURL||c).revokeObjectURL(b):b.remove()},4E4)},t=function(c){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?
new Blob([String.fromCharCode(65279),c],{type:c.type}):c},h=function(g,h,n){n||(g=t(g));var v=this,B="application/octet-stream"===g.type,w,F=function(){for(var c=["writestart","progress","write","writeend"],c=[].concat(c),b=c.length;b--;){var e=v["on"+c[b]];if("function"===typeof e)try{e.call(v,v)}catch(J){m(J)}}};v.readyState=v.INIT;e?(w=(c.URL||c.webkitURL||c).createObjectURL(g),setTimeout(function(){b.href=w;b.download=h;var c=new MouseEvent("click");b.dispatchEvent(c);F();q(w);v.readyState=v.DONE})):
function(){if((k||B&&f)&&c.FileReader){var b=new FileReader;b.onloadend=function(){var e=k?b.result:b.result.replace(/^data:[^;]*;/,"data:attachment/file;");c.open(e,"_blank")||(c.location.href=e);v.readyState=v.DONE;F()};b.readAsDataURL(g);v.readyState=v.INIT}else w||(w=(c.URL||c.webkitURL||c).createObjectURL(g)),B?c.location.href=w:c.open(w,"_blank")||(c.location.href=w),v.readyState=v.DONE,F(),q(w)}()},n=h.prototype;if("undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob)return function(c,
b,e){b=b||c.name||"download";e||(c=t(c));return navigator.msSaveOrOpenBlob(c,b)};n.abort=function(){};n.readyState=n.INIT=0;n.WRITING=1;n.DONE=2;n.error=n.onwritestart=n.onprogress=n.onwrite=n.onabort=n.onerror=n.onwriteend=null;return function(c,b,e){return new h(c,b||c.name||"download",e)}}}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||this.content);
"undefined"!==typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!==typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return saveAs});(function(c){c.easing.jswing=c.easing.swing;c.extend(c.easing,{def:"easeOutQuad",swing:function(b,e,f,k,m){return c.easing[c.easing.def](b,e,f,k,m)},easeInQuad:function(c,e,f,k,m){return k*(e/=m)*e+f},easeOutQuad:function(c,e,f,k,m){return-k*(e/=m)*(e-2)+f},easeInOutQuad:function(c,e,f,k,m){return 1>(e/=m/2)?k/2*e*e+f:-k/2*(--e*(e-2)-1)+f},easeInCubic:function(c,e,f,k,m){return k*(e/=m)*e*e+f},easeOutCubic:function(c,e,f,k,m){return k*((e=e/m-1)*e*e+1)+f},easeInOutCubic:function(c,e,f,k,m){return 1>
(e/=m/2)?k/2*e*e*e+f:k/2*((e-=2)*e*e+2)+f},easeInQuart:function(c,e,f,k,m){return k*(e/=m)*e*e*e+f},easeOutQuart:function(c,e,f,k,m){return-k*((e=e/m-1)*e*e*e-1)+f},easeInOutQuart:function(c,e,f,k,m){return 1>(e/=m/2)?k/2*e*e*e*e+f:-k/2*((e-=2)*e*e*e-2)+f},easeInQuint:function(c,e,f,k,m){return k*(e/=m)*e*e*e*e+f},easeOutQuint:function(c,e,f,k,m){return k*((e=e/m-1)*e*e*e*e+1)+f},easeInOutQuint:function(c,e,f,k,m){return 1>(e/=m/2)?k/2*e*e*e*e*e+f:k/2*((e-=2)*e*e*e*e+2)+f},easeInSine:function(c,e,
f,k,m){return-k*Math.cos(e/m*(Math.PI/2))+k+f},easeOutSine:function(c,e,f,k,m){return k*Math.sin(e/m*(Math.PI/2))+f},easeInOutSine:function(c,e,f,k,m){return-k/2*(Math.cos(Math.PI*e/m)-1)+f},easeInExpo:function(c,e,f,k,m){return 0==e?f:k*Math.pow(2,10*(e/m-1))+f},easeOutExpo:function(c,e,f,k,m){return e==m?f+k:k*(-Math.pow(2,-10*e/m)+1)+f},easeInOutExpo:function(c,e,f,k,m){return 0==e?f:e==m?f+k:1>(e/=m/2)?k/2*Math.pow(2,10*(e-1))+f:k/2*(-Math.pow(2,-10*--e)+2)+f},easeInCirc:function(c,e,f,k,m){return-k*
(Math.sqrt(1-(e/=m)*e)-1)+f},easeOutCirc:function(c,e,f,k,m){return k*Math.sqrt(1-(e=e/m-1)*e)+f},easeInOutCirc:function(c,e,f,k,m){return 1>(e/=m/2)?-k/2*(Math.sqrt(1-e*e)-1)+f:k/2*(Math.sqrt(1-(e-=2)*e)+1)+f},easeInElastic:function(c,e,f,k,m){c=1.70158;var b=0,t=k;if(0==e)return f;if(1==(e/=m))return f+k;b||(b=.3*m);t<Math.abs(k)?(t=k,c=b/4):c=b/(2*Math.PI)*Math.asin(k/t);return-(t*Math.pow(2,10*--e)*Math.sin(2*(e*m-c)*Math.PI/b))+f},easeOutElastic:function(c,e,f,k,m){c=1.70158;var b=0,t=k;if(0==
e)return f;if(1==(e/=m))return f+k;b||(b=.3*m);t<Math.abs(k)?(t=k,c=b/4):c=b/(2*Math.PI)*Math.asin(k/t);return t*Math.pow(2,-10*e)*Math.sin(2*(e*m-c)*Math.PI/b)+k+f},easeInOutElastic:function(c,e,f,k,m){c=1.70158;var b=0,t=k;if(0==e)return f;if(2==(e/=m/2))return f+k;b||(b=.3*m*1.5);t<Math.abs(k)?(t=k,c=b/4):c=b/(2*Math.PI)*Math.asin(k/t);return 1>e?-.5*t*Math.pow(2,10*--e)*Math.sin(2*(e*m-c)*Math.PI/b)+f:t*Math.pow(2,-10*--e)*Math.sin(2*(e*m-c)*Math.PI/b)*.5+k+f},easeInBack:function(c,e,f,k,m,q){void 0==
q&&(q=1.70158);return k*(e/=m)*e*((q+1)*e-q)+f},easeOutBack:function(c,e,f,k,m,q){void 0==q&&(q=1.70158);return k*((e=e/m-1)*e*((q+1)*e+q)+1)+f},easeInOutBack:function(c,e,f,k,m,q){void 0==q&&(q=1.70158);return 1>(e/=m/2)?k/2*e*e*(((q*=1.525)+1)*e-q)+f:k/2*((e-=2)*e*(((q*=1.525)+1)*e+q)+2)+f},easeInBounce:function(b,e,f,k,m){return k-c.easing.easeOutBounce(b,m-e,0,k,m)+f},easeOutBounce:function(c,e,f,k,m){return(e/=m)<1/2.75?7.5625*k*e*e+f:e<2/2.75?k*(7.5625*(e-=1.5/2.75)*e+.75)+f:e<2.5/2.75?k*(7.5625*
(e-=2.25/2.75)*e+.9375)+f:k*(7.5625*(e-=2.625/2.75)*e+.984375)+f},easeInOutBounce:function(b,e,f,k,m){return e<m/2?.5*c.easing.easeInBounce(b,2*e,0,k,m)+f:.5*c.easing.easeOutBounce(b,2*e-m,0,k,m)+.5*k+f}})})(jQuery);!function(c){"function"==typeof define&&define.amd?define(["jquery"],c):"object"==typeof exports?module.exports=c:c(jQuery)}(function(c){function b(b){var g=b||window.event,h=t.call(arguments,1),q,m=0,w=0,F=0,u=0,G=0;if(b=c.event.fix(g),b.type="mousewheel","detail"in g&&(w=-1*g.detail),"wheelDelta"in g&&(w=g.wheelDelta),"wheelDeltaY"in g&&(w=g.wheelDeltaY),"wheelDeltaX"in g&&(m=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(m=-1*w,w=0),q=0===w?m:w,"deltaY"in g&&(w=-1*g.deltaY,q=w),"deltaX"in
g&&(m=g.deltaX,0===w&&(q=-1*m)),0!==w||0!==m){if(1===g.deltaMode){var I=c.data(this,"mousewheel-line-height");q*=I;w*=I;m*=I}else 2===g.deltaMode&&(I=c.data(this,"mousewheel-page-height"),q*=I,w*=I,m*=I);if(F=Math.max(Math.abs(w),Math.abs(m)),(!k||k>F)&&(k=F,n.settings.adjustOldDeltas&&"mousewheel"===g.type&&0===F%120&&(k/=40)),n.settings.adjustOldDeltas&&"mousewheel"===g.type&&0===F%120&&(q/=40,m/=40,w/=40),q=Math[1<=q?"floor":"ceil"](q/k),m=Math[1<=m?"floor":"ceil"](m/k),w=Math[1<=w?"floor":"ceil"](w/
k),n.settings.normalizeOffset&&this.getBoundingClientRect)g=this.getBoundingClientRect(),u=b.clientX-g.left,G=b.clientY-g.top;return b.deltaX=m,b.deltaY=w,b.deltaFactor=k,b.offsetX=u,b.offsetY=G,b.deltaMode=0,h.unshift(b,q,m,w),f&&clearTimeout(f),f=setTimeout(e,200),(c.event.dispatch||c.event.handle).apply(this,h)}}function e(){k=null}var f,k,m=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],q="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],
t=Array.prototype.slice;if(c.event.fixHooks)for(var h=m.length;h;)c.event.fixHooks[m[--h]]=c.event.mouseHooks;var n=c.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=q.length;e;)this.addEventListener(q[--e],b,!1);else this.onmousewheel=b;c.data(this,"mousewheel-line-height",n.getLineHeight(this));c.data(this,"mousewheel-page-height",n.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=q.length;e;)this.removeEventListener(q[--e],
b,!1);else this.onmousewheel=null;c.removeData(this,"mousewheel-line-height");c.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){b=c(b);var e=b["offsetParent"in c.fn?"offsetParent":"parent"]();return e.length||(e=c("body")),parseInt(e.css("fontSize"),10)||parseInt(b.css("fontSize"),10)||16},getPageHeight:function(b){return c(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};c.fn.extend({mousewheel:function(c){return c?this.bind("mousewheel",c):this.trigger("mousewheel")},
unmousewheel:function(c){return this.unbind("mousewheel",c)}})});(function(c){c.fn.unveil=function(b,e){function f(){h=t.filter(function(){var b=c(this);if(!b.is(":hidden")){var e=k.scrollTop(),h=e+k.height(),f=b.offset().top;return f+b.height()>=e-m&&f<=h+m}}).trigger("unveil");t=t.not(h)}var k=c(window),m=b||0,q=1<window.devicePixelRatio?"data-src-retina":"data-src",t=this,h;this.one("unveil",function(){var c=this.getAttribute(q);if(c=c||this.getAttribute("data-src"))this.setAttribute("src",c),"function"===typeof e&&e.call(this)});k.scroll(f);k.resize(f);f();
return this}})(window.jQuery||window.Zepto);!function(c){"object"==typeof exports&&"undefined"!=typeof module?module.exports=c():"function"==typeof define&&define.amd?define([],c):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).JSZip=c()}(function(){return function b(e,f,k){function m(h,n){if(!f[h]){if(!e[h]){var g="function"==typeof require&&require;if(!n&&g)return g(h,!0);if(q)return q(h,!0);g=Error("Cannot find module '"+h+"'");throw g.code="MODULE_NOT_FOUND",g;}g=f[h]={exports:{}};
e[h][0].call(g.exports,function(b){var g=e[h][1][b];return m(g?g:b)},g,g.exports,b,e,f,k)}return f[h].exports}for(var q="function"==typeof require&&require,t=0;t<k.length;t++)m(k[t]);return m}({1:[function(b,e,f){var k=b("./utils"),m=b("./support");f.encode=function(b){for(var e,h,f,g,q,m,z,x=[],w=0,F=b.length,u="string"!==k.getTypeOf(b);w<b.length;)z=F-w,u?(e=b[w++],h=w<F?b[w++]:0,f=w<F?b[w++]:0):(e=b.charCodeAt(w++),h=w<F?b.charCodeAt(w++):0,f=w<F?b.charCodeAt(w++):0),g=e>>2,q=(3&e)<<4|h>>4,m=1<
z?(15&h)<<2|f>>6:64,z=2<z?63&f:64,x.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(g)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(q)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(m)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(z));return x.join("")};f.decode=function(b){var e,h,f,g,k,q=0,z=0;if("data:"===b.substr(0,5))throw Error("Invalid base64 input, it looks like a data url.");
b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");g=3*b.length/4;if("="===b.charAt(b.length-1)&&g--,"="===b.charAt(b.length-2)&&g--,0!==g%1)throw Error("Invalid base64 input, bad content length.");var x;for(x=m.uint8array?new Uint8Array(0|g):Array(0|g);q<b.length;)e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(q++)),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(q++)),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(q++)),
k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(q++)),e=e<<2|h>>4,h=(15&h)<<4|g>>2,f=(3&g)<<6|k,x[z++]=e,64!==g&&(x[z++]=h),64!==k&&(x[z++]=f);return x}},{"./support":30,"./utils":32}],2:[function(b,e,f){function k(b,e,h,f,k){this.compressedSize=b;this.uncompressedSize=e;this.crc32=h;this.compression=f;this.compressedContent=k}var m=b("./external"),q=b("./stream/DataWorker"),t=b("./stream/DataLengthProbe"),h=b("./stream/Crc32Probe"),t=b("./stream/DataLengthProbe");
k.prototype={getContentWorker:function(){var b=(new q(m.Promise.resolve(this.compressedContent))).pipe(this.compression.uncompressWorker()).pipe(new t("data_length")),e=this;return b.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw Error("Bug : uncompressed data size mismatch");}),b},getCompressedWorker:function(){return(new q(m.Promise.resolve(this.compressedContent))).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",
this.crc32).withStreamInfo("compression",this.compression)}};k.createWorkerFrom=function(b,e,f){return b.pipe(new h).pipe(new t("uncompressedSize")).pipe(e.compressWorker(f)).pipe(new t("compressedSize")).withStreamInfo("compression",e)};e.exports=k},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(b,e,f){var k=b("./stream/GenericWorker");f.STORE={magic:"\x00\x00",compressWorker:function(b){return new k("STORE compression")},uncompressWorker:function(){return new k("STORE decompression")}};
f.DEFLATE=b("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(b,e,f){var k=b("./utils"),m=function(){for(var b,e=[],h=0;256>h;h++){b=h;for(var f=0;8>f;f++)b=1&b?3988292384^b>>>1:b>>>1;e[h]=b}return e}();e.exports=function(b,e){if("undefined"==typeof b||!b.length)return 0;var h;if("string"!==k.getTypeOf(b)){var f=0+b.length;h=(0|e)^-1;for(var g=0;g<f;g++)h=h>>>8^m[255&(h^b[g])]}else for(f=0+b.length,h=(0|e)^-1,g=0;g<f;g++)h=h>>>8^m[255&(h^b.charCodeAt(g))];return h^=-1}},{"./utils":32}],
5:[function(b,e,f){f.base64=!1;f.binary=!1;f.dir=!1;f.createFolders=!0;f.date=null;f.compression=null;f.compressionOptions=null;f.comment=null;f.unixPermissions=null;f.dosPermissions=null},{}],6:[function(b,e,f){b="undefined"!=typeof Promise?Promise:b("lie");e.exports={Promise:b}},{lie:58}],7:[function(b,e,f){function k(b,e){t.call(this,"FlateWorker/"+b);this._pako=new m[b]({raw:!0,level:e.level||-1});this.meta={};var g=this;this._pako.onData=function(b){g.push({data:b,meta:g.meta})}}e="undefined"!=
typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array;var m=b("pako"),q=b("./utils"),t=b("./stream/GenericWorker"),h=e?"uint8array":"array";f.magic="\b\x00";q.inherits(k,t);k.prototype.processChunk=function(b){this.meta=b.meta;this._pako.push(q.transformTo(h,b.data),!1)};k.prototype.flush=function(){t.prototype.flush.call(this);this._pako.push([],!0)};k.prototype.cleanUp=function(){t.prototype.cleanUp.call(this);this._pako=null};f.compressWorker=function(b){return new k("Deflate",
b)};f.uncompressWorker=function(){return new k("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:59}],8:[function(b,e,f){function k(b,e,g,h){q.call(this,"ZipFileWorker");this.bytesWritten=0;this.zipComment=e;this.zipPlatform=g;this.encodeFileName=h;this.streamFiles=b;this.accumulate=!1;this.contentBuffer=[];this.dirRecords=[];this.entriesCount=this.currentSourceOffset=0;this.currentFile=null;this._sources=[]}var m=b("../utils"),q=b("../stream/GenericWorker"),t=b("../utf8"),h=b("../crc32"),
n=b("../signature"),g=function(b,e){var g,h="";for(g=0;g<e;g++)h+=String.fromCharCode(255&b),b>>>=8;return h},v=function(b,e,f,k,q,v){var u,z;u=b.file;var B=b.compression,x=v!==t.utf8encode,w=m.transformTo("string",v(u.name)),C=m.transformTo("string",t.utf8encode(u.name)),F=u.comment;v=m.transformTo("string",v(F));var y=m.transformTo("string",t.utf8encode(F)),G=C.length!==u.name.length,S=y.length!==F.length,R=F="",ia="";z=u.dir;var ea=u.date,ma=0,da=0,D=0;e&&!f||(ma=b.crc32,da=b.compressedSize,D=
b.uncompressedSize);b=0;e&&(b|=8);x||!G&&!S||(b|=2048);e=0;z&&(e|=16);"UNIX"===q?(q=798,u=x=u.unixPermissions,z=(x||(u=z?16893:33204),(65535&u)<<16),e|=z):(q=20,e|=63&(u.dosPermissions||0));u=ea.getUTCHours();u=u<<6|ea.getUTCMinutes();u=u<<5|ea.getUTCSeconds()/2;z=ea.getUTCFullYear()-1980;z=z<<4|ea.getUTCMonth()+1;z=z<<5|ea.getUTCDate();G&&(R=g(1,1)+g(h(w),4)+C,F+="up"+g(R.length,2)+R);S&&(ia=g(1,1)+g(h(v),4)+y,F+="uc"+g(ia.length,2)+ia);C="\n\x00"+g(b,2);C+=B.magic;C+=g(u,2);C+=g(z,2);C+=g(ma,4);
C+=g(da,4);C+=g(D,4);C+=g(w.length,2);C+=g(F.length,2);B=n.LOCAL_FILE_HEADER+C+w+F;k=n.CENTRAL_FILE_HEADER+g(q,2)+C+g(v.length,2)+"\x00\x00\x00\x00"+g(e,4)+g(k,4)+w+F+v;return{fileRecord:B,dirRecord:k}},B=function(b){return n.DATA_DESCRIPTOR+g(b.crc32,4)+g(b.compressedSize,4)+g(b.uncompressedSize,4)};m.inherits(k,q);k.prototype.push=function(b){var e=b.meta.percent||0,g=this.entriesCount,h=this._sources.length;this.accumulate?this.contentBuffer.push(b):(this.bytesWritten+=b.data.length,q.prototype.push.call(this,
{data:b.data,meta:{currentFile:this.currentFile,percent:g?(e+100*(g-h-1))/g:100}}))};k.prototype.openedSource=function(b){this.currentSourceOffset=this.bytesWritten;this.currentFile=b.file.name;var e=this.streamFiles&&!b.file.dir;e?(b=v(b,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName),this.push({data:b.fileRecord,meta:{percent:0}})):this.accumulate=!0};k.prototype.closedSource=function(b){this.accumulate=!1;var e=this.streamFiles&&!b.file.dir,g=v(b,e,!0,this.currentSourceOffset,
this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),e)this.push({data:B(b),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null};k.prototype.flush=function(){for(var b=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var e=this.dirRecords.length,h=this.bytesWritten-b,f=m.transformTo("string",(0,this.encodeFileName)(this.zipComment)),
b=n.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+g(e,2)+g(e,2)+g(h,4)+g(b,4)+g(f.length,2)+f;this.push({data:b,meta:{percent:100}})};k.prototype.prepareNextSource=function(){this.previous=this._sources.shift();this.openedSource(this.previous.streamInfo);this.isPaused?this.previous.pause():this.previous.resume()};k.prototype.registerPrevious=function(b){this._sources.push(b);var e=this;return b.on("data",function(b){e.processChunk(b)}),b.on("end",function(){e.closedSource(e.previous.streamInfo);e._sources.length?
e.prepareNextSource():e.end()}),b.on("error",function(b){e.error(b)}),this};k.prototype.resume=function(){return!!q.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))};k.prototype.error=function(b){var e=this._sources;if(!q.prototype.error.call(this,b))return!1;for(var g=0;g<e.length;g++)try{e[g].error(b)}catch(F){}return!0};k.prototype.lock=function(){q.prototype.lock.call(this);
for(var b=this._sources,e=0;e<b.length;e++)b[e].lock()};e.exports=k},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(b,e,f){var k=b("../compressions"),m=b("./ZipFileWorker");f.generateWorker=function(b,e,h){var f=new m(e.streamFiles,h,e.platform,e.encodeFileName),g=0;try{b.forEach(function(b,h){g++;var n=h.options.compression||e.compression,q=k[n];if(!q)throw Error(n+" is not a valid compression method !");var n=h.dir,m=h.date;h._compressWorker(q,
h.options.compressionOptions||e.compressionOptions||{}).withStreamInfo("file",{name:b,dir:n,date:m,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(f)}),f.entriesCount=g}catch(v){f.error(v)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(b,e,f){function k(){if(!(this instanceof k))return new k;if(arguments.length)throw Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=
{};this.comment=null;this.root="";this.clone=function(){var b=new k,e;for(e in this)"function"!=typeof this[e]&&(b[e]=this[e]);return b}}k.prototype=b("./object");k.prototype.loadAsync=b("./load");k.support=b("./support");k.defaults=b("./defaults");k.version="3.1.3";k.loadAsync=function(b,e){return(new k).loadAsync(b,e)};k.external=b("./external");e.exports=k},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(b,e,f){function k(b){return new q.Promise(function(e,
g){var h=b.decompressed.getContentWorker().pipe(new n);h.on("error",function(b){g(b)}).on("end",function(){h.streamInfo.crc32!==b.decompressed.crc32?g(Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}var m=b("./utils"),q=b("./external"),t=b("./utf8"),m=b("./utils"),h=b("./zipEntries"),n=b("./stream/Crc32Probe"),g=b("./nodejsUtils");e.exports=function(b,e){var f=this;return e=m.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:t.utf8decode}),g.isNode&&
g.isStream(b)?q.Promise.reject(Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",b,!0,e.optimizedBinaryString,e.base64).then(function(b){var g=new h(e);return g.load(b),g}).then(function(b){var g=[q.Promise.resolve(b)];b=b.files;if(e.checkCRC32)for(var h=0;h<b.length;h++)g.push(k(b[h]));return q.Promise.all(g)}).then(function(b){b=b.shift();for(var g=b.files,h=0;h<g.length;h++){var k=g[h];f.file(k.fileNameStr,k.decompressed,{binary:!0,optimizedBinaryString:!0,
date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:e.createFolders})}return b.zipComment.length&&(f.comment=b.zipComment),f})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(b,e,f){function k(b,e){m.call(this,"Nodejs stream input adapter for "+b);this._upstreamEnded=!1;this._bindStream(e)}f=b("../utils");var m=b("../stream/GenericWorker");
f.inherits(k,m);k.prototype._bindStream=function(b){var e=this;this._stream=b;b.pause();b.on("data",function(b){e.push({data:b,meta:{percent:0}})}).on("error",function(b){e.isPaused?this.generatedError=b:e.error(b)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})};k.prototype.pause=function(){return!!m.prototype.pause.call(this)&&(this._stream.pause(),!0)};k.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)};
e.exports=k},{"../stream/GenericWorker":28,"../utils":32}],13:[function(b,e,f){function k(b,e,h){m.call(this,e);this._helper=b;var f=this;b.on("data",function(b,e){f.push(b)||f._helper.pause();h&&h(e)}).on("error",function(b){f.emit("error",b)}).on("end",function(){f.push(null)})}var m=b("readable-stream").Readable;b("util").inherits(k,m);k.prototype._read=function(){this._helper.resume()};e.exports=k},{"readable-stream":16,util:void 0}],14:[function(b,e,f){e.exports={isNode:"undefined"!=typeof Buffer,
newBuffer:function(b,e){return new Buffer(b,e)},isBuffer:function(b){return Buffer.isBuffer(b)},isStream:function(b){return b&&"function"==typeof b.on&&"function"==typeof b.pause&&"function"==typeof b.resume}}},{}],15:[function(b,e,f){var k=b("./utf8"),m=b("./utils"),q=b("./stream/GenericWorker"),t=b("./stream/StreamHelper"),h=b("./defaults"),n=b("./compressedObject"),g=b("./zipObject"),v=b("./generate"),B=b("./nodejsUtils"),z=b("./nodejs/NodejsStreamInputAdapter"),x=function(b,e,f){var k,v=m.getTypeOf(e),
u=m.extend(f||{},h);u.date=u.date||new Date;null!==u.compression&&(u.compression=u.compression.toUpperCase());"string"==typeof u.unixPermissions&&(u.unixPermissions=parseInt(u.unixPermissions,8));u.unixPermissions&&16384&u.unixPermissions&&(u.dir=!0);u.dosPermissions&&16&u.dosPermissions&&(u.dir=!0);u.dir&&(b=w(b));var t;if(t=u.createFolders)k=b,"/"===k.slice(-1)&&(k=k.substring(0,k.length-1)),t=k.lastIndexOf("/"),t=k=0<t?k.substring(0,t):"";t&&F.call(this,k,!0);v="string"===v&&!1===u.binary&&!1===
u.base64;f&&"undefined"!=typeof f.binary||(u.binary=!v);(e instanceof n&&0===e.uncompressedSize||u.dir||!e||0===e.length)&&(u.base64=!1,u.binary=!0,e="",u.compression="STORE");e=e instanceof n||e instanceof q?e:B.isNode&&B.isStream(e)?new z(b,e):m.prepareContent(b,e,u.binary,u.optimizedBinaryString,u.base64);u=new g(b,e,u);this.files[b]=u},w=function(b){return"/"!==b.slice(-1)&&(b+="/"),b},F=function(b,e){return e="undefined"!=typeof e?e:h.createFolders,b=w(b),this.files[b]||x.call(this,b,null,{dir:!0,
createFolders:e}),this.files[b]};e.exports={load:function(){throw Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");},forEach:function(b){var e,g,h;for(e in this.files)this.files.hasOwnProperty(e)&&(h=this.files[e],g=e.slice(this.root.length,e.length),g&&e.slice(0,this.root.length)===this.root&&b(g,h))},filter:function(b){var e=[];return this.forEach(function(g,h){b(g,h)&&e.push(h)}),e},file:function(b,e,g){if(1===arguments.length){if("[object RegExp]"===Object.prototype.toString.call(b)){var h=
b;return this.filter(function(b,e){return!e.dir&&h.test(b)})}var f=this.files[this.root+b];return f&&!f.dir?f:null}return b=this.root+b,x.call(this,b,e,g),this},folder:function(b){if(!b)return this;if("[object RegExp]"===Object.prototype.toString.call(b))return this.filter(function(e,g){return g.dir&&b.test(e)});var e=F.call(this,this.root+b),g=this.clone();return g.root=e.name,g},remove:function(b){b=this.root+b;var e=this.files[b];if(e||("/"!==b.slice(-1)&&(b+="/"),e=this.files[b]),e&&!e.dir)delete this.files[b];
else for(var e=this.filter(function(e,g){return g.name.slice(0,b.length)===b}),g=0;g<e.length;g++)delete this.files[e[g].name];return this},generate:function(b){throw Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");},generateInternalStream:function(b){var e,g={};try{if(g=m.extend(b||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:k.utf8encode}),g.type=g.type.toLowerCase(),
g.compression=g.compression.toUpperCase(),"binarystring"===g.type&&(g.type="string"),!g.type)throw Error("No output type specified.");m.checkSupport(g.type);"darwin"!==g.platform&&"freebsd"!==g.platform&&"linux"!==g.platform&&"sunos"!==g.platform||(g.platform="UNIX");"win32"===g.platform&&(g.platform="DOS");e=v.generateWorker(this,g,g.comment||this.comment||"")}catch(J){e=new q("error"),e.error(J)}return new t(e,g.type||"string",g.mimeType)},generateAsync:function(b,e){return this.generateInternalStream(b).accumulate(e)},
generateNodeStream:function(b,e){return b=b||{},b.type||(b.type="nodebuffer"),this.generateInternalStream(b).toNodejsStream(e)}}},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(b,e,f){e.exports=b("stream")},{stream:void 0}],17:[function(b,e,f){function k(b){m.call(this,b);for(var e=0;e<this.data.length;e++)b[e]&=255}var m=
b("./DataReader");b("../utils").inherits(k,m);k.prototype.byteAt=function(b){return this.data[this.zero+b]};k.prototype.lastIndexOfSignature=function(b){var e=b.charCodeAt(0),h=b.charCodeAt(1),f=b.charCodeAt(2);b=b.charCodeAt(3);for(var g=this.length-4;0<=g;--g)if(this.data[g]===e&&this.data[g+1]===h&&this.data[g+2]===f&&this.data[g+3]===b)return g-this.zero;return-1};k.prototype.readAndCheckSignature=function(b){var e=b.charCodeAt(0),h=b.charCodeAt(1),f=b.charCodeAt(2);b=b.charCodeAt(3);var g=this.readData(4);
return e===g[0]&&h===g[1]&&f===g[2]&&b===g[3]};k.prototype.readData=function(b){if(this.checkOffset(b),0===b)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,e};e.exports=k},{"../utils":32,"./DataReader":18}],18:[function(b,e,f){function k(b){this.data=b;this.length=b.length;this.zero=this.index=0}var m=b("../utils");k.prototype={checkOffset:function(b){this.checkIndex(this.index+b)},checkIndex:function(b){if(this.length<this.zero+b||0>b)throw Error("End of data reached (data length = "+
this.length+", asked index = "+b+"). Corrupted zip ?");},setIndex:function(b){this.checkIndex(b);this.index=b},skip:function(b){this.setIndex(this.index+b)},byteAt:function(b){},readInt:function(b){var e,h=0;this.checkOffset(b);for(e=this.index+b-1;e>=this.index;e--)h=(h<<8)+this.byteAt(e);return this.index+=b,h},readString:function(b){return m.transformTo("string",this.readData(b))},readData:function(b){},lastIndexOfSignature:function(b){},readAndCheckSignature:function(b){},readDate:function(){var b=
this.readInt(4);return new Date(Date.UTC((b>>25&127)+1980,(b>>21&15)-1,b>>16&31,b>>11&31,b>>5&63,(31&b)<<1))}};e.exports=k},{"../utils":32}],19:[function(b,e,f){function k(b){m.call(this,b)}var m=b("./Uint8ArrayReader");b("../utils").inherits(k,m);k.prototype.readData=function(b){this.checkOffset(b);var e=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,e};e.exports=k},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(b,e,f){function k(b){m.call(this,b)}var m=
b("./DataReader");b("../utils").inherits(k,m);k.prototype.byteAt=function(b){return this.data.charCodeAt(this.zero+b)};k.prototype.lastIndexOfSignature=function(b){return this.data.lastIndexOf(b)-this.zero};k.prototype.readAndCheckSignature=function(b){var e=this.readData(4);return b===e};k.prototype.readData=function(b){this.checkOffset(b);var e=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,e};e.exports=k},{"../utils":32,"./DataReader":18}],21:[function(b,e,f){function k(b){m.call(this,
b)}var m=b("./ArrayReader");b("../utils").inherits(k,m);k.prototype.readData=function(b){if(this.checkOffset(b),0===b)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+b);return this.index+=b,e};e.exports=k},{"../utils":32,"./ArrayReader":17}],22:[function(b,e,f){var k=b("../utils"),m=b("../support"),q=b("./ArrayReader"),t=b("./StringReader"),h=b("./NodeBufferReader"),n=b("./Uint8ArrayReader");e.exports=function(b){var e=k.getTypeOf(b);return k.checkSupport(e),
"string"!==e||m.uint8array?"nodebuffer"===e?new h(b):m.uint8array?new n(k.transformTo("uint8array",b)):new q(k.transformTo("array",b)):new t(b)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(b,e,f){f.LOCAL_FILE_HEADER="PK\u0003\u0004";f.CENTRAL_FILE_HEADER="PK\u0001\u0002";f.CENTRAL_DIRECTORY_END="PK\u0005\u0006";f.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\u0006\u0007";f.ZIP64_CENTRAL_DIRECTORY_END="PK\u0006\u0006";
f.DATA_DESCRIPTOR="PK\u0007\b"},{}],24:[function(b,e,f){function k(b){m.call(this,"ConvertWorker to "+b);this.destType=b}var m=b("./GenericWorker"),q=b("../utils");q.inherits(k,m);k.prototype.processChunk=function(b){this.push({data:q.transformTo(this.destType,b.data),meta:b.meta})};e.exports=k},{"../utils":32,"./GenericWorker":28}],25:[function(b,e,f){function k(){m.call(this,"Crc32Probe");this.withStreamInfo("crc32",0)}var m=b("./GenericWorker"),q=b("../crc32");b("../utils").inherits(k,m);k.prototype.processChunk=
function(b){this.streamInfo.crc32=q(b.data,this.streamInfo.crc32||0);this.push(b)};e.exports=k},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(b,e,f){function k(b){m.call(this,"DataLengthProbe for "+b);this.propName=b;this.withStreamInfo(b,0)}f=b("../utils");var m=b("./GenericWorker");f.inherits(k,m);k.prototype.processChunk=function(b){b&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+b.data.length);m.prototype.processChunk.call(this,b)};e.exports=k},{"../utils":32,
"./GenericWorker":28}],27:[function(b,e,f){function k(b){q.call(this,"DataWorker");var e=this;this.dataIsReady=!1;this.max=this.index=0;this.data=null;this.type="";this._tickScheduled=!1;b.then(function(b){e.dataIsReady=!0;e.data=b;e.max=b&&b.length||0;e.type=m.getTypeOf(b);e.isPaused||e._tickAndRepeat()},function(b){e.error(b)})}var m=b("../utils"),q=b("./GenericWorker");m.inherits(k,q);k.prototype.cleanUp=function(){q.prototype.cleanUp.call(this);this.data=null};k.prototype.resume=function(){return!!q.prototype.resume.call(this)&&
(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)};k.prototype._tickAndRepeat=function(){this._tickScheduled=!1;this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))};k.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var b=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case "string":b=this.data.substring(this.index,
e);break;case "uint8array":b=this.data.subarray(this.index,e);break;case "array":case "nodebuffer":b=this.data.slice(this.index,e)}return this.index=e,this.push({data:b,meta:{percent:this.max?this.index/this.max*100:0}})};e.exports=k},{"../utils":32,"./GenericWorker":28}],28:[function(b,e,f){function k(b){this.name=b||"default";this.streamInfo={};this.generatedError=null;this.extraStreamInfo={};this.isPaused=!0;this.isLocked=this.isFinished=!1;this._listeners={data:[],end:[],error:[]};this.previous=
null}k.prototype={push:function(b){this.emit("data",b)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(m){this.emit("error",m)}return!0},error:function(b){return!this.isFinished&&(this.isPaused?this.generatedError=b:(this.isFinished=!0,this.emit("error",b),this.previous&&this.previous.error(b),this.cleanUp()),!0)},on:function(b,e){return this._listeners[b].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=
null;this._listeners=[]},emit:function(b,e){if(this._listeners[b])for(var f=0;f<this._listeners[b].length;f++)this._listeners[b][f].call(this,e)},pipe:function(b){return b.registerPrevious(this)},registerPrevious:function(b){if(this.isLocked)throw Error("The stream '"+this+"' has already been used.");this.streamInfo=b.streamInfo;this.mergeStreamInfo();this.previous=b;var e=this;return b.on("data",function(b){e.processChunk(b)}),b.on("end",function(){e.end()}),b.on("error",function(b){e.error(b)}),
this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var b=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),b=!0),this.previous&&this.previous.resume(),!b},flush:function(){},processChunk:function(b){this.push(b)},withStreamInfo:function(b,e){return this.extraStreamInfo[b]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var b in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(b)&&
(this.streamInfo[b]=this.extraStreamInfo[b])},lock:function(){if(this.isLocked)throw Error("The stream '"+this+"' has already been used.");this.isLocked=!0;this.previous&&this.previous.lock()},toString:function(){var b="Worker "+this.name;return this.previous?this.previous+" -> "+b:b}};e.exports=k},{}],29:[function(b,e,f){function k(b,e){var g,h=0,f;for(g=f=0;g<e.length;g++)f+=e[g].length;switch(b){case "string":return e.join("");case "array":return Array.prototype.concat.apply([],e);case "uint8array":f=
new Uint8Array(f);for(g=0;g<e.length;g++)f.set(e[g],h),h+=e[g].length;return f;case "nodebuffer":return Buffer.concat(e);default:throw Error("concat : unsupported type '"+b+"'");}}function m(b,e){return new v.Promise(function(h,f){var n=[],m=b._internalType,q=b._outputType,v=b._mimeType;b.on("data",function(b,g){n.push(b);e&&e(g)}).on("error",function(b){n=[];f(b)}).on("end",function(){try{var b;a:{var e=n,u=null;switch(q){case "blob":b=t.newBlob(e,v);break a;case "base64":b=(u=k(m,e),g.encode(u));
break a;default:b=(u=k(m,e),t.transformTo(q,u))}}h(b)}catch(C){f(C)}n=[]}).resume()})}function q(b,e,g){var f=e;switch(e){case "blob":f="arraybuffer";break;case "arraybuffer":f="uint8array";break;case "base64":f="string"}try{this._internalType=f,this._outputType=e,this._mimeType=g,t.checkSupport(f),this._worker=b.pipe(new h(f)),b.lock()}catch(u){this._worker=new n("error"),this._worker.error(u)}}var t=b("../utils"),h=b("./ConvertWorker"),n=b("./GenericWorker"),g=b("../base64");f=b("../support");var v=
b("../external"),B=null;if(f.nodestream)try{B=b("../nodejs/NodejsStreamOutputAdapter")}catch(z){}q.prototype={accumulate:function(b){return m(this,b)},on:function(b,e){var g=this;return"data"===b?this._worker.on(b,function(b){e.call(g,b.data,b.meta)}):this._worker.on(b,function(){t.delay(e,arguments,g)}),this},resume:function(){return t.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(t.checkSupport("nodestream"),"nodebuffer"!==
this._outputType)throw Error(this._outputType+" is not supported by this method");return new B(this,{objectMode:"nodebuffer"!==this._outputType},b)}};e.exports=q},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(b,e,f){if(f.base64=!0,f.array=!0,f.string=!0,f.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,f.nodebuffer="undefined"!=typeof Buffer,f.uint8array="undefined"!=
typeof Uint8Array,"undefined"==typeof ArrayBuffer)f.blob=!1;else{e=new ArrayBuffer(0);try{f.blob=0===(new Blob([e],{type:"application/zip"})).size}catch(m){try{var k=new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);k.append(e);f.blob=0===k.getBlob("application/zip").size}catch(q){f.blob=!1}}}try{f.nodestream=!!b("readable-stream").Readable}catch(m){f.nodestream=!1}},{"readable-stream":16}],31:[function(b,e,f){function k(){n.call(this,"utf-8 decode");
this.leftOver=null}function m(){n.call(this,"utf-8 encode")}var q=b("./utils"),t=b("./support"),h=b("./nodejsUtils"),n=b("./stream/GenericWorker"),g=Array(256);for(b=0;256>b;b++)g[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;g[254]=g[254]=1;f.utf8encode=function(b){if(t.nodebuffer)b=h.newBuffer(b,"utf-8");else{var e,g,f,k,n,m=b.length,q=0;for(k=0;k<m;k++)g=b.charCodeAt(k),55296===(64512&g)&&k+1<m&&(f=b.charCodeAt(k+1),56320===(64512&f)&&(g=65536+(g-55296<<10)+(f-56320),k++)),q+=128>g?1:2048>
g?2:65536>g?3:4;e=t.uint8array?new Uint8Array(q):Array(q);for(k=n=0;n<q;k++)g=b.charCodeAt(k),55296===(64512&g)&&k+1<m&&(f=b.charCodeAt(k+1),56320===(64512&f)&&(g=65536+(g-55296<<10)+(f-56320),k++)),128>g?e[n++]=g:2048>g?(e[n++]=192|g>>>6,e[n++]=128|63&g):65536>g?(e[n++]=224|g>>>12,e[n++]=128|g>>>6&63,e[n++]=128|63&g):(e[n++]=240|g>>>18,e[n++]=128|g>>>12&63,e[n++]=128|g>>>6&63,e[n++]=128|63&g);b=e}return b};f.utf8decode=function(b){var e;if(t.nodebuffer)e=q.transformTo("nodebuffer",b).toString("utf-8");
else{var h=b=q.transformTo(t.uint8array?"uint8array":"array",b),f,k,n,m=h.length;b=Array(2*m);for(f=k=0;f<m;)if(e=h[f++],128>e)b[k++]=e;else if(n=g[e],4<n)b[k++]=65533,f+=n-1;else{for(e&=2===n?31:3===n?15:7;1<n&&f<m;)e=e<<6|63&h[f++],n--;1<n?b[k++]=65533:65536>e?b[k++]=e:(e-=65536,b[k++]=55296|e>>10&1023,b[k++]=56320|1023&e)}e=(b.length!==k&&(b.subarray?b=b.subarray(0,k):b.length=k),q.applyFromCharCode(b))}return e};q.inherits(k,n);k.prototype.processChunk=function(b){var e=q.transformTo(t.uint8array?
"uint8array":"array",b.data);if(this.leftOver&&this.leftOver.length){if(t.uint8array){var h=e,e=new Uint8Array(h.length+this.leftOver.length);e.set(this.leftOver,0);e.set(h,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var k,h=e.length;h>e.length&&(h=e.length);for(k=h-1;0<=k&&128===(192&e[k]);)k--;h=0>k?h:0===k?h:k+g[e[k]]>h?k:h;k=e;h!==e.length&&(t.uint8array?(k=e.subarray(0,h),this.leftOver=e.subarray(h,e.length)):(k=e.slice(0,h),this.leftOver=e.slice(h,e.length)));this.push({data:f.utf8decode(k),
meta:b.meta})};k.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:f.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)};f.Utf8DecodeWorker=k;q.inherits(m,n);m.prototype.processChunk=function(b){this.push({data:f.utf8encode(b.data),meta:b.meta})};f.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(b,e,f){function k(b){return b}function m(b,e){for(var g=0;g<b.length;++g)e[g]=255&b.charCodeAt(g);return e}
function q(b){var e=65536,g=f.getTypeOf(b),h=!0;if("uint8array"===g?h=w.applyCanBeUsed.uint8array:"nodebuffer"===g&&(h=w.applyCanBeUsed.nodebuffer),h)for(;1<e;)try{return w.stringifyByChunk(b,g,e)}catch(K){e=Math.floor(e/2)}return w.stringifyByChar(b)}function t(b,e){for(var g=0;g<b.length;g++)e[g]=b[g];return e}var h=b("./support"),n=b("./base64"),g=b("./nodejsUtils"),v=b("core-js/library/fn/set-immediate"),B=b("./external");f.newBlob=function(b,e){f.checkSupport("blob");try{return new Blob(b,{type:e})}catch(K){try{for(var g=
new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder),h=0;h<b.length;h++)g.append(b[h]);return g.getBlob(e)}catch(P){throw Error("Bug : can't construct the Blob.");}}};var z;try{z=h.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(u){z=!1}b=z;var x;try{x=h.nodebuffer&&1===String.fromCharCode.apply(null,g.newBuffer(1)).length}catch(u){x=!1}var w={stringifyByChunk:function(b,e,g){var h=[],f=0,k=b.length;if(k<=g)return String.fromCharCode.apply(null,
b);for(;f<k;)"array"===e||"nodebuffer"===e?h.push(String.fromCharCode.apply(null,b.slice(f,Math.min(f+g,k)))):h.push(String.fromCharCode.apply(null,b.subarray(f,Math.min(f+g,k)))),f+=g;return h.join("")},stringifyByChar:function(b){for(var e="",g=0;g<b.length;g++)e+=String.fromCharCode(b[g]);return e},applyCanBeUsed:{uint8array:b,nodebuffer:x}};f.applyFromCharCode=q;var F={};F.string={string:k,array:function(b){return m(b,Array(b.length))},arraybuffer:function(b){return F.string.uint8array(b).buffer},
uint8array:function(b){return m(b,new Uint8Array(b.length))},nodebuffer:function(b){return m(b,g.newBuffer(b.length))}};F.array={string:q,array:k,arraybuffer:function(b){return(new Uint8Array(b)).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return g.newBuffer(b)}};F.arraybuffer={string:function(b){return q(new Uint8Array(b))},array:function(b){return t(new Uint8Array(b),Array(b.byteLength))},arraybuffer:k,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return g.newBuffer(new Uint8Array(b))}};
F.uint8array={string:q,array:function(b){return t(b,Array(b.length))},arraybuffer:function(b){var e=new Uint8Array(b.length);return b.length&&e.set(b,0),e.buffer},uint8array:k,nodebuffer:function(b){return g.newBuffer(b)}};F.nodebuffer={string:q,array:function(b){return t(b,Array(b.length))},arraybuffer:function(b){return F.nodebuffer.uint8array(b).buffer},uint8array:function(b){return t(b,new Uint8Array(b.length))},nodebuffer:k};f.transformTo=function(b,e){if(e||(e=""),!b)return e;f.checkSupport(b);
var g=f.getTypeOf(e);return F[g][b](e)};f.getTypeOf=function(b){return"string"==typeof b?"string":"[object Array]"===Object.prototype.toString.call(b)?"array":h.nodebuffer&&g.isBuffer(b)?"nodebuffer":h.uint8array&&b instanceof Uint8Array?"uint8array":h.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0};f.checkSupport=function(b){if(!h[b.toLowerCase()])throw Error(b+" is not supported by this platform");};f.MAX_VALUE_16BITS=65535;f.MAX_VALUE_32BITS=-1;f.pretty=function(b){var e,g,h="";for(g=
0;g<(b||"").length;g++)e=b.charCodeAt(g),h+="\\x"+(16>e?"0":"")+e.toString(16).toUpperCase();return h};f.delay=function(b,e,g){v(function(){b.apply(g||null,e||[])})};f.inherits=function(b,e){var g=function(){};g.prototype=e.prototype;b.prototype=new g};f.extend=function(){var b,e,g={};for(b=0;b<arguments.length;b++)for(e in arguments[b])arguments[b].hasOwnProperty(e)&&"undefined"==typeof g[e]&&(g[e]=arguments[b][e]);return g};f.prepareContent=function(b,e,g,k,q){return B.Promise.resolve(e).then(function(b){return h.blob&&
(b instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(b)))&&"undefined"!=typeof FileReader?new B.Promise(function(e,g){var h=new FileReader;h.onload=function(b){e(b.target.result)};h.onerror=function(b){g(b.target.error)};h.readAsArrayBuffer(b)}):b}).then(function(e){var v=f.getTypeOf(e);v?"arraybuffer"===v?e=f.transformTo("uint8array",e):"string"===v&&(q?e=n.decode(e):g&&!0!==k&&(v=null,e=(v=h.uint8array?new Uint8Array(e.length):Array(e.length),m(e,v)))):
e=B.Promise.reject(Error("The data of '"+b+"' is in an unsupported format !"));return e})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"core-js/library/fn/set-immediate":36}],33:[function(b,e,f){function k(b){this.files=[];this.loadOptions=b}var m=b("./reader/readerFor"),q=b("./utils"),t=b("./signature"),h=b("./zipEntry"),n=(b("./utf8"),b("./support"));k.prototype={checkSignature:function(b){if(!this.reader.readAndCheckSignature(b)){this.reader.index-=4;var e=this.reader.readString(4);
throw Error("Corrupted zip or bug : unexpected signature ("+q.pretty(e)+", expected "+q.pretty(b)+")");}},isSignature:function(b,e){var g=this.reader.index;this.reader.setIndex(b);var h=this.reader.readString(4)===e;return this.reader.setIndex(g),h},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2);this.diskWithCentralDirStart=this.reader.readInt(2);this.centralDirRecordsOnThisDisk=this.reader.readInt(2);this.centralDirRecords=this.reader.readInt(2);this.centralDirSize=this.reader.readInt(4);
this.centralDirOffset=this.reader.readInt(4);this.zipCommentLength=this.reader.readInt(2);var b=this.reader.readData(this.zipCommentLength),b=q.transformTo(n.uint8array?"uint8array":"array",b);this.zipComment=this.loadOptions.decodeFileName(b)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8);this.reader.skip(4);this.diskNumber=this.reader.readInt(4);this.diskWithCentralDirStart=this.reader.readInt(4);this.centralDirRecordsOnThisDisk=this.reader.readInt(8);this.centralDirRecords=
this.reader.readInt(8);this.centralDirSize=this.reader.readInt(8);this.centralDirOffset=this.reader.readInt(8);this.zip64ExtensibleData={};for(var b,e,h,f=this.zip64EndOfCentralSize-44;0<f;)b=this.reader.readInt(2),e=this.reader.readInt(4),h=this.reader.readData(e),this.zip64ExtensibleData[b]={id:b,length:e,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=
this.reader.readInt(4),1<this.disksCount)throw Error("Multi-volumes zip are not supported");},readLocalFiles:function(){var b,e;for(b=0;b<this.files.length;b++)e=this.files[b],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(t.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var b;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(t.CENTRAL_FILE_HEADER);)b=new h({zip64:this.zip64},this.loadOptions),
b.readCentralPart(this.reader),this.files.push(b);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length);},readEndOfCentral:function(){var b=this.reader.lastIndexOfSignature(t.CENTRAL_DIRECTORY_END);if(0>b)throw this.isSignature(0,t.LOCAL_FILE_HEADER)?Error("Corrupted zip : can't find end of central directory"):Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html");
this.reader.setIndex(b);var e=b;if(this.checkSignature(t.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===q.MAX_VALUE_16BITS||this.diskWithCentralDirStart===q.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===q.MAX_VALUE_16BITS||this.centralDirRecords===q.MAX_VALUE_16BITS||this.centralDirSize===q.MAX_VALUE_32BITS||this.centralDirOffset===q.MAX_VALUE_32BITS){if(this.zip64=!0,b=this.reader.lastIndexOfSignature(t.ZIP64_CENTRAL_DIRECTORY_LOCATOR),0>b)throw Error("Corrupted zip : can't find the ZIP64 end of central directory locator");
if(this.reader.setIndex(b),this.checkSignature(t.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,t.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(t.ZIP64_CENTRAL_DIRECTORY_END),0>this.relativeOffsetEndOfZip64CentralDir))throw Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir);this.checkSignature(t.ZIP64_CENTRAL_DIRECTORY_END);
this.readBlockZip64EndOfCentral()}b=this.centralDirOffset+this.centralDirSize;this.zip64&&(b+=20,b+=12+this.zip64EndOfCentralSize);b=e-b;if(0<b)this.isSignature(e,t.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(0>b)throw Error("Corrupted zip: missing "+Math.abs(b)+" bytes.");},prepareReader:function(b){this.reader=m(b)},load:function(b){this.prepareReader(b);this.readEndOfCentral();this.readCentralDir();this.readLocalFiles()}};e.exports=k},{"./reader/readerFor":22,"./signature":23,"./support":30,
"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(b,e,f){function k(b,e){this.options=b;this.loadOptions=e}var m=b("./reader/readerFor"),q=b("./utils"),t=b("./compressedObject"),h=b("./crc32"),n=b("./utf8"),g=b("./compressions"),v=b("./support");k.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},readLocalPart:function(b){var e,h;if(b.skip(22),this.fileNameLength=b.readInt(2),h=b.readInt(2),this.fileName=b.readData(this.fileNameLength),
b.skip(h),-1===this.compressedSize||-1===this.uncompressedSize)throw Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");var f;a:{h=this.compressionMethod;for(f in g)if(g.hasOwnProperty(f)&&g[f].magic===h){f=g[f];break a}f=null}if(e=f,null===e)throw Error("Corrupted zip : compression "+q.pretty(this.compressionMethod)+" unknown (inner file : "+q.transformTo("string",this.fileName)+")");this.decompressed=new t(this.compressedSize,
this.uncompressedSize,this.crc32,e,b.readData(this.compressedSize))},readCentralPart:function(b){this.versionMadeBy=b.readInt(2);b.skip(2);this.bitFlag=b.readInt(2);this.compressionMethod=b.readString(2);this.date=b.readDate();this.crc32=b.readInt(4);this.compressedSize=b.readInt(4);this.uncompressedSize=b.readInt(4);var e=b.readInt(2);if(this.extraFieldsLength=b.readInt(2),this.fileCommentLength=b.readInt(2),this.diskNumberStart=b.readInt(2),this.internalFileAttributes=b.readInt(2),this.externalFileAttributes=
b.readInt(4),this.localHeaderOffset=b.readInt(4),this.isEncrypted())throw Error("Encrypted zip are not supported");b.skip(e);this.readExtraFields(b);this.parseZIP64ExtraField(b);this.fileComment=b.readData(this.fileCommentLength)},processAttributes:function(){this.dosPermissions=this.unixPermissions=null;var b=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes);0===b&&(this.dosPermissions=63&this.externalFileAttributes);3===b&&(this.unixPermissions=this.externalFileAttributes>>16&65535);
this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(b){this.extraFields[1]&&(b=m(this.extraFields[1].value),this.uncompressedSize===q.MAX_VALUE_32BITS&&(this.uncompressedSize=b.readInt(8)),this.compressedSize===q.MAX_VALUE_32BITS&&(this.compressedSize=b.readInt(8)),this.localHeaderOffset===q.MAX_VALUE_32BITS&&(this.localHeaderOffset=b.readInt(8)),this.diskNumberStart===q.MAX_VALUE_32BITS&&(this.diskNumberStart=b.readInt(4)))},readExtraFields:function(b){var e,
g,h,f=b.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});b.index<f;)e=b.readInt(2),g=b.readInt(2),h=b.readData(g),this.extraFields[e]={id:e,length:g,value:h}},handleUTF8:function(){var b=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=n.utf8decode(this.fileName),this.fileCommentStr=n.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();null!==e?this.fileNameStr=e:(e=q.transformTo(b,this.fileName),this.fileNameStr=this.loadOptions.decodeFileName(e));
e=this.findExtraFieldUnicodeComment();null!==e?this.fileCommentStr=e:(b=q.transformTo(b,this.fileComment),this.fileCommentStr=this.loadOptions.decodeFileName(b))}},findExtraFieldUnicodePath:function(){var b=this.extraFields[28789];if(b){var e=m(b.value);return 1!==e.readInt(1)?null:h(this.fileName)!==e.readInt(4)?null:n.utf8decode(e.readData(b.length-5))}return null},findExtraFieldUnicodeComment:function(){var b=this.extraFields[25461];if(b){var e=m(b.value);return 1!==e.readInt(1)?null:h(this.fileComment)!==
e.readInt(4)?null:n.utf8decode(e.readData(b.length-5))}return null}};e.exports=k},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(b,e,f){var k=b("./stream/StreamHelper"),m=b("./stream/DataWorker"),q=b("./utf8"),t=b("./compressedObject"),h=b("./stream/GenericWorker");b=function(b,e,g){this.name=b;this.dir=g.dir;this.date=g.date;this.comment=g.comment;this.unixPermissions=g.unixPermissions;this.dosPermissions=g.dosPermissions;
this._data=e;this._dataBinary=g.binary;this.options={compression:g.compression,compressionOptions:g.compressionOptions}};b.prototype={internalStream:function(b){b=b.toLowerCase();var e="string"===b||"text"===b;"binarystring"!==b&&"text"!==b||(b="string");var g=this._decompressWorker(),h=!this._dataBinary;return h&&!e&&(g=g.pipe(new q.Utf8EncodeWorker)),!h&&e&&(g=g.pipe(new q.Utf8DecodeWorker)),new k(g,b,"")},async:function(b,e){return this.internalStream(b).accumulate(e)},nodeStream:function(b,e){return this.internalStream(b||
"nodebuffer").toNodejsStream(e)},_compressWorker:function(b,e){if(this._data instanceof t&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new q.Utf8EncodeWorker)),t.createWorkerFrom(g,b,e)},_decompressWorker:function(){return this._data instanceof t?this._data.getContentWorker():this._data instanceof h?this._data:new m(this._data)}};f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"];
for(var n=function(){throw Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");},g=0;g<f.length;g++)b.prototype[f[g]]=n;e.exports=b},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(b,e,f){b("../modules/web.immediate");e.exports=b("../modules/_core").setImmediate},{"../modules/_core":40,"../modules/web.immediate":56}],37:[function(b,e,f){e.exports=function(b){if("function"!=typeof b)throw TypeError(b+
" is not a function!");return b}},{}],38:[function(b,e,f){var k=b("./_is-object");e.exports=function(b){if(!k(b))throw TypeError(b+" is not an object!");return b}},{"./_is-object":51}],39:[function(b,e,f){var k={}.toString;e.exports=function(b){return k.call(b).slice(8,-1)}},{}],40:[function(b,e,f){b=e.exports={version:"2.3.0"};"number"==typeof __e&&(__e=b)},{}],41:[function(b,e,f){var k=b("./_a-function");e.exports=function(b,e,f){if(k(b),void 0===e)return b;switch(f){case 1:return function(h){return b.call(e,
h)};case 2:return function(h,f){return b.call(e,h,f)};case 3:return function(h,f,g){return b.call(e,h,f,g)}}return function(){return b.apply(e,arguments)}}},{"./_a-function":37}],42:[function(b,e,f){e.exports=!b("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":45}],43:[function(b,e,f){f=b("./_is-object");var k=b("./_global").document,m=f(k)&&f(k.createElement);e.exports=function(b){return m?k.createElement(b):{}}},{"./_global":46,"./_is-object":51}],
44:[function(b,e,f){var k=b("./_global"),m=b("./_core"),q=b("./_ctx"),t=b("./_hide"),h=function(b,e,f){var g,n,v=b&h.F,w=b&h.G,F=b&h.S,u=b&h.P,G=b&h.B,I=b&h.W,J=w?m:m[e]||(m[e]={}),K=J.prototype,F=w?k:F?k[e]:(k[e]||{}).prototype;w&&(f=e);for(g in f)(e=!v&&F&&void 0!==F[g])&&g in J||(n=e?F[g]:f[g],J[g]=w&&"function"!=typeof F[g]?f[g]:G&&e?q(n,k):I&&F[g]==n?function(b){var e=function(e,g,h){if(this instanceof b){switch(arguments.length){case 0:return new b;case 1:return new b(e);case 2:return new b(e,
g)}return new b(e,g,h)}return b.apply(this,arguments)};return e.prototype=b.prototype,e}(n):u&&"function"==typeof n?q(Function.call,n):n,u&&((J.virtual||(J.virtual={}))[g]=n,b&h.R&&K&&!K[g]&&t(K,g,n)))};h.F=1;h.G=2;h.S=4;h.P=8;h.B=16;h.W=32;h.U=64;h.R=128;e.exports=h},{"./_core":40,"./_ctx":41,"./_global":46,"./_hide":47}],45:[function(b,e,f){e.exports=function(b){try{return!!b()}catch(m){return!0}}},{}],46:[function(b,e,f){b=e.exports="undefined"!=typeof window&&Math==Math?window:"undefined"!=typeof self&&
self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=b)},{}],47:[function(b,e,f){var k=b("./_object-dp"),m=b("./_property-desc");e.exports=b("./_descriptors")?function(b,e,h){return k.f(b,e,m(1,h))}:function(b,e,h){return b[e]=h,b}},{"./_descriptors":42,"./_object-dp":52,"./_property-desc":53}],48:[function(b,e,f){e.exports=b("./_global").document&&document.documentElement},{"./_global":46}],49:[function(b,e,f){e.exports=!b("./_descriptors")&&!b("./_fails")(function(){return 7!=
Object.defineProperty(b("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":42,"./_dom-create":43,"./_fails":45}],50:[function(b,e,f){e.exports=function(b,e,f){var k=void 0===f;switch(e.length){case 0:return k?b():b.call(f);case 1:return k?b(e[0]):b.call(f,e[0]);case 2:return k?b(e[0],e[1]):b.call(f,e[0],e[1]);case 3:return k?b(e[0],e[1],e[2]):b.call(f,e[0],e[1],e[2]);case 4:return k?b(e[0],e[1],e[2],e[3]):b.call(f,e[0],e[1],e[2],e[3])}return b.apply(f,e)}},{}],51:[function(b,
e,f){e.exports=function(b){return"object"==typeof b?null!==b:"function"==typeof b}},{}],52:[function(b,e,f){var k=b("./_an-object"),m=b("./_ie8-dom-define"),q=b("./_to-primitive"),t=Object.defineProperty;f.f=b("./_descriptors")?Object.defineProperty:function(b,e,g){if(k(b),e=q(e,!0),k(g),m)try{return t(b,e,g)}catch(v){}if("get"in g||"set"in g)throw TypeError("Accessors not supported!");return"value"in g&&(b[e]=g.value),b}},{"./_an-object":38,"./_descriptors":42,"./_ie8-dom-define":49,"./_to-primitive":55}],
53:[function(b,e,f){e.exports=function(b,e){return{enumerable:!(1&b),configurable:!(2&b),writable:!(4&b),value:e}}},{}],54:[function(b,e,f){var k,m,q,t=b("./_ctx"),h=b("./_invoke"),n=b("./_html"),g=b("./_dom-create"),v=b("./_global"),B=v.process;f=v.setImmediate;var z=v.clearImmediate,x=v.MessageChannel,w=0,F={},u=function(){var b=+this;if(F.hasOwnProperty(b)){var e=F[b];delete F[b];e()}},G=function(b){u.call(b.data)};f&&z||(f=function(b){for(var e=[],g=1;arguments.length>g;)e.push(arguments[g++]);
return F[++w]=function(){h("function"==typeof b?b:Function(b),e)},k(w),w},z=function(b){delete F[b]},"process"==b("./_cof")(B)?k=function(b){B.nextTick(t(u,b,1))}:x?(m=new x,q=m.port2,m.port1.onmessage=G,k=t(q.postMessage,q,1)):v.addEventListener&&"function"==typeof postMessage&&!v.importScripts?(k=function(b){v.postMessage(b+"","*")},v.addEventListener("message",G,!1)):k="onreadystatechange"in g("script")?function(b){n.appendChild(g("script")).onreadystatechange=function(){n.removeChild(this);u.call(b)}}:
function(b){setTimeout(t(u,b,1),0)});e.exports={set:f,clear:z}},{"./_cof":39,"./_ctx":41,"./_dom-create":43,"./_global":46,"./_html":48,"./_invoke":50}],55:[function(b,e,f){var k=b("./_is-object");e.exports=function(b,e){if(!k(b))return b;var f,h;if(e&&"function"==typeof(f=b.toString)&&!k(h=f.call(b))||"function"==typeof(f=b.valueOf)&&!k(h=f.call(b))||!e&&"function"==typeof(f=b.toString)&&!k(h=f.call(b)))return h;throw TypeError("Can't convert object to primitive value");}},{"./_is-object":51}],56:[function(b,
e,f){e=b("./_export");b=b("./_task");e(e.G+e.B,{setImmediate:b.set,clearImmediate:b.clear})},{"./_export":44,"./_task":54}],57:[function(b,e,f){(function(b){function f(){v=!0;for(var b,e,g=B.length;g;){e=B;B=[];for(b=-1;++b<g;)e[b]();g=B.length}v=!1}var k,t=b.MutationObserver||b.WebKitMutationObserver;if(t){var h=0,t=new t(f),n=b.document.createTextNode("");t.observe(n,{characterData:!0});k=function(){n.data=h=++h%2}}else if(b.setImmediate||"undefined"==typeof b.MessageChannel)k="document"in b&&"onreadystatechange"in
b.document.createElement("script")?function(){var e=b.document.createElement("script");e.onreadystatechange=function(){f();e.onreadystatechange=null;e.parentNode.removeChild(e);e=null};b.document.documentElement.appendChild(e)}:function(){setTimeout(f,0)};else{var g=new b.MessageChannel;g.port1.onmessage=f;k=function(){g.port2.postMessage(0)}}var v,B=[];e.exports=function(b){1!==B.push(b)||v||k()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?
window:{})},{}],58:[function(b,e,f){function k(){}function m(b){if("function"!=typeof b)throw new TypeError("resolver must be a function");this.state=w;this.queue=[];this.outcome=void 0;b!==k&&n(this,b)}function q(b,e,g){this.promise=b;"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled);"function"==typeof g&&(this.onRejected=g,this.callRejected=this.otherCallRejected)}function t(b,e,g){v(function(){var h;try{h=e(g)}catch(J){return B.reject(b,J)}h===b?B.reject(b,new TypeError("Cannot resolve promise with itself")):
B.resolve(b,h)})}function h(b){var e=b&&b.then;if(b&&"object"==typeof b&&"function"==typeof e)return function(){e.apply(b,arguments)}}function n(b,e){function h(e){k||(k=!0,B.reject(b,e))}function f(e){k||(k=!0,B.resolve(b,e))}var k=!1,n=g(function(){e(f,h)});"error"===n.status&&h(n.value)}function g(b,e){var g={};try{g.value=b(e),g.status="success"}catch(I){g.status="error",g.value=I}return g}var v=b("immediate"),B={},z=["REJECTED"],x=["FULFILLED"],w=["PENDING"];e.exports=m;m.prototype["catch"]=
function(b){return this.then(null,b)};m.prototype.then=function(b,e){if("function"!=typeof b&&this.state===x||"function"!=typeof e&&this.state===z)return this;var g=new this.constructor(k);this.state!==w?t(g,this.state===x?b:e,this.outcome):this.queue.push(new q(g,b,e));return g};q.prototype.callFulfilled=function(b){B.resolve(this.promise,b)};q.prototype.otherCallFulfilled=function(b){t(this.promise,this.onFulfilled,b)};q.prototype.callRejected=function(b){B.reject(this.promise,b)};q.prototype.otherCallRejected=
function(b){t(this.promise,this.onRejected,b)};B.resolve=function(b,e){var f=g(h,e);if("error"===f.status)return B.reject(b,f.value);if(f=f.value)n(b,f);else{b.state=x;b.outcome=e;for(var f=-1,k=b.queue.length;++f<k;)b.queue[f].callFulfilled(e)}return b};B.reject=function(b,e){b.state=z;b.outcome=e;for(var g=-1,h=b.queue.length;++g<h;)b.queue[g].callRejected(e);return b};m.resolve=function(b){return b instanceof this?b:B.resolve(new this(k),b)};m.reject=function(b){var e=new this(k);return B.reject(e,
b)};m.all=function(b){function e(b,e){g.resolve(b).then(function(b){n[e]=b;++m!==h||f||(f=!0,B.resolve(v,n))},function(b){f||(f=!0,B.reject(v,b))})}var g=this;if("[object Array]"!==Object.prototype.toString.call(b))return this.reject(new TypeError("must be an array"));var h=b.length,f=!1;if(!h)return this.resolve([]);for(var n=Array(h),m=0,q=-1,v=new this(k);++q<h;)e(b[q],q);return v};m.race=function(b){function e(b){g.resolve(b).then(function(b){f||(f=!0,B.resolve(m,b))},function(b){f||(f=!0,B.reject(m,
b))})}var g=this;if("[object Array]"!==Object.prototype.toString.call(b))return this.reject(new TypeError("must be an array"));var h=b.length,f=!1;if(!h)return this.resolve([]);for(var n=-1,m=new this(k);++n<h;)e(b[n]);return m}},{immediate:57}],59:[function(b,e,f){f=b("./lib/utils/common").assign;var k=b("./lib/deflate"),m=b("./lib/inflate");b=b("./lib/zlib/constants");var q={};f(q,k,m,b);e.exports=q},{"./lib/deflate":60,"./lib/inflate":61,"./lib/utils/common":62,"./lib/zlib/constants":65}],60:[function(b,
e,f){function k(b){if(!(this instanceof k))return new k(b);b=this.options=t.assign({level:z,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:x,to:""},b||{});b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&16>b.windowBits&&(b.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new g;this.strm.avail_out=0;var e=q.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(e!==B)throw Error(n[e]);if(b.header&&q.deflateSetHeader(this.strm,
b.header),b.dictionary){var f;if(f="string"==typeof b.dictionary?h.string2buf(b.dictionary):"[object ArrayBuffer]"===v.call(b.dictionary)?new Uint8Array(b.dictionary):b.dictionary,e=q.deflateSetDictionary(this.strm,f),e!==B)throw Error(n[e]);this._dict_set=!0}}function m(b,e){var g=new k(e);if(g.push(b,!0),g.err)throw g.msg;return g.result}var q=b("./zlib/deflate"),t=b("./utils/common"),h=b("./utils/strings"),n=b("./zlib/messages"),g=b("./zlib/zstream"),v=Object.prototype.toString,B=0,z=-1,x=0,w=
8;k.prototype.push=function(b,e){var g,f,k=this.strm,n=this.options.chunkSize;if(this.ended)return!1;f=e===~~e?e:!0===e?4:0;"string"==typeof b?k.input=h.string2buf(b):"[object ArrayBuffer]"===v.call(b)?k.input=new Uint8Array(b):k.input=b;k.next_in=0;k.avail_in=k.input.length;do{if(0===k.avail_out&&(k.output=new t.Buf8(n),k.next_out=0,k.avail_out=n),g=q.deflate(k,f),1!==g&&g!==B)return this.onEnd(g),this.ended=!0,!1;0!==k.avail_out&&(0!==k.avail_in||4!==f&&2!==f)||("string"===this.options.to?this.onData(h.buf2binstring(t.shrinkBuf(k.output,
k.next_out))):this.onData(t.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||0===k.avail_out)&&1!==g);return 4===f?(g=q.deflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===B):2!==f||(this.onEnd(B),k.avail_out=0,!0)};k.prototype.onData=function(b){this.chunks.push(b)};k.prototype.onEnd=function(b){b===B&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks));this.chunks=[];this.err=b;this.msg=this.strm.msg};f.Deflate=k;f.deflate=m;f.deflateRaw=
function(b,e){return e=e||{},e.raw=!0,m(b,e)};f.gzip=function(b,e){return e=e||{},e.gzip=!0,m(b,e)}},{"./utils/common":62,"./utils/strings":63,"./zlib/deflate":67,"./zlib/messages":72,"./zlib/zstream":74}],61:[function(b,e,f){function k(b){if(!(this instanceof k))return new k(b);var e=this.options=t.assign({chunkSize:16384,windowBits:0,to:""},b||{});e.raw&&0<=e.windowBits&&16>e.windowBits&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15));!(0<=e.windowBits&&16>e.windowBits)||b&&b.windowBits||
(e.windowBits+=32);15<e.windowBits&&48>e.windowBits&&0===(15&e.windowBits)&&(e.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new v;this.strm.avail_out=0;b=q.inflateInit2(this.strm,e.windowBits);if(b!==n.Z_OK)throw Error(g[b]);this.header=new B;q.inflateGetHeader(this.strm,this.header)}function m(b,e){var g=new k(e);if(g.push(b,!0),g.err)throw g.msg;return g.result}var q=b("./zlib/inflate"),t=b("./utils/common"),h=b("./utils/strings"),n=b("./zlib/constants"),g=b("./zlib/messages"),
v=b("./zlib/zstream"),B=b("./zlib/gzheader"),z=Object.prototype.toString;k.prototype.push=function(b,e){var g,f,k,m,v,B,x=this.strm,w=this.options.chunkSize,C=this.options.dictionary,A=!1;if(this.ended)return!1;f=e===~~e?e:!0===e?n.Z_FINISH:n.Z_NO_FLUSH;"string"==typeof b?x.input=h.binstring2buf(b):"[object ArrayBuffer]"===z.call(b)?x.input=new Uint8Array(b):x.input=b;x.next_in=0;x.avail_in=x.input.length;do{if(0===x.avail_out&&(x.output=new t.Buf8(w),x.next_out=0,x.avail_out=w),g=q.inflate(x,n.Z_NO_FLUSH),
g===n.Z_NEED_DICT&&C&&(B="string"==typeof C?h.string2buf(C):"[object ArrayBuffer]"===z.call(C)?new Uint8Array(C):C,g=q.inflateSetDictionary(this.strm,B)),g===n.Z_BUF_ERROR&&!0===A&&(g=n.Z_OK,A=!1),g!==n.Z_STREAM_END&&g!==n.Z_OK)return this.onEnd(g),this.ended=!0,!1;x.next_out&&(0!==x.avail_out&&g!==n.Z_STREAM_END&&(0!==x.avail_in||f!==n.Z_FINISH&&f!==n.Z_SYNC_FLUSH)||("string"===this.options.to?(k=h.utf8border(x.output,x.next_out),m=x.next_out-k,v=h.buf2string(x.output,k),x.next_out=m,x.avail_out=
w-m,m&&t.arraySet(x.output,x.output,k,m,0),this.onData(v)):this.onData(t.shrinkBuf(x.output,x.next_out))));0===x.avail_in&&0===x.avail_out&&(A=!0)}while((0<x.avail_in||0===x.avail_out)&&g!==n.Z_STREAM_END);return g===n.Z_STREAM_END&&(f=n.Z_FINISH),f===n.Z_FINISH?(g=q.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===n.Z_OK):f!==n.Z_SYNC_FLUSH||(this.onEnd(n.Z_OK),x.avail_out=0,!0)};k.prototype.onData=function(b){this.chunks.push(b)};k.prototype.onEnd=function(b){b===n.Z_OK&&("string"===this.options.to?
this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks));this.chunks=[];this.err=b;this.msg=this.strm.msg};f.Inflate=k;f.inflate=m;f.inflateRaw=function(b,e){return e=e||{},e.raw=!0,m(b,e)};f.ungzip=m},{"./utils/common":62,"./utils/strings":63,"./zlib/constants":65,"./zlib/gzheader":68,"./zlib/inflate":70,"./zlib/messages":72,"./zlib/zstream":74}],62:[function(b,e,f){b="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;f.assign=function(b){for(var e=
Array.prototype.slice.call(arguments,1);e.length;){var h=e.shift();if(h){if("object"!=typeof h)throw new TypeError(h+"must be non-object");for(var f in h)h.hasOwnProperty(f)&&(b[f]=h[f])}}return b};f.shrinkBuf=function(b,e){return b.length===e?b:b.subarray?b.subarray(0,e):(b.length=e,b)};var k={arraySet:function(b,e,h,f,g){if(e.subarray&&b.subarray)return void b.set(e.subarray(h,h+f),g);for(var k=0;k<f;k++)b[g+k]=e[h+k]},flattenChunks:function(b){var e,h,f,g,k;e=f=0;for(h=b.length;e<h;e++)f+=b[e].length;
k=new Uint8Array(f);e=f=0;for(h=b.length;e<h;e++)g=b[e],k.set(g,f),f+=g.length;return k}},m={arraySet:function(b,e,h,f,g){for(var k=0;k<f;k++)b[g+k]=e[h+k]},flattenChunks:function(b){return[].concat.apply([],b)}};f.setTyped=function(b){b?(f.Buf8=Uint8Array,f.Buf16=Uint16Array,f.Buf32=Int32Array,f.assign(f,k)):(f.Buf8=Array,f.Buf16=Array,f.Buf32=Array,f.assign(f,m))};f.setTyped(b)},{}],63:[function(b,e,f){function k(b,e){if(65537>e&&(b.subarray&&t||!b.subarray&&q))return String.fromCharCode.apply(null,
m.shrinkBuf(b,e));for(var g="",h=0;h<e;h++)g+=String.fromCharCode(b[h]);return g}var m=b("./common"),q=!0,t=!0;try{String.fromCharCode.apply(null,[0])}catch(n){q=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(n){t=!1}var h=new m.Buf8(256);for(b=0;256>b;b++)h[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;h[254]=h[254]=1;f.string2buf=function(b){var e,h,f,k,n,q=b.length,t=0;for(k=0;k<q;k++)h=b.charCodeAt(k),55296===(64512&h)&&k+1<q&&(f=b.charCodeAt(k+1),56320===(64512&f)&&(h=65536+
(h-55296<<10)+(f-56320),k++)),t+=128>h?1:2048>h?2:65536>h?3:4;e=new m.Buf8(t);for(k=n=0;n<t;k++)h=b.charCodeAt(k),55296===(64512&h)&&k+1<q&&(f=b.charCodeAt(k+1),56320===(64512&f)&&(h=65536+(h-55296<<10)+(f-56320),k++)),128>h?e[n++]=h:2048>h?(e[n++]=192|h>>>6,e[n++]=128|63&h):65536>h?(e[n++]=224|h>>>12,e[n++]=128|h>>>6&63,e[n++]=128|63&h):(e[n++]=240|h>>>18,e[n++]=128|h>>>12&63,e[n++]=128|h>>>6&63,e[n++]=128|63&h);return e};f.buf2binstring=function(b){return k(b,b.length)};f.binstring2buf=function(b){for(var e=
new m.Buf8(b.length),h=0,f=e.length;h<f;h++)e[h]=b.charCodeAt(h);return e};f.buf2string=function(b,e){var g,f,n,m,q=e||b.length,t=Array(2*q);for(g=f=0;g<q;)if(n=b[g++],128>n)t[f++]=n;else if(m=h[n],4<m)t[f++]=65533,g+=m-1;else{for(n&=2===m?31:3===m?15:7;1<m&&g<q;)n=n<<6|63&b[g++],m--;1<m?t[f++]=65533:65536>n?t[f++]=n:(n-=65536,t[f++]=55296|n>>10&1023,t[f++]=56320|1023&n)}return k(t,f)};f.utf8border=function(b,e){var g;e=e||b.length;e>b.length&&(e=b.length);for(g=e-1;0<=g&&128===(192&b[g]);)g--;return 0>
g?e:0===g?e:g+h[b[g]]>e?g:e}},{"./common":62}],64:[function(b,e,f){e.exports=function(b,e,f,t){var h=65535&b|0;b=b>>>16&65535|0;for(var k;0!==f;){k=2E3<f?2E3:f;f-=k;do h=h+e[t++]|0,b=b+h|0;while(--k);h%=65521;b%=65521}return h|b<<16|0}},{}],65:[function(b,e,f){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,
Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],66:[function(b,e,f){var k=function(){for(var b,e=[],f=0;256>f;f++){b=f;for(var h=0;8>h;h++)b=1&b?3988292384^b>>>1:b>>>1;e[f]=b}return e}();e.exports=function(b,e,f,h){f=h+f;for(b^=-1;h<f;h++)b=b>>>8^k[255&(b^e[h])];return b^-1}},{}],67:[function(b,e,f){function k(b,e){return b.msg=C[e],e}function m(b){for(var e=b.length;0<=--e;)b[e]=0}function q(b){var e=
b.state,g=e.pending;g>b.avail_out&&(g=b.avail_out);0!==g&&(J.arraySet(b.output,e.pending_buf,e.pending_out,g,b.next_out),b.next_out+=g,e.pending_out+=g,b.total_out+=g,b.avail_out-=g,e.pending-=g,0===e.pending&&(e.pending_out=0))}function t(b,e){K._tr_flush_block(b,0<=b.block_start?b.block_start:-1,b.strstart-b.block_start,e);b.block_start=b.strstart;q(b.strm)}function h(b,e){b.pending_buf[b.pending++]=e}function n(b,e){b.pending_buf[b.pending++]=e>>>8&255;b.pending_buf[b.pending++]=255&e}function g(b,
e){var g,h,f=b.max_chain_length,k=b.strstart,n=b.prev_length,m=b.nice_match,y=b.strstart>b.w_size-W?b.strstart-(b.w_size-W):0,q=b.window,H=b.w_mask,v=b.prev,p=b.strstart+T,C=q[k+n-1],t=q[k+n];b.prev_length>=b.good_match&&(f>>=2);m>b.lookahead&&(m=b.lookahead);do if(g=e,q[g+n]===t&&q[g+n-1]===C&&q[g]===q[k]&&q[++g]===q[k+1]){k+=2;for(g++;q[++k]===q[++g]&&q[++k]===q[++g]&&q[++k]===q[++g]&&q[++k]===q[++g]&&q[++k]===q[++g]&&q[++k]===q[++g]&&q[++k]===q[++g]&&q[++k]===q[++g]&&k<p;);if(h=T-(p-k),k=p-T,h>
n){if(b.match_start=e,n=h,h>=m)break;C=q[k+n-1];t=q[k+n]}}while((e=v[e&H])>y&&0!==--f);return n<=b.lookahead?n:b.lookahead}function v(b){var e,g,h,f,k=b.w_size;do{if(f=b.window_size-b.lookahead-b.strstart,b.strstart>=k+(k-W)){J.arraySet(b.window,b.window,k,k,0);b.match_start-=k;b.strstart-=k;b.block_start-=k;e=g=b.hash_size;do h=b.head[--e],b.head[e]=h>=k?h-k:0;while(--g);e=g=k;do h=b.prev[--e],b.prev[e]=h>=k?h-k:0;while(--g);f+=k}if(0===b.strm.avail_in)break;e=b.strm;h=b.window;var n=b.strstart+
b.lookahead,m=e.avail_in;if(g=(m>f&&(m=f),0===m?0:(e.avail_in-=m,J.arraySet(h,e.input,e.next_in,m,n),1===e.state.wrap?e.adler=P(e.adler,h,m,n):2===e.state.wrap&&(e.adler=N(e.adler,h,m,n)),e.next_in+=m,e.total_in+=m,m)),b.lookahead+=g,b.lookahead+b.insert>=M)for(f=b.strstart-b.insert,b.ins_h=b.window[f],b.ins_h=(b.ins_h<<b.hash_shift^b.window[f+1])&b.hash_mask;b.insert&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[f+M-1])&b.hash_mask,b.prev[f&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=f,f++,b.insert--,
!(b.lookahead+b.insert<M)););}while(b.lookahead<W&&0!==b.strm.avail_in)}function B(b,e){for(var h,f;;){if(b.lookahead<W){if(v(b),b.lookahead<W&&e===A)return X;if(0===b.lookahead)break}if(h=0,b.lookahead>=M&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+M-1])&b.hash_mask,h=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),0!==h&&b.strstart-h<=b.w_size-W&&(b.match_length=g(b,h)),b.match_length>=M)if(f=K._tr_tally(b,b.strstart-b.match_start,b.match_length-M),b.lookahead-=
b.match_length,b.match_length<=b.max_lazy_match&&b.lookahead>=M){b.match_length--;do b.strstart++,b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+M-1])&b.hash_mask,h=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart;while(0!==--b.match_length);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+1])&b.hash_mask;else f=K._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(f&&
(t(b,!1),0===b.strm.avail_out))return X}return b.insert=b.strstart<M-1?b.strstart:M-1,e===y?(t(b,!0),0===b.strm.avail_out?ha:ba):b.last_lit&&(t(b,!1),0===b.strm.avail_out)?X:ga}function z(b,e){for(var h,f,k;;){if(b.lookahead<W){if(v(b),b.lookahead<W&&e===A)return X;if(0===b.lookahead)break}if(h=0,b.lookahead>=M&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+M-1])&b.hash_mask,h=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),b.prev_length=b.match_length,b.prev_match=b.match_start,
b.match_length=M-1,0!==h&&b.prev_length<b.max_lazy_match&&b.strstart-h<=b.w_size-W&&(b.match_length=g(b,h),5>=b.match_length&&(b.strategy===ia||b.match_length===M&&4096<b.strstart-b.match_start)&&(b.match_length=M-1)),b.prev_length>=M&&b.match_length<=b.prev_length){k=b.strstart+b.lookahead-M;f=K._tr_tally(b,b.strstart-1-b.prev_match,b.prev_length-M);b.lookahead-=b.prev_length-1;b.prev_length-=2;do++b.strstart<=k&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+M-1])&b.hash_mask,h=b.prev[b.strstart&
b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart);while(0!==--b.prev_length);if(b.match_available=0,b.match_length=M-1,b.strstart++,f&&(t(b,!1),0===b.strm.avail_out))return X}else if(b.match_available){if(f=K._tr_tally(b,0,b.window[b.strstart-1]),f&&t(b,!1),b.strstart++,b.lookahead--,0===b.strm.avail_out)return X}else b.match_available=1,b.strstart++,b.lookahead--}return b.match_available&&(K._tr_tally(b,0,b.window[b.strstart-1]),b.match_available=0),b.insert=b.strstart<M-1?b.strstart:M-1,e===
y?(t(b,!0),0===b.strm.avail_out?ha:ba):b.last_lit&&(t(b,!1),0===b.strm.avail_out)?X:ga}function x(b,e,g,h,f){this.good_length=b;this.max_lazy=e;this.nice_length=g;this.max_chain=h;this.func=f}function w(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=da;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=
this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new J.Buf16(2*pa);this.dyn_dtree=new J.Buf16(2*(2*oa+1));this.bl_tree=new J.Buf16(2*(2*O+1));m(this.dyn_ltree);m(this.dyn_dtree);m(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=
new J.Buf16(U+1);this.heap=new J.Buf16(2*va+1);m(this.heap);this.heap_max=this.heap_len=0;this.depth=new J.Buf16(2*va+1);m(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function F(b){var e;return b&&b.state?(b.total_in=b.total_out=0,b.data_type=ma,e=b.state,e.pending=0,e.pending_out=0,0>e.wrap&&(e.wrap=-e.wrap),e.status=e.wrap?ja:ka,b.adler=2===e.wrap?0:1,e.last_flush=A,K._tr_init(e),Q):k(b,S)}function u(b){var e=
F(b);e===Q&&(b=b.state,b.window_size=2*b.w_size,m(b.head),b.max_lazy_match=I[b.level].max_lazy,b.good_match=I[b.level].good_length,b.nice_match=I[b.level].nice_length,b.max_chain_length=I[b.level].max_chain,b.strstart=0,b.block_start=0,b.lookahead=0,b.insert=0,b.match_length=b.prev_length=M-1,b.match_available=0,b.ins_h=0);return e}function G(b,e,g,h,f,n){if(!b)return S;var m=1;if(e===R&&(e=6),0>h?(m=0,h=-h):15<h&&(m=2,h-=16),1>f||f>D||g!==da||8>h||15<h||0>e||9<e||0>n||n>ea)return k(b,S);8===h&&(h=
9);var y=new w;return b.state=y,y.strm=b,y.wrap=m,y.gzhead=null,y.w_bits=h,y.w_size=1<<y.w_bits,y.w_mask=y.w_size-1,y.hash_bits=f+7,y.hash_size=1<<y.hash_bits,y.hash_mask=y.hash_size-1,y.hash_shift=~~((y.hash_bits+M-1)/M),y.window=new J.Buf8(2*y.w_size),y.head=new J.Buf16(y.hash_size),y.prev=new J.Buf16(y.w_size),y.lit_bufsize=1<<f+6,y.pending_buf_size=4*y.lit_bufsize,y.pending_buf=new J.Buf8(y.pending_buf_size),y.d_buf=1*y.lit_bufsize,y.l_buf=3*y.lit_bufsize,y.level=e,y.strategy=n,y.method=g,u(b)}
var I,J=b("../utils/common"),K=b("./trees"),P=b("./adler32"),N=b("./crc32"),C=b("./messages"),A=0,y=4,Q=0,S=-2,R=-1,ia=1,ea=4,ma=2,da=8,D=9,va=286,oa=30,O=19,pa=2*va+1,U=15,M=3,T=258,W=T+M+1,ja=42,ka=113,X=1,ga=2,ha=3,ba=4;I=[new x(0,0,0,0,function(b,e){var g=65535;for(g>b.pending_buf_size-5&&(g=b.pending_buf_size-5);;){if(1>=b.lookahead){if(v(b),0===b.lookahead&&e===A)return X;if(0===b.lookahead)break}b.strstart+=b.lookahead;b.lookahead=0;var h=b.block_start+g;if((0===b.strstart||b.strstart>=h)&&
(b.lookahead=b.strstart-h,b.strstart=h,t(b,!1),0===b.strm.avail_out)||b.strstart-b.block_start>=b.w_size-W&&(t(b,!1),0===b.strm.avail_out))return X}return b.insert=0,e===y?(t(b,!0),0===b.strm.avail_out?ha:ba):(b.strstart>b.block_start&&t(b,!1),X)}),new x(4,4,8,4,B),new x(4,5,16,8,B),new x(4,6,32,32,B),new x(4,4,16,16,z),new x(8,16,32,32,z),new x(8,16,128,128,z),new x(8,32,128,256,z),new x(32,128,258,1024,z),new x(32,258,258,4096,z)];f.deflateInit=function(b,e){return G(b,e,da,15,8,0)};f.deflateInit2=
G;f.deflateReset=u;f.deflateResetKeep=F;f.deflateSetHeader=function(b,e){return b&&b.state?2!==b.state.wrap?S:(b.state.gzhead=e,Q):S};f.deflate=function(b,e){var g,f,C,u;if(!b||!b.state||5<e||0>e)return b?k(b,S):S;if(f=b.state,!b.output||!b.input&&0!==b.avail_in||666===f.status&&e!==y)return k(b,0===b.avail_out?-5:S);if(f.strm=b,g=f.last_flush,f.last_flush=e,f.status===ja)2===f.wrap?(b.adler=0,h(f,31),h(f,139),h(f,8),f.gzhead?(h(f,(f.gzhead.text?1:0)+(f.gzhead.hcrc?2:0)+(f.gzhead.extra?4:0)+(f.gzhead.name?
8:0)+(f.gzhead.comment?16:0)),h(f,255&f.gzhead.time),h(f,f.gzhead.time>>8&255),h(f,f.gzhead.time>>16&255),h(f,f.gzhead.time>>24&255),h(f,9===f.level?2:2<=f.strategy||2>f.level?4:0),h(f,255&f.gzhead.os),f.gzhead.extra&&f.gzhead.extra.length&&(h(f,255&f.gzhead.extra.length),h(f,f.gzhead.extra.length>>8&255)),f.gzhead.hcrc&&(b.adler=N(b.adler,f.pending_buf,f.pending,0)),f.gzindex=0,f.status=69):(h(f,0),h(f,0),h(f,0),h(f,0),h(f,0),h(f,9===f.level?2:2<=f.strategy||2>f.level?4:0),h(f,3),f.status=ka)):(C=
da+(f.w_bits-8<<4)<<8,C|=(2<=f.strategy||2>f.level?0:6>f.level?1:6===f.level?2:3)<<6,0!==f.strstart&&(C|=32),f.status=ka,n(f,C+(31-C%31)),0!==f.strstart&&(n(f,b.adler>>>16),n(f,65535&b.adler)),b.adler=1);if(69===f.status)if(f.gzhead.extra){for(C=f.pending;f.gzindex<(65535&f.gzhead.extra.length)&&(f.pending!==f.pending_buf_size||(f.gzhead.hcrc&&f.pending>C&&(b.adler=N(b.adler,f.pending_buf,f.pending-C,C)),q(b),C=f.pending,f.pending!==f.pending_buf_size));)h(f,255&f.gzhead.extra[f.gzindex]),f.gzindex++;
f.gzhead.hcrc&&f.pending>C&&(b.adler=N(b.adler,f.pending_buf,f.pending-C,C));f.gzindex===f.gzhead.extra.length&&(f.gzindex=0,f.status=73)}else f.status=73;if(73===f.status)if(f.gzhead.name){C=f.pending;do{if(f.pending===f.pending_buf_size&&(f.gzhead.hcrc&&f.pending>C&&(b.adler=N(b.adler,f.pending_buf,f.pending-C,C)),q(b),C=f.pending,f.pending===f.pending_buf_size)){u=1;break}u=f.gzindex<f.gzhead.name.length?255&f.gzhead.name.charCodeAt(f.gzindex++):0;h(f,u)}while(0!==u);f.gzhead.hcrc&&f.pending>C&&
(b.adler=N(b.adler,f.pending_buf,f.pending-C,C));0===u&&(f.gzindex=0,f.status=91)}else f.status=91;if(91===f.status)if(f.gzhead.comment){C=f.pending;do{if(f.pending===f.pending_buf_size&&(f.gzhead.hcrc&&f.pending>C&&(b.adler=N(b.adler,f.pending_buf,f.pending-C,C)),q(b),C=f.pending,f.pending===f.pending_buf_size)){u=1;break}u=f.gzindex<f.gzhead.comment.length?255&f.gzhead.comment.charCodeAt(f.gzindex++):0;h(f,u)}while(0!==u);f.gzhead.hcrc&&f.pending>C&&(b.adler=N(b.adler,f.pending_buf,f.pending-C,
C));0===u&&(f.status=103)}else f.status=103;if(103===f.status&&(f.gzhead.hcrc?(f.pending+2>f.pending_buf_size&&q(b),f.pending+2<=f.pending_buf_size&&(h(f,255&b.adler),h(f,b.adler>>8&255),b.adler=0,f.status=ka)):f.status=ka),0!==f.pending){if(q(b),0===b.avail_out)return f.last_flush=-1,Q}else if(0===b.avail_in&&(e<<1)-(4<e?9:0)<=(g<<1)-(4<g?9:0)&&e!==y)return k(b,-5);if(666===f.status&&0!==b.avail_in)return k(b,-5);if(0!==b.avail_in||0!==f.lookahead||e!==A&&666!==f.status){var z;if(2===f.strategy)a:{for(var x;;){if(0===
f.lookahead&&(v(f),0===f.lookahead)){if(e===A){z=X;break a}break}if(f.match_length=0,x=K._tr_tally(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++,x&&(t(f,!1),0===f.strm.avail_out)){z=X;break a}}z=(f.insert=0,e===y?(t(f,!0),0===f.strm.avail_out?ha:ba):f.last_lit&&(t(f,!1),0===f.strm.avail_out)?X:ga)}else if(3===f.strategy)a:{var B,w;for(x=f.window;;){if(f.lookahead<=T){if(v(f),f.lookahead<=T&&e===A){z=X;break a}if(0===f.lookahead)break}if(f.match_length=0,f.lookahead>=M&&0<f.strstart&&(w=f.strstart-
1,B=x[w],B===x[++w]&&B===x[++w]&&B===x[++w])){for(g=f.strstart+T;B===x[++w]&&B===x[++w]&&B===x[++w]&&B===x[++w]&&B===x[++w]&&B===x[++w]&&B===x[++w]&&B===x[++w]&&w<g;);f.match_length=T-(g-w);f.match_length>f.lookahead&&(f.match_length=f.lookahead)}if(f.match_length>=M?(z=K._tr_tally(f,1,f.match_length-M),f.lookahead-=f.match_length,f.strstart+=f.match_length,f.match_length=0):(z=K._tr_tally(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++),z&&(t(f,!1),0===f.strm.avail_out)){z=X;break a}}z=(f.insert=
0,e===y?(t(f,!0),0===f.strm.avail_out?ha:ba):f.last_lit&&(t(f,!1),0===f.strm.avail_out)?X:ga)}else z=I[f.level].func(f,e);if(z!==ha&&z!==ba||(f.status=666),z===X||z===ha)return 0===b.avail_out&&(f.last_flush=-1),Q;if(z===ga&&(1===e?K._tr_align(f):5!==e&&(K._tr_stored_block(f,0,0,!1),3===e&&(m(f.head),0===f.lookahead&&(f.strstart=0,f.block_start=0,f.insert=0))),q(b),0===b.avail_out))return f.last_flush=-1,Q}return e!==y?Q:0>=f.wrap?1:(2===f.wrap?(h(f,255&b.adler),h(f,b.adler>>8&255),h(f,b.adler>>16&
255),h(f,b.adler>>24&255),h(f,255&b.total_in),h(f,b.total_in>>8&255),h(f,b.total_in>>16&255),h(f,b.total_in>>24&255)):(n(f,b.adler>>>16),n(f,65535&b.adler)),q(b),0<f.wrap&&(f.wrap=-f.wrap),0!==f.pending?Q:1)};f.deflateEnd=function(b){var e;return b&&b.state?(e=b.state.status,e!==ja&&69!==e&&73!==e&&91!==e&&103!==e&&e!==ka&&666!==e?k(b,S):(b.state=null,e===ka?k(b,-3):Q)):S};f.deflateSetDictionary=function(b,e){var g,f,h,k,n,y,q;f=e.length;if(!b||!b.state||(g=b.state,k=g.wrap,2===k||1===k&&g.status!==
ja||g.lookahead))return S;1===k&&(b.adler=P(b.adler,e,f,0));g.wrap=0;f>=g.w_size&&(0===k&&(m(g.head),g.strstart=0,g.block_start=0,g.insert=0),n=new J.Buf8(g.w_size),J.arraySet(n,e,f-g.w_size,g.w_size,0),e=n,f=g.w_size);n=b.avail_in;y=b.next_in;q=b.input;b.avail_in=f;b.next_in=0;b.input=e;for(v(g);g.lookahead>=M;){f=g.strstart;h=g.lookahead-(M-1);do g.ins_h=(g.ins_h<<g.hash_shift^g.window[f+M-1])&g.hash_mask,g.prev[f&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=f,f++;while(--h);g.strstart=f;g.lookahead=
M-1;v(g)}return g.strstart+=g.lookahead,g.block_start=g.strstart,g.insert=g.lookahead,g.lookahead=0,g.match_length=g.prev_length=M-1,g.match_available=0,b.next_in=y,b.input=q,b.avail_in=n,g.wrap=k,Q};f.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./messages":72,"./trees":73}],68:[function(b,e,f){e.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1}},
{}],69:[function(b,e,f){e.exports=function(b,e){var f,k,h,n,g,m,B,z,x,w,F,u,G,I,J,K,P,N,C,A,y,Q,S,R;f=b.state;k=b.next_in;S=b.input;h=k+(b.avail_in-5);n=b.next_out;R=b.output;g=n-(e-b.avail_out);m=n+(b.avail_out-257);B=f.dmax;z=f.wsize;x=f.whave;w=f.wnext;F=f.window;u=f.hold;G=f.bits;I=f.lencode;J=f.distcode;K=(1<<f.lenbits)-1;P=(1<<f.distbits)-1;a:do b:for(15>G&&(u+=S[k++]<<G,G+=8,u+=S[k++]<<G,G+=8),N=I[u&K];;){if(C=N>>>24,u>>>=C,G-=C,C=N>>>16&255,0===C)R[n++]=65535&N;else{if(!(16&C)){if(0===(64&
C)){N=I[(65535&N)+(u&(1<<C)-1)];continue b}if(32&C){f.mode=12;break a}b.msg="invalid literal/length code";f.mode=30;break a}A=65535&N;(C&=15)&&(G<C&&(u+=S[k++]<<G,G+=8),A+=u&(1<<C)-1,u>>>=C,G-=C);15>G&&(u+=S[k++]<<G,G+=8,u+=S[k++]<<G,G+=8);N=J[u&P];c:for(;;){if(C=N>>>24,u>>>=C,G-=C,C=N>>>16&255,!(16&C)){if(0===(64&C)){N=J[(65535&N)+(u&(1<<C)-1)];continue c}b.msg="invalid distance code";f.mode=30;break a}if(y=65535&N,C&=15,G<C&&(u+=S[k++]<<G,G+=8,G<C&&(u+=S[k++]<<G,G+=8)),y+=u&(1<<C)-1,y>B){b.msg=
"invalid distance too far back";f.mode=30;break a}if(u>>>=C,G-=C,C=n-g,y>C){if(C=y-C,C>x&&f.sane){b.msg="invalid distance too far back";f.mode=30;break a}if(N=0,Q=F,0===w){if(N+=z-C,C<A){A-=C;do R[n++]=F[N++];while(--C);N=n-y;Q=R}}else if(w<C){if(N+=z+w-C,C-=w,C<A){A-=C;do R[n++]=F[N++];while(--C);if(N=0,w<A){C=w;A-=C;do R[n++]=F[N++];while(--C);N=n-y;Q=R}}}else if(N+=w-C,C<A){A-=C;do R[n++]=F[N++];while(--C);N=n-y;Q=R}for(;2<A;)R[n++]=Q[N++],R[n++]=Q[N++],R[n++]=Q[N++],A-=3;A&&(R[n++]=Q[N++],1<A&&
(R[n++]=Q[N++]))}else{N=n-y;do R[n++]=R[N++],R[n++]=R[N++],R[n++]=R[N++],A-=3;while(2<A);A&&(R[n++]=R[N++],1<A&&(R[n++]=R[N++]))}break}}break}while(k<h&&n<m);A=G>>3;k-=A;G-=A<<3;b.next_in=k;b.next_out=n;b.avail_in=k<h?5+(h-k):5-(k-h);b.avail_out=n<m?257+(m-n):257-(n-m);f.hold=u&(1<<G)-1;f.bits=G}},{}],70:[function(b,e,f){function k(b){return(b>>>24&255)+(b>>>8&65280)+((65280&b)<<8)+((255&b)<<24)}function m(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=
0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new z.Buf16(320);this.work=new z.Buf16(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function q(b){var e;return b&&b.state?(e=b.state,b.total_in=b.total_out=e.total=0,b.msg="",e.wrap&&(b.adler=1&e.wrap),e.mode=J,e.last=
0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new z.Buf32(K),e.distcode=e.distdyn=new z.Buf32(P),e.sane=1,e.back=-1,G):I}function t(b){var e;return b&&b.state?(e=b.state,e.wsize=0,e.whave=0,e.wnext=0,q(b)):I}function h(b,e){var g,f;return b&&b.state?(f=b.state,0>e?(g=0,e=-e):(g=(e>>4)+1,48>e&&(e&=15)),e&&(8>e||15<e)?I:(null!==f.window&&f.wbits!==e&&(f.window=null),f.wrap=g,f.wbits=e,t(b))):I}function n(b,e){var g,f;return b?(f=new m,b.state=f,f.window=null,g=h(b,e),
g!==G&&(b.state=null),g):I}function g(b,e,g,f){var h;b=b.state;return null===b.window&&(b.wsize=1<<b.wbits,b.wnext=0,b.whave=0,b.window=new z.Buf8(b.wsize)),f>=b.wsize?(z.arraySet(b.window,e,g-b.wsize,b.wsize,0),b.wnext=0,b.whave=b.wsize):(h=b.wsize-b.wnext,h>f&&(h=f),z.arraySet(b.window,e,g-f,h,b.wnext),f-=h,f?(z.arraySet(b.window,e,g-f,f,0),b.wnext=f,b.whave=b.wsize):(b.wnext+=h,b.wnext===b.wsize&&(b.wnext=0),b.whave<b.wsize&&(b.whave+=h))),0}var v,B,z=b("../utils/common"),x=b("./adler32"),w=b("./crc32"),
F=b("./inffast"),u=b("./inftrees"),G=0,I=-2,J=1,K=852,P=592,N=!0;f.inflateReset=t;f.inflateReset2=h;f.inflateResetKeep=q;f.inflateInit=function(b){return n(b,15)};f.inflateInit2=n;f.inflate=function(b,e){var f,h,n,m,q,t,C,A,D,K,P,O,pa,U,M,T,W,ja,ka,X,ga,ha,ba=0,H=new z.Buf8(4),wa=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!b||!b.state||!b.output||!b.input&&0!==b.avail_in)return I;f=b.state;12===f.mode&&(f.mode=13);q=b.next_out;n=b.output;C=b.avail_out;m=b.next_in;h=b.input;t=b.avail_in;A=
f.hold;D=f.bits;K=t;P=C;ga=G;a:for(;;)switch(f.mode){case J:if(0===f.wrap){f.mode=13;break}for(;16>D;){if(0===t)break a;t--;A+=h[m++]<<D;D+=8}if(2&f.wrap&&35615===A){f.check=0;H[0]=255&A;H[1]=A>>>8&255;f.check=w(f.check,H,2,0);D=A=0;f.mode=2;break}if(f.flags=0,f.head&&(f.head.done=!1),!(1&f.wrap)||(((255&A)<<8)+(A>>8))%31){b.msg="incorrect header check";f.mode=30;break}if(8!==(15&A)){b.msg="unknown compression method";f.mode=30;break}if(A>>>=4,D-=4,X=(15&A)+8,0===f.wbits)f.wbits=X;else if(X>f.wbits){b.msg=
"invalid window size";f.mode=30;break}f.dmax=1<<X;b.adler=f.check=1;f.mode=512&A?10:12;D=A=0;break;case 2:for(;16>D;){if(0===t)break a;t--;A+=h[m++]<<D;D+=8}if(f.flags=A,8!==(255&f.flags)){b.msg="unknown compression method";f.mode=30;break}if(57344&f.flags){b.msg="unknown header flags set";f.mode=30;break}f.head&&(f.head.text=A>>8&1);512&f.flags&&(H[0]=255&A,H[1]=A>>>8&255,f.check=w(f.check,H,2,0));D=A=0;f.mode=3;case 3:for(;32>D;){if(0===t)break a;t--;A+=h[m++]<<D;D+=8}f.head&&(f.head.time=A);512&
f.flags&&(H[0]=255&A,H[1]=A>>>8&255,H[2]=A>>>16&255,H[3]=A>>>24&255,f.check=w(f.check,H,4,0));D=A=0;f.mode=4;case 4:for(;16>D;){if(0===t)break a;t--;A+=h[m++]<<D;D+=8}f.head&&(f.head.xflags=255&A,f.head.os=A>>8);512&f.flags&&(H[0]=255&A,H[1]=A>>>8&255,f.check=w(f.check,H,2,0));D=A=0;f.mode=5;case 5:if(1024&f.flags){for(;16>D;){if(0===t)break a;t--;A+=h[m++]<<D;D+=8}f.length=A;f.head&&(f.head.extra_len=A);512&f.flags&&(H[0]=255&A,H[1]=A>>>8&255,f.check=w(f.check,H,2,0));D=A=0}else f.head&&(f.head.extra=
null);f.mode=6;case 6:if(1024&f.flags&&(O=f.length,O>t&&(O=t),O&&(f.head&&(X=f.head.extra_len-f.length,f.head.extra||(f.head.extra=Array(f.head.extra_len)),z.arraySet(f.head.extra,h,m,O,X)),512&f.flags&&(f.check=w(f.check,h,O,m)),t-=O,m+=O,f.length-=O),f.length))break a;f.length=0;f.mode=7;case 7:if(2048&f.flags){if(0===t)break a;O=0;do X=h[m+O++],f.head&&X&&65536>f.length&&(f.head.name+=String.fromCharCode(X));while(X&&O<t);if(512&f.flags&&(f.check=w(f.check,h,O,m)),t-=O,m+=O,X)break a}else f.head&&
(f.head.name=null);f.length=0;f.mode=8;case 8:if(4096&f.flags){if(0===t)break a;O=0;do X=h[m+O++],f.head&&X&&65536>f.length&&(f.head.comment+=String.fromCharCode(X));while(X&&O<t);if(512&f.flags&&(f.check=w(f.check,h,O,m)),t-=O,m+=O,X)break a}else f.head&&(f.head.comment=null);f.mode=9;case 9:if(512&f.flags){for(;16>D;){if(0===t)break a;t--;A+=h[m++]<<D;D+=8}if(A!==(65535&f.check)){b.msg="header crc mismatch";f.mode=30;break}D=A=0}f.head&&(f.head.hcrc=f.flags>>9&1,f.head.done=!0);b.adler=f.check=
0;f.mode=12;break;case 10:for(;32>D;){if(0===t)break a;t--;A+=h[m++]<<D;D+=8}b.adler=f.check=k(A);D=A=0;f.mode=11;case 11:if(0===f.havedict)return b.next_out=q,b.avail_out=C,b.next_in=m,b.avail_in=t,f.hold=A,f.bits=D,2;b.adler=f.check=1;f.mode=12;case 12:if(5===e||6===e)break a;case 13:if(f.last){A>>>=7&D;D-=7&D;f.mode=27;break}for(;3>D;){if(0===t)break a;t--;A+=h[m++]<<D;D+=8}switch(f.last=1&A,A>>>=1,--D,3&A){case 0:f.mode=14;break;case 1:U=f;if(N){v=new z.Buf32(512);B=new z.Buf32(32);for(T=0;144>
T;)U.lens[T++]=8;for(;256>T;)U.lens[T++]=9;for(;280>T;)U.lens[T++]=7;for(;288>T;)U.lens[T++]=8;u(1,U.lens,0,288,v,0,U.work,{bits:9});for(T=0;32>T;)U.lens[T++]=5;u(2,U.lens,0,32,B,0,U.work,{bits:5});N=!1}U.lencode=v;U.lenbits=9;U.distcode=B;U.distbits=5;if(f.mode=20,6===e){A>>>=2;D-=2;break a}break;case 2:f.mode=17;break;case 3:b.msg="invalid block type",f.mode=30}A>>>=2;D-=2;break;case 14:A>>>=7&D;for(D-=7&D;32>D;){if(0===t)break a;t--;A+=h[m++]<<D;D+=8}if((65535&A)!==(A>>>16^65535)){b.msg="invalid stored block lengths";
f.mode=30;break}if(f.length=65535&A,A=0,D=0,f.mode=15,6===e)break a;case 15:f.mode=16;case 16:if(O=f.length){if(O>t&&(O=t),O>C&&(O=C),0===O)break a;z.arraySet(n,h,m,O,q);t-=O;m+=O;C-=O;q+=O;f.length-=O;break}f.mode=12;break;case 17:for(;14>D;){if(0===t)break a;t--;A+=h[m++]<<D;D+=8}if(f.nlen=(31&A)+257,A>>>=5,D-=5,f.ndist=(31&A)+1,A>>>=5,D-=5,f.ncode=(15&A)+4,A>>>=4,D-=4,286<f.nlen||30<f.ndist){b.msg="too many length or distance symbols";f.mode=30;break}f.have=0;f.mode=18;case 18:for(;f.have<f.ncode;){for(;3>
D;){if(0===t)break a;t--;A+=h[m++]<<D;D+=8}f.lens[wa[f.have++]]=7&A;A>>>=3;D-=3}for(;19>f.have;)f.lens[wa[f.have++]]=0;if(f.lencode=f.lendyn,f.lenbits=7,ha={bits:f.lenbits},ga=u(0,f.lens,0,19,f.lencode,0,f.work,ha),f.lenbits=ha.bits,ga){b.msg="invalid code lengths set";f.mode=30;break}f.have=0;f.mode=19;case 19:for(;f.have<f.nlen+f.ndist;){for(;ba=f.lencode[A&(1<<f.lenbits)-1],M=ba>>>24,T=65535&ba,!(M<=D);){if(0===t)break a;t--;A+=h[m++]<<D;D+=8}if(16>T)A>>>=M,D-=M,f.lens[f.have++]=T;else{if(16===
T){for(U=M+2;D<U;){if(0===t)break a;t--;A+=h[m++]<<D;D+=8}if(A>>>=M,D-=M,0===f.have){b.msg="invalid bit length repeat";f.mode=30;break}X=f.lens[f.have-1];O=3+(3&A);A>>>=2;D-=2}else if(17===T){for(U=M+3;D<U;){if(0===t)break a;t--;A+=h[m++]<<D;D+=8}A>>>=M;D-=M;X=0;O=3+(7&A);A>>>=3;D-=3}else{for(U=M+7;D<U;){if(0===t)break a;t--;A+=h[m++]<<D;D+=8}A>>>=M;D-=M;X=0;O=11+(127&A);A>>>=7;D-=7}if(f.have+O>f.nlen+f.ndist){b.msg="invalid bit length repeat";f.mode=30;break}for(;O--;)f.lens[f.have++]=X}}if(30===
f.mode)break;if(0===f.lens[256]){b.msg="invalid code -- missing end-of-block";f.mode=30;break}if(f.lenbits=9,ha={bits:f.lenbits},ga=u(1,f.lens,0,f.nlen,f.lencode,0,f.work,ha),f.lenbits=ha.bits,ga){b.msg="invalid literal/lengths set";f.mode=30;break}if(f.distbits=6,f.distcode=f.distdyn,ha={bits:f.distbits},ga=u(2,f.lens,f.nlen,f.ndist,f.distcode,0,f.work,ha),f.distbits=ha.bits,ga){b.msg="invalid distances set";f.mode=30;break}if(f.mode=20,6===e)break a;case 20:f.mode=21;case 21:if(6<=t&&258<=C){b.next_out=
q;b.avail_out=C;b.next_in=m;b.avail_in=t;f.hold=A;f.bits=D;F(b,P);q=b.next_out;n=b.output;C=b.avail_out;m=b.next_in;h=b.input;t=b.avail_in;A=f.hold;D=f.bits;12===f.mode&&(f.back=-1);break}for(f.back=0;ba=f.lencode[A&(1<<f.lenbits)-1],M=ba>>>24,U=ba>>>16&255,T=65535&ba,!(M<=D);){if(0===t)break a;t--;A+=h[m++]<<D;D+=8}if(U&&0===(240&U)){W=M;ja=U;for(ka=T;ba=f.lencode[ka+((A&(1<<W+ja)-1)>>W)],M=ba>>>24,U=ba>>>16&255,T=65535&ba,!(W+M<=D);){if(0===t)break a;t--;A+=h[m++]<<D;D+=8}A>>>=W;D-=W;f.back+=W}if(A>>>=
M,D-=M,f.back+=M,f.length=T,0===U){f.mode=26;break}if(32&U){f.back=-1;f.mode=12;break}if(64&U){b.msg="invalid literal/length code";f.mode=30;break}f.extra=15&U;f.mode=22;case 22:if(f.extra){for(U=f.extra;D<U;){if(0===t)break a;t--;A+=h[m++]<<D;D+=8}f.length+=A&(1<<f.extra)-1;A>>>=f.extra;D-=f.extra;f.back+=f.extra}f.was=f.length;f.mode=23;case 23:for(;ba=f.distcode[A&(1<<f.distbits)-1],M=ba>>>24,U=ba>>>16&255,T=65535&ba,!(M<=D);){if(0===t)break a;t--;A+=h[m++]<<D;D+=8}if(0===(240&U)){W=M;ja=U;for(ka=
T;ba=f.distcode[ka+((A&(1<<W+ja)-1)>>W)],M=ba>>>24,U=ba>>>16&255,T=65535&ba,!(W+M<=D);){if(0===t)break a;t--;A+=h[m++]<<D;D+=8}A>>>=W;D-=W;f.back+=W}if(A>>>=M,D-=M,f.back+=M,64&U){b.msg="invalid distance code";f.mode=30;break}f.offset=T;f.extra=15&U;f.mode=24;case 24:if(f.extra){for(U=f.extra;D<U;){if(0===t)break a;t--;A+=h[m++]<<D;D+=8}f.offset+=A&(1<<f.extra)-1;A>>>=f.extra;D-=f.extra;f.back+=f.extra}if(f.offset>f.dmax){b.msg="invalid distance too far back";f.mode=30;break}f.mode=25;case 25:if(0===
C)break a;if(O=P-C,f.offset>O){if(O=f.offset-O,O>f.whave&&f.sane){b.msg="invalid distance too far back";f.mode=30;break}O>f.wnext?(O-=f.wnext,pa=f.wsize-O):pa=f.wnext-O;O>f.length&&(O=f.length);U=f.window}else U=n,pa=q-f.offset,O=f.length;O>C&&(O=C);C-=O;f.length-=O;do n[q++]=U[pa++];while(--O);0===f.length&&(f.mode=21);break;case 26:if(0===C)break a;n[q++]=f.length;C--;f.mode=21;break;case 27:if(f.wrap){for(;32>D;){if(0===t)break a;t--;A|=h[m++]<<D;D+=8}if(P-=C,b.total_out+=P,f.total+=P,P&&(b.adler=
f.check=f.flags?w(f.check,n,P,q-P):x(f.check,n,P,q-P)),P=C,(f.flags?A:k(A))!==f.check){b.msg="incorrect data check";f.mode=30;break}D=A=0}f.mode=28;case 28:if(f.wrap&&f.flags){for(;32>D;){if(0===t)break a;t--;A+=h[m++]<<D;D+=8}if(A!==(4294967295&f.total)){b.msg="incorrect length check";f.mode=30;break}D=A=0}f.mode=29;case 29:ga=1;break a;case 30:ga=-3;break a;case 31:return-4;default:return I}return b.next_out=q,b.avail_out=C,b.next_in=m,b.avail_in=t,f.hold=A,f.bits=D,(f.wsize||P!==b.avail_out&&30>
f.mode&&(27>f.mode||4!==e))&&g(b,b.output,b.next_out,P-b.avail_out)?(f.mode=31,-4):(K-=b.avail_in,P-=b.avail_out,b.total_in+=K,b.total_out+=P,f.total+=P,f.wrap&&P&&(b.adler=f.check=f.flags?w(f.check,n,P,b.next_out-P):x(f.check,n,P,b.next_out-P)),b.data_type=f.bits+(f.last?64:0)+(12===f.mode?128:0)+(20===f.mode||15===f.mode?256:0),(0===K&&0===P||4===e)&&ga===G&&(ga=-5),ga)};f.inflateEnd=function(b){if(!b||!b.state)return I;var e=b.state;return e.window&&(e.window=null),b.state=null,G};f.inflateGetHeader=
function(b,e){var f;return b&&b.state?(f=b.state,0===(2&f.wrap)?I:(f.head=e,e.done=!1,G)):I};f.inflateSetDictionary=function(b,e){var f,h,k=e.length;return b&&b.state?(f=b.state,0!==f.wrap&&11!==f.mode?I:11===f.mode&&(h=1,h=x(h,e,k,0),h!==f.check)?-3:g(b,e,k,k)?(f.mode=31,-4):(f.havedict=1,G)):I};f.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./inffast":69,"./inftrees":71}],71:[function(b,e,f){var k=b("../utils/common"),m=[3,4,5,6,7,8,9,10,11,
13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],q=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],t=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(b,e,f,B,z,x,w,F){var g,n,v,J,K,P,N,C,A=F.bits,y,Q,S,R,ia,ea,ma=0,da,D=null,va=0,oa=new k.Buf16(16);
J=new k.Buf16(16);var O=null,pa=0;for(y=0;15>=y;y++)oa[y]=0;for(Q=0;Q<B;Q++)oa[e[f+Q]]++;R=A;for(S=15;1<=S&&0===oa[S];S--);if(R>S&&(R=S),0===S)return z[x++]=20971520,z[x++]=20971520,F.bits=1,0;for(A=1;A<S&&0===oa[A];A++);R<A&&(R=A);for(y=g=1;15>=y;y++)if(g<<=1,g-=oa[y],0>g)return-1;if(0<g&&(0===b||1!==S))return-1;J[1]=0;for(y=1;15>y;y++)J[y+1]=J[y]+oa[y];for(Q=0;Q<B;Q++)0!==e[f+Q]&&(w[J[e[f+Q]]++]=Q);if(0===b?(D=O=w,K=19):1===b?(D=m,va-=257,O=q,pa-=257,K=256):(D=t,O=h,K=-1),da=0,Q=0,y=A,J=x,ia=R,
ea=0,v=-1,ma=1<<R,B=ma-1,1===b&&852<ma||2===b&&592<ma)return 1;for(var U=0;;){U++;P=y-ea;w[Q]<K?(N=0,C=w[Q]):w[Q]>K?(N=O[pa+w[Q]],C=D[va+w[Q]]):(N=96,C=0);g=1<<y-ea;A=n=1<<ia;do n-=g,z[J+(da>>ea)+n]=P<<24|N<<16|C|0;while(0!==n);for(g=1<<y-1;da&g;)g>>=1;if(0!==g?(da&=g-1,da+=g):da=0,Q++,0===--oa[y]){if(y===S)break;y=e[f+w[Q]]}if(y>R&&(da&B)!==v){0===ea&&(ea=R);J+=A;ia=y-ea;for(g=1<<ia;ia+ea<S&&(g-=oa[ia+ea],!(0>=g));)ia++,g<<=1;if(ma+=1<<ia,1===b&&852<ma||2===b&&592<ma)return 1;v=da&B;z[v]=R<<24|ia<<
16|J-x|0}}return 0!==da&&(z[J+da]=y-ea<<24|4194304),F.bits=R,0}},{"../utils/common":62}],72:[function(b,e,f){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],73:[function(b,e,f){function k(b){for(var e=b.length;0<=--e;)b[e]=0}function m(b,e,f,g,h){this.static_tree=b;this.extra_bits=e;this.extra_base=f;this.elems=g;this.max_length=h;this.has_stree=b&&b.length}function q(b,
e){this.dyn_tree=b;this.max_code=0;this.stat_desc=e}function t(b,e){b.pending_buf[b.pending++]=255&e;b.pending_buf[b.pending++]=e>>>8&255}function h(b,e,f){b.bi_valid>ma-f?(b.bi_buf|=e<<b.bi_valid&65535,t(b,b.bi_buf),b.bi_buf=e>>ma-b.bi_valid,b.bi_valid+=f-ma):(b.bi_buf|=e<<b.bi_valid&65535,b.bi_valid+=f)}function n(b,e,f){h(b,f[2*e],f[2*e+1])}function g(b,e){var f=0;do f|=1&b,b>>>=1,f<<=1;while(0<--e);return f>>>1}function v(b,e,f){var h,k=Array(ea+1),n=0;for(h=1;h<=ea;h++)k[h]=n=n+f[h-1]<<1;for(f=
0;f<=e;f++)h=b[2*f+1],0!==h&&(b[2*f]=g(k[h]++,h))}function B(b){var e;for(e=0;e<Q;e++)b.dyn_ltree[2*e]=0;for(e=0;e<S;e++)b.dyn_dtree[2*e]=0;for(e=0;e<R;e++)b.bl_tree[2*e]=0;b.dyn_ltree[2*da]=1;b.opt_len=b.static_len=0;b.last_lit=b.matches=0}function z(b){8<b.bi_valid?t(b,b.bi_buf):0<b.bi_valid&&(b.pending_buf[b.pending++]=b.bi_buf);b.bi_buf=0;b.bi_valid=0}function x(b,e,f,g){var h=2*e,k=2*f;return b[h]<b[k]||b[h]===b[k]&&g[e]<=g[f]}function w(b,e,f){for(var g=b.heap[f],h=f<<1;h<=b.heap_len&&(h<b.heap_len&&
x(e,b.heap[h+1],b.heap[h],b.depth)&&h++,!x(e,g,b.heap[h],b.depth));)b.heap[f]=b.heap[h],f=h,h<<=1;b.heap[f]=g}function F(b,e,f){var g,k,m,q,t=0;if(0!==b.last_lit){do g=b.pending_buf[b.d_buf+2*t]<<8|b.pending_buf[b.d_buf+2*t+1],k=b.pending_buf[b.l_buf+t],t++,0===g?n(b,k,e):(m=ka[k],n(b,m+y+1,e),q=O[m],0!==q&&(k-=X[m],h(b,k,q)),g--,m=256>g?ja[g]:ja[256+(g>>>7)],n(b,m,f),q=pa[m],0!==q&&(g-=ga[m],h(b,g,q)));while(t<b.last_lit)}n(b,da,e)}function u(b,e){var f,g,h,k=e.dyn_tree;g=e.stat_desc.static_tree;
var n=e.stat_desc.has_stree,m=e.stat_desc.elems,q=-1;b.heap_len=0;b.heap_max=ia;for(f=0;f<m;f++)0!==k[2*f]?(b.heap[++b.heap_len]=q=f,b.depth[f]=0):k[2*f+1]=0;for(;2>b.heap_len;)h=b.heap[++b.heap_len]=2>q?++q:0,k[2*h]=1,b.depth[h]=0,b.opt_len--,n&&(b.static_len-=g[2*h+1]);e.max_code=q;for(f=b.heap_len>>1;1<=f;f--)w(b,k,f);h=m;do f=b.heap[1],b.heap[1]=b.heap[b.heap_len--],w(b,k,1),g=b.heap[1],b.heap[--b.heap_max]=f,b.heap[--b.heap_max]=g,k[2*h]=k[2*f]+k[2*g],b.depth[h]=(b.depth[f]>=b.depth[g]?b.depth[f]:
b.depth[g])+1,k[2*f+1]=k[2*g+1]=h,b.heap[1]=h++,w(b,k,1);while(2<=b.heap_len);b.heap[--b.heap_max]=b.heap[1];var t,p,n=e.dyn_tree,m=e.max_code,A=e.stat_desc.static_tree,C=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,z=e.stat_desc.extra_base,y=e.stat_desc.max_length,x=0;for(g=0;g<=ea;g++)b.bl_count[g]=0;n[2*b.heap[b.heap_max]+1]=0;for(f=b.heap_max+1;f<ia;f++)h=b.heap[f],g=n[2*n[2*h+1]+1]+1,g>y&&(g=y,x++),n[2*h+1]=g,h>m||(b.bl_count[g]++,t=0,h>=z&&(t=u[h-z]),p=n[2*h],b.opt_len+=p*(g+t),C&&(b.static_len+=
p*(A[2*h+1]+t)));if(0!==x){do{for(g=y-1;0===b.bl_count[g];)g--;b.bl_count[g]--;b.bl_count[g+1]+=2;b.bl_count[y]--;x-=2}while(0<x);for(g=y;0!==g;g--)for(h=b.bl_count[g];0!==h;)t=b.heap[--f],t>m||(n[2*t+1]!==g&&(b.opt_len+=(g-n[2*t+1])*n[2*t],n[2*t+1]=g),h--)}v(k,q,b.bl_count)}function G(b,e,f){var g,h,k=-1,n=e[1],m=0,q=7,t=4;0===n&&(q=138,t=3);e[2*(f+1)+1]=65535;for(g=0;g<=f;g++)h=n,n=e[2*(g+1)+1],++m<q&&h===n||(m<t?b.bl_tree[2*h]+=m:0!==h?(h!==k&&b.bl_tree[2*h]++,b.bl_tree[2*D]++):10>=m?b.bl_tree[2*
va]++:b.bl_tree[2*oa]++,m=0,k=h,0===n?(q=138,t=3):h===n?(q=6,t=3):(q=7,t=4))}function I(b,e,f){var g,k,m=-1,q=e[1],t=0,v=7,A=4;0===q&&(v=138,A=3);for(g=0;g<=f;g++)if(k=q,q=e[2*(g+1)+1],!(++t<v&&k===q)){if(t<A){do n(b,k,b.bl_tree);while(0!==--t)}else 0!==k?(k!==m&&(n(b,k,b.bl_tree),t--),n(b,D,b.bl_tree),h(b,t-3,2)):10>=t?(n(b,va,b.bl_tree),h(b,t-3,3)):(n(b,oa,b.bl_tree),h(b,t-11,7));t=0;m=k;0===q?(v=138,A=3):k===q?(v=6,A=3):(v=7,A=4)}}function J(b){var e,f=4093624447;for(e=0;31>=e;e++,f>>>=1)if(1&
f&&0!==b.dyn_ltree[2*e])return N;if(0!==b.dyn_ltree[18]||0!==b.dyn_ltree[20]||0!==b.dyn_ltree[26])return C;for(e=32;e<y;e++)if(0!==b.dyn_ltree[2*e])return C;return N}function K(b,e,f,g){h(b,(A<<1)+(g?1:0),3);z(b);t(b,f);t(b,~f);P.arraySet(b.pending_buf,b.window,e,f,b.pending);b.pending+=f}var P=b("../utils/common"),N=0,C=1,A=0,y=256,Q=y+1+29,S=30,R=19,ia=2*Q+1,ea=15,ma=16,da=256,D=16,va=17,oa=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],pa=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,
8,8,9,9,10,10,11,11,12,12,13,13],U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],T=Array(2*(Q+2));k(T);var W=Array(2*S);k(W);var ja=Array(512);k(ja);var ka=Array(256);k(ka);var X=Array(29);k(X);var ga=Array(S);k(ga);var ha,ba,H,wa=!1;f._tr_init=function(b){if(!wa){var e,f,h,k=Array(ea+1);for(h=f=0;28>h;h++)for(X[h]=f,e=0;e<1<<O[h];e++)ka[f++]=h;ka[f-1]=h;for(h=f=0;16>h;h++)for(ga[h]=f,e=0;e<1<<pa[h];e++)ja[f++]=h;for(f>>=7;h<S;h++)for(ga[h]=f<<7,e=0;e<
1<<pa[h]-7;e++)ja[256+f++]=h;for(e=0;e<=ea;e++)k[e]=0;for(e=0;143>=e;)T[2*e+1]=8,e++,k[8]++;for(;255>=e;)T[2*e+1]=9,e++,k[9]++;for(;279>=e;)T[2*e+1]=7,e++,k[7]++;for(;287>=e;)T[2*e+1]=8,e++,k[8]++;v(T,Q+1,k);for(e=0;e<S;e++)W[2*e+1]=5,W[2*e]=g(e,5);ha=new m(T,O,y+1,Q,ea);ba=new m(W,pa,0,S,ea);H=new m([],U,0,R,7);wa=!0}b.l_desc=new q(b.dyn_ltree,ha);b.d_desc=new q(b.dyn_dtree,ba);b.bl_desc=new q(b.bl_tree,H);b.bi_buf=0;b.bi_valid=0;B(b)};f._tr_stored_block=K;f._tr_flush_block=function(b,e,f,g){var k,
n,m=0;if(0<b.level){2===b.strm.data_type&&(b.strm.data_type=J(b));u(b,b.l_desc);u(b,b.d_desc);G(b,b.dyn_ltree,b.l_desc.max_code);G(b,b.dyn_dtree,b.d_desc.max_code);u(b,b.bl_desc);for(m=R-1;3<=m&&0===b.bl_tree[2*M[m]+1];m--);m=(b.opt_len+=3*(m+1)+14,m);k=b.opt_len+3+7>>>3;n=b.static_len+3+7>>>3;n<=k&&(k=n)}else k=n=f+5;if(f+4<=k&&-1!==e)K(b,e,f,g);else if(4===b.strategy||n===k)h(b,2+(g?1:0),3),F(b,T,W);else{h(b,4+(g?1:0),3);e=b.l_desc.max_code+1;f=b.d_desc.max_code+1;m+=1;h(b,e-257,5);h(b,f-1,5);h(b,
m-4,4);for(k=0;k<m;k++)h(b,b.bl_tree[2*M[k]+1],3);I(b,b.dyn_ltree,e-1);I(b,b.dyn_dtree,f-1);F(b,b.dyn_ltree,b.dyn_dtree)}B(b);g&&z(b)};f._tr_tally=function(b,e,f){return b.pending_buf[b.d_buf+2*b.last_lit]=e>>>8&255,b.pending_buf[b.d_buf+2*b.last_lit+1]=255&e,b.pending_buf[b.l_buf+b.last_lit]=255&f,b.last_lit++,0===e?b.dyn_ltree[2*f]++:(b.matches++,e--,b.dyn_ltree[2*(ka[f]+y+1)]++,b.dyn_dtree[2*(256>e?ja[e]:ja[256+(e>>>7)])]++),b.last_lit===b.lit_bufsize-1};f._tr_align=function(b){h(b,2,3);n(b,da,
T);16===b.bi_valid?(t(b,b.bi_buf),b.bi_buf=0,b.bi_valid=0):8<=b.bi_valid&&(b.pending_buf[b.pending++]=255&b.bi_buf,b.bi_buf>>=8,b.bi_valid-=8)}},{"../utils/common":62}],74:[function(b,e,f){e.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}},{}]},{},[10])(10)});!function(c,b,e){function f(){return"function"!=typeof b.createElement?b.createElement(arguments[0]):h?b.createElementNS.call(b,"http://www.w3.org/2000/svg",arguments[0]):b.createElement.apply(b,arguments)}var k=[],m=[];e={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(b,c){var e=this;setTimeout(function(){c(e[b])},0)},addTest:function(b,c,e){m.push({name:b,fn:c,options:e})},addAsyncTest:function(b){m.push({name:null,fn:b})}};var q=function(){};
q.prototype=e;q=new q;e._prefixes=e._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];var t=b.documentElement,h="svg"===t.nodeName.toLowerCase();h||!function(b,c){function e(){var b=C.elements;return"string"==typeof b?b.split(" "):b}function f(b){var c=N[b[K]];return c||(c={},P++,b[K]=P,N[P]=c),c}function g(b,e,g){if(e||(e=c),m)return e.createElement(b);g||(g=f(e));var h;return h=g.cache[b]?g.cache[b].cloneNode():J.test(b)?(g.cache[b]=g.createElem(b)).cloneNode():g.createElem(b),
!h.canHaveChildren||t.test(b)||h.tagUrn?h:g.frag.appendChild(h)}function h(b,c){c.cache||(c.cache={},c.createElem=b.createElement,c.createFrag=b.createDocumentFragment,c.frag=c.createFrag());b.createElement=function(e){return C.shivMethods?g(e,b,c):c.createElem(e)};b.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+e().join().replace(/[\w\-:]+/g,function(b){return c.createElem(b),c.frag.createElement(b),'c("'+b+'")'})+");return n}")(C,
c.frag)}function k(b){b||(b=c);var e=f(b);if(C.shivCSS&&!n&&!e.hasCSS){var g,k=b;g=k.createElement("p");k=k.getElementsByTagName("head")[0]||k.documentElement;g=(g.innerHTML="x<style>article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}</style>",k.insertBefore(g.lastChild,k.firstChild));e.hasCSS=!!g}return m||h(b,e),b}var n,m,q=b.html5||{},t=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,
J=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,K="_html5shiv",P=0,N={};!function(){try{var b=c.createElement("a");b.innerHTML="<xyz></xyz>";n="hidden"in b;var e;if(!(e=1==b.childNodes.length)){c.createElement("a");var f=c.createDocumentFragment();e="undefined"==typeof f.cloneNode||"undefined"==typeof f.createDocumentFragment||"undefined"==typeof f.createElement}m=e}catch(S){m=n=!0}}();var C={elements:q.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",
version:"3.7.3",shivCSS:!1!==q.shivCSS,supportsUnknownElements:m,shivMethods:!1!==q.shivMethods,type:"default",shivDocument:k,createElement:g,createDocumentFragment:function(b,g){if(b||(b=c),m)return b.createDocumentFragment();g=g||f(b);for(var h=g.frag.cloneNode(),k=0,n=e(),q=n.length;q>k;k++)h.createElement(n[k]);return h},addElements:function(b,c){var e=C.elements;"string"!=typeof e&&(e=e.join(" "));"string"!=typeof b&&(b=b.join(" "));C.elements=e+" "+b;k(c)}};b.html5=C;k(c);"object"==typeof module&&
module.exports&&(module.exports=C)}("undefined"!=typeof c?c:this,b);e.testStyles=function(c,e,k,m){var g,n,q,v,u=f("div"),B;q=b.body;B=(q||(q=f(h?"svg":"body"),q.fake=!0),q);if(parseInt(k,10))for(;k--;)q=f("div"),q.id=m?m[k]:"modernizr"+(k+1),u.appendChild(q);return g=f("style"),g.type="text/css",g.id="smodernizr",(B.fake?B:u).appendChild(g),B.appendChild(u),g.styleSheet?g.styleSheet.cssText=c:g.appendChild(b.createTextNode(c)),u.id="modernizr",B.fake&&(B.style.background="",B.style.overflow="hidden",
v=t.style.overflow,t.style.overflow="hidden",t.appendChild(B)),n=e(u,c),B.fake?(B.parentNode.removeChild(B),t.style.overflow=v,t.offsetHeight):u.parentNode.removeChild(u),!!n};(function(){var b,c,e,f,h,t;for(t in m)if(m.hasOwnProperty(t)){if(b=[],c=m[t],c.name&&(b.push(c.name.toLowerCase()),c.options&&c.options.aliases&&c.options.aliases.length))for(e=0;e<c.options.aliases.length;e++)b.push(c.options.aliases[e].toLowerCase());e="function"===typeof c.fn?c.fn():c.fn;for(f=0;f<b.length;f++)h=b[f],h=
h.split("."),1===h.length?q[h[0]]=e:(!q[h[0]]||q[h[0]]instanceof Boolean||(q[h[0]]=new Boolean(q[h[0]])),q[h[0]][h[1]]=e),k.push((e?"":"no-")+h.join("-"))}})();(function(b){var c=t.className,e=q._config.classPrefix||"";if(h&&(c=c.baseVal),q._config.enableJSClass)c=c.replace(new RegExp("(^|\\s)"+e+"no-js(\\s|$)"),"$1"+e+"js$2");q._config.enableClasses&&(c+=" "+e+b.join(" "+e),h?t.className.baseVal=c:t.className=c)})(k);delete e.addTest;delete e.addAsyncTest;for(e=0;e<q._q.length;e++)q._q[e]();c.Modernizr=
q}(window,document);(function(c){c.fn.parallaxSlider=function(m){var q=c.extend({},c.fn.parallaxSlider.defaults,m);return this.each(function(){var m=c(this),h=c.meta?c.extend({},q,m.data()):q,n=c(".pxs_slider",m),g=n.children(),v=g.length,B=c(".pxs_next",m),z=c(".pxs_prev",m),x=c(".pxs_bg1",m),w=c(".pxs_bg2",m),F=c(".pxs_bg3",m),u=0,G=c(".pxs_thumbnails",m),I=G.children(),J,K=c(".pxs_loading",m),P=c(".pxs_slider_wrapper",m),N=0;P.find("img").each(function(){var m=c(this);c("<img/>").on("load",function(){++N;if(N==2*
v){K.hide();P.show();var m=n.find("img:first").width();k(n,g,v,x,w,F,m,B,z);G.css({width:m+"px","margin-left":-m/2+"px"});var q=m/(v+1);I.each(function(b){var e=c(this);b=q*(b+1)-e.width()/2;e.css("left",b+"px");h.thumbRotation&&(b=Math.floor(41*Math.random())-20,e.css({"-moz-transform":"rotate("+b+"deg)","-webkit-transform":"rotate("+b+"deg)",transform:"rotate("+b+"deg)"}));e.bind("mouseenter",function(){c(this).stop().animate({top:"-10px"},100)}).bind("mouseleave",function(){c(this).stop().animate({top:"0px"},
100)})});f(I.eq(0));B.bind("click",function(){++u;if(u>=v)if(h.circular)u=0;else return--u,!1;f(I.eq(u));e(u,n,F,w,x,h.speed,h.easing,h.easingBg)});z.bind("click",function(){--u;if(0>u)if(h.circular)u=v-1;else return++u,!1;f(I.eq(u));e(u,n,F,w,x,h.speed,h.easing,h.easingBg)});I.bind("click",function(){var b=c(this);f(b);h.auto&&clearInterval(J);u=b.index();e(u,n,F,w,x,h.speed,h.easing,h.easingBg)});0!=h.auto&&(h.circular=!0,J=setInterval(function(){B.trigger("click")},h.auto));c(window).resize(function(){b=
c(window).width();k(n,g,v,x,w,F,m,B,z);e(u,n,F,w,x,1,h.easing,h.easingBg)})}}).attr("src",m.attr("src"))})})};var b=c(window).width(),e=function(c,e,f,h,k,g,v,B){c=parseInt(-b*c);e.stop().animate({left:c+"px"},g,v);f.stop().animate({left:c/2+"px"},g,B);h.stop().animate({left:c/4+"px"},g,B);k.stop().animate({left:c/8+"px"},g,B)},f=function(b){b.siblings().removeClass("selected");b.addClass("selected")},k=function(c,e,f,h,k,g,v,B,z){f*=b;c.width(f+"px");e.width(b+"px");h.width(f+"px");k.width(f+"px");
g.width(f+"px");B.css("right","20px");z.css("left","20px")};c.fn.parallaxSlider.defaults={auto:0,speed:1E3,easing:"jswing",easingBg:"jswing",circular:!0,thumbRotation:!0}})(jQuery);var docCookies={getItem:function(c){return c&&this.hasItem(c)?unescape(document.cookie.replace(RegExp("(?:^|.*;\\s*)"+escape(c).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},setItem:function(c,b,e,f,k,m){if(c&&!/^(?:expires|max\-age|path|domain|secure)$/i.test(c)){var q="";if(e)switch(e.constructor){case Number:q=Infinity===e?"; expires=Tue, 19 Jan 2038 03:14:07 GMT":"; max-age="+e;break;case String:q="; expires="+e;break;case Date:q="; expires="+e.toGMTString()}document.cookie=
escape(c)+"="+escape(b)+q+(k?"; domain="+k:"")+(f?"; path="+f:"")+(m?"; secure":"")}},removeItem:function(c,b){c&&this.hasItem(c)&&(document.cookie=escape(c)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(b?"; path="+b:""))},hasItem:function(c){return RegExp("(?:^|;\\s*)"+escape(c).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}},JQ=jQuery;
window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(c){window.setTimeout(c,1E3/60)}}();
window.transitionEnd=function(c,b){var e=!1,f=document.createElement("div");JQ(["transition","WebkitTransition","MozTransition","msTransition"]).each(function(b,c){if(void 0!==f.style[c])return e=!0,!1});e?c.bind("webkitTransitionEnd oTransitionEnd MSTransitionEnd transitionend",function(e){c.unbind("webkitTransitionEnd oTransitionEnd MSTransitionEnd transitionend");b(e,c)}):setTimeout(function(){b(null,c)},0);return c};
var preloader={_overlay:null,_loader:null,_name:null,_percentage:null,_on_complete:null,_text_loader:null,_text_loader_overlay:null,_logo_loader:null,_logo_loader_meter:null,_total:0,_loaded:0,_image_queue:[],_percentage_loaded:0,_mode:"number",_text:"loading...",_text_colour:"#FFFFFF",_images:[],_show_progress:!0,_show_percentage:!0,_background:"#000000",_logo:"",_logo_size:[80,80],_cookie:!1,_timeout:10,_init:function(){JQ("img").each(function(c){JQ(this).attr("src")&&preloader._images.push(JQ(this).attr("src"))});
if(preloader._cookie){if(docCookies.getItem("melonhtml5_preloader_"+preloader._cookie)){JQ("#preloader").remove();JQ(document.body).removeClass("preloader");return}docCookies.setItem("melonhtml5_preloader_"+preloader._cookie,(new Date).getTime(),Infinity)}preloader._total=preloader._images.length;preloader._build();preloader._load()},_build:function(){this._overlay=JQ("#preloader");this._overlay.length||(this._overlay=JQ("<div>").attr("id","preloader").prependTo(JQ(document.body)));this._overlay.addClass("preloader_"+
this._mode);"line"!==this._mode&&this._overlay.css("background-color",this._background);switch(this._mode){case "number":var c=this._hexToRgb(this._text_colour);this._percentage=JQ("<div>").html("<div></div><span></span>").css({color:this._text_colour,"border-color":c?"rgba("+c.r+", "+c.g+", "+c.b+", 0.7)":this._text_colour}).addClass("preloader_percentage").appendTo(this._overlay);this._percentage.children("div").css("border-left-color",this._text_colour);break;case "text":this._text_loader=JQ("<div>").addClass("preloader_loader").text(this._text).css("color",
this._text_colour).appendTo(this._overlay);this._text_loader_overlay=JQ("<div>").css("background-color",this._background).appendTo(this._text_loader);break;case "scale_text":for(var c="",b=0;b<this._text.length;b++)c+="<span>"+this._htmlentities(this._text.charAt(b))+"</span>";this._text_loader=JQ("<div>").addClass("preloader_loader").html(c).css("color",this._text_colour).appendTo(this._overlay);break;case "logo":this._logo_loader=JQ("<div>").css({width:this._logo_size[0],height:this._logo_size[1],
"margin-left":this._logo_size[0]/2*-1,"margin-top":this._logo_size[1]/2*-1,"background-image":'url("'+this._logo+'")'}).addClass("preloader_loader").appendTo(this._overlay);this._logo_loader_meter=JQ("<div>").css("background-color",this._background).appendTo(this._logo_loader);this._show_progress&&(this._percentage=JQ("<div>").css({color:this._text_colour,width:this._logo_size[0],height:this._logo_size[1],"margin-left":this._logo_size[0]/2*-1,"margin-top":this._logo_size[1]/2,"background-color":this._background}).addClass("preloader_percentage").appendTo(this._overlay));
break;case "line":this._line_loader=JQ("<div>").addClass("preloader_loader").css("background-color",this._background).appendTo(this._overlay);JQ("<div>").addClass("preloader_peg").css("box-shadow","0 0 10px "+this._background).appendTo(this._line_loader);JQ(document.body).css("visibility","visible");break;case "progress":this._progress_loader=JQ("<div>").addClass("preloader_loader").appendTo(this._overlay),this._progress_loader_meter=JQ("<div>").addClass("preloader_meter").appendTo(this._progress_loader),
this._show_progress&&(this._percentage=JQ("<div>").addClass("preloader_percentage").text(0).appendTo(this._overlay))}this._overlay.appendTo(JQ(document.body));"text"!==this._mode&&"scale_text"!==this._mode||this._text_loader.css("margin-left",this._text_loader.width()/2*-1)},_load:function(){if(("number"===this._mode||"logo"===this._mode||"progress"===this._mode)&&this._show_progress){this._percentage.data("num",0);var c="0"+(preloader._show_percentage?"%":"");"number"===this._mode?this._percentage.children("span").text(c):
this._percentage.text(c)}JQ.each(this._images,function(b,c){var e=function(){preloader._imageOnLoad(c)},k=new Image;k.src=c;k.complete?e():(k.onload=e,k.onerror=e)});setTimeout(function(){preloader._overlay&&preloader._animatePercentage(preloader._percentage_loaded,100)},this._images.length?1E3*this._timeout:0)},_hexToRgb:function(c){return(c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(c))?{r:parseInt(c[1],16),g:parseInt(c[2],16),b:parseInt(c[3],16)}:null},_htmlentities:function(c){return c.toString().replace(/&/g,
"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;")},_animatePercentage:function(c,b){preloader._percentage_loaded=c;c<b&&(c++,setTimeout(function(){switch(preloader._mode){case "text":preloader._text_loader_overlay.css("left",c+"%");break;case "scale_text":var e=parseInt(preloader._text.length*c*.01,10);preloader._text_loader.children("span").eq(e).addClass("loaded");break;case "line":preloader._line_loader.width(c+"%");break;case "number":preloader._show_progress&&
(e=c+(preloader._show_percentage?"%":""),preloader._percentage.children("span").text(e));break;case "logo":preloader._show_progress&&(e=c+(preloader._show_percentage?"%":""),preloader._percentage.text(e));preloader._logo_loader_meter.css("bottom",c+"%");break;case "progress":preloader._show_progress&&(e=c+(preloader._show_percentage?"%":""),preloader._percentage.text(e)),preloader._progress_loader_meter.width(c+"%")}preloader._animatePercentage(c,b)},5),100===c&&preloader._loadFinish())},_imageOnLoad:function(c){this._image_queue.push(c);
this._image_queue.length&&this._image_queue[0]===c&&this._processQueue()},_reQueue:function(){preloader._image_queue.splice(0,1);preloader._processQueue()},_processQueue:function(){0!==this._image_queue.length&&(this._loaded++,preloader._animatePercentage(preloader._percentage_loaded,parseInt(this._loaded/this._total*100,10)),this._reQueue())},_loadFinish:function(){transitionEnd(this._overlay,function(c,b){preloader._overlay&&(preloader._overlay.remove(),preloader._overlay=null)});this._overlay.addClass("complete");
JQ(document.body).removeClass("preloader");this._on_complete&&this._on_complete()},config:function(c){"undefined"!==typeof c.mode&&(this._mode=c.mode);"undefined"!==typeof c.text&&(this._text=c.text);"undefined"!==typeof c.text_colour&&(this._text_colour=c.text_colour);"undefined"!==typeof c.timeout&&(this._timeout=parseInt(c.timeout,10));"undefined"!==typeof c.showProgress&&(this._show_progress=c.showProgress?!0:!1);"undefined"!==typeof c.showPercentage&&(this._show_percentage=c.showPercentage?!0:
!1);"undefined"!==typeof c.background&&(this._background=c.background);"undefined"!==typeof c.logo&&(this._logo=c.logo);"undefined"!==typeof c.logo_size&&(this._logo_size=c.logo_size);"undefined"!==typeof c.onComplete&&(this._on_complete=c.onComplete);"undefined"!==typeof c.images&&(this._images=c.images);"undefined"!==typeof c.cookie&&(this._cookie=c.cookie)}};setTimeout(function(){JQ(document).ready(preloader._init)});!function(){var c="undefined"!=typeof module&&module.exports,b="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,e=function(){var b,c,e=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),
"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],f=0;c=e.length;for(var h={};c>f;f++)if(b=e[f],b&&b[1]in document){f=0;for(c=b.length;c>f;f++)h[e[0][f]]=b[f];return h}return!1}(),f={request:function(c){var f=e.requestFullscreen;c=c||document.documentElement;/5\.1[\.\d]* Safari/.test(navigator.userAgent)?
c[f]():c[f](b&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[e.exitFullscreen]()},toggle:function(b){this.isFullscreen?this.exit():this.request(b)},raw:e};return e?(Object.defineProperties(f,{isFullscreen:{get:function(){return!!document[e.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[e.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[e.fullscreenEnabled]}}}),void(c?module.exports=f:window.screenfull=f)):void(c?module.exports=!1:window.screenfull=
!1)}();(function(c){function b(){var b=c(this),e=z(b);b.is(".fixed-top, .fixed-bottom, .horizontal-percent")?b.css("min-height",F(e.first)+F(e.last)+c(e.divider).height()+"px"):b.css("min-width",u(e.first)+u(e.last)+c(e.divider).width()+"px")}function e(b){b.preventDefault();var e=c(this),g=e.parent();e.addClass("dragged");b.type.match(/^touch/)&&e.addClass("touch");var h=q(g,x(b),w(b));c(document).on("touchmove mousemove",h);c(document).one("touchend mouseup",function(b){c(document).off("touchmove mousemove",
h);e.removeClass("dragged touch");g.trigger("dividerdragend",[f(g)])});g.trigger("dividerdragstart",[f(g)])}function f(b){var c=b.is(".fixed-top, .fixed-bottom, .horizontal-percent")?"height":"width";return{firstComponentSize:b.find(".split-pane-component:first")[c](),lastComponentSize:b.find(".split-pane-component:last")[c]()}}function k(){var b=c(this),e=m(b),f=b.parent().closest(".split-pane")[0]||window;c(f).on(f===window?"resize":"splitpaneresize",function(b){(b.target===document?window:b.target)===
f&&e(b)})}function m(b){var c=z(b);if(b.is(".fixed-top"))return function(e){e=F(c.last);e=c.splitPane.offsetHeight-e-c.divider.offsetHeight;c.first.offsetHeight>e&&G(c,e+"px");b.trigger("splitpaneresize")};if(b.is(".fixed-bottom"))return function(e){e=F(c.first);e=c.splitPane.offsetHeight-e-c.divider.offsetHeight;c.last.offsetHeight>e&&I(c,e+"px");b.trigger("splitpaneresize")};if(b.is(".horizontal-percent"))return function(e){e=F(c.last);var f=F(c.first),f=c.splitPane.offsetHeight-f-c.divider.offsetHeight;
c.last.offsetHeight>f?I(c,f/c.splitPane.offsetHeight*100+"%"):c.splitPane.offsetHeight-c.first.offsetHeight-c.divider.offsetHeight<e&&I(c,e/c.splitPane.offsetHeight*100+"%");b.trigger("splitpaneresize")};if(b.is(".fixed-left"))return function(e){e=u(c.last);e=c.splitPane.offsetWidth-e-c.divider.offsetWidth;c.first.offsetWidth>e&&J(c,e+"px");b.trigger("splitpaneresize")};if(b.is(".fixed-right"))return function(e){e=u(c.first);e=c.splitPane.offsetWidth-e-c.divider.offsetWidth;c.last.offsetWidth>e&&
K(c,e+"px");b.trigger("splitpaneresize")};if(b.is(".vertical-percent"))return function(e){e=u(c.last);var f=u(c.first),f=c.splitPane.offsetWidth-f-c.divider.offsetWidth;c.last.offsetWidth>f?K(c,f/c.splitPane.offsetWidth*100+"%"):c.splitPane.offsetWidth-c.first.offsetWidth-c.divider.offsetWidth<e&&K(c,e/c.splitPane.offsetWidth*100+"%");b.trigger("splitpaneresize")}}function q(b,c,e){var f=z(b);if(b.is(".fixed-top"))return t(f,e);if(b.is(".fixed-bottom"))return h(f,e);if(b.is(".horizontal-percent"))return n(f,
e);if(b.is(".fixed-left"))return g(f,c);if(b.is(".fixed-right"))return v(f,c);if(b.is(".vertical-percent"))return B(f,c)}function t(b,e){var f=F(b.first),g=b.splitPane.offsetHeight-F(b.last)-b.divider.offsetHeight,h=b.divider.offsetTop-e;return function(e){e.preventDefault&&e.preventDefault();e=h+w(e);G(b,Math.min(Math.max(f,e),g)+"px");c(b.splitPane).trigger("splitpaneresize")}}function h(b,e){var f=F(b.last),g=b.splitPane.offsetHeight-F(b.first)-b.divider.offsetHeight,h=b.last.offsetHeight+e;return function(e){e.preventDefault&&
e.preventDefault();e=Math.min(Math.max(f,h-w(e)),g);I(b,e+"px");c(b.splitPane).trigger("splitpaneresize")}}function n(b,e){var f=b.splitPane.offsetHeight,g=F(b.last),h=f-F(b.first)-b.divider.offsetHeight,k=b.last.offsetHeight+e;return function(e){e.preventDefault&&e.preventDefault();e=Math.min(Math.max(g,k-w(e)),h);I(b,e/f*100+"%");c(b.splitPane).trigger("splitpaneresize")}}function g(b,e){var f=u(b.first),g=b.splitPane.offsetWidth-u(b.last)-b.divider.offsetWidth,h=b.divider.offsetLeft-e;return function(e){e.preventDefault&&
e.preventDefault();e=h+x(e);J(b,Math.min(Math.max(f,e),g)+"px");c(b.splitPane).trigger("splitpaneresize")}}function v(b,e){var f=u(b.last),g=b.splitPane.offsetWidth-u(b.first)-b.divider.offsetWidth,h=b.last.offsetWidth+e;return function(e){e.preventDefault&&e.preventDefault();e=Math.min(Math.max(f,h-x(e)),g);K(b,e+"px");c(b.splitPane).trigger("splitpaneresize")}}function B(b,e){var f=b.splitPane.offsetWidth,g=u(b.last),h=f-u(b.first)-b.divider.offsetWidth,k=b.last.offsetWidth+e;return function(e){e.preventDefault&&
e.preventDefault();e=Math.min(Math.max(g,k-x(e)),h);K(b,e/f*100+"%");c(b.splitPane).trigger("splitpaneresize")}}function z(b){return{splitPane:b[0],first:b.children(".split-pane-component:first")[0],divider:b.children(".split-pane-divider")[0],last:b.children(".split-pane-component:last")[0]}}function x(b){if(void 0!==b.pageX)return b.pageX;if(void 0!==b.originalEvent.pageX)return b.originalEvent.pageX;if(b.originalEvent.touches)return b.originalEvent.touches[0].pageX}function w(b){if(void 0!==b.pageY)return b.pageY;
if(void 0!==b.originalEvent.pageY)return b.originalEvent.pageY;if(b.originalEvent.touches)return b.originalEvent.touches[0].pageY}function F(b){return parseInt(c(b).css("min-height"),10)||0}function u(b){return parseInt(c(b).css("min-width"),10)||0}function G(b,c){b.first.style.height=c;b.divider.style.top=c;b.last.style.top=c}function I(b,c){b.first.style.bottom=c;b.divider.style.bottom=c;b.last.style.height=c}function J(b,c){b.first.style.width=c;b.divider.style.left=c;b.last.style.left=c}function K(b,
c){b.first.style.right=c;b.divider.style.right=c;b.last.style.width=c}var P={init:function(){var f=this;f.each(b);f.children(".split-pane-divider").html('<div class="split-pane-divider-inner"></div>');f.children(".split-pane-divider").on("touchstart mousedown",e);setTimeout(function(){f.each(k);c(window).trigger("resize")},100)},firstComponentSize:function(b){this.each(function(){var e=c(this),f=z(e);e.is(".fixed-top")?t(f,f.divider.offsetTop)({pageY:b}):e.is(".fixed-bottom")?(b=f.splitPane.offsetHeight-
f.divider.offsetHeight-b,h(f,-f.last.offsetHeight)({pageY:-b})):e.is(".horizontal-percent")?(b=f.splitPane.offsetHeight-f.divider.offsetHeight-b,n(f,-f.last.offsetHeight)({pageY:-b})):e.is(".fixed-left")?g(f,f.divider.offsetLeft)({pageX:b}):e.is(".fixed-right")?(b=f.splitPane.offsetWidth-f.divider.offsetWidth-b,v(f,-f.last.offsetWidth)({pageX:-b})):e.is(".vertical-percent")&&(b=f.splitPane.offsetWidth-f.divider.offsetWidth-b,B(f,-f.last.offsetWidth)({pageX:-b}))})},lastComponentSize:function(b){this.each(function(){var e=
c(this),f=z(e);e.is(".fixed-top")?(b=f.splitPane.offsetHeight-f.divider.offsetHeight-b,t(f,f.divider.offsetTop)({pageY:b})):e.is(".fixed-bottom")?h(f,-f.last.offsetHeight)({pageY:-b}):e.is(".horizontal-percent")?n(f,-f.last.offsetHeight)({pageY:-b}):e.is(".fixed-left")?(b=f.splitPane.offsetWidth-f.divider.offsetWidth-b,g(f,f.divider.offsetLeft)({pageX:b})):e.is(".fixed-right")?v(f,-f.last.offsetWidth)({pageX:-b}):e.is(".vertical-percent")&&B(f,-f.last.offsetWidth)({pageX:-b})})}};c.fn.splitPane=function(b){P[b||
"init"].apply(this,c.grep(arguments,function(b,c){return 0<c}))}})(jQuery);(function(){function c(){if(n){requestAnimFrame(c);for(var b=0,e=h.length;b<e;b++)h[b].update()}}function b(b,k){if(b.nodeName&&!1!==/^(ul|ol)$/i.test(b.nodeName))f(b)&&e(b);else return!1;var g=t?new q(b):new m(b);k&&k.live&&(g.syncInterval=setInterval(function(){g.sync.call(g)},500));g.sync();h.push(g);1===h.length&&(n=!0,c())}function e(b){for(var c=0;c<h.length;c++){var e=h[c];e.element==b&&(e.destroy(),h.splice(c,1),c--)}0===h.length&&(n=!1)}function f(b){for(var c=0,e=h.length;c<e;c++)if(h[c].element==
b)return!0;return!1}function k(b,c,e){var f,g;if("string"===typeof b)for(b=document.querySelectorAll(b),f=0,g=b.length;f<g;f++)c.call(null,b[f],e);else if("object"===typeof b&&"number"===typeof b.length)for(f=0,g=b.length;f<g;f++)c.call(null,b[f],e);else if(b.nodeName)c.call(null,b,e);else throw"Stroll target was of unexpected type.";}function m(b){this.element=b}function q(b){this.element=b;this.element.style.overflow="hidden";this.top={value:0,natural:0};this.touch={value:0,offset:0,start:0,previous:0,
lastMove:Date.now(),accellerateTimeout:-1,isAccellerating:!1,isActive:!1};this.velocity=0}var t=!!("ontouchstart"in window),h=[],n=!1;m.prototype.sync=function(){this.items=Array.prototype.slice.apply(this.element.children);this.listHeight=this.element.offsetHeight;for(var b=0,c=this.items.length;b<c;b++){var e=this.items[b];e._offsetHeight=e.offsetHeight;e._offsetTop=e.offsetTop;e._offsetBottom=e._offsetTop+e._offsetHeight;e._state=""}this.update(!0)};m.prototype.update=function(b){var c=this.element.pageYOffset||
this.element.scrollTop,e=c+this.listHeight;if(c!==this.lastTop||b){this.lastTop=c;b=0;for(var f=this.items.length;b<f;b++){var g=this.items[b];g._offsetBottom<c?"past"!==g._state&&(g._state="past",g.classList.add("past"),g.classList.remove("future")):g._offsetTop>e?"future"!==g._state&&(g._state="future",g.classList.add("future"),g.classList.remove("past")):g._state&&("past"===g._state&&g.classList.remove("past"),"future"===g._state&&g.classList.remove("future"),g._state="")}}};m.prototype.destroy=
function(){clearInterval(this.syncInterval);for(var b=0,c=this.items.length;b<c;b++){var e=this.items[b];e.classList.remove("past");e.classList.remove("future")}};q.prototype=new m;q.prototype.sync=function(){this.items=Array.prototype.slice.apply(this.element.children);this.listHeight=this.element.offsetHeight;for(var b,c=0,e=this.items.length;c<e;c++)b=this.items[c],b._offsetHeight=b.offsetHeight,b._offsetTop=b.offsetTop,b._offsetBottom=b._offsetTop+b._offsetHeight,b._state="",b.style.opacity=1;
this.top.natural=this.element.scrollTop;this.top.value=this.top.natural;this.top.max=b._offsetBottom-this.listHeight;this.update(!0);this.bind()};q.prototype.bind=function(){var b=this;this.touchStartDelegate=function(c){b.onTouchStart(c)};this.touchMoveDelegate=function(c){b.onTouchMove(c)};this.touchEndDelegate=function(c){b.onTouchEnd(c)};this.element.addEventListener("touchstart",this.touchStartDelegate,!1);this.element.addEventListener("touchmove",this.touchMoveDelegate,!1);this.element.addEventListener("touchend",
this.touchEndDelegate,!1)};q.prototype.onTouchStart=function(b){b.preventDefault();if(1===b.touches.length)if(this.touch.isActive=!0,this.touch.start=b.touches[0].clientY,this.touch.previous=this.touch.start,this.touch.value=this.touch.start,this.touch.offset=0,this.velocity){this.touch.isAccellerating=!0;var c=this;this.touch.accellerateTimeout=setTimeout(function(){c.touch.isAccellerating=!1;c.velocity=0},500)}else this.velocity=0};q.prototype.onTouchMove=function(b){if(1===b.touches.length){var c=
this.touch.value;this.touch.value=b.touches[0].clientY;this.touch.lastMove=Date.now();b=this.touch.value>this.touch.previous&&0>this.velocity||this.touch.value<this.touch.previous&&0<this.velocity;this.touch.isAccellerating&&b?(clearInterval(this.touch.accellerateTimeout),this.velocity+=(this.touch.previous-this.touch.value)/10):(this.velocity=0,this.touch.isAccellerating=!1,this.touch.offset=Math.round(this.touch.start-this.touch.value));this.touch.previous=c}};q.prototype.onTouchEnd=function(b){var c=
this.touch.start-this.touch.value;this.touch.isAccellerating||(this.velocity=(this.touch.start-this.touch.value)/10);if(200<Date.now()-this.touch.lastMove||5>Math.abs(this.touch.previous-this.touch.value))this.velocity=0;this.top.value+=this.touch.offset;this.touch.offset=0;this.touch.start=0;this.touch.value=0;this.touch.isActive=!1;this.touch.isAccellerating=!1;clearInterval(this.touch.accellerateTimeout);(4<Math.abs(this.velocity)||10<Math.abs(c))&&b.preventDefault()};q.prototype.update=function(b){var c=
this.top.value+this.velocity+this.touch.offset;if(this.velocity||this.touch.offset)this.element.scrollTop=c,c=Math.max(0,Math.min(this.element.scrollTop,this.top.max)),this.top.value=c-this.touch.offset;if(!this.touch.isActive||this.touch.isAccellerating)this.velocity*=.95;.15>Math.abs(this.velocity)&&(this.velocity=0);if(c!==this.top.natural||b){this.top.natural=c;this.top.value=c-this.touch.offset;b=c+this.listHeight;for(var e=0,f=this.items.length;e<f;e++){var g=this.items[e];g._offsetBottom<c?
0>=this.velocity&&"past"!==g._state&&(g.classList.add("past"),g._state="past"):g._offsetTop>b?0<=this.velocity&&"future"!==g._state&&(g.classList.add("future"),g._state="future"):g._state&&("past"===g._state&&g.classList.remove("past"),"future"===g._state&&g.classList.remove("future"),g._state="")}}};q.prototype.destroy=function(){m.prototype.destroy.apply(this);this.element.removeEventListener("touchstart",this.touchStartDelegate,!1);this.element.removeEventListener("touchmove",this.touchMoveDelegate,
!1);this.element.removeEventListener("touchend",this.touchEndDelegate,!1)};window.stroll={bind:function(c,e){document.body.classList&&k(c,b,e)},unbind:function(b){document.body.classList&&k(b,e)}};window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){window.setTimeout(b,1E3/60)}}()})();!function(c,b){"function"==typeof define&&define.amd?define(["jquery"],function(c){return b(c)}):"object"==typeof exports?module.exports=b(require("jquery")):b(jQuery)}(this,function(c){function b(b){this.$container;this.constraints=null;this.__$tooltip;this.__init(b)}function e(b,e){var f=!0;return c.each(b,function(c,g){return void 0===e[c]||b[c]!==e[c]?(f=!1,!1):void 0}),f}function f(b){var e=b.attr("id");return(e=e?q.window.document.getElementById(e):null)?e===b[0]:c.contains(q.window.document.body,
b[0])}var k={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:"body",plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,
scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},m="undefined"!=typeof window?window:null,q={hasTouchCapability:!(!m||!("ontouchstart"in m||m.DocumentTouch&&m.document instanceof m.DocumentTouch||m.navigator.maxTouchPoints)),hasTransitions:function(){if(!m)return!1;var b=(m.document.body||m.document.documentElement).style,c="transition",e=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof b[c])return!0;for(var c=
c.charAt(0).toUpperCase()+c.substr(1),f=0;f<e.length;f++)if("string"==typeof b[e[f]+c])return!0;return!1}(),IE:!1,semVer:"4.1.6",window:m},t=function(){this.__$emitterPrivate=c({});this.__$emitterPublic=c({});this.__instancesLatestArr=[];this.__plugins={};this._env=q};t.prototype={__bridge:function(b,e,f){if(!e[f]){var g=function(){};g.prototype=b;var h=new g;h.__init&&h.__init(e);c.each(b,function(b,c){0!=b.indexOf("__")&&(e[b]?k.debug&&console.log("The "+b+" method of the "+f+" plugin conflicts with another plugin or native methods"):
(e[b]=function(){return h[b].apply(h,Array.prototype.slice.apply(arguments))},e[b].bridged=h))});e[f]=h}return this},__setWindow:function(b){return q.window=b,this},_getRuler:function(c){return new b(c)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,
Array.prototype.slice.apply(arguments)),this},_plugin:function(b){if("string"==typeof b){var e=null;return 0<b.indexOf(".")?e=this.__plugins[b]:c.each(this.__plugins,function(c,f){return f.name.substring(f.name.length-b.length-1)=="."+b?(e=f,!1):void 0}),e}if(0>b.name.indexOf("."))throw Error("Plugins must be namespaced");return this.__plugins[b.name]=b,b.core&&this.__bridge(b.core,this,b.name),this},_trigger:function(){var b=Array.prototype.slice.apply(arguments);return"string"==typeof b[0]&&(b[0]=
{type:b[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,b),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,b),this},instances:function(b){var e=[];return c(b||".tooltipstered").each(function(){var b=c(this),f=b.data("tooltipster-ns");f&&c.each(f,function(c,f){e.push(b.data(f))})}),e},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,
Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(b){return c((b?b+" ":"")+".tooltipstered").toArray()},setDefaults:function(b){return c.extend(k,b),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}};c.tooltipster=new t;c.Tooltipster=function(b,e){this.__callbacks={close:[],
open:[]};this.__closingTime;this.__Content;this.__contentBcr;this.__destroying=this.__destroyed=!1;this.__$emitterPrivate=c({});this.__$emitterPublic=c({});this.__enabled=!0;this.__garbageCollector;this.__Geometry;this.__lastPosition;this.__namespace="tooltipster-"+Math.round(1E6*Math.random());this.__options;this.__$originParents;this.__pointerIsOverOrigin=!1;this.__previousThemes=[];this.__state="closed";this.__timeouts={close:[],open:null};this.__touchEvents=[];this.__tracker=null;this._$origin;
this._$tooltip;this.__init(b,e)};c.Tooltipster.prototype={__init:function(b,e){var f=this;if(f._$origin=c(b),f.__options=c.extend(!0,{},k,e),f.__optionsFormat(),!q.IE||q.IE>=f.__options.IEmin){var h=null;if(void 0===f._$origin.data("tooltipster-initialTitle")&&(h=f._$origin.attr("title"),void 0===h&&(h=null),f._$origin.data("tooltipster-initialTitle",h)),null!==f.__options.content)f.__contentSet(f.__options.content);else{var n,m=f._$origin.attr("data-tooltip-content");m&&(n=c(m));n&&n[0]?f.__contentSet(n.first()):
f.__contentSet(h)}f._$origin.removeAttr("title").addClass("tooltipstered");f.__prepareOrigin();f.__prepareGC();c.each(f.__options.plugins,function(b,c){f._plug(c)});q.hasTouchCapability&&c("body").on("touchmove."+f.__namespace+"-triggerOpen",function(b){f._touchRecordEvent(b)});f._on("created",function(){f.__prepareTooltip()})._on("repositioned",function(b){f.__lastPosition=b.position})}else f.__options.disabled=!0},__contentInsert:function(){var b=this._$tooltip.find(".tooltipster-content"),c=this.__Content;
return this._trigger({type:"format",content:this.__Content,format:function(b){c=b}}),this.__options.functionFormat&&(c=this.__options.functionFormat.call(this,this,{origin:this._$origin[0]},this.__Content)),"string"!=typeof c||this.__options.contentAsHTML?b.empty().append(c):b.text(c),this},__contentSet:function(b){return b instanceof c&&this.__options.contentCloning&&(b=b.clone(!0)),this.__Content=b,this._trigger({type:"updated",content:b}),this},__destroyError:function(){throw Error("This tooltip has been destroyed and cannot execute your method call.");
},__geometry:function(){var b=this._$origin,e=this._$origin.is("area");if(e)var f=this._$origin.parent().attr("name"),b=c('img[usemap="#'+f+'"]');var k=b[0].getBoundingClientRect(),m=c(q.window.document),t=c(q.window),f=b,x={available:{document:null,window:null},document:{size:{height:m.height(),width:m.width()}},window:{scroll:{left:q.window.scrollX||q.window.document.documentElement.scrollLeft,top:q.window.scrollY||q.window.document.documentElement.scrollTop},size:{height:t.height(),width:t.width()}},
origin:{fixedLineage:!1,offset:{},size:{height:k.bottom-k.top,width:k.right-k.left},usemapImage:e?b[0]:null,windowOffset:{bottom:k.bottom,left:k.left,right:k.right,top:k.top}}};if(e){var e=this._$origin.attr("shape"),w=this._$origin.attr("coords");if(w&&(w=w.split(","),c.map(w,function(b,c){w[c]=parseInt(b)})),"default"!=e)switch(e){case "circle":e=w[0];b=w[1];k=w[2];x.origin.size.height=2*k;x.origin.size.width=x.origin.size.height;x.origin.windowOffset.left+=e-k;x.origin.windowOffset.top+=b-k;break;
case "rect":e=w[0];b=w[1];k=w[2];x.origin.size.height=w[3]-b;x.origin.size.width=k-e;x.origin.windowOffset.left+=e;x.origin.windowOffset.top+=b;break;case "poly":for(var m=k=b=e=0,t="even",F=0;F<w.length;F++){var u=w[F];"even"==t?(u>k&&(k=u,0===F&&(e=k)),e>u&&(e=u),t="odd"):(u>m&&(m=u,1==F&&(b=m)),b>u&&(b=u),t="even")}x.origin.size.height=m-b;x.origin.size.width=k-e;x.origin.windowOffset.left+=e;x.origin.windowOffset.top+=b}}this._trigger({type:"geometry",edit:function(b){x.origin.size.height=b.height;
x.origin.windowOffset.left=b.left;x.origin.windowOffset.top=b.top;x.origin.size.width=b.width},geometry:{height:x.origin.size.height,left:x.origin.windowOffset.left,top:x.origin.windowOffset.top,width:x.origin.size.width}});x.origin.windowOffset.right=x.origin.windowOffset.left+x.origin.size.width;x.origin.windowOffset.bottom=x.origin.windowOffset.top+x.origin.size.height;x.origin.offset.left=x.origin.windowOffset.left+x.window.scroll.left;x.origin.offset.top=x.origin.windowOffset.top+x.window.scroll.top;
x.origin.offset.bottom=x.origin.offset.top+x.origin.size.height;x.origin.offset.right=x.origin.offset.left+x.origin.size.width;x.available.document={bottom:{height:x.document.size.height-x.origin.offset.bottom,width:x.document.size.width},left:{height:x.document.size.height,width:x.origin.offset.left},right:{height:x.document.size.height,width:x.document.size.width-x.origin.offset.right},top:{height:x.origin.offset.top,width:x.document.size.width}};for(x.available.window={bottom:{height:Math.max(x.window.size.height-
Math.max(x.origin.windowOffset.bottom,0),0),width:x.window.size.width},left:{height:x.window.size.height,width:Math.max(x.origin.windowOffset.left,0)},right:{height:x.window.size.height,width:Math.max(x.window.size.width-Math.max(x.origin.windowOffset.right,0),0)},top:{height:Math.max(x.origin.windowOffset.top,0),width:x.window.size.width}};"html"!=f[0].tagName.toLowerCase();){if("fixed"==f.css("position")){x.origin.fixedLineage=!0;break}f=f.parent()}return x},__optionsFormat:function(){return"number"==
typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),"string"==typeof this.__options.parent&&
(this.__options.parent=c(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var b=this;return b.__options.selfDestruction?b.__garbageCollector=setInterval(function(){var e=(new Date).getTime();
b.__touchEvents=c.grep(b.__touchEvents,function(b,c){return 6E4<e-b.time});f(b._$origin)||b.destroy()},2E4):clearInterval(b.__garbageCollector),b},__prepareOrigin:function(){var b=this;if(b._$origin.off("."+b.__namespace+"-triggerOpen"),q.hasTouchCapability&&b._$origin.on("touchstart."+b.__namespace+"-triggerOpen touchend."+b.__namespace+"-triggerOpen touchcancel."+b.__namespace+"-triggerOpen",function(c){b._touchRecordEvent(c)}),b.__options.triggerOpen.click||b.__options.triggerOpen.tap&&q.hasTouchCapability){var c=
"";b.__options.triggerOpen.click&&(c+="click."+b.__namespace+"-triggerOpen ");b.__options.triggerOpen.tap&&q.hasTouchCapability&&(c+="touchend."+b.__namespace+"-triggerOpen");b._$origin.on(c,function(c){b._touchIsMeaningfulEvent(c)&&b._open(c)})}if(b.__options.triggerOpen.mouseenter||b.__options.triggerOpen.touchstart&&q.hasTouchCapability)c="",b.__options.triggerOpen.mouseenter&&(c+="mouseenter."+b.__namespace+"-triggerOpen "),b.__options.triggerOpen.touchstart&&q.hasTouchCapability&&(c+="touchstart."+
b.__namespace+"-triggerOpen"),b._$origin.on(c,function(c){!b._touchIsTouchEvent(c)&&b._touchIsEmulatedEvent(c)||(b.__pointerIsOverOrigin=!0,b._openShortly(c))});if(b.__options.triggerClose.mouseleave||b.__options.triggerClose.touchleave&&q.hasTouchCapability)c="",b.__options.triggerClose.mouseleave&&(c+="mouseleave."+b.__namespace+"-triggerOpen "),b.__options.triggerClose.touchleave&&q.hasTouchCapability&&(c+="touchend."+b.__namespace+"-triggerOpen touchcancel."+b.__namespace+"-triggerOpen"),b._$origin.on(c,
function(c){b._touchIsMeaningfulEvent(c)&&(b.__pointerIsOverOrigin=!1)});return b},__prepareTooltip:function(){var b=this,e=b.__options.interactive?"auto":"";return b._$tooltip.attr("id",b.__namespace).css({"pointer-events":e,zIndex:b.__options.zIndex}),c.each(b.__previousThemes,function(c,e){b._$tooltip.removeClass(e)}),c.each(b.__options.theme,function(c,e){b._$tooltip.addClass(e)}),b.__previousThemes=c.merge([],b.__options.theme),b},__scrollHandler:function(b){if(this.__options.triggerClose.scroll)this._close(b);
else{if(b.target===q.window.document)this.__Geometry.origin.fixedLineage||this.__options.repositionOnScroll&&this.reposition(b);else{var e=this.__geometry(),f=!1;("fixed"!=this._$origin.css("position")&&this.__$originParents.each(function(b,g){var h=c(g),k=h.css("overflow-x"),n=h.css("overflow-y");if("visible"!=k||"visible"!=n){var m=g.getBoundingClientRect();if("visible"!=k&&(e.origin.windowOffset.left<m.left||e.origin.windowOffset.right>m.right)||"visible"!=n&&(e.origin.windowOffset.top<m.top||
e.origin.windowOffset.bottom>m.bottom))return f=!0,!1}return"fixed"==h.css("position")?!1:void 0}),f)?this._$tooltip.css("visibility","hidden"):(this._$tooltip.css("visibility","visible"),this.__options.repositionOnScroll)?this.reposition(b):this._$tooltip.css({left:this.__lastPosition.coord.left+(e.origin.offset.left-this.__Geometry.origin.offset.left),top:this.__lastPosition.coord.top+(e.origin.offset.top-this.__Geometry.origin.offset.top)})}this._trigger({type:"scroll",event:b})}return this},__stateSet:function(b){return this.__state=
b,this._trigger({type:"state",state:b}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,c.each(this.__timeouts.close,function(b,c){clearTimeout(c)}),this.__timeouts.close=[],this},__trackerStart:function(){var b=this,c=b._$tooltip.find(".tooltipster-content");return b.__options.trackTooltip&&(b.__contentBcr=c[0].getBoundingClientRect()),b.__tracker=setInterval(function(){if(f(b._$origin)&&f(b._$tooltip)){if(b.__options.trackOrigin){var g=b.__geometry(),
h=!1;e(g.origin.size,b.__Geometry.origin.size)&&(b.__Geometry.origin.fixedLineage?e(g.origin.windowOffset,b.__Geometry.origin.windowOffset)&&(h=!0):e(g.origin.offset,b.__Geometry.origin.offset)&&(h=!0));h||(b.__options.triggerClose.mouseleave?b._close():b.reposition())}b.__options.trackTooltip&&(g=c[0].getBoundingClientRect(),g.height===b.__contentBcr.height&&g.width===b.__contentBcr.width||(b.reposition(),b.__contentBcr=g))}else b._close()},b.__options.trackerInterval),b},_close:function(b,e){var f=
this,h=!0;if(f._trigger({type:"close",event:b,stop:function(){h=!1}}),h||f.__destroying){e&&f.__callbacks.close.push(e);f.__callbacks.open=[];f.__timeoutsClear();var k=function(){c.each(f.__callbacks.close,function(c,e){e.call(f,f,{event:b,origin:f._$origin[0]})});f.__callbacks.close=[]};if("closed"!=f.__state){var n=!0,m=(new Date).getTime()+f.__options.animationDuration[1];if("disappearing"==f.__state&&m>f.__closingTime&&(n=!1),n)f.__closingTime=m,"disappearing"!=f.__state&&f.__stateSet("disappearing"),
n=function(){clearInterval(f.__tracker);f._trigger({type:"closing",event:b});f._$tooltip.off("."+f.__namespace+"-triggerClose").removeClass("tooltipster-dying");c(q.window).off("."+f.__namespace+"-triggerClose");f.__$originParents.each(function(b,e){c(e).off("scroll."+f.__namespace+"-triggerClose")});f.__$originParents=null;c("body").off("."+f.__namespace+"-triggerClose");f._$origin.off("."+f.__namespace+"-triggerClose");f._off("dismissable");f.__stateSet("closed");f._trigger({type:"after",event:b});
f.__options.functionAfter&&f.__options.functionAfter.call(f,f,{event:b,origin:f._$origin[0]});k()},q.hasTransitions?(f._$tooltip.css({"-moz-animation-duration":f.__options.animationDuration[1]+"ms","-ms-animation-duration":f.__options.animationDuration[1]+"ms","-o-animation-duration":f.__options.animationDuration[1]+"ms","-webkit-animation-duration":f.__options.animationDuration[1]+"ms","animation-duration":f.__options.animationDuration[1]+"ms","transition-duration":f.__options.animationDuration[1]+
"ms"}),f._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),0<f.__options.animationDuration[1]&&f._$tooltip.delay(f.__options.animationDuration[1]),f._$tooltip.queue(n)):f._$tooltip.stop().fadeOut(f.__options.animationDuration[1],n)}else k()}return f},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),
this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(b,e){var g=this;if(!g.__destroying&&f(g._$origin)&&g.__enabled){var h=!0;if("closed"==g.__state&&(g._trigger({type:"before",event:b,stop:function(){h=!1}}),h&&g.__options.functionBefore&&(h=g.__options.functionBefore.call(g,g,{event:b,origin:g._$origin[0]}))),!1!==h&&null!==g.__Content){e&&g.__callbacks.open.push(e);g.__callbacks.close=[];g.__timeoutsClear();
var k,n=function(){"stable"!=g.__state&&g.__stateSet("stable");c.each(g.__callbacks.open,function(b,c){c.call(g,g,{origin:g._$origin[0],tooltip:g._$tooltip[0]})});g.__callbacks.open=[]};if("closed"!==g.__state)k=0,"disappearing"===g.__state?(g.__stateSet("appearing"),q.hasTransitions?(g._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),0<g.__options.animationDuration[0]&&g._$tooltip.delay(g.__options.animationDuration[0]),g._$tooltip.queue(n)):g._$tooltip.stop().fadeIn(n)):
"stable"==g.__state&&n();else{if(g.__stateSet("appearing"),k=g.__options.animationDuration[0],g.__contentInsert(),g.reposition(b,!0),q.hasTransitions?(g._$tooltip.addClass("tooltipster-"+g.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":g.__options.animationDuration[0]+"ms","-ms-animation-duration":g.__options.animationDuration[0]+"ms","-o-animation-duration":g.__options.animationDuration[0]+"ms","-webkit-animation-duration":g.__options.animationDuration[0]+"ms",
"animation-duration":g.__options.animationDuration[0]+"ms","transition-duration":g.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=g.__state&&(g._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),0<g.__options.animationDuration[0]&&g._$tooltip.delay(g.__options.animationDuration[0]),g._$tooltip.queue(n))},0)):g._$tooltip.css("display","none").fadeIn(g.__options.animationDuration[0],n),g.__trackerStart(),c(q.window).on("resize."+g.__namespace+"-triggerClose",
function(b){var e=c(document.activeElement);(e.is("input")||e.is("textarea"))&&c.contains(g._$tooltip[0],e[0])||g.reposition(b)}).on("scroll."+g.__namespace+"-triggerClose",function(b){g.__scrollHandler(b)}),g.__$originParents=g._$origin.parents(),g.__$originParents.each(function(b,e){c(e).on("scroll."+g.__namespace+"-triggerClose",function(b){g.__scrollHandler(b)})}),g.__options.triggerClose.mouseleave||g.__options.triggerClose.touchleave&&q.hasTouchCapability){g._on("dismissable",function(b){b.dismissable?
b.delay?(u=setTimeout(function(){g._close(b.event)},b.delay),g.__timeouts.close.push(u)):g._close(b):clearTimeout(u)});var m=g._$origin,t="",F="",u=null;g.__options.interactive&&(m=m.add(g._$tooltip));g.__options.triggerClose.mouseleave&&(t+="mouseenter."+g.__namespace+"-triggerClose ",F+="mouseleave."+g.__namespace+"-triggerClose ");g.__options.triggerClose.touchleave&&q.hasTouchCapability&&(t+="touchstart."+g.__namespace+"-triggerClose",F+="touchend."+g.__namespace+"-triggerClose touchcancel."+
g.__namespace+"-triggerClose");m.on(F,function(b){!g._touchIsTouchEvent(b)&&g._touchIsEmulatedEvent(b)||g._trigger({delay:("mouseleave"==b.type?g.__options.delay:g.__options.delayTouch)[1],dismissable:!0,event:b,type:"dismissable"})}).on(t,function(b){!g._touchIsTouchEvent(b)&&g._touchIsEmulatedEvent(b)||g._trigger({dismissable:!1,event:b,type:"dismissable"})})}g.__options.triggerClose.originClick&&g._$origin.on("click."+g.__namespace+"-triggerClose",function(b){g._touchIsTouchEvent(b)||g._touchIsEmulatedEvent(b)||
g._close(b)});(g.__options.triggerClose.click||g.__options.triggerClose.tap&&q.hasTouchCapability)&&setTimeout(function(){if("closed"!=g.__state){var b="";g.__options.triggerClose.click&&(b+="click."+g.__namespace+"-triggerClose ");g.__options.triggerClose.tap&&q.hasTouchCapability&&(b+="touchend."+g.__namespace+"-triggerClose");c("body").on(b,function(b){g._touchIsMeaningfulEvent(b)&&(g._touchRecordEvent(b),g.__options.interactive&&c.contains(g._$tooltip[0],b.target)||g._close(b))});g.__options.triggerClose.tap&&
q.hasTouchCapability&&c("body").on("touchstart."+g.__namespace+"-triggerClose",function(b){g._touchRecordEvent(b)})}},0);g._trigger("ready");g.__options.functionReady&&g.__options.functionReady.call(g,g,{origin:g._$origin[0],tooltip:g._$tooltip[0]})}0<g.__options.timer&&(u=setTimeout(function(){g._close()},g.__options.timer+k),g.__timeouts.close.push(u))}}return g},_openShortly:function(b){var c=this,e=!0;if("stable"!=c.__state&&"appearing"!=c.__state&&!c.__timeouts.open&&(c._trigger({type:"start",
event:b,stop:function(){e=!1}}),e)){var f=0==b.type.indexOf("touch")?c.__options.delayTouch:c.__options.delay;f[0]?c.__timeouts.open=setTimeout(function(){c.__timeouts.open=null;c.__pointerIsOverOrigin&&c._touchIsMeaningfulEvent(b)?(c._trigger("startend"),c._open(b)):c._trigger("startcancel")},f[0]):(c._trigger("startend"),c._open(b))}return c},_optionsExtract:function(b,e){var f=this,h=c.extend(!0,{},e),k=f.__options[b];return k||(k={},c.each(e,function(b,c){var e=f.__options[b];void 0!==e&&(k[b]=
e)})),c.each(h,function(b,e){void 0!==k[b]&&("object"!=typeof e||e instanceof Array||null==e||"object"!=typeof k[b]||k[b]instanceof Array||null==k[b]?h[b]=k[b]:c.extend(h[b],k[b]))}),h},_plug:function(b){var e=c.tooltipster._plugin(b);if(!e)throw Error('The "'+b+'" plugin is not defined');return e.instance&&c.tooltipster.__bridge(e.instance,this,e.name),this},_touchIsEmulatedEvent:function(b){for(var c=!1,e=(new Date).getTime(),f=this.__touchEvents.length-1;0<=f;f--){var h=this.__touchEvents[f];if(!(500>
e-h.time))break;h.target===b.target&&(c=!0)}return c},_touchIsMeaningfulEvent:function(b){return this._touchIsTouchEvent(b)&&!this._touchSwiped(b.target)||!this._touchIsTouchEvent(b)&&!this._touchIsEmulatedEvent(b)},_touchIsTouchEvent:function(b){return 0==b.type.indexOf("touch")},_touchRecordEvent:function(b){return this._touchIsTouchEvent(b)&&(b.time=(new Date).getTime(),this.__touchEvents.push(b)),this},_touchSwiped:function(b){for(var c=!1,e=this.__touchEvents.length-1;0<=e;e--){var f=this.__touchEvents[e];
if("touchmove"==f.type){c=!0;break}if("touchstart"==f.type&&b===f.target)break}return c},_trigger:function(){var b=Array.prototype.slice.apply(arguments);return"string"==typeof b[0]&&(b[0]={type:b[0]}),b[0].instance=this,b[0].origin=this._$origin?this._$origin[0]:null,b[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,b),c.tooltipster._trigger.apply(c.tooltipster,b),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,b),this},_unplug:function(b){var e=
this;if(e[b]){var f=c.tooltipster._plugin(b);f.instance&&c.each(f.instance,function(c,f){e[c]&&e[c].bridged===e[b]&&delete e[c]});e[b].__destroy&&e[b].__destroy();delete e[b]}return e},close:function(b){return this.__destroyed?this.__destroyError():this._close(null,b),this},content:function(b){var c=this;if(void 0===b)return c.__Content;if(c.__destroyed)c.__destroyError();else if(c.__contentSet(b),null!==c.__Content){if("closed"!==c.__state&&(c.__contentInsert(),c.reposition(),c.__options.updateAnimation))if(q.hasTransitions){var e=
c.__options.updateAnimation;c._$tooltip.addClass("tooltipster-update-"+e);setTimeout(function(){"closed"!=c.__state&&c._$tooltip.removeClass("tooltipster-update-"+e)},1E3)}else c._$tooltip.fadeTo(200,.5,function(){"closed"!=c.__state&&c._$tooltip.fadeTo(200,1)})}else c._close();return c},destroy:function(){var b=this;return b.__destroyed?b.__destroyError():b.__destroying||(b.__destroying=!0,b._close(null,function(){b._trigger("destroy");b.__destroying=!1;b.__destroyed=!0;b._$origin.removeData(b.__namespace).off("."+
b.__namespace+"-triggerOpen");c("body").off("."+b.__namespace+"-triggerOpen");var e=b._$origin.data("tooltipster-ns");e&&(1===e.length?(e=null,"previous"==b.__options.restoration?e=b._$origin.data("tooltipster-initialTitle"):"current"==b.__options.restoration&&(e="string"==typeof b.__Content?b.__Content:c("<div></div>").append(b.__Content).html()),e&&b._$origin.attr("title",e),b._$origin.removeClass("tooltipstered"),b._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")):(e=
c.grep(e,function(c,e){return c!==b.__namespace}),b._$origin.data("tooltipster-ns",e)));b._trigger("destroyed");b._off();b.off();b.__Content=null;b.__$emitterPrivate=null;b.__$emitterPublic=null;b.__options.parent=null;b._$origin=null;b._$tooltip=null;c.tooltipster.__instancesLatestArr=c.grep(c.tooltipster.__instancesLatestArr,function(c,e){return b!==c});clearInterval(b.__garbageCollector)})),b},disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=
!1,this)},elementOrigin:function(){return this.__destroyed?void this.__destroyError():this._$origin[0]},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(b){return this.close(b)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,
Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(b){return this.__destroyed||this.__destroying?this.__destroyError():this._open(null,b),this},option:function(b,e){return void 0===e?this.__options[b]:(this.__destroyed?this.__destroyError():(this.__options[b]=e,this.__optionsFormat(),0<=c.inArray(b,["trigger","triggerClose","triggerOpen"])&&
this.__prepareOrigin(),"selfDestruction"===b&&this.__prepareGC()),this)},reposition:function(b,c){return this.__destroyed?this.__destroyError():"closed"!=this.__state&&f(this._$origin)&&(c||f(this._$tooltip))&&(c||this._$tooltip.detach(),this.__Geometry=this.__geometry(),this._trigger({type:"reposition",event:b,helper:{geo:this.__Geometry}})),this},show:function(b){return this.open(b)},status:function(){return{destroyed:this.__destroyed,destroying:this.__destroying,enabled:this.__enabled,open:"closed"!==
this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}};c.fn.tooltipster=function(){var b=Array.prototype.slice.apply(arguments);if(0===this.length)return this;if("string"==typeof b[0]){var e="#*$~&";return this.each(function(){var f=c(this).data("tooltipster-ns"),f=f?c(this).data(f[0]):null;if(!f)throw Error("You called Tooltipster's \""+
b[0]+'" method on an uninitialized element');if("function"!=typeof f[b[0]])throw Error('Unknown method "'+b[0]+'"');1<this.length&&"content"==b[0]&&(b[1]instanceof c||"object"==typeof b[1]&&null!=b[1]&&b[1].tagName)&&!f.__options.contentCloning&&f.__options.debug&&console.log("You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.");var g=f[b[0]](b[1],b[2]);return g!==f||"instance"===b[0]?(e=g,!1):void 0}),"#*$~&"!==e?e:this}c.tooltipster.__instancesLatestArr=
[];var f=b[0]&&void 0!==b[0].multiple,m=f&&b[0].multiple||!f&&k.multiple,f=(f=b[0]&&void 0!==b[0].content)&&b[0].content||!f&&k.content,q=b[0]&&void 0!==b[0].contentCloning,q=q&&b[0].contentCloning||!q&&k.contentCloning,t=b[0]&&void 0!==b[0].debug,x=t&&b[0].debug||!t&&k.debug;return 1<this.length&&(f instanceof c||"object"==typeof f&&null!=f&&f.tagName)&&!q&&x&&console.log("You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE."),
this.each(function(){var e=!1,f=c(this),g=f.data("tooltipster-ns"),h=null;g?m?e=!0:x&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):e=!0;e&&(h=new c.Tooltipster(this,b[0]),g||(g=[]),g.push(h.__namespace),f.data("tooltipster-ns",g),f.data(h.__namespace,h),h.__options.functionInit&&h.__options.functionInit.call(h,h,{origin:this}),h._trigger("init"));c.tooltipster.__instancesLatestArr.push(h)}),this};b.prototype={__init:function(b){this.__$tooltip=
b;this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto");this.$container=c('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo("body")},__forceRedraw:function(){var b=this.__$tooltip.parent();this.__$tooltip.detach();this.__$tooltip.appendTo(b)},constrain:function(b,c){return this.constraints={width:b,height:c},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:b}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",
overflow:""});this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var b=this.__$tooltip[0].getBoundingClientRect(),c={size:{height:b.height||b.bottom,width:b.width||b.right}};if(this.constraints){var e=this.__$tooltip.find(".tooltipster-content"),f=this.__$tooltip.outerHeight(),k=e[0].getBoundingClientRect(),b=b.width<=this.constraints.width&&k.width>=e[0].scrollWidth-
1;c.fits=f<=this.constraints.height&&b}return q.IE&&11>=q.IE&&c.size.width!==q.window.document.documentElement.clientWidth&&(c.size.width=Math.ceil(c.size.width)+1),c}};t=navigator.userAgent.toLowerCase();-1!=t.indexOf("msie")?q.IE=parseInt(t.split("msie")[1]):-1!==t.toLowerCase().indexOf("trident")&&-1!==t.indexOf(" rv:11")?q.IE=11:-1!=t.toLowerCase().indexOf("edge/")&&(q.IE=parseInt(t.toLowerCase().split("edge/")[1]));return c.tooltipster._plugin({name:"tooltipster.sideTip",instance:{__defaults:function(){return{arrow:!0,
distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(b){var c=this;c.__instance=b;c.__namespace="tooltipster-sideTip-"+Math.round(1E6*Math.random());c.__previousState="closed";c.__options;c.__optionsFormat();c.__instance._on("state."+c.__namespace,function(b){"closed"==b.state?c.__close():"appearing"==b.state&&"closed"==c.__previousState&&c.__create();c.__previousState=b.state});c.__instance._on("options."+c.__namespace,
function(){c.__optionsFormat()});c.__instance._on("reposition."+c.__namespace,function(b){c.__reposition(b.event,b.helper)})},__close:function(){this.__instance.content()instanceof c&&this.__instance.content().detach();this.__instance._$tooltip.remove();this.__instance._$tooltip=null},__create:function(){var b=c('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');
this.__options.arrow||b.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide();this.__options.minWidth&&b.css("min-width",this.__options.minWidth+"px");this.__options.maxWidth&&b.css("max-width",this.__options.maxWidth+"px");this.__instance._$tooltip=b;this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){if(this.__options=this.__instance._optionsExtract("tooltipster.sideTip",this.__defaults()),this.__options.position&&
(this.__options.side=this.__options.position),"object"!=typeof this.__options.distance&&(this.__options.distance=[this.__options.distance]),4>this.__options.distance.length&&(void 0===this.__options.distance[1]&&(this.__options.distance[1]=this.__options.distance[0]),void 0===this.__options.distance[2]&&(this.__options.distance[2]=this.__options.distance[0]),void 0===this.__options.distance[3]&&(this.__options.distance[3]=this.__options.distance[1]),this.__options.distance={top:this.__options.distance[0],
right:this.__options.distance[1],bottom:this.__options.distance[2],left:this.__options.distance[3]}),"string"==typeof this.__options.side)this.__options.side=[this.__options.side,{top:"bottom",right:"left",bottom:"top",left:"right"}[this.__options.side]],"left"==this.__options.side[0]||"right"==this.__options.side[0]?this.__options.side.push("top","bottom"):this.__options.side.push("right","left");6===c.tooltipster._env.IE&&!0!==this.__options.arrow&&(this.__options.arrow=!1)},__reposition:function(b,
e){var f,h=this,k=h.__targetFind(e),m=[];h.__instance._$tooltip.detach();var n=h.__instance._$tooltip.clone(),q=c.tooltipster._getRuler(n),t=!1,u=h.__instance.option("animation");switch(u&&n.removeClass("tooltipster-"+u),c.each(["window","document"],function(f,g){var u=null;if(h.__instance._trigger({container:g,helper:e,satisfied:t,takeTest:function(b){u=b},results:m,type:"positionTest"}),1==u||0!=u&&0==t&&("window"!=g||h.__options.viewportAware))for(f=0;f<h.__options.side.length;f++){var w={horizontal:0,
vertical:0},v=h.__options.side[f];"top"==v||"bottom"==v?w.vertical=h.__options.distance[v]:w.horizontal=h.__options.distance[v];h.__sideChange(n,v);c.each(["natural","constrained"],function(c,f){if(u=null,h.__instance._trigger({container:g,event:b,helper:e,mode:f,results:m,satisfied:t,side:v,takeTest:function(b){u=b},type:"positionTest"}),1==u||0!=u&&0==t){var n={container:g,distance:w,fits:null,mode:f,outerSize:null,side:v,size:null,target:k[v],whole:null},x=("natural"==f?q.free():q.constrain(e.geo.available[g][v].width-
w.horizontal,e.geo.available[g][v].height-w.vertical)).measure();if(n.size=x.size,n.outerSize={height:x.size.height+w.vertical,width:x.size.width+w.horizontal},"natural"==f?e.geo.available[g][v].width>=n.outerSize.width&&e.geo.available[g][v].height>=n.outerSize.height?n.fits=!0:n.fits=!1:n.fits=x.fits,"window"==g&&(n.fits?"top"==v||"bottom"==v?n.whole=e.geo.origin.windowOffset.right>=h.__options.minIntersection&&e.geo.window.size.width-e.geo.origin.windowOffset.left>=h.__options.minIntersection:
n.whole=e.geo.origin.windowOffset.bottom>=h.__options.minIntersection&&e.geo.window.size.height-e.geo.origin.windowOffset.top>=h.__options.minIntersection:n.whole=!1),m.push(n),n.whole)t=!0;else if("natural"==n.mode&&(n.fits||n.size.width<=e.geo.available[g][v].width))return!1}})}}),h.__instance._trigger({edit:function(b){m=b},event:b,helper:e,results:m,type:"positionTested"}),m.sort(function(b,c){if(b.whole&&!c.whole)return-1;if(!b.whole&&c.whole)return 1;if(b.whole&&c.whole){var e=h.__options.side.indexOf(b.side),
f=h.__options.side.indexOf(c.side);return f>e?-1:e>f?1:"natural"==b.mode?-1:1}return b.fits&&!c.fits?-1:!b.fits&&c.fits?1:b.fits&&c.fits?(e=h.__options.side.indexOf(b.side),f=h.__options.side.indexOf(c.side),f>e?-1:e>f?1:"natural"==b.mode?-1:1):"document"==b.container&&"bottom"==b.side&&"natural"==b.mode?-1:1}),f=m[0],f.coord={},f.side){case "left":case "right":f.coord.top=Math.floor(f.target-f.size.height/2);break;case "bottom":case "top":f.coord.left=Math.floor(f.target-f.size.width/2)}switch(f.side){case "left":f.coord.left=
e.geo.origin.windowOffset.left-f.outerSize.width;break;case "right":f.coord.left=e.geo.origin.windowOffset.right+f.distance.horizontal;break;case "top":f.coord.top=e.geo.origin.windowOffset.top-f.outerSize.height;break;case "bottom":f.coord.top=e.geo.origin.windowOffset.bottom+f.distance.vertical}"window"==f.container?"top"==f.side||"bottom"==f.side?0>f.coord.left?0<=e.geo.origin.windowOffset.right-this.__options.minIntersection?f.coord.left=0:f.coord.left=e.geo.origin.windowOffset.right-this.__options.minIntersection-
1:f.coord.left>e.geo.window.size.width-f.size.width&&(e.geo.origin.windowOffset.left+this.__options.minIntersection<=e.geo.window.size.width?f.coord.left=e.geo.window.size.width-f.size.width:f.coord.left=e.geo.origin.windowOffset.left+this.__options.minIntersection+1-f.size.width):0>f.coord.top?0<=e.geo.origin.windowOffset.bottom-this.__options.minIntersection?f.coord.top=0:f.coord.top=e.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:f.coord.top>e.geo.window.size.height-f.size.height&&
(e.geo.origin.windowOffset.top+this.__options.minIntersection<=e.geo.window.size.height?f.coord.top=e.geo.window.size.height-f.size.height:f.coord.top=e.geo.origin.windowOffset.top+this.__options.minIntersection+1-f.size.height):(f.coord.left>e.geo.window.size.width-f.size.width&&(f.coord.left=e.geo.window.size.width-f.size.width),0>f.coord.left&&(f.coord.left=0));h.__sideChange(n,f.side);e.tooltipClone=n[0];e.tooltipParent=h.__instance.option("parent").parent[0];e.mode=f.mode;e.whole=f.whole;e.origin=
h.__instance._$origin[0];e.tooltip=h.__instance._$tooltip[0];delete f.container;delete f.fits;delete f.mode;delete f.outerSize;delete f.whole;f.distance=f.distance.horizontal||f.distance.vertical;u=c.extend(!0,{},f);(h.__instance._trigger({edit:function(b){f=b},event:b,helper:e,position:u,type:"position"}),h.__options.functionPosition)&&(u=h.__options.functionPosition.call(h,h.__instance,e,u))&&(f=u);q.destroy();var G,I;"top"==f.side||"bottom"==f.side?(G={prop:"left",val:f.target-f.coord.left},I=
f.size.width-this.__options.minIntersection):(G={prop:"top",val:f.target-f.coord.top},I=f.size.height-this.__options.minIntersection);G.val<this.__options.minIntersection?G.val=this.__options.minIntersection:G.val>I&&(G.val=I);I=e.geo.origin.fixedLineage?e.geo.origin.windowOffset:{left:e.geo.origin.windowOffset.left+e.geo.window.scroll.left,top:e.geo.origin.windowOffset.top+e.geo.window.scroll.top};f.coord={left:I.left+(f.coord.left-e.geo.origin.windowOffset.left),top:I.top+(f.coord.top-e.geo.origin.windowOffset.top)};
h.__sideChange(h.__instance._$tooltip,f.side);e.geo.origin.fixedLineage?h.__instance._$tooltip.css("position","fixed"):h.__instance._$tooltip.css("position","");h.__instance._$tooltip.css({left:f.coord.left,top:f.coord.top,height:f.size.height,width:f.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(G.prop,G.val);h.__instance._$tooltip.appendTo(h.__instance.option("parent"));h.__instance._trigger({type:"repositioned",event:b,position:f})},__sideChange:function(b,c){b.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+
c)},__targetFind:function(b){var c={},e=this.__instance._$origin[0].getClientRects();1<e.length&&1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),e=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1));2>e.length?(c.top=Math.floor(b.geo.origin.windowOffset.left+b.geo.origin.size.width/2),c.bottom=c.top,c.left=Math.floor(b.geo.origin.windowOffset.top+b.geo.origin.size.height/2),c.right=c.left):(b=e[0],c.top=Math.floor(b.left+
(b.right-b.left)/2),b=2<e.length?e[Math.ceil(e.length/2)-1]:e[0],c.right=Math.floor(b.top+(b.bottom-b.top)/2),b=e[e.length-1],c.bottom=Math.floor(b.left+(b.right-b.left)/2),b=2<e.length?e[Math.ceil((e.length+1)/2)-1]:e[e.length-1],c.left=Math.floor(b.top+(b.bottom-b.top)/2));return c}}}),c});void 0===Date.now&&(Date.now=function(){return(new Date).valueOf()});
var TWEEN=TWEEN||function(){var c=[];return{REVISION:"14",getAll:function(){return c},removeAll:function(){c=[]},add:function(b){c.push(b)},remove:function(b){b=c.indexOf(b);-1!==b&&c.splice(b,1)},update:function(b){if(0===c.length)return!1;var e=0;for(b=void 0!==b?b:"undefined"!==typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now();e<c.length;)c[e].update(b)?e++:c.splice(e,1);return!0}}}();
TWEEN.Tween=function(c){var b={},e={},f={},k=1E3,m=0,q=!1,t=!1,h=0,n=null,g=TWEEN.Easing.Linear.None,v=TWEEN.Interpolation.Linear,B=[],z=null,x=!1,w=null,F=null,u=null,G;for(G in c)b[G]=parseFloat(c[G],10);this.to=function(b,c){void 0!==c&&(k=c);e=b;return this};this.start=function(g){TWEEN.add(this);t=!0;x=!1;n=void 0!==g?g:"undefined"!==typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now();n+=h;for(var k in e){if(e[k]instanceof Array){if(0===
e[k].length)continue;e[k]=[c[k]].concat(e[k])}b[k]=c[k];!1===b[k]instanceof Array&&(b[k]*=1);f[k]=b[k]||0}return this};this.stop=function(){if(!t)return this;TWEEN.remove(this);t=!1;null!==u&&u.call(c);this.stopChainedTweens();return this};this.stopChainedTweens=function(){for(var b=0,c=B.length;b<c;b++)B[b].stop()};this.delay=function(b){h=b;return this};this.repeat=function(b){m=b;return this};this.yoyo=function(b){q=b;return this};this.easing=function(b){g=b;return this};this.interpolation=function(b){v=
b;return this};this.chain=function(){B=arguments;return this};this.onStart=function(b){z=b;return this};this.onUpdate=function(b){w=b;return this};this.onComplete=function(b){F=b;return this};this.onStop=function(b){u=b;return this};this.update=function(t){var u;if(t<n)return!0;!1===x&&(null!==z&&z.call(c),x=!0);var G=(t-n)/k,G=1<G?1:G,I=g(G);for(u in e){var N=b[u]||0,C=e[u];C instanceof Array?c[u]=v(C,I):("string"===typeof C&&(C=N+parseFloat(C,10)),"number"===typeof C&&(c[u]=N+(C-N)*I))}null!==w&&
w.call(c,I);if(1==G)if(0<m){isFinite(m)&&m--;for(u in f)"string"===typeof e[u]&&(f[u]+=parseFloat(e[u],10)),q&&(G=f[u],f[u]=e[u],e[u]=G),b[u]=f[u];n=t+h}else{null!==F&&F.call(c);u=0;for(G=B.length;u<G;u++)B[u].start(t);return!1}return!0}};
TWEEN.Easing={Linear:{None:function(c){return c}},Quadratic:{In:function(c){return c*c},Out:function(c){return c*(2-c)},InOut:function(c){return 1>(c*=2)?.5*c*c:-.5*(--c*(c-2)-1)}},Cubic:{In:function(c){return c*c*c},Out:function(c){return--c*c*c+1},InOut:function(c){return 1>(c*=2)?.5*c*c*c:.5*((c-=2)*c*c+2)}},Quartic:{In:function(c){return c*c*c*c},Out:function(c){return 1- --c*c*c*c},InOut:function(c){return 1>(c*=2)?.5*c*c*c*c:-.5*((c-=2)*c*c*c-2)}},Quintic:{In:function(c){return c*c*c*c*c},Out:function(c){return--c*
c*c*c*c+1},InOut:function(c){return 1>(c*=2)?.5*c*c*c*c*c:.5*((c-=2)*c*c*c*c+2)}},Sinusoidal:{In:function(c){return 1-Math.cos(c*Math.PI/2)},Out:function(c){return Math.sin(c*Math.PI/2)},InOut:function(c){return.5*(1-Math.cos(Math.PI*c))}},Exponential:{In:function(c){return 0===c?0:Math.pow(1024,c-1)},Out:function(c){return 1===c?1:1-Math.pow(2,-10*c)},InOut:function(c){return 0===c?0:1===c?1:1>(c*=2)?.5*Math.pow(1024,c-1):.5*(-Math.pow(2,-10*(c-1))+2)}},Circular:{In:function(c){return 1-Math.sqrt(1-
c*c)},Out:function(c){return Math.sqrt(1- --c*c)},InOut:function(c){return 1>(c*=2)?-.5*(Math.sqrt(1-c*c)-1):.5*(Math.sqrt(1-(c-=2)*c)+1)}},Elastic:{In:function(c){var b,e=.1;if(0===c)return 0;if(1===c)return 1;!e||1>e?(e=1,b=.1):b=.4*Math.asin(1/e)/(2*Math.PI);return-(e*Math.pow(2,10*--c)*Math.sin(2*(c-b)*Math.PI/.4))},Out:function(c){var b,e=.1;if(0===c)return 0;if(1===c)return 1;!e||1>e?(e=1,b=.1):b=.4*Math.asin(1/e)/(2*Math.PI);return e*Math.pow(2,-10*c)*Math.sin(2*(c-b)*Math.PI/.4)+1},InOut:function(c){var b,
e=.1;if(0===c)return 0;if(1===c)return 1;!e||1>e?(e=1,b=.1):b=.4*Math.asin(1/e)/(2*Math.PI);return 1>(c*=2)?-.5*e*Math.pow(2,10*--c)*Math.sin(2*(c-b)*Math.PI/.4):.5*e*Math.pow(2,-10*--c)*Math.sin(2*(c-b)*Math.PI/.4)+1}},Back:{In:function(c){return c*c*(2.70158*c-1.70158)},Out:function(c){return--c*c*(2.70158*c+1.70158)+1},InOut:function(c){return 1>(c*=2)?.5*c*c*(3.5949095*c-2.5949095):.5*((c-=2)*c*(3.5949095*c+2.5949095)+2)}},Bounce:{In:function(c){return 1-TWEEN.Easing.Bounce.Out(1-c)},Out:function(c){return c<
1/2.75?7.5625*c*c:c<2/2.75?7.5625*(c-=1.5/2.75)*c+.75:c<2.5/2.75?7.5625*(c-=2.25/2.75)*c+.9375:7.5625*(c-=2.625/2.75)*c+.984375},InOut:function(c){return.5>c?.5*TWEEN.Easing.Bounce.In(2*c):.5*TWEEN.Easing.Bounce.Out(2*c-1)+.5}}};
TWEEN.Interpolation={Linear:function(c,b){var e=c.length-1,f=e*b,k=Math.floor(f),m=TWEEN.Interpolation.Utils.Linear;return 0>b?m(c[0],c[1],f):1<b?m(c[e],c[e-1],e-f):m(c[k],c[k+1>e?e:k+1],f-k)},Bezier:function(c,b){var e=0,f=c.length-1,k=Math.pow,m=TWEEN.Interpolation.Utils.Bernstein,q;for(q=0;q<=f;q++)e+=k(1-b,f-q)*k(b,q)*c[q]*m(f,q);return e},CatmullRom:function(c,b){var e=c.length-1,f=e*b,k=Math.floor(f),m=TWEEN.Interpolation.Utils.CatmullRom;return c[0]===c[e]?(0>b&&(k=Math.floor(f=e*(1+b))),m(c[(k-
1+e)%e],c[k],c[(k+1)%e],c[(k+2)%e],f-k)):0>b?c[0]-(m(c[0],c[0],c[1],c[1],-f)-c[0]):1<b?c[e]-(m(c[e],c[e],c[e-1],c[e-1],f-e)-c[e]):m(c[k?k-1:0],c[k],c[e<k+1?e:k+1],c[e<k+2?e:k+2],f-k)},Utils:{Linear:function(c,b,e){return(b-c)*e+c},Bernstein:function(c,b){var e=TWEEN.Interpolation.Utils.Factorial;return e(c)/e(b)/e(c-b)},Factorial:function(){var c=[1];return function(b){var e=1,f;if(c[b])return c[b];for(f=b;1<f;f--)e*=f;return c[b]=e}}(),CatmullRom:function(c,b,e,f,k){c=.5*(e-c);f=.5*(f-b);var m=k*
k;return(2*b-2*e+c+f)*k*m+(-3*b+3*e-2*c-f)*m+c*k+b}}};eval(function(c,b,e,f,k,m){k=function(b){return b};if(!"".replace(/^/,String)){for(;e--;)m[e]=f[e]||e;f=[function(b){return m[b]}];k=function(){return"\\w+"};e=1}for(;e--;)f[e]&&(c=c.replace(new RegExp("\\b"+k(e)+"\\b","g"),f[e]));return c}('9 8={"7":6,"5":"4 3 2","1":"0"};',10,10,"Desktop form_factor browser web generic complete_device_name false is_mobile WURFL var".split(" "),0,{}));engineGUI=window.engineGUI||{};
engineGUI.open=function(c){var b=new JSZip;document.body.appendChild(spinner);document.getElementById("start").getElementsByClassName("close")[0].setAttribute("href","#close");$.ajax("scenes/"+SCENEFILE,{contentType:"application/zip",beforeSend:function(b){b.overrideMimeType("text/plain; charset=x-user-defined")},success:function(e){try{2==c?(engine3D.buildPanorama(skyFloorMesh,"0000",75,75,75,"",null),engine3D.setLights(),scene3D.remove(skyMesh),scene3D.remove(weatherSkyCloudsMesh),scene3D.remove(weatherSkyRainbowMesh),
scene3D.remove(scene3DHouseGroundContainer),scene3D.add(skyFloorMesh),scene3D.add(scene3DFloorGroundContainer)):3==c&&engine2D.show(),setTimeout(function(){camera3DAnimate(0,20,0,1500)},500),setTimeout(function(){b.loadAsync(e).then(function(b){engine2D.open(b);engine3D.open(b);b.file("options.json").async("string").then(function(b){b=JSON.parse(b);console.log(b);settings=b.settings;for(var c=0;c<b.floor.length;c++)scene3DFloorFurnitureContainer[c].name=b.floor[c].name});setTimeout(function(){document.body.removeChild(spinner);
1==c?engine3D.showHouse():2==c?engine3D.showFloor(1):3==c&&engine2D.show();setTimeout(function(){scene3DAnimateRotate=settings.autorotate},4E3)},1E3)})},2E3)}catch(f){alertify.alert("Failed to open Scene "+f)}}})};
engineGUI.save=function(c){setTimeout(function(){var b=new JSZip;b.file("scene3DTerrain.json",JSON.stringify(engine3D.collectArrayFromContainer(scene3DHouseGroundContainer)));var e={};e.settings=settings;e.floors=[];for(var f=0;f<scene3DFloorFurnitureContainer.length;f++)e.floors.push(JSON.stringify('"name":"'+scene3DFloorFurnitureContainer[f].name+'"'));b.file("options.json",JSON.stringify(e));b.file("scene3DRoofContainer.json",JSON.stringify(engine3D.collectArrayFromContainer(scene3DRoofContainer)));
b.file("scene3DHouseContainer.json",JSON.stringify(engine3D.collectArrayFromContainer(scene3DHouseContainer)));for(var e=[],k=[],f=0;f<scene2DWallMesh.length;f++)e.push(engine3D.collectArrayFromContainer(scene3DFloorFurnitureContainer[f])),k.push(engine2D.collectArrayFromContainer(f));b.file("scene3DFloorContainer.json",JSON.stringify(e));b.file("scene2DFloorContainer.json",JSON.stringify(k));try{b.file("house.jpg",imageBase64("imgHouse"),{base64:!0})}catch(m){}c||(b.file("readme.txt","Saved by WebGL HousePlanner."),
b.folder("obj"),b.folder("obj/Textures"));b=b.generate({type:"blob"});c?""===SESSION?window.location="#openLogin":(f=new FormData,f.append("file",b),$.ajax("php/objects.php?upload=scene",{type:"POST",contentType:"application/octet-stream",processData:!1,data:f,success:function(b,c){"error"!=b.status&&alert("ok")},error:function(){alert("not so ok")}}),window.location="#close"):(saveAs(b,"scene.zip"),window.location="#close")},4E3)};
function getCookie(c){c=("; "+document.cookie).split("; "+c+"=");if(2==c.length)return c.pop().split(";").shift()}function createCookie(c,b,e){if(e){var f=new Date;f.setTime(f.getTime()+864E5*e);e="; expires="+f.toGMTString()}else e="";document.cookie=c+"="+b+e+"; path=/"};$(document).ready(function(){$("#search-box").keyup(function(c){if(38==c.keyCode)$("#search_suggestion_holder").is(":visible")&&($(".selected").is(":visible")?(c=$("#search_suggestion_holder li").index($("#search_suggestion_holder li.selected")),$("#search_suggestion_holder li.selected").removeClass("selected"),c--,$("#search_suggestion_holder li:eq("+c+")").addClass("selected")):$("#search_suggestion_holder li").last().addClass("selected"));else if(40==c.keyCode)$("#search_suggestion_holder").is(":visible")&&
($(".selected").is(":visible")?(c=$("#search_suggestion_holder li").index($("#search_suggestion_holder li.selected")),$("#search_suggestion_holder li.selected").removeClass("selected"),c++,$("#search_suggestion_holder li:eq("+c+")").addClass("selected")):$("#search_suggestion_holder li").first().addClass("selected"));else if(13==c.keyCode)$(".selected").is(":visible")&&(c=$(".selected").text(),$("#search-box").val(c),$("#search_suggestion_holder").hide());else{var b=$(this).val();$("#search-close").hide();
$("#loader").show();setTimeout(function(){$.ajax({url:"php/search.php",data:"keyword="+b,success:function(b){$("#search_suggestion_holder").html(b);$("#search_suggestion_holder").show();$("#loader").hide();$("#search-close").show()}})},400)}});$("#search_suggestion_holder").on("click","li",function(){$("#search_suggestion_holder").hide()})});var engine3D=window.engine3D||{},engine2D=window.engine2D||{},scene3D,scene3DCube,scene3DPanorama,scene2D,canvas2D,scene2DAdvanced,physics3D,dpr,renderer,rendererCube,rendererPanorama,rendererQuad=[4],camera3DQuad=[4],camera3DQuadGrid,scene3DRoofContainer,scene3DHouseContainer,_scene3DHouseGroundContainer,scene3DHouseGroundContainer,scene3DHouseFXContainer,scene3DFloorGroundContainer,scene3DPanoramaContainer,scene3DCutawayPlaneMesh,scene3DLevelGroundContainer,scene3DLevelWallContainer,scene3DFloorFurnitureContainer=
[],scene3DFloorMeasurementsContainer=[],scene3DFloorWallContainer=[],scene3DFloorDoorContainer=[],scene3DFloorWindowContainer=[],scene3DFloorShapeContainer=[],scene3DFloorShapeTextures=[],scene3DCeilingShapeContainer=[],scene3DCeilingShapeTextures=[],scene2DFloorShape=[],scene2DFloorDraftPlanImage=[],scene3DPivotPoint,scene3DCubeMesh,sceneAmbientLight,sceneDirectionalLight,sceneSpotLight,controls3D,camera3D,camera3DPositionCache,camera3DPivotCache,camera3DCube,camera3DPanorama,groundGrid,groundMesh,
skyMesh,skyFloorMesh,weatherSkyGeometry,weatherSkyMaterial,weatherSkyCloudsMesh,weatherSkyRainbowMesh,SESSION="",RADIAN=Math.PI/180,SCENE="house",SCENEFILE="scene1.zip",TOOL3D="view",TOOL3DINTERACTIVE="",TOOL3DLANDSCAPE="rotate",TOOL3DFLOOR="measure",TOOL2D="vector",WEATHER="sunny",DAY="day",FLOOR=1,REALSIZERATIO=1,SelectedObject=null,SelectedNote=null,SelectedPicture=null,SelectedWall=null,leftButtonDown=!1,rightButtonDown=!1,clickTime,clickMenuTime,doubleClickTime,zoom2Dimg,zoom2Dheight=80,zoom2Dwidth=
241,zoom2DCTX=null,zoom2DSlider=null,zoom2D=1,scene2DDrawLineGeometry=[],scene2DDrawLine,scene2DWallMesh=[],scene2DWallGroup=[],scene2DWallPointGroup=[],scene2DWindowGroup=[],scene2DDoorGroup=[],scene2DLabelGroup=[],scene2DFloorMesh=[],scene2DDoorMesh=[],scene2DWindowMesh=[],scene2DInteriorMesh=[],scene2DExteriorMesh=[],scene2DWallDimentions=[],scene3DWallInteriorTextureDefault,scene3DWallExteriorTextureDefault,scene3DWallInteriorTextures=[],scene3DWallExteriorTextures=[],scene2DWallRegularMaterial,
scene2DWallRegularMaterialSelect,scene2DWallBearingMaterial,scene2DWallBearingMaterialSelect,physics3DContainer,animation=[],scene3DAnimateRotate=!1,requestAnimationID,spinner=document.createElement("div"),settings={sunlight:!1,clouds:!0,rainbow:!0,panorama_day:"2056",panorama_night:"2057",autorotate:!1},mouse,touch,target,clock,textureLoader,projector,vector,geometry,material,texture,mesh,terrain3D,terrain3DMaterial,fileReader,getScreenshotData=!1,FXAAPass,SSAOPass,effectComposer,depthMaterial,depthRenderTarget,
depthScale=1,FXAAProcessing={enabled:!0},SSAOProcessing={enabled:!1,renderMode:0};engine3D.showCube=!1;
