/*
 jQuery v3.1.1 | (c) jQuery Foundation | jquery.org/license */
!function(c,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=c.document?b(c,!0):function(c){if(!c.document)throw Error("jQuery requires a window with a document");return b(c)}:b(c)}("undefined"!=typeof window?window:this,function(c,b){function e(c,b){b=b||J;var t=b.createElement("script");t.text=c;b.head.appendChild(t).parentNode.removeChild(t)}function g(c){var t=!!c&&"length"in c&&c.length,b=p.type(c);return"function"!==b&&!p.isWindow(c)&&("array"===b||0===t||"number"==
typeof t&&0<t&&t-1 in c)}function h(c,b,f){return p.isFunction(b)?p.grep(c,function(c,t){return!!b.call(c,t,c)!==f}):b.nodeType?p.grep(c,function(c){return c===b!==f}):"string"!=typeof b?p.grep(c,function(c){return-1<da.call(b,c)!==f}):rb.test(b)?p.filter(b,c,f):(b=p.filter(b,c),p.grep(c,function(c){return-1<da.call(b,c)!==f&&1===c.nodeType}))}function q(c,b){for(;(c=c[b])&&1!==c.nodeType;);return c}function m(c){var t={};return p.each(c.match(pa)||[],function(c,b){t[b]=!0}),t}function r(c){return c}
function k(c){throw c;}function n(c,b,f){var t;try{c&&p.isFunction(t=c.promise)?t.call(c).done(b).fail(f):c&&p.isFunction(t=c.then)?t.call(c,b,f):b.call(void 0,c)}catch(Ua){f.call(void 0,Ua)}}function f(){J.removeEventListener("DOMContentLoaded",f);c.removeEventListener("load",f);p.ready()}function x(){this.expando=p.expando+x.uid++}function y(c,b,f){var t;if(void 0===f&&1===c.nodeType)if(t="data-"+b.replace(sb,"-$&").toLowerCase(),f=c.getAttribute(t),"string"==typeof f){try{t=f,f="true"===t||"false"!==
t&&("null"===t?null:t===+t+""?+t:tb.test(t)?JSON.parse(t):t)}catch(Ua){}la.set(c,b,f)}else f=void 0;return f}function u(c,b,f,e){var t,F=1,k=20,g=e?function(){return e.cur()}:function(){return p.css(c,b,"")},h=g(),n=f&&f[3]||(p.cssNumber[b]?"":"px"),m=(p.cssNumber[b]||"px"!==n&&+h)&&Ea.exec(p.css(c,b));if(m&&m[3]!==n){n=n||m[3];f=f||[];m=+h||1;do F=F||".5",m/=F,p.style(c,b,m+n);while(F!==(F=g()/h)&&1!==F&&--k)}return f&&(m=+m||+h||0,t=f[1]?m+(f[1]+1)*f[2]:+f[2],e&&(e.unit=n,e.start=m,e.end=t)),t}
function w(c,b){for(var t,f,e=[],F=0,k=c.length;F<k;F++)if(f=c[F],f.style)if(t=f.style.display,b){if("none"===t&&(e[F]=U.get(f,"display")||null,e[F]||(f.style.display="")),""===f.style.display&&Ja(f)){t=F;var g,h=void 0;g=f.ownerDocument;var n=f.nodeName;g=(f=Va[n])?f:(h=g.body.appendChild(g.createElement(n)),f=p.css(h,"display"),h.parentNode.removeChild(h),"none"===f&&(f="block"),Va[n]=f,f);e[t]=g}}else"none"!==t&&(e[F]="none",U.set(f,"display",t));for(F=0;F<k;F++)null!=e[F]&&(c[F].style.display=
e[F]);return c}function v(c,b){var t;return t="undefined"!=typeof c.getElementsByTagName?c.getElementsByTagName(b||"*"):"undefined"!=typeof c.querySelectorAll?c.querySelectorAll(b||"*"):[],void 0===b||b&&p.nodeName(c,b)?p.merge([c],t):t}function B(c,b){for(var t=0,f=c.length;t<f;t++)U.set(c[t],"globalEval",!b||U.get(b[t],"globalEval"))}function G(c,b,f,e,k){for(var t,F,g,h,n=b.createDocumentFragment(),m=[],u=0,Ca=c.length;u<Ca;u++)if(t=c[u],t||0===t)if("object"===p.type(t))p.merge(m,t.nodeType?[t]:
t);else if(wb.test(t)){F=F||n.appendChild(b.createElement("div"));g=(Wa.exec(t)||["",""])[1].toLowerCase();g=ja[g]||ja._default;F.innerHTML=g[1]+p.htmlPrefilter(t)+g[2];for(g=g[0];g--;)F=F.lastChild;p.merge(m,F.childNodes);F=n.firstChild;F.textContent=""}else m.push(b.createTextNode(t));n.textContent="";for(u=0;t=m[u++];)if(e&&-1<p.inArray(t,e))k&&k.push(t);else if(h=p.contains(t.ownerDocument,t),F=v(n.appendChild(t),"script"),h&&B(F),f)for(g=0;t=F[g++];)Xa.test(t.type||"")&&f.push(t);return n}function C(){return!0}
function I(){return!1}function K(){try{return J.activeElement}catch(t){}}function H(c,b,f,e,k,g){var t,F;if("object"==typeof b){"string"!=typeof f&&(e=e||f,f=void 0);for(F in b)H(c,F,f,e,b[F],g);return c}if(null==e&&null==k?(k=f,e=f=void 0):null==k&&("string"==typeof f?(k=e,e=void 0):(k=e,e=f,f=void 0)),!1===k)k=I;else if(!k)return c;return 1===g&&(t=k,k=function(c){return p().off(c),t.apply(this,arguments)},k.guid=t.guid||(t.guid=p.guid++)),c.each(function(){p.event.add(this,b,k,e,f)})}function Q(c,
b){return p.nodeName(c,"table")&&p.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?c.getElementsByTagName("tbody")[0]||c:c}function M(c){return c.type=(null!==c.getAttribute("type"))+"/"+c.type,c}function D(c){var t=xb.exec(c.type);return t?c.type=t[1]:c.removeAttribute("type"),c}function A(c,b){var t,f,e,F,k,g;if(1===b.nodeType){if(U.hasData(c)&&(t=U.access(c),f=U.set(b,t),g=t.events))for(e in delete f.handle,f.events={},g)for(t=0,f=g[e].length;t<f;t++)p.event.add(b,e,g[e][t]);la.hasData(c)&&(F=la.access(c),
k=p.extend({},F),la.set(b,k))}}function z(c,b,f,k){b=oa.apply([],b);var t,F,g,h,n=0,m=c.length,u=m-1,q=b[0],Ca=p.isFunction(q);if(Ca||1<m&&"string"==typeof q&&!Z.checkClone&&yb.test(q))return c.each(function(t){var e=c.eq(t);Ca&&(b[0]=q.call(this,t,e.html()));z(e,b,f,k)});if(m&&(t=G(b,c[0].ownerDocument,!1,c,k),F=t.firstChild,1===t.childNodes.length&&(t=F),F||k)){F=p.map(v(t,"script"),M);for(g=F.length;n<m;n++)h=t,n!==u&&(h=p.clone(h,!0,!0),g&&p.merge(F,v(h,"script"))),f.call(c[n],h,n);if(g)for(t=
F[F.length-1].ownerDocument,p.map(F,D),n=0;n<g;n++)h=F[n],Xa.test(h.type||"")&&!U.access(h,"globalEval")&&p.contains(t,h)&&(h.src?p._evalUrl&&p._evalUrl(h.src):e(h.textContent.replace(zb,""),t))}return c}function R(c,b,f){for(var t=b?p.filter(b,c):c,e=0;null!=(b=t[e]);e++)f||1!==b.nodeType||p.cleanData(v(b)),b.parentNode&&(f&&p.contains(b.ownerDocument,b)&&B(v(b,"script")),b.parentNode.removeChild(b));return c}function P(c,b,f){var t,e,F,k,g=c.style;return f=f||Ka(c),f&&(k=f.getPropertyValue(b)||
f[b],""!==k||p.contains(c.ownerDocument,c)||(k=p.style(c,b)),!Z.pixelMarginRight()&&Na.test(k)&&Ya.test(b)&&(t=g.width,e=g.minWidth,F=g.maxWidth,g.minWidth=g.maxWidth=g.width=k,k=f.width,g.width=t,g.minWidth=e,g.maxWidth=F)),void 0!==k?k+"":k}function S(c,b){return{get:function(){return c()?void delete this.get:(this.get=b).apply(this,arguments)}}}function ga(c){if(c in Za)return c;for(var t=c[0].toUpperCase()+c.slice(1),b=$a.length;b--;)if(c=$a[b]+t,c in Za)return c}function ba(c,b,f){return(c=Ea.exec(b))?
Math.max(0,c[2]-(f||0))+(c[3]||"px"):b}function ka(c,b,f,e,k){var t=0;for(b=f===(e?"border":"content")?4:"width"===b?1:0;4>b;b+=2)"margin"===f&&(t+=p.css(c,f+wa[b],!0,k)),e?("content"===f&&(t-=p.css(c,"padding"+wa[b],!0,k)),"margin"!==f&&(t-=p.css(c,"border"+wa[b]+"Width",!0,k))):(t+=p.css(c,"padding"+wa[b],!0,k),"padding"!==f&&(t+=p.css(c,"border"+wa[b]+"Width",!0,k)));return t}function aa(c,b,f){var t,e=!0,k=Ka(c),F="border-box"===p.css(c,"boxSizing",!1,k);if(c.getClientRects().length&&(t=c.getBoundingClientRect()[b]),
0>=t||null==t){if(t=P(c,b,k),(0>t||null==t)&&(t=c.style[b]),Na.test(t))return t;e=F&&(Z.boxSizingReliable()||t===c.style[b]);t=parseFloat(t)||0}return t+ka(c,b,f||(F?"border":"content"),e,k)+"px"}function E(c,b,f,e,k){return new E.prototype.init(c,b,f,e,k)}function ta(){ya&&(c.requestAnimationFrame(ta),p.fx.tick())}function ma(){return c.setTimeout(function(){Aa=void 0}),Aa=p.now()}function O(c,b){var t,f=0,e={height:c};for(b=b?1:0;4>f;f+=2-b)t=wa[f],e["margin"+t]=e["padding"+t]=c;return b&&(e.opacity=
e.width=c),e}function na(c,b,f){for(var t,e=(N.tweeners[b]||[]).concat(N.tweeners["*"]),k=0,g=e.length;k<g;k++)if(t=e[k].call(f,b,c))return t}function V(c,b){var t,f,e,k,g;for(t in c)if(f=p.camelCase(t),e=b[f],k=c[t],p.isArray(k)&&(e=k[1],k=c[t]=k[0]),t!==f&&(c[f]=k,delete c[t]),g=p.cssHooks[f],g&&"expand"in g)for(t in k=g.expand(k),delete c[f],k)t in c||(c[t]=k[t],b[t]=e);else b[f]=e}function N(c,b,f){var t,e=0,k=N.prefilters.length,g=p.Deferred().always(function(){delete F.elem}),F=function(){if(t)return!1;
for(var b=Aa||ma(),b=Math.max(0,h.startTime+h.duration-b),f=1-(b/h.duration||0),e=0,k=h.tweens.length;e<k;e++)h.tweens[e].run(f);return g.notifyWith(c,[h,f,b]),1>f&&k?b:(g.resolveWith(c,[h]),!1)},h=g.promise({elem:c,props:p.extend({},b),opts:p.extend(!0,{specialEasing:{},easing:p.easing._default},f),originalProperties:b,originalOptions:f,startTime:Aa||ma(),duration:f.duration,tweens:[],createTween:function(b,t){var f=p.Tween(c,h.opts,b,t,h.opts.specialEasing[b]||h.opts.easing);return h.tweens.push(f),
f},stop:function(b){var f=0,e=b?h.tweens.length:0;if(t)return this;for(t=!0;f<e;f++)h.tweens[f].run(1);return b?(g.notifyWith(c,[h,1,0]),g.resolveWith(c,[h,b])):g.rejectWith(c,[h,b]),this}});f=h.props;for(V(f,h.opts.specialEasing);e<k;e++)if(b=N.prefilters[e].call(h,c,f,h.opts))return p.isFunction(b.stop)&&(p._queueHooks(h.elem,h.opts.queue).stop=p.proxy(b.stop,b)),b;return p.map(f,na,h),p.isFunction(h.opts.start)&&h.opts.start.call(c,h),p.fx.timer(p.extend(F,{elem:c,anim:h,queue:h.opts.queue})),
h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function T(c){return(c.match(pa)||[]).join(" ")}function W(c){return c.getAttribute&&c.getAttribute("class")||""}function ha(c,b,f,e){var t;if(p.isArray(b))p.each(b,function(b,t){f||Ab.test(c)?e(c,t):ha(c+"["+("object"==typeof t&&null!=t?b:"")+"]",t,f,e)});else if(f||"object"!==p.type(b))e(c,b);else for(t in b)ha(c+"["+t+"]",b[t],f,e)}function ia(c){return function(b,t){"string"!=typeof b&&(t=b,b=
"*");var f,e=0,k=b.toLowerCase().match(pa)||[];if(p.isFunction(t))for(;f=k[e++];)"+"===f[0]?(f=f.slice(1)||"*",(c[f]=c[f]||[]).unshift(t)):(c[f]=c[f]||[]).push(t)}}function X(c,b,f,e){function t(h){var F;return k[h]=!0,p.each(c[h]||[],function(c,h){var n=h(b,f,e);return"string"!=typeof n||g||k[n]?g?!(F=n):void 0:(b.dataTypes.unshift(n),t(n),!1)}),F}var k={},g=c===Oa;return t(b.dataTypes[0])||!k["*"]&&t("*")}function ca(c,b){var t,f,e=p.ajaxSettings.flatOptions||{};for(t in b)void 0!==b[t]&&((e[t]?
c:f||(f={}))[t]=b[t]);return f&&p.extend(!0,c,f),c}function fa(c){return p.isWindow(c)?c:9===c.nodeType&&c.defaultView}var Y=[],J=c.document,ua=Object.getPrototypeOf,ea=Y.slice,oa=Y.concat,qa=Y.push,da=Y.indexOf,xa={},sa=xa.toString,Ba=xa.hasOwnProperty,Fa=Ba.toString,Da=Fa.call(Object),Z={},p=function(c,b){return new p.fn.init(c,b)},Bb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Cb=/^-ms-/,Db=/-([a-z])/g,Eb=function(c,b){return b.toUpperCase()};p.fn=p.prototype={jquery:"3.1.1",constructor:p,length:0,toArray:function(){return ea.call(this)},
get:function(c){return null==c?ea.call(this):0>c?this[c+this.length]:this[c]},pushStack:function(c){c=p.merge(this.constructor(),c);return c.prevObject=this,c},each:function(c){return p.each(this,c)},map:function(c){return this.pushStack(p.map(this,function(b,t){return c.call(b,t,b)}))},slice:function(){return this.pushStack(ea.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(c){var b=this.length;c=+c+(0>c?b:0);return this.pushStack(0<=c&&
c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:qa,sort:Y.sort,splice:Y.splice};p.extend=p.fn.extend=function(){var c,b,f,e,k,g,h=arguments[0]||{},n=1,m=arguments.length,u=!1;"boolean"==typeof h&&(u=h,h=arguments[n]||{},n++);"object"==typeof h||p.isFunction(h)||(h={});for(n===m&&(h=this,n--);n<m;n++)if(null!=(c=arguments[n]))for(b in c)f=h[b],e=c[b],h!==e&&(u&&e&&(p.isPlainObject(e)||(k=p.isArray(e)))?(k?(k=!1,g=f&&p.isArray(f)?f:[]):g=f&&p.isPlainObject(f)?f:{},
h[b]=p.extend(u,g,e)):void 0!==e&&(h[b]=e));return h};p.extend({expando:"jQuery"+("3.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(c){throw Error(c);},noop:function(){},isFunction:function(c){return"function"===p.type(c)},isArray:Array.isArray,isWindow:function(c){return null!=c&&c===c.window},isNumeric:function(c){var b=p.type(c);return("number"===b||"string"===b)&&!isNaN(c-parseFloat(c))},isPlainObject:function(c){var b,t;return!(!c||"[object Object]"!==sa.call(c))&&(!(b=ua(c))||
(t=Ba.call(b,"constructor")&&b.constructor,"function"==typeof t&&Fa.call(t)===Da))},isEmptyObject:function(c){for(var b in c)return!1;return!0},type:function(c){return null==c?c+"":"object"==typeof c||"function"==typeof c?xa[sa.call(c)]||"object":typeof c},globalEval:function(c){e(c)},camelCase:function(c){return c.replace(Cb,"ms-").replace(Db,Eb)},nodeName:function(c,b){return c.nodeName&&c.nodeName.toLowerCase()===b.toLowerCase()},each:function(c,b){var t,f=0;if(g(c))for(t=c.length;f<t&&!1!==b.call(c[f],
f,c[f]);f++);else for(f in c)if(!1===b.call(c[f],f,c[f]))break;return c},trim:function(c){return null==c?"":(c+"").replace(Bb,"")},makeArray:function(c,b){var t=b||[];return null!=c&&(g(Object(c))?p.merge(t,"string"==typeof c?[c]:c):qa.call(t,c)),t},inArray:function(c,b,f){return null==b?-1:da.call(b,c,f)},merge:function(c,b){for(var t=+b.length,f=0,e=c.length;f<t;f++)c[e++]=b[f];return c.length=e,c},grep:function(c,b,f){for(var t=[],e=0,k=c.length,h=!f;e<k;e++)f=!b(c[e],e),f!==h&&t.push(c[e]);return t},
map:function(c,b,f){var t,e,k=0,h=[];if(g(c))for(t=c.length;k<t;k++)e=b(c[k],k,f),null!=e&&h.push(e);else for(k in c)e=b(c[k],k,f),null!=e&&h.push(e);return oa.apply([],h)},guid:1,proxy:function(c,b){var f,t,e;if("string"==typeof b&&(f=c[b],b=c,c=f),p.isFunction(c))return t=ea.call(arguments,2),e=function(){return c.apply(b||this,t.concat(ea.call(arguments)))},e.guid=c.guid=c.guid||p.guid++,e},now:Date.now,support:Z});"function"==typeof Symbol&&(p.fn[Symbol.iterator]=Y[Symbol.iterator]);p.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),
function(c,b){xa["[object "+b+"]"]=b.toLowerCase()});var za=function(c){function b(c,b,f,t){var e,k,h,g,n,F=b&&b.ownerDocument,m=b?b.nodeType:9;if(f=f||[],"string"!=typeof c||!c||1!==m&&9!==m&&11!==m)return f;if(!t&&((b?b.ownerDocument||b:sa)!==H&&Q(b),b=b||H,qa)){if(11!==m&&(g=za.exec(c)))if(e=g[1])if(9===m){if(!(k=b.getElementById(e)))return f;if(k.id===e)return f.push(k),f}else{if(F&&(k=F.getElementById(e))&&xa(b,k)&&k.id===e)return f.push(k),f}else{if(g[2])return U.apply(f,b.getElementsByTagName(c)),
f;if((e=g[3])&&y.getElementsByClassName&&b.getElementsByClassName)return U.apply(f,b.getElementsByClassName(e)),f}if(!(!y.qsa||O[c+" "]||E&&E.test(c))){if(1!==m)F=b,n=c;else if("object"!==b.nodeName.toLowerCase()){(h=b.getAttribute("id"))?h=h.replace(va,wa):b.setAttribute("id",h=P);k=C(c);for(e=k.length;e--;)k[e]="#"+h+" "+x(k[e]);n=k.join(",");F=pa.test(c)&&p(b.parentNode)||b}if(n)try{return U.apply(f,F.querySelectorAll(n)),f}catch(jc){}finally{h===P&&b.removeAttribute("id")}}}return I(c.replace(Y,
"$1"),b,f,t)}function f(){function c(f,t){return b.push(f+" ")>B.cacheLength&&delete c[b.shift()],c[f+" "]=t}var b=[];return c}function t(c){return c[P]=!0,c}function e(c){var b=H.createElement("fieldset");try{return!!c(b)}catch(hc){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function k(c,b){for(var f=c.split("|"),t=f.length;t--;)B.attrHandle[f[t]]=b}function h(c,b){var f=b&&c,t=f&&1===c.nodeType&&1===b.nodeType&&c.sourceIndex-b.sourceIndex;if(t)return t;if(f)for(;f=f.nextSibling;)if(f===
b)return-1;return c?1:-1}function g(c){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===c}}function n(c){return function(b){var f=b.nodeName.toLowerCase();return("input"===f||"button"===f)&&b.type===c}}function m(c){return function(b){return"form"in b?b.parentNode&&!1===b.disabled?"label"in b?"label"in b.parentNode?b.parentNode.disabled===c:b.disabled===c:b.isDisabled===c||b.isDisabled!==!c&&Aa(b)===c:b.disabled===c:"label"in b&&b.disabled===c}}function u(c){return t(function(b){return b=
+b,t(function(f,t){for(var e,k=c([],f.length,b),h=k.length;h--;)f[e=k[h]]&&(f[e]=!(t[e]=f[e]))})})}function p(c){return c&&"undefined"!=typeof c.getElementsByTagName&&c}function q(){}function x(c){for(var b=0,f=c.length,t="";b<f;b++)t+=c[b].value;return t}function J(c,b,f){var t=b.dir,e=b.next,k=e||t,h=f&&"parentNode"===k,g=ba++;return b.first?function(b,f,e){for(;b=b[t];)if(1===b.nodeType||h)return c(b,f,e);return!1}:function(b,f,n){var F,m,u,p=[S,g];if(n)for(;b=b[t];){if((1===b.nodeType||h)&&c(b,
f,n))return!0}else for(;b=b[t];)if(1===b.nodeType||h)if(u=b[P]||(b[P]={}),m=u[b.uniqueID]||(u[b.uniqueID]={}),e&&e===b.nodeName.toLowerCase())b=b[t]||b;else{if((F=m[k])&&F[0]===S&&F[1]===g)return p[2]=F[2];if(m[k]=p,p[2]=c(b,f,n))return!0}return!1}}function w(c){return 1<c.length?function(b,f,t){for(var e=c.length;e--;)if(!c[e](b,f,t))return!1;return!0}:c[0]}function z(c,b,f,t,e){for(var k,h=[],g=0,n=c.length,F=null!=b;g<n;g++)(k=c[g])&&(f&&!f(k,t,e)||(h.push(k),F&&b.push(g)));return h}function v(c,
f,e,k,h,g){return k&&!k[P]&&(k=v(k)),h&&!h[P]&&(h=v(h,g)),t(function(t,g,n,F){var m,u,p=[],q=[],x=g.length,J;if(!(J=t)){J=f||"*";for(var w=n.nodeType?[n]:n,v=[],r=0,G=w.length;r<G;r++)b(J,w[r],v);J=v}J=!c||!t&&f?J:z(J,p,c,n,F);w=e?h||(t?c:x||k)?[]:g:J;if(e&&e(J,w,n,F),k)for(m=z(w,q),k(m,[],n,F),n=m.length;n--;)(u=m[n])&&(w[q[n]]=!(J[q[n]]=u));if(t){if(h||c){if(h){m=[];for(n=w.length;n--;)(u=w[n])&&m.push(J[n]=u);h(null,w=[],m,F)}for(n=w.length;n--;)(u=w[n])&&-1<(m=h?W(t,u):p[n])&&(t[m]=!(g[m]=u))}}else w=
z(w===g?w.splice(x,w.length):w),h?h(null,g,w,F):U.apply(g,w)})}function r(c){var b,f,t,e=c.length,k=B.relative[c[0].type];f=k||B.relative[" "];for(var h=k?1:0,g=J(function(c){return c===b},f,!0),n=J(function(c){return-1<W(b,c)},f,!0),F=[function(c,f,t){c=!k&&(t||f!==A)||((b=f).nodeType?g(c,f,t):n(c,f,t));return b=null,c}];h<e;h++)if(f=B.relative[c[h].type])F=[J(w(F),f)];else{if(f=B.filter[c[h].type].apply(null,c[h].matches),f[P]){for(t=++h;t<e&&!B.relative[c[t].type];t++);return v(1<h&&w(F),1<h&&
x(c.slice(0,h-1).concat({value:" "===c[h-2].type?"*":""})).replace(Y,"$1"),f,h<t&&r(c.slice(h,t)),t<e&&r(c=c.slice(t)),t<e&&x(c))}F.push(f)}return w(F)}function G(c,f){var e=0<f.length,k=0<c.length,h=function(t,h,g,n,F){var m,u,p,q=0,x="0",w=t&&[],J=[],v=A,r=t||k&&B.find.TAG("*",F),G=S+=null==v?1:Math.random()||.1,Ca=r.length;for(F&&(A=h===H||h||F);x!==Ca&&null!=(m=r[x]);x++){if(k&&m){u=0;for(h||m.ownerDocument===H||(Q(m),g=!qa);p=c[u++];)if(p(m,h||H,g)){n.push(m);break}F&&(S=G)}e&&((m=!p&&m)&&q--,
t&&w.push(m))}if(q+=x,e&&x!==q){for(u=0;p=f[u++];)p(w,J,h,g);if(t){if(0<q)for(;x--;)w[x]||J[x]||(J[x]=V.call(n));J=z(J)}U.apply(n,J);F&&!t&&0<J.length&&1<q+f.length&&b.uniqueSort(n)}return F&&(S=G,A=v),w};return e?t(h):h}var D,y,B,oa,ea,C,M,I,A,K,R,Q,H,da,qa,E,aa,ua,xa,P="sizzle"+1*new Date,sa=c.document,S=0,ba=0,N=f(),Fa=f(),O=f(),Ba=function(c,b){return c===b&&(R=!0),0},T={}.hasOwnProperty,Z=[],V=Z.pop,X=Z.push,U=Z.push,ma=Z.slice,W=function(c,b){for(var f=0,t=c.length;f<t;f++)if(c[f]===b)return f;
return-1},ka=RegExp("[\\x20\\t\\r\\n\\f]+","g"),Y=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),ga=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ca=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,fa=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),ha=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
ia=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,Da={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},ta=/^(?:input|select|textarea|button)$/i,na=/^h\d$/i,la=
/^[^{]+\{\s*\[native \w/,za=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,pa=/[+~]/,ja=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),ra=function(c,b,f){c="0x"+b-65536;return c!==c||f?b:0>c?String.fromCharCode(c+65536):String.fromCharCode(c>>10|55296,1023&c|56320)},va=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,wa=function(c,b){return b?"\x00"===c?"\ufffd":c.slice(0,-1)+"\\"+c.charCodeAt(c.length-1).toString(16)+" ":"\\"+c},ya=function(){Q()},Aa=J(function(c){return!0===
c.disabled&&("form"in c||"label"in c)},{dir:"parentNode",next:"legend"});try{U.apply(Z=ma.call(sa.childNodes),sa.childNodes),Z[sa.childNodes.length].nodeType}catch(gc){U={apply:Z.length?function(c,b){X.apply(c,ma.call(b))}:function(c,b){for(var f=c.length,t=0;c[f++]=b[t++];);c.length=f-1}}}y=b.support={};ea=b.isXML=function(c){c=c&&(c.ownerDocument||c).documentElement;return!!c&&"HTML"!==c.nodeName};Q=b.setDocument=function(c){var b,f;c=c?c.ownerDocument||c:sa;return c!==H&&9===c.nodeType&&c.documentElement?
(H=c,da=H.documentElement,qa=!ea(H),sa!==H&&(f=H.defaultView)&&f.top!==f&&(f.addEventListener?f.addEventListener("unload",ya,!1):f.attachEvent&&f.attachEvent("onunload",ya)),y.attributes=e(function(c){return c.className="i",!c.getAttribute("className")}),y.getElementsByTagName=e(function(c){return c.appendChild(H.createComment("")),!c.getElementsByTagName("*").length}),y.getElementsByClassName=la.test(H.getElementsByClassName),y.getById=e(function(c){return da.appendChild(c).id=P,!H.getElementsByName||
!H.getElementsByName(P).length}),y.getById?(B.filter.ID=function(c){var b=c.replace(ja,ra);return function(c){return c.getAttribute("id")===b}},B.find.ID=function(c,b){if("undefined"!=typeof b.getElementById&&qa){var f=b.getElementById(c);return f?[f]:[]}}):(B.filter.ID=function(c){var b=c.replace(ja,ra);return function(c){return(c="undefined"!=typeof c.getAttributeNode&&c.getAttributeNode("id"))&&c.value===b}},B.find.ID=function(c,b){if("undefined"!=typeof b.getElementById&&qa){var f,t,e,k=b.getElementById(c);
if(k){if(f=k.getAttributeNode("id"),f&&f.value===c)return[k];e=b.getElementsByName(c);for(t=0;k=e[t++];)if(f=k.getAttributeNode("id"),f&&f.value===c)return[k]}return[]}}),B.find.TAG=y.getElementsByTagName?function(c,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(c):y.qsa?b.querySelectorAll(c):void 0}:function(c,b){var f,t=[],e=0,k=b.getElementsByTagName(c);if("*"===c){for(;f=k[e++];)1===f.nodeType&&t.push(f);return t}return k},B.find.CLASS=y.getElementsByClassName&&function(c,
b){if("undefined"!=typeof b.getElementsByClassName&&qa)return b.getElementsByClassName(c)},aa=[],E=[],(y.qsa=la.test(H.querySelectorAll))&&(e(function(c){da.appendChild(c).innerHTML="<a id='"+P+"'></a><select id='"+P+"-\r\\' msallowcapture=''><option selected=''></option></select>";c.querySelectorAll("[msallowcapture^='']").length&&E.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");c.querySelectorAll("[selected]").length||E.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
c.querySelectorAll("[id~="+P+"-]").length||E.push("~=");c.querySelectorAll(":checked").length||E.push(":checked");c.querySelectorAll("a#"+P+"+*").length||E.push(".#.+[+~]")}),e(function(c){c.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=H.createElement("input");b.setAttribute("type","hidden");c.appendChild(b).setAttribute("name","D");c.querySelectorAll("[name=d]").length&&E.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==c.querySelectorAll(":enabled").length&&
E.push(":enabled",":disabled");da.appendChild(c).disabled=!0;2!==c.querySelectorAll(":disabled").length&&E.push(":enabled",":disabled");c.querySelectorAll("*,:x");E.push(",.*:")})),(y.matchesSelector=la.test(ua=da.matches||da.webkitMatchesSelector||da.mozMatchesSelector||da.oMatchesSelector||da.msMatchesSelector))&&e(function(c){y.disconnectedMatch=ua.call(c,"*");ua.call(c,"[s!='']:x");aa.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),
E=E.length&&new RegExp(E.join("|")),aa=aa.length&&new RegExp(aa.join("|")),b=la.test(da.compareDocumentPosition),xa=b||la.test(da.contains)?function(c,b){var f=9===c.nodeType?c.documentElement:c,t=b&&b.parentNode;return c===t||!(!t||1!==t.nodeType||!(f.contains?f.contains(t):c.compareDocumentPosition&&16&c.compareDocumentPosition(t)))}:function(c,b){if(b)for(;b=b.parentNode;)if(b===c)return!0;return!1},Ba=b?function(c,b){if(c===b)return R=!0,0;var f=!c.compareDocumentPosition-!b.compareDocumentPosition;
return f?f:(f=(c.ownerDocument||c)===(b.ownerDocument||b)?c.compareDocumentPosition(b):1,1&f||!y.sortDetached&&b.compareDocumentPosition(c)===f?c===H||c.ownerDocument===sa&&xa(sa,c)?-1:b===H||b.ownerDocument===sa&&xa(sa,b)?1:K?W(K,c)-W(K,b):0:4&f?-1:1)}:function(c,b){if(c===b)return R=!0,0;var f,t=0;f=c.parentNode;var e=b.parentNode,k=[c],g=[b];if(!f||!e)return c===H?-1:b===H?1:f?-1:e?1:K?W(K,c)-W(K,b):0;if(f===e)return h(c,b);for(f=c;f=f.parentNode;)k.unshift(f);for(f=b;f=f.parentNode;)g.unshift(f);
for(;k[t]===g[t];)t++;return t?h(k[t],g[t]):k[t]===sa?-1:g[t]===sa?1:0},H):H};b.matches=function(c,f){return b(c,null,null,f)};b.matchesSelector=function(c,f){if((c.ownerDocument||c)!==H&&Q(c),f=f.replace(fa,"='$1']"),!(!y.matchesSelector||!qa||O[f+" "]||aa&&aa.test(f)||E&&E.test(f)))try{var t=ua.call(c,f);if(t||y.disconnectedMatch||c.document&&11!==c.document.nodeType)return t}catch(ic){}return 0<b(f,H,null,[c]).length};b.contains=function(c,b){return(c.ownerDocument||c)!==H&&Q(c),xa(c,b)};b.attr=
function(c,b){(c.ownerDocument||c)!==H&&Q(c);var f=B.attrHandle[b.toLowerCase()],f=f&&T.call(B.attrHandle,b.toLowerCase())?f(c,b,!qa):void 0;return void 0!==f?f:y.attributes||!qa?c.getAttribute(b):(f=c.getAttributeNode(b))&&f.specified?f.value:null};b.escape=function(c){return(c+"").replace(va,wa)};b.error=function(c){throw Error("Syntax error, unrecognized expression: "+c);};b.uniqueSort=function(c){var b,f=[],t=0,e=0;if(R=!y.detectDuplicates,K=!y.sortStable&&c.slice(0),c.sort(Ba),R){for(;b=c[e++];)b===
c[e]&&(t=f.push(e));for(;t--;)c.splice(f[t],1)}return K=null,c};oa=b.getText=function(c){var b,f="",t=0;if(b=c.nodeType)if(1===b||9===b||11===b){if("string"==typeof c.textContent)return c.textContent;for(c=c.firstChild;c;c=c.nextSibling)f+=oa(c)}else{if(3===b||4===b)return c.nodeValue}else for(;b=c[t++];)f+=oa(b);return f};B=b.selectors={cacheLength:50,createPseudo:t,match:Da,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},
"~":{dir:"previousSibling"}},preFilter:{ATTR:function(c){return c[1]=c[1].replace(ja,ra),c[3]=(c[3]||c[4]||c[5]||"").replace(ja,ra),"~="===c[2]&&(c[3]=" "+c[3]+" "),c.slice(0,4)},CHILD:function(c){return c[1]=c[1].toLowerCase(),"nth"===c[1].slice(0,3)?(c[3]||b.error(c[0]),c[4]=+(c[4]?c[5]+(c[6]||1):2*("even"===c[3]||"odd"===c[3])),c[5]=+(c[7]+c[8]||"odd"===c[3])):c[3]&&b.error(c[0]),c},PSEUDO:function(c){var b,f=!c[6]&&c[2];return Da.CHILD.test(c[0])?null:(c[3]?c[2]=c[4]||c[5]||"":f&&ha.test(f)&&
(b=C(f,!0))&&(b=f.indexOf(")",f.length-b)-f.length)&&(c[0]=c[0].slice(0,b),c[2]=f.slice(0,b)),c.slice(0,3))}},filter:{TAG:function(c){var b=c.replace(ja,ra).toLowerCase();return"*"===c?function(){return!0}:function(c){return c.nodeName&&c.nodeName.toLowerCase()===b}},CLASS:function(c){var b=N[c+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+c+"([\\x20\\t\\r\\n\\f]|$)"),N(c,function(c){return b.test("string"==typeof c.className&&c.className||"undefined"!=typeof c.getAttribute&&c.getAttribute("class")||
"")}))},ATTR:function(c,f,t){return function(e){e=b.attr(e,c);return null==e?"!="===f:!f||(e+="","="===f?e===t:"!="===f?e!==t:"^="===f?t&&0===e.indexOf(t):"*="===f?t&&-1<e.indexOf(t):"$="===f?t&&e.slice(-t.length)===t:"~="===f?-1<(" "+e.replace(ka," ")+" ").indexOf(t):"|="===f&&(e===t||e.slice(0,t.length+1)===t+"-"))}},CHILD:function(c,b,f,t,e){var k="nth"!==c.slice(0,3),h="last"!==c.slice(-4),g="of-type"===b;return 1===t&&0===e?function(c){return!!c.parentNode}:function(b,f,n){var F,m,u,p,q,x;f=
k!==h?"nextSibling":"previousSibling";var w=b.parentNode,J=g&&b.nodeName.toLowerCase();n=!n&&!g;var z=!1;if(w){if(k){for(;f;){for(p=b;p=p[f];)if(g?p.nodeName.toLowerCase()===J:1===p.nodeType)return!1;x=f="only"===c&&!x&&"nextSibling"}return!0}if(x=[h?w.firstChild:w.lastChild],h&&n)for(p=w,u=p[P]||(p[P]={}),m=u[p.uniqueID]||(u[p.uniqueID]={}),F=m[c]||[],z=(q=F[0]===S&&F[1])&&F[2],p=q&&w.childNodes[q];p=++q&&p&&p[f]||(z=q=0)||x.pop();){if(1===p.nodeType&&++z&&p===b){m[c]=[S,q,z];break}}else if(n&&(p=
b,u=p[P]||(p[P]={}),m=u[p.uniqueID]||(u[p.uniqueID]={}),F=m[c]||[],q=F[0]===S&&F[1],z=q),!1===z)for(;(p=++q&&p&&p[f]||(z=q=0)||x.pop())&&((g?p.nodeName.toLowerCase()!==J:1!==p.nodeType)||!++z||(n&&(u=p[P]||(p[P]={}),m=u[p.uniqueID]||(u[p.uniqueID]={}),m[c]=[S,z]),p!==b)););return z-=e,z===t||0===z%t&&0<=z/t}}},PSEUDO:function(c,f){var e,k=B.pseudos[c]||B.setFilters[c.toLowerCase()]||b.error("unsupported pseudo: "+c);return k[P]?k(f):1<k.length?(e=[c,c,"",f],B.setFilters.hasOwnProperty(c.toLowerCase())?
t(function(c,b){for(var t,e=k(c,f),h=e.length;h--;)t=W(c,e[h]),c[t]=!(b[t]=e[h])}):function(c){return k(c,0,e)}):k}},pseudos:{not:t(function(c){var b=[],f=[],e=M(c.replace(Y,"$1"));return e[P]?t(function(c,b,f,t){var k;f=e(c,null,t,[]);for(t=c.length;t--;)(k=f[t])&&(c[t]=!(b[t]=k))}):function(c,t,k){return b[0]=c,e(b,null,k,f),b[0]=null,!f.pop()}}),has:t(function(c){return function(f){return 0<b(c,f).length}}),contains:t(function(c){return c=c.replace(ja,ra),function(b){return-1<(b.textContent||b.innerText||
oa(b)).indexOf(c)}}),lang:t(function(c){return ia.test(c||"")||b.error("unsupported lang: "+c),c=c.replace(ja,ra).toLowerCase(),function(b){var f;do if(f=qa?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return f=f.toLowerCase(),f===c||0===f.indexOf(c+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var f=c.location&&c.location.hash;return f&&f.slice(1)===b.id},root:function(c){return c===da},focus:function(c){return c===H.activeElement&&(!H.hasFocus||H.hasFocus())&&
!!(c.type||c.href||~c.tabIndex)},enabled:m(!1),disabled:m(!0),checked:function(c){var b=c.nodeName.toLowerCase();return"input"===b&&!!c.checked||"option"===b&&!!c.selected},selected:function(c){return c.parentNode&&c.parentNode.selectedIndex,!0===c.selected},empty:function(c){for(c=c.firstChild;c;c=c.nextSibling)if(6>c.nodeType)return!1;return!0},parent:function(c){return!B.pseudos.empty(c)},header:function(c){return na.test(c.nodeName)},input:function(c){return ta.test(c.nodeName)},button:function(c){var b=
c.nodeName.toLowerCase();return"input"===b&&"button"===c.type||"button"===b},text:function(c){var b;return"input"===c.nodeName.toLowerCase()&&"text"===c.type&&(null==(b=c.getAttribute("type"))||"text"===b.toLowerCase())},first:u(function(){return[0]}),last:u(function(c,b){return[b-1]}),eq:u(function(c,b,f){return[0>f?f+b:f]}),even:u(function(c,b){for(var f=0;f<b;f+=2)c.push(f);return c}),odd:u(function(c,b){for(var f=1;f<b;f+=2)c.push(f);return c}),lt:u(function(c,b,f){for(b=0>f?f+b:f;0<=--b;)c.push(b);
return c}),gt:u(function(c,b,f){for(f=0>f?f+b:f;++f<b;)c.push(f);return c})}};B.pseudos.nth=B.pseudos.eq;for(D in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})B.pseudos[D]=g(D);for(D in{submit:!0,reset:!0})B.pseudos[D]=n(D);q.prototype=B.filters=B.pseudos;B.setFilters=new q;C=b.tokenize=function(c,f){var t,e,k,h,g,n,F;if(g=Fa[c+" "])return f?0:g.slice(0);g=c;n=[];for(F=B.preFilter;g;){t&&!(e=ga.exec(g))||(e&&(g=g.slice(e[0].length)||g),n.push(k=[]));t=!1;(e=ca.exec(g))&&(t=e.shift(),k.push({value:t,
type:e[0].replace(Y," ")}),g=g.slice(t.length));for(h in B.filter)!(e=Da[h].exec(g))||F[h]&&!(e=F[h](e))||(t=e.shift(),k.push({value:t,type:h,matches:e}),g=g.slice(t.length));if(!t)break}return f?g.length:g?b.error(c):Fa(c,n).slice(0)};return M=b.compile=function(c,b){var f,t=[],e=[],k=O[c+" "];if(!k){b||(b=C(c));for(f=b.length;f--;)k=r(b[f]),k[P]?t.push(k):e.push(k);k=O(c,G(e,t));k.selector=c}return k},I=b.select=function(c,b,f,t){var e,k,h,g,n,F="function"==typeof c&&c,m=!t&&C(c=F.selector||c);
if(f=f||[],1===m.length){if(k=m[0]=m[0].slice(0),2<k.length&&"ID"===(h=k[0]).type&&9===b.nodeType&&qa&&B.relative[k[1].type]){if(b=(B.find.ID(h.matches[0].replace(ja,ra),b)||[])[0],!b)return f;F&&(b=b.parentNode);c=c.slice(k.shift().value.length)}for(e=Da.needsContext.test(c)?0:k.length;e--&&(h=k[e],!B.relative[g=h.type]);)if((n=B.find[g])&&(t=n(h.matches[0].replace(ja,ra),pa.test(k[0].type)&&p(b.parentNode)||b))){if(k.splice(e,1),c=t.length&&x(k),!c)return U.apply(f,t),f;break}}return(F||M(c,m))(t,
b,!qa,f,!b||pa.test(c)&&p(b.parentNode)||b),f},y.sortStable=P.split("").sort(Ba).join("")===P,y.detectDuplicates=!!R,Q(),y.sortDetached=e(function(c){return 1&c.compareDocumentPosition(H.createElement("fieldset"))}),e(function(c){return c.innerHTML="<a href='#'></a>","#"===c.firstChild.getAttribute("href")})||k("type|href|height|width",function(c,b,f){if(!f)return c.getAttribute(b,"type"===b.toLowerCase()?1:2)}),y.attributes&&e(function(c){return c.innerHTML="<input/>",c.firstChild.setAttribute("value",
""),""===c.firstChild.getAttribute("value")})||k("value",function(c,b,f){if(!f&&"input"===c.nodeName.toLowerCase())return c.defaultValue}),e(function(c){return null==c.getAttribute("disabled")})||k("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(c,b,f){var t;if(!f)return!0===c[b]?b.toLowerCase():(t=c.getAttributeNode(b))&&t.specified?t.value:null}),b}(c);p.find=za;p.expr=za.selectors;p.expr[":"]=p.expr.pseudos;p.uniqueSort=
p.unique=za.uniqueSort;p.text=za.getText;p.isXMLDoc=za.isXML;p.contains=za.contains;p.escapeSelector=za.escape;var ra=function(c,b,f){for(var t=[],e=void 0!==f;(c=c[b])&&9!==c.nodeType;)if(1===c.nodeType){if(e&&p(c).is(f))break;t.push(c)}return t},bb=function(c,b){for(var f=[];c;c=c.nextSibling)1===c.nodeType&&c!==b&&f.push(c);return f},cb=p.expr.match.needsContext,db=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,rb=/^.[^:#\[\.,]*$/;p.filter=function(c,b,f){var t=b[0];return f&&
(c=":not("+c+")"),1===b.length&&1===t.nodeType?p.find.matchesSelector(t,c)?[t]:[]:p.find.matches(c,p.grep(b,function(c){return 1===c.nodeType}))};p.fn.extend({find:function(c){var b,f,t=this.length,e=this;if("string"!=typeof c)return this.pushStack(p(c).filter(function(){for(b=0;b<t;b++)if(p.contains(e[b],this))return!0}));f=this.pushStack([]);for(b=0;b<t;b++)p.find(c,e[b],f);return 1<t?p.uniqueSort(f):f},filter:function(c){return this.pushStack(h(this,c||[],!1))},not:function(c){return this.pushStack(h(this,
c||[],!0))},is:function(c){return!!h(this,"string"==typeof c&&cb.test(c)?p(c):c||[],!1).length}});var eb,Gb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(p.fn.init=function(c,b,f){var t,e;if(!c)return this;if(f=f||eb,"string"==typeof c){if(t="<"===c[0]&&">"===c[c.length-1]&&3<=c.length?[null,c,null]:Gb.exec(c),!t||!t[1]&&b)return!b||b.jquery?(b||f).find(c):this.constructor(b).find(c);if(t[1]){if(b=b instanceof p?b[0]:b,p.merge(this,p.parseHTML(t[1],b&&b.nodeType?b.ownerDocument||b:J,!0)),db.test(t[1])&&
p.isPlainObject(b))for(t in b)p.isFunction(this[t])?this[t](b[t]):this.attr(t,b[t]);return this}return e=J.getElementById(t[2]),e&&(this[0]=e,this.length=1),this}return c.nodeType?(this[0]=c,this.length=1,this):p.isFunction(c)?void 0!==f.ready?f.ready(c):c(p):p.makeArray(c,this)}).prototype=p.fn;eb=p(J);var Hb=/^(?:parents|prev(?:Until|All))/,Ib={children:!0,contents:!0,next:!0,prev:!0};p.fn.extend({has:function(c){var b=p(c,this),f=b.length;return this.filter(function(){for(var c=0;c<f;c++)if(p.contains(this,
b[c]))return!0})},closest:function(c,b){var f,t=0,e=this.length,k=[],h="string"!=typeof c&&p(c);if(!cb.test(c))for(;t<e;t++)for(f=this[t];f&&f!==b;f=f.parentNode)if(11>f.nodeType&&(h?-1<h.index(f):1===f.nodeType&&p.find.matchesSelector(f,c))){k.push(f);break}return this.pushStack(1<k.length?p.uniqueSort(k):k)},index:function(c){return c?"string"==typeof c?da.call(p(c),this[0]):da.call(this,c.jquery?c[0]:c):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(c,b){return this.pushStack(p.uniqueSort(p.merge(this.get(),
p(c,b))))},addBack:function(c){return this.add(null==c?this.prevObject:this.prevObject.filter(c))}});p.each({parent:function(c){return(c=c.parentNode)&&11!==c.nodeType?c:null},parents:function(c){return ra(c,"parentNode")},parentsUntil:function(c,b,f){return ra(c,"parentNode",f)},next:function(c){return q(c,"nextSibling")},prev:function(c){return q(c,"previousSibling")},nextAll:function(c){return ra(c,"nextSibling")},prevAll:function(c){return ra(c,"previousSibling")},nextUntil:function(c,b,f){return ra(c,
"nextSibling",f)},prevUntil:function(c,b,f){return ra(c,"previousSibling",f)},siblings:function(c){return bb((c.parentNode||{}).firstChild,c)},children:function(c){return bb(c.firstChild)},contents:function(c){return c.contentDocument||p.merge([],c.childNodes)}},function(c,b){p.fn[c]=function(f,t){var e=p.map(this,b,f);return"Until"!==c.slice(-5)&&(t=f),t&&"string"==typeof t&&(e=p.filter(t,e)),1<this.length&&(Ib[c]||p.uniqueSort(e),Hb.test(c)&&e.reverse()),this.pushStack(e)}});var pa=/[^\x20\t\r\n\f]+/g;
p.Callbacks=function(c){c="string"==typeof c?m(c):p.extend({},c);var b,f,t,e,k=[],h=[],g=-1,n=function(){e=c.once;for(t=b=!0;h.length;g=-1)for(f=h.shift();++g<k.length;)!1===k[g].apply(f[0],f[1])&&c.stopOnFalse&&(g=k.length,f=!1);c.memory||(f=!1);b=!1;e&&(k=f?[]:"")},u={add:function(){return k&&(f&&!b&&(g=k.length-1,h.push(f)),function vb(b){p.each(b,function(b,f){p.isFunction(f)?c.unique&&u.has(f)||k.push(f):f&&f.length&&"string"!==p.type(f)&&vb(f)})}(arguments),f&&!b&&n()),this},remove:function(){return p.each(arguments,
function(c,b){for(var f;-1<(f=p.inArray(b,k,f));)k.splice(f,1),f<=g&&g--}),this},has:function(c){return c?-1<p.inArray(c,k):0<k.length},empty:function(){return k&&(k=[]),this},disable:function(){return e=h=[],k=f="",this},disabled:function(){return!k},lock:function(){return e=h=[],f||b||(k=f=""),this},locked:function(){return!!e},fireWith:function(c,f){return e||(f=f||[],f=[c,f.slice?f.slice():f],h.push(f),b||n()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!t}};
return u};p.extend({Deferred:function(b){var f=[["notify","progress",p.Callbacks("memory"),p.Callbacks("memory"),2],["resolve","done",p.Callbacks("once memory"),p.Callbacks("once memory"),0,"resolved"],["reject","fail",p.Callbacks("once memory"),p.Callbacks("once memory"),1,"rejected"]],t="pending",e={state:function(){return t},always:function(){return h.done(arguments).fail(arguments),this},"catch":function(c){return e.then(null,c)},pipe:function(){var c=arguments;return p.Deferred(function(b){p.each(f,
function(f,t){var e=p.isFunction(c[t[4]])&&c[t[4]];h[t[1]](function(){var c=e&&e.apply(this,arguments);c&&p.isFunction(c.promise)?c.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[t[0]+"With"](this,e?[c]:arguments)})});c=null}).promise()},then:function(b,t,e){function h(b,f,t,e){return function(){var n=this,m=arguments,u=function(){var c,F;if(!(b<g)){if(c=t.apply(n,m),c===f.promise())throw new TypeError("Thenable self-resolution");F=c&&("object"==typeof c||"function"==typeof c)&&c.then;
p.isFunction(F)?e?F.call(c,h(g,f,r,e),h(g,f,k,e)):(g++,F.call(c,h(g,f,r,e),h(g,f,k,e),h(g,f,r,f.notifyWith))):(t!==r&&(n=void 0,m=[c]),(e||f.resolveWith)(n,m))}},F=e?u:function(){try{u()}catch(ab){p.Deferred.exceptionHook&&p.Deferred.exceptionHook(ab,F.stackTrace),b+1>=g&&(t!==k&&(n=void 0,m=[ab]),f.rejectWith(n,m))}};b?F():(p.Deferred.getStackHook&&(F.stackTrace=p.Deferred.getStackHook()),c.setTimeout(F))}}var g=0;return p.Deferred(function(c){f[0][3].add(h(0,c,p.isFunction(e)?e:r,c.notifyWith));
f[1][3].add(h(0,c,p.isFunction(b)?b:r));f[2][3].add(h(0,c,p.isFunction(t)?t:k))}).promise()},promise:function(c){return null!=c?p.extend(c,e):e}},h={};return p.each(f,function(c,b){var k=b[2],g=b[5];e[b[1]]=k.add;g&&k.add(function(){t=g},f[3-c][2].disable,f[0][2].lock);k.add(b[3].fire);h[b[0]]=function(){return h[b[0]+"With"](this===h?void 0:this,arguments),this};h[b[0]+"With"]=k.fireWith}),e.promise(h),b&&b.call(h,h),h},when:function(c){var b=arguments.length,f=b,t=Array(f),e=ea.call(arguments),
k=p.Deferred(),h=function(c){return function(f){t[c]=this;e[c]=1<arguments.length?ea.call(arguments):f;--b||k.resolveWith(t,e)}};if(1>=b&&(n(c,k.done(h(f)).resolve,k.reject),"pending"===k.state()||p.isFunction(e[f]&&e[f].then)))return k.then();for(;f--;)n(e[f],h(f),k.reject);return k.promise()}});var Jb=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;p.Deferred.exceptionHook=function(b,f){c.console&&c.console.warn&&b&&Jb.test(b.name)&&c.console.warn("jQuery.Deferred exception: "+b.message,
b.stack,f)};p.readyException=function(b){c.setTimeout(function(){throw b;})};var Qa=p.Deferred();p.fn.ready=function(c){return Qa.then(c)["catch"](function(c){p.readyException(c)}),this};p.extend({isReady:!1,readyWait:1,holdReady:function(c){c?p.readyWait++:p.ready(!0)},ready:function(c){(!0===c?--p.readyWait:p.isReady)||(p.isReady=!0,!0!==c&&0<--p.readyWait||Qa.resolveWith(J,[p]))}});p.ready.then=Qa.then;"complete"===J.readyState||"loading"!==J.readyState&&!J.documentElement.doScroll?c.setTimeout(p.ready):
(J.addEventListener("DOMContentLoaded",f),c.addEventListener("load",f));var va=function(c,b,f,e,k,h,g){var t=0,n=c.length,m=null==f;if("object"===p.type(f))for(t in k=!0,f)va(c,b,t,f[t],!0,h,g);else if(void 0!==e&&(k=!0,p.isFunction(e)||(g=!0),m&&(g?(b.call(c,e),b=null):(m=b,b=function(c,b,f){return m.call(p(c),f)})),b))for(;t<n;t++)b(c[t],f,g?e:e.call(c[t],t,b(c[t],f)));return k?c:m?b.call(c):n?b(c[0],f):h},La=function(c){return 1===c.nodeType||9===c.nodeType||!+c.nodeType};x.uid=1;x.prototype={cache:function(c){var b=
c[this.expando];return b||(b={},La(c)&&(c.nodeType?c[this.expando]=b:Object.defineProperty(c,this.expando,{value:b,configurable:!0}))),b},set:function(c,b,f){var t;c=this.cache(c);if("string"==typeof b)c[p.camelCase(b)]=f;else for(t in b)c[p.camelCase(t)]=b[t];return c},get:function(c,b){return void 0===b?this.cache(c):c[this.expando]&&c[this.expando][p.camelCase(b)]},access:function(c,b,f){return void 0===b||b&&"string"==typeof b&&void 0===f?this.get(c,b):(this.set(c,b,f),void 0!==f?f:b)},remove:function(c,
b){var f,t=c[this.expando];if(void 0!==t){if(void 0!==b)for(p.isArray(b)?b=b.map(p.camelCase):(b=p.camelCase(b),b=b in t?[b]:b.match(pa)||[]),f=b.length;f--;)delete t[b[f]];(void 0===b||p.isEmptyObject(t))&&(c.nodeType?c[this.expando]=void 0:delete c[this.expando])}},hasData:function(c){c=c[this.expando];return void 0!==c&&!p.isEmptyObject(c)}};var U=new x,la=new x,tb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,sb=/[A-Z]/g;p.extend({hasData:function(c){return la.hasData(c)||U.hasData(c)},data:function(c,b,f){return la.access(c,
b,f)},removeData:function(c,b){la.remove(c,b)},_data:function(c,b,f){return U.access(c,b,f)},_removeData:function(c,b){U.remove(c,b)}});p.fn.extend({data:function(c,b){var f,e,t,k=this[0],h=k&&k.attributes;if(void 0===c){if(this.length&&(t=la.get(k),1===k.nodeType&&!U.get(k,"hasDataAttrs"))){for(f=h.length;f--;)h[f]&&(e=h[f].name,0===e.indexOf("data-")&&(e=p.camelCase(e.slice(5)),y(k,e,t[e])));U.set(k,"hasDataAttrs",!0)}return t}return"object"==typeof c?this.each(function(){la.set(this,c)}):va(this,
function(b){var f;if(k&&void 0===b){if((f=la.get(k,c),void 0!==f)||(f=y(k,c),void 0!==f))return f}else this.each(function(){la.set(this,c,b)})},null,b,1<arguments.length,null,!0)},removeData:function(c){return this.each(function(){la.remove(this,c)})}});p.extend({queue:function(c,b,f){var e;if(c)return b=(b||"fx")+"queue",e=U.get(c,b),f&&(!e||p.isArray(f)?e=U.access(c,b,p.makeArray(f)):e.push(f)),e||[]},dequeue:function(c,b){b=b||"fx";var f=p.queue(c,b),e=f.length,t=f.shift(),k=p._queueHooks(c,b),
h=function(){p.dequeue(c,b)};"inprogress"===t&&(t=f.shift(),e--);t&&("fx"===b&&f.unshift("inprogress"),delete k.stop,t.call(c,h,k));!e&&k&&k.empty.fire()},_queueHooks:function(c,b){var f=b+"queueHooks";return U.get(c,f)||U.access(c,f,{empty:p.Callbacks("once memory").add(function(){U.remove(c,[b+"queue",f])})})}});p.fn.extend({queue:function(c,b){var f=2;return"string"!=typeof c&&(b=c,c="fx",f--),arguments.length<f?p.queue(this[0],c):void 0===b?this:this.each(function(){var f=p.queue(this,c,b);p._queueHooks(this,
c);"fx"===c&&"inprogress"!==f[0]&&p.dequeue(this,c)})},dequeue:function(c){return this.each(function(){p.dequeue(this,c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,b){var f,e=1,t=p.Deferred(),k=this,h=this.length,g=function(){--e||t.resolveWith(k,[k])};"string"!=typeof c&&(b=c,c=void 0);for(c=c||"fx";h--;)(f=U.get(k[h],c+"queueHooks"))&&f.empty&&(e++,f.empty.add(g));return g(),t.promise(b)}});var fb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ea=new RegExp("^(?:([+-])=|)("+
fb+")([a-z%]*)$","i"),wa=["Top","Right","Bottom","Left"],Ja=function(c,b){return c=b||c,"none"===c.style.display||""===c.style.display&&p.contains(c.ownerDocument,c)&&"none"===p.css(c,"display")},gb=function(c,b,f,e){var t,k={};for(t in b)k[t]=c.style[t],c.style[t]=b[t];f=f.apply(c,e||[]);for(t in b)c.style[t]=k[t];return f},Va={};p.fn.extend({show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(c){return"boolean"==typeof c?c?this.show():this.hide():this.each(function(){Ja(this)?
p(this).show():p(this).hide()})}});var hb=/^(?:checkbox|radio)$/i,Wa=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Xa=/^$|\/(?:java|ecma)script/i,ja={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ja.optgroup=ja.option;ja.tbody=ja.tfoot=ja.colgroup=ja.caption=ja.thead;ja.th=ja.td;var wb=/<|&#?\w+;/;!function(){var c=
J.createDocumentFragment().appendChild(J.createElement("div")),b=J.createElement("input");b.setAttribute("type","radio");b.setAttribute("checked","checked");b.setAttribute("name","t");c.appendChild(b);Z.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;c.innerHTML="<textarea>x</textarea>";Z.noCloneChecked=!!c.cloneNode(!0).lastChild.defaultValue}();var Ma=J.documentElement,Kb=/^key/,Lb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ib=/^([^.]*)(?:\.(.+)|)/;p.event={global:{},add:function(c,
b,f,e,k){var t,h,g,n,m,u,q,x,F,w;if(m=U.get(c))for(f.handler&&(t=f,f=t.handler,k=t.selector),k&&p.find.matchesSelector(Ma,k),f.guid||(f.guid=p.guid++),(n=m.events)||(n=m.events={}),(h=m.handle)||(h=m.handle=function(b){return"undefined"!=typeof p&&p.event.triggered!==b.type?p.event.dispatch.apply(c,arguments):void 0}),b=(b||"").match(pa)||[""],m=b.length;m--;)g=ib.exec(b[m])||[],F=w=g[1],g=(g[2]||"").split(".").sort(),F&&(q=p.event.special[F]||{},F=(k?q.delegateType:q.bindType)||F,q=p.event.special[F]||
{},u=p.extend({type:F,origType:w,data:e,handler:f,guid:f.guid,selector:k,needsContext:k&&p.expr.match.needsContext.test(k),namespace:g.join(".")},t),(x=n[F])||(x=n[F]=[],x.delegateCount=0,q.setup&&!1!==q.setup.call(c,e,g,h)||c.addEventListener&&c.addEventListener(F,h)),q.add&&(q.add.call(c,u),u.handler.guid||(u.handler.guid=f.guid)),k?x.splice(x.delegateCount++,0,u):x.push(u),p.event.global[F]=!0)},remove:function(c,b,f,e,k){var t,h,g,n,m,u,q,x,F,w,J,z=U.hasData(c)&&U.get(c);if(z&&(n=z.events)){b=
(b||"").match(pa)||[""];for(m=b.length;m--;)if(g=ib.exec(b[m])||[],F=J=g[1],w=(g[2]||"").split(".").sort(),F){q=p.event.special[F]||{};F=(e?q.delegateType:q.bindType)||F;x=n[F]||[];g=g[2]&&new RegExp("(^|\\.)"+w.join("\\.(?:.*\\.|)")+"(\\.|$)");for(h=t=x.length;t--;)u=x[t],!k&&J!==u.origType||f&&f.guid!==u.guid||g&&!g.test(u.namespace)||e&&e!==u.selector&&("**"!==e||!u.selector)||(x.splice(t,1),u.selector&&x.delegateCount--,q.remove&&q.remove.call(c,u));h&&!x.length&&(q.teardown&&!1!==q.teardown.call(c,
w,z.handle)||p.removeEvent(c,F,z.handle),delete n[F])}else for(F in n)p.event.remove(c,F+b[m],f,e,!0);p.isEmptyObject(n)&&U.remove(c,"handle events")}},dispatch:function(c){var b=p.event.fix(c),f,e,t,k,h,g,n=Array(arguments.length);e=(U.get(this,"events")||{})[b.type]||[];var m=p.event.special[b.type]||{};n[0]=b;for(f=1;f<arguments.length;f++)n[f]=arguments[f];if(b.delegateTarget=this,!m.preDispatch||!1!==m.preDispatch.call(this,b)){g=p.event.handlers.call(this,b,e);for(f=0;(k=g[f++])&&!b.isPropagationStopped();)for(b.currentTarget=
k.elem,e=0;(h=k.handlers[e++])&&!b.isImmediatePropagationStopped();)b.rnamespace&&!b.rnamespace.test(h.namespace)||(b.handleObj=h,b.data=h.data,t=((p.event.special[h.origType]||{}).handle||h.handler).apply(k.elem,n),void 0!==t&&!1===(b.result=t)&&(b.preventDefault(),b.stopPropagation()));return m.postDispatch&&m.postDispatch.call(this,b),b.result}},handlers:function(c,b){var f,e,t,k,h,g=[],n=b.delegateCount,m=c.target;if(n&&m.nodeType&&!("click"===c.type&&1<=c.button))for(;m!==this;m=m.parentNode||
this)if(1===m.nodeType&&("click"!==c.type||!0!==m.disabled)){k=[];h={};for(f=0;f<n;f++)e=b[f],t=e.selector+" ",void 0===h[t]&&(h[t]=e.needsContext?-1<p(t,this).index(m):p.find(t,this,null,[m]).length),h[t]&&k.push(e);k.length&&g.push({elem:m,handlers:k})}return m=this,n<b.length&&g.push({elem:m,handlers:b.slice(n)}),g},addProp:function(c,b){Object.defineProperty(p.Event.prototype,c,{enumerable:!0,configurable:!0,get:p.isFunction(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[c]},
set:function(b){Object.defineProperty(this,c,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(c){return c[p.expando]?c:new p.Event(c)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==K()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===K()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&p.nodeName(this,"input"))return this.click(),!1},_default:function(c){return p.nodeName(c.target,
"a")}},beforeunload:{postDispatch:function(c){void 0!==c.result&&c.originalEvent&&(c.originalEvent.returnValue=c.result)}}}};p.removeEvent=function(c,b,f){c.removeEventListener&&c.removeEventListener(b,f)};p.Event=function(c,b){return this instanceof p.Event?(c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||void 0===c.defaultPrevented&&!1===c.returnValue?C:I,this.target=c.target&&3===c.target.nodeType?c.target.parentNode:c.target,this.currentTarget=c.currentTarget,
this.relatedTarget=c.relatedTarget):this.type=c,b&&p.extend(this,b),this.timeStamp=c&&c.timeStamp||p.now(),void(this[p.expando]=!0)):new p.Event(c,b)};p.Event.prototype={constructor:p.Event,isDefaultPrevented:I,isPropagationStopped:I,isImmediatePropagationStopped:I,isSimulated:!1,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=C;c&&!this.isSimulated&&c.preventDefault()},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=C;c&&!this.isSimulated&&
c.stopPropagation()},stopImmediatePropagation:function(){var c=this.originalEvent;this.isImmediatePropagationStopped=C;c&&!this.isSimulated&&c.stopImmediatePropagation();this.stopPropagation()}};p.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,
toElement:!0,touches:!0,which:function(c){var b=c.button;return null==c.which&&Kb.test(c.type)?null!=c.charCode?c.charCode:c.keyCode:!c.which&&void 0!==b&&Lb.test(c.type)?1&b?1:2&b?3:4&b?2:0:c.which}},p.event.addProp);p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(c,b){p.event.special[c]={delegateType:b,bindType:b,handle:function(c){var f,e=c.relatedTarget,t=c.handleObj;return e&&(e===this||p.contains(this,e))||(c.type=t.origType,
f=t.handler.apply(this,arguments),c.type=b),f}}});p.fn.extend({on:function(c,b,f,e){return H(this,c,b,f,e)},one:function(c,b,f,e){return H(this,c,b,f,e,1)},off:function(c,b,f){var e,k;if(c&&c.preventDefault&&c.handleObj)return e=c.handleObj,p(c.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof c){for(k in c)this.off(k,b,c[k]);return this}return!1!==b&&"function"!=typeof b||(f=b,b=void 0),!1===f&&(f=I),this.each(function(){p.event.remove(this,
c,f,b)})}});var Mb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Nb=/<script|<style|<link/i,yb=/checked\s*(?:[^=]|=\s*.checked.)/i,xb=/^true\/(.*)/,zb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;p.extend({htmlPrefilter:function(c){return c.replace(Mb,"<$1></$2>")},clone:function(c,b,f){var e,k,t,h,g=c.cloneNode(!0),n=p.contains(c.ownerDocument,c);if(!(Z.noCloneChecked||1!==c.nodeType&&11!==c.nodeType||p.isXMLDoc(c)))for(h=v(g),t=v(c),e=0,k=t.length;e<
k;e++){var m=t[e],u=h[e],q=u.nodeName.toLowerCase();"input"===q&&hb.test(m.type)?u.checked=m.checked:"input"!==q&&"textarea"!==q||(u.defaultValue=m.defaultValue)}if(b)if(f)for(t=t||v(c),h=h||v(g),e=0,k=t.length;e<k;e++)A(t[e],h[e]);else A(c,g);return h=v(g,"script"),0<h.length&&B(h,!n&&v(c,"script")),g},cleanData:function(c){for(var b,f,e,k=p.event.special,t=0;void 0!==(f=c[t]);t++)if(La(f)){if(b=f[U.expando]){if(b.events)for(e in b.events)k[e]?p.event.remove(f,e):p.removeEvent(f,e,b.handle);f[U.expando]=
void 0}f[la.expando]&&(f[la.expando]=void 0)}}});p.fn.extend({detach:function(c){return R(this,c,!0)},remove:function(c){return R(this,c)},text:function(c){return va(this,function(c){return void 0===c?p.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=c)})},null,c,arguments.length)},append:function(){return z(this,arguments,function(c){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Q(this,c).appendChild(c)})},prepend:function(){return z(this,
arguments,function(c){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Q(this,c);b.insertBefore(c,b.firstChild)}})},before:function(){return z(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this)})},after:function(){return z(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this.nextSibling)})},empty:function(){for(var c,b=0;null!=(c=this[b]);b++)1===c.nodeType&&(p.cleanData(v(c,!1)),c.textContent="");return this},clone:function(c,
b){return c=null!=c&&c,b=null==b?c:b,this.map(function(){return p.clone(this,c,b)})},html:function(c){return va(this,function(c){var b=this[0]||{},f=0,e=this.length;if(void 0===c&&1===b.nodeType)return b.innerHTML;if("string"==typeof c&&!Nb.test(c)&&!ja[(Wa.exec(c)||["",""])[1].toLowerCase()]){c=p.htmlPrefilter(c);try{for(;f<e;f++)b=this[f]||{},1===b.nodeType&&(p.cleanData(v(b,!1)),b.innerHTML=c);b=0}catch(fc){}}b&&this.empty().append(c)},null,c,arguments.length)},replaceWith:function(){var c=[];
return z(this,arguments,function(b){var f=this.parentNode;0>p.inArray(this,c)&&(p.cleanData(v(this)),f&&f.replaceChild(b,this))},c)}});p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,b){p.fn[c]=function(c){for(var f=[],e=p(c),k=e.length-1,t=0;t<=k;t++)c=t===k?this:this.clone(!0),p(e[t])[b](c),qa.apply(f,c.get());return this.pushStack(f)}});var Ya=/^margin/,Na=new RegExp("^("+fb+")(?!px)[a-z%]+$","i"),Ka=function(b){var f=
b.ownerDocument.defaultView;return f&&f.opener||(f=c),f.getComputedStyle(b)};!function(){function b(){if(n){n.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";n.innerHTML="";Ma.appendChild(g);var b=c.getComputedStyle(n);f="1%"!==b.top;h="2px"===b.marginLeft;e="4px"===b.width;n.style.marginRight="50%";k="4px"===b.marginRight;Ma.removeChild(g);n=null}}var f,e,k,h,g=J.createElement("div"),n=J.createElement("div");n.style&&(n.style.backgroundClip=
"content-box",n.cloneNode(!0).style.backgroundClip="",Z.clearCloneStyle="content-box"===n.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(n),p.extend(Z,{pixelPosition:function(){return b(),f},boxSizingReliable:function(){return b(),e},pixelMarginRight:function(){return b(),k},reliableMarginLeft:function(){return b(),h}}))}();var Ob=/^(none|table(?!-c[ea]).+)/,Pb={position:"absolute",visibility:"hidden",
display:"block"},jb={letterSpacing:"0",fontWeight:"400"},$a=["Webkit","Moz","ms"],Za=J.createElement("div").style;p.extend({cssHooks:{opacity:{get:function(c,b){if(b){var f=P(c,"opacity");return""===f?"1":f}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(c,b,f,e){if(c&&3!==c.nodeType&&8!==c.nodeType&&c.style){var k,t,
h,g=p.camelCase(b),n=c.style;return b=p.cssProps[g]||(p.cssProps[g]=ga(g)||g),h=p.cssHooks[b]||p.cssHooks[g],void 0===f?h&&"get"in h&&void 0!==(k=h.get(c,!1,e))?k:n[b]:(t=typeof f,"string"===t&&(k=Ea.exec(f))&&k[1]&&(f=u(c,b,k),t="number"),null!=f&&f===f&&("number"===t&&(f+=k&&k[3]||(p.cssNumber[g]?"":"px")),Z.clearCloneStyle||""!==f||0!==b.indexOf("background")||(n[b]="inherit"),h&&"set"in h&&void 0===(f=h.set(c,f,e))||(n[b]=f)),void 0)}},css:function(c,b,f,e){var k,t,h,g=p.camelCase(b);return b=
p.cssProps[g]||(p.cssProps[g]=ga(g)||g),h=p.cssHooks[b]||p.cssHooks[g],h&&"get"in h&&(k=h.get(c,!0,f)),void 0===k&&(k=P(c,b,e)),"normal"===k&&b in jb&&(k=jb[b]),""===f||f?(t=parseFloat(k),!0===f||isFinite(t)?t||0:k):k}});p.each(["height","width"],function(c,b){p.cssHooks[b]={get:function(c,f,e){if(f)return!Ob.test(p.css(c,"display"))||c.getClientRects().length&&c.getBoundingClientRect().width?aa(c,b,e):gb(c,Pb,function(){return aa(c,b,e)})},set:function(c,f,e){var k,t=e&&Ka(c);e=e&&ka(c,b,e,"border-box"===
p.css(c,"boxSizing",!1,t),t);return e&&(k=Ea.exec(f))&&"px"!==(k[3]||"px")&&(c.style[b]=f,f=p.css(c,b)),ba(c,f,e)}}});p.cssHooks.marginLeft=S(Z.reliableMarginLeft,function(c,b){if(b)return(parseFloat(P(c,"marginLeft"))||c.getBoundingClientRect().left-gb(c,{marginLeft:0},function(){return c.getBoundingClientRect().left}))+"px"});p.each({margin:"",padding:"",border:"Width"},function(c,b){p.cssHooks[c+b]={expand:function(f){var e=0,k={};for(f="string"==typeof f?f.split(" "):[f];4>e;e++)k[c+wa[e]+b]=
f[e]||f[e-2]||f[0];return k}};Ya.test(c)||(p.cssHooks[c+b].set=ba)});p.fn.extend({css:function(c,b){return va(this,function(c,b,f){var e,k={},h=0;if(p.isArray(b)){f=Ka(c);for(e=b.length;h<e;h++)k[b[h]]=p.css(c,b[h],!1,f);return k}return void 0!==f?p.style(c,b,f):p.css(c,b)},c,b,1<arguments.length)}});p.Tween=E;E.prototype={constructor:E,init:function(c,b,f,e,k,h){this.elem=c;this.prop=f;this.easing=k||p.easing._default;this.options=b;this.start=this.now=this.cur();this.end=e;this.unit=h||(p.cssNumber[f]?
"":"px")},cur:function(){var c=E.propHooks[this.prop];return c&&c.get?c.get(this):E.propHooks._default.get(this)},run:function(c){var b,f=E.propHooks[this.prop];return this.options.duration?this.pos=b=p.easing[this.easing](c,this.options.duration*c,0,1,this.options.duration):this.pos=b=c,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),f&&f.set?f.set(this):E.propHooks._default.set(this),this}};E.prototype.init.prototype=E.prototype;E.propHooks=
{_default:{get:function(c){var b;return 1!==c.elem.nodeType||null!=c.elem[c.prop]&&null==c.elem.style[c.prop]?c.elem[c.prop]:(b=p.css(c.elem,c.prop,""),b&&"auto"!==b?b:0)},set:function(c){p.fx.step[c.prop]?p.fx.step[c.prop](c):1!==c.elem.nodeType||null==c.elem.style[p.cssProps[c.prop]]&&!p.cssHooks[c.prop]?c.elem[c.prop]=c.now:p.style(c.elem,c.prop,c.now+c.unit)}}};E.propHooks.scrollTop=E.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=c.now)}};p.easing={linear:function(c){return c},
swing:function(c){return.5-Math.cos(c*Math.PI)/2},_default:"swing"};p.fx=E.prototype.init;p.fx.step={};var Aa,ya,Qb=/^(?:toggle|show|hide)$/,Rb=/queueHooks$/;p.Animation=p.extend(N,{tweeners:{"*":[function(c,b){var f=this.createTween(c,b);return u(f.elem,c,Ea.exec(b),f),f}]},tweener:function(c,b){p.isFunction(c)?(b=c,c=["*"]):c=c.match(pa);for(var f,e=0,k=c.length;e<k;e++)f=c[e],N.tweeners[f]=N.tweeners[f]||[],N.tweeners[f].unshift(b)},prefilters:[function(c,b,f){var e,k,h,g,t,n,m,u,q="width"in b||
"height"in b,x=this,J={},z=c.style,v=c.nodeType&&Ja(c),r=U.get(c,"fxshow");f.queue||(g=p._queueHooks(c,"fx"),null==g.unqueued&&(g.unqueued=0,t=g.empty.fire,g.empty.fire=function(){g.unqueued||t()}),g.unqueued++,x.always(function(){x.always(function(){g.unqueued--;p.queue(c,"fx").length||g.empty.fire()})}));for(e in b)if(k=b[e],Qb.test(k)){if(delete b[e],h=h||"toggle"===k,k===(v?"hide":"show")){if("show"!==k||!r||void 0===r[e])continue;v=!0}J[e]=r&&r[e]||p.style(c,e)}if(n=!p.isEmptyObject(b),n||!p.isEmptyObject(J))for(e in q&&
1===c.nodeType&&(f.overflow=[z.overflow,z.overflowX,z.overflowY],m=r&&r.display,null==m&&(m=U.get(c,"display")),u=p.css(c,"display"),"none"===u&&(m?u=m:(w([c],!0),m=c.style.display||m,u=p.css(c,"display"),w([c]))),("inline"===u||"inline-block"===u&&null!=m)&&"none"===p.css(c,"float")&&(n||(x.done(function(){z.display=m}),null==m&&(u=z.display,m="none"===u?"":u)),z.display="inline-block")),f.overflow&&(z.overflow="hidden",x.always(function(){z.overflow=f.overflow[0];z.overflowX=f.overflow[1];z.overflowY=
f.overflow[2]})),n=!1,J)n||(r?"hidden"in r&&(v=r.hidden):r=U.access(c,"fxshow",{display:m}),h&&(r.hidden=!v),v&&w([c],!0),x.done(function(){v||w([c]);U.remove(c,"fxshow");for(e in J)p.style(c,e,J[e])})),n=na(v?r[e]:0,e,x),e in r||(r[e]=n.start,v&&(n.end=n.start,n.start=0))}],prefilter:function(c,b){b?N.prefilters.unshift(c):N.prefilters.push(c)}});p.speed=function(c,b,f){var e=c&&"object"==typeof c?p.extend({},c):{complete:f||!f&&b||p.isFunction(c)&&c,duration:c,easing:f&&b||b&&!p.isFunction(b)&&
b};return p.fx.off||J.hidden?e.duration=0:"number"!=typeof e.duration&&(e.duration in p.fx.speeds?e.duration=p.fx.speeds[e.duration]:e.duration=p.fx.speeds._default),null!=e.queue&&!0!==e.queue||(e.queue="fx"),e.old=e.complete,e.complete=function(){p.isFunction(e.old)&&e.old.call(this);e.queue&&p.dequeue(this,e.queue)},e};p.fn.extend({fadeTo:function(c,b,f,e){return this.filter(Ja).css("opacity",0).show().end().animate({opacity:b},c,f,e)},animate:function(c,b,f,e){var k=p.isEmptyObject(c),h=p.speed(b,
f,e);b=function(){var b=N(this,p.extend({},c),h);(k||U.get(this,"finish"))&&b.stop(!0)};return b.finish=b,k||!1===h.queue?this.each(b):this.queue(h.queue,b)},stop:function(c,b,f){var e=function(c){var b=c.stop;delete c.stop;b(f)};return"string"!=typeof c&&(f=b,b=c,c=void 0),b&&!1!==c&&this.queue(c||"fx",[]),this.each(function(){var b=!0,k=null!=c&&c+"queueHooks",h=p.timers,g=U.get(this);if(k)g[k]&&g[k].stop&&e(g[k]);else for(k in g)g[k]&&g[k].stop&&Rb.test(k)&&e(g[k]);for(k=h.length;k--;)h[k].elem!==
this||null!=c&&h[k].queue!==c||(h[k].anim.stop(f),b=!1,h.splice(k,1));!b&&f||p.dequeue(this,c)})},finish:function(c){return!1!==c&&(c=c||"fx"),this.each(function(){var b,f=U.get(this),e=f[c+"queue"];b=f[c+"queueHooks"];var k=p.timers,h=e?e.length:0;f.finish=!0;p.queue(this,c,[]);b&&b.stop&&b.stop.call(this,!0);for(b=k.length;b--;)k[b].elem===this&&k[b].queue===c&&(k[b].anim.stop(!0),k.splice(b,1));for(b=0;b<h;b++)e[b]&&e[b].finish&&e[b].finish.call(this);delete f.finish})}});p.each(["toggle","show",
"hide"],function(c,b){var f=p.fn[b];p.fn[b]=function(c,e,k){return null==c||"boolean"==typeof c?f.apply(this,arguments):this.animate(O(b,!0),c,e,k)}});p.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(c,b){p.fn[c]=function(c,f,e){return this.animate(b,c,f,e)}});p.timers=[];p.fx.tick=function(){var c,b=0,f=p.timers;for(Aa=p.now();b<f.length;b++)c=f[b],c()||f[b]!==c||f.splice(b--,1);f.length||
p.fx.stop();Aa=void 0};p.fx.timer=function(c){p.timers.push(c);c()?p.fx.start():p.timers.pop()};p.fx.interval=13;p.fx.start=function(){ya||(ya=c.requestAnimationFrame?c.requestAnimationFrame(ta):c.setInterval(p.fx.tick,p.fx.interval))};p.fx.stop=function(){c.cancelAnimationFrame?c.cancelAnimationFrame(ya):c.clearInterval(ya);ya=null};p.fx.speeds={slow:600,fast:200,_default:400};p.fn.delay=function(b,f){return b=p.fx?p.fx.speeds[b]||b:b,f=f||"fx",this.queue(f,function(f,e){var k=c.setTimeout(f,b);
e.stop=function(){c.clearTimeout(k)}})};(function(){var c=J.createElement("input"),b=J.createElement("select").appendChild(J.createElement("option"));c.type="checkbox";Z.checkOn=""!==c.value;Z.optSelected=b.selected;c=J.createElement("input");c.value="t";c.type="radio";Z.radioValue="t"===c.value})();var kb,Ga=p.expr.attrHandle;p.fn.extend({attr:function(c,b){return va(this,p.attr,c,b,1<arguments.length)},removeAttr:function(c){return this.each(function(){p.removeAttr(this,c)})}});p.extend({attr:function(c,
b,f){var e,k,h=c.nodeType;if(3!==h&&8!==h&&2!==h)return"undefined"==typeof c.getAttribute?p.prop(c,b,f):(1===h&&p.isXMLDoc(c)||(k=p.attrHooks[b.toLowerCase()]||(p.expr.match.bool.test(b)?kb:void 0)),void 0!==f?null===f?void p.removeAttr(c,b):k&&"set"in k&&void 0!==(e=k.set(c,f,b))?e:(c.setAttribute(b,f+""),f):k&&"get"in k&&null!==(e=k.get(c,b))?e:(e=p.find.attr(c,b),null==e?void 0:e))},attrHooks:{type:{set:function(c,b){if(!Z.radioValue&&"radio"===b&&p.nodeName(c,"input")){var f=c.value;return c.setAttribute("type",
b),f&&(c.value=f),b}}}},removeAttr:function(c,b){var f,e=0,k=b&&b.match(pa);if(k&&1===c.nodeType)for(;f=k[e++];)c.removeAttribute(f)}});kb={set:function(c,b,f){return!1===b?p.removeAttr(c,f):c.setAttribute(f,f),f}};p.each(p.expr.match.bool.source.match(/\w+/g),function(c,b){var f=Ga[b]||p.find.attr;Ga[b]=function(c,b,e){var k,h,g=b.toLowerCase();return e||(h=Ga[g],Ga[g]=k,k=null!=f(c,b,e)?g:null,Ga[g]=h),k}});var Sb=/^(?:input|select|textarea|button)$/i,Tb=/^(?:a|area)$/i;p.fn.extend({prop:function(c,
b){return va(this,p.prop,c,b,1<arguments.length)},removeProp:function(c){return this.each(function(){delete this[p.propFix[c]||c]})}});p.extend({prop:function(c,b,f){var e,k,h=c.nodeType;if(3!==h&&8!==h&&2!==h)return 1===h&&p.isXMLDoc(c)||(b=p.propFix[b]||b,k=p.propHooks[b]),void 0!==f?k&&"set"in k&&void 0!==(e=k.set(c,f,b))?e:c[b]=f:k&&"get"in k&&null!==(e=k.get(c,b))?e:c[b]},propHooks:{tabIndex:{get:function(c){var b=p.find.attr(c,"tabindex");return b?parseInt(b,10):Sb.test(c.nodeName)||Tb.test(c.nodeName)&&
c.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});Z.optSelected||(p.propHooks.selected={get:function(c){c=c.parentNode;return c&&c.parentNode&&c.parentNode.selectedIndex,null},set:function(c){c=c.parentNode;c&&(c.selectedIndex,c.parentNode&&c.parentNode.selectedIndex)}});p.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){p.propFix[this.toLowerCase()]=this});p.fn.extend({addClass:function(c){var b,f,e,k,
h,g,n=0;if(p.isFunction(c))return this.each(function(b){p(this).addClass(c.call(this,b,W(this)))});if("string"==typeof c&&c)for(b=c.match(pa)||[];f=this[n++];)if(k=W(f),e=1===f.nodeType&&" "+T(k)+" "){for(g=0;h=b[g++];)0>e.indexOf(" "+h+" ")&&(e+=h+" ");e=T(e);k!==e&&f.setAttribute("class",e)}return this},removeClass:function(c){var b,f,e,k,h,g,n=0;if(p.isFunction(c))return this.each(function(b){p(this).removeClass(c.call(this,b,W(this)))});if(!arguments.length)return this.attr("class","");if("string"==
typeof c&&c)for(b=c.match(pa)||[];f=this[n++];)if(k=W(f),e=1===f.nodeType&&" "+T(k)+" "){for(g=0;h=b[g++];)for(;-1<e.indexOf(" "+h+" ");)e=e.replace(" "+h+" "," ");e=T(e);k!==e&&f.setAttribute("class",e)}return this},toggleClass:function(c,b){var f=typeof c;return"boolean"==typeof b&&"string"===f?b?this.addClass(c):this.removeClass(c):p.isFunction(c)?this.each(function(f){p(this).toggleClass(c.call(this,f,W(this),b),b)}):this.each(function(){var b,e,k,h;if("string"===f)for(e=0,k=p(this),h=c.match(pa)||
[];b=h[e++];)k.hasClass(b)?k.removeClass(b):k.addClass(b);else void 0!==c&&"boolean"!==f||(b=W(this),b&&U.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===c?"":U.get(this,"__className__")||""))})},hasClass:function(c){var b,f=0;for(c=" "+c+" ";b=this[f++];)if(1===b.nodeType&&-1<(" "+T(W(b))+" ").indexOf(c))return!0;return!1}});var Ub=/\r/g;p.fn.extend({val:function(c){var b,f,e,k=this[0];if(arguments.length)return e=p.isFunction(c),this.each(function(f){var k;1===this.nodeType&&
(k=e?c.call(this,f,p(this).val()):c,null==k?k="":"number"==typeof k?k+="":p.isArray(k)&&(k=p.map(k,function(c){return null==c?"":c+""})),b=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,k,"value")||(this.value=k))});if(k)return b=p.valHooks[k.type]||p.valHooks[k.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(f=b.get(k,"value"))?f:(f=k.value,"string"==typeof f?f.replace(Ub,""):null==f?"":f)}});p.extend({valHooks:{option:{get:function(c){var b=p.find.attr(c,
"value");return null!=b?b:T(p.text(c))}},select:{get:function(c){var b,f,e=c.options,k=c.selectedIndex,h="select-one"===c.type,g=h?null:[],n=h?k+1:e.length;for(f=0>k?n:h?k:0;f<n;f++)if(b=e[f],!(!b.selected&&f!==k||b.disabled||b.parentNode.disabled&&p.nodeName(b.parentNode,"optgroup"))){if(c=p(b).val(),h)return c;g.push(c)}return g},set:function(c,b){for(var f,e,k=c.options,h=p.makeArray(b),g=k.length;g--;)e=k[g],(e.selected=-1<p.inArray(p.valHooks.option.get(e),h))&&(f=!0);return f||(c.selectedIndex=
-1),h}}}});p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(c,b){if(p.isArray(b))return c.checked=-1<p.inArray(p(c).val(),b)}};Z.checkOn||(p.valHooks[this].get=function(c){return null===c.getAttribute("value")?"on":c.value})});var lb=/^(?:focusinfocus|focusoutblur)$/;p.extend(p.event,{trigger:function(b,f,e,k){var h,g,n,m,t,u,q,x=[e||J],w=Ba.call(b,"type")?b.type:b;h=Ba.call(b,"namespace")?b.namespace.split("."):[];if(g=n=e=e||J,3!==e.nodeType&&8!==e.nodeType&&!lb.test(w+p.event.triggered)&&
(-1<w.indexOf(".")&&(h=w.split("."),w=h.shift(),h.sort()),t=0>w.indexOf(":")&&"on"+w,b=b[p.expando]?b:new p.Event(w,"object"==typeof b&&b),b.isTrigger=k?2:3,b.namespace=h.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),f=null==f?[b]:p.makeArray(f,[b]),q=p.event.special[w]||{},k||!q.trigger||!1!==q.trigger.apply(e,f))){if(!k&&!q.noBubble&&!p.isWindow(e)){m=q.delegateType||w;for(lb.test(m+w)||(g=g.parentNode);g;g=
g.parentNode)x.push(g),n=g;n===(e.ownerDocument||J)&&x.push(n.defaultView||n.parentWindow||c)}for(h=0;(g=x[h++])&&!b.isPropagationStopped();)b.type=1<h?m:q.bindType||w,(u=(U.get(g,"events")||{})[b.type]&&U.get(g,"handle"))&&u.apply(g,f),(u=t&&g[t])&&u.apply&&La(g)&&(b.result=u.apply(g,f),!1===b.result&&b.preventDefault());return b.type=w,k||b.isDefaultPrevented()||q._default&&!1!==q._default.apply(x.pop(),f)||!La(e)||t&&p.isFunction(e[w])&&!p.isWindow(e)&&(n=e[t],n&&(e[t]=null),p.event.triggered=
w,e[w](),p.event.triggered=void 0,n&&(e[t]=n)),b.result}},simulate:function(c,b,f){c=p.extend(new p.Event,f,{type:c,isSimulated:!0});p.event.trigger(c,null,b)}});p.fn.extend({trigger:function(c,b){return this.each(function(){p.event.trigger(c,b,this)})},triggerHandler:function(c,b){var f=this[0];if(f)return p.event.trigger(c,b,f,!0)}});p.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),
function(c,b){p.fn[b]=function(c,f){return 0<arguments.length?this.on(b,null,c,f):this.trigger(b)}});p.fn.extend({hover:function(c,b){return this.mouseenter(c).mouseleave(b||c)}});Z.focusin="onfocusin"in c;Z.focusin||p.each({focus:"focusin",blur:"focusout"},function(c,b){var f=function(c){p.event.simulate(b,c.target,p.event.fix(c))};p.event.special[b]={setup:function(){var e=this.ownerDocument||this,k=U.access(e,b);k||e.addEventListener(c,f,!0);U.access(e,b,(k||0)+1)},teardown:function(){var e=this.ownerDocument||
this,k=U.access(e,b)-1;k?U.access(e,b,k):(e.removeEventListener(c,f,!0),U.remove(e,b))}}});var Ha=c.location,mb=p.now(),Ra=/\?/;p.parseXML=function(b){var f;if(!b||"string"!=typeof b)return null;try{f=(new c.DOMParser).parseFromString(b,"text/xml")}catch(Ca){f=void 0}return f&&!f.getElementsByTagName("parsererror").length||p.error("Invalid XML: "+b),f};var Ab=/\[\]$/,nb=/\r?\n/g,Vb=/^(?:submit|button|image|reset|file)$/i,Wb=/^(?:input|select|textarea|keygen)/i;p.param=function(c,b){var f,e=[],k=function(c,
b){var f=p.isFunction(b)?b():b;e[e.length]=encodeURIComponent(c)+"="+encodeURIComponent(null==f?"":f)};if(p.isArray(c)||c.jquery&&!p.isPlainObject(c))p.each(c,function(){k(this.name,this.value)});else for(f in c)ha(f,c[f],b,k);return e.join("&")};p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var c=p.prop(this,"elements");return c?p.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&!p(this).is(":disabled")&&
Wb.test(this.nodeName)&&!Vb.test(c)&&(this.checked||!hb.test(c))}).map(function(c,b){var f=p(this).val();return null==f?null:p.isArray(f)?p.map(f,function(c){return{name:b.name,value:c.replace(nb,"\r\n")}}):{name:b.name,value:f.replace(nb,"\r\n")}}).get()}});var Xb=/%20/g,Yb=/#.*$/,Zb=/([?&])_=[^&]*/,$b=/^(.*?):[ \t]*([^\r\n]*)$/gm,ac=/^(?:GET|HEAD)$/,bc=/^\/\//,ob={},Oa={},pb="*/".concat("*"),Sa=J.createElement("a");Sa.href=Ha.href;p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ha.href,
type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ha.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":pb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,
"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,b){return b?ca(ca(c,p.ajaxSettings),b):ca(p.ajaxSettings,c)},ajaxPrefilter:ia(ob),ajaxTransport:ia(Oa),ajax:function(b,f){function e(b,f,e,n){var u,x,w,J,D=f;if(!t){t=!0;m&&c.clearTimeout(m);k=void 0;g=n||"";C.readyState=0<b?4:0;n=200<=b&&300>b||304===b;if(e){w=z;for(var oa=C,ea,M,I,A,K=w.contents,F=w.dataTypes;"*"===F[0];)F.shift(),void 0===ea&&(ea=w.mimeType||oa.getResponseHeader("Content-Type"));if(ea)for(M in K)if(K[M]&&
K[M].test(ea)){F.unshift(M);break}if(F[0]in e)I=F[0];else{for(M in e){if(!F[0]||w.converters[M+" "+F[0]]){I=M;break}A||(A=M)}I=I||A}e=I?(I!==F[0]&&F.unshift(I),e[I]):void 0;w=e}var R;a:{e=z;ea=w;M=C;I=n;var H,Q,da;w={};oa=e.dataTypes.slice();if(oa[1])for(H in e.converters)w[H.toLowerCase()]=e.converters[H];for(A=oa.shift();A;)if(e.responseFields[A]&&(M[e.responseFields[A]]=ea),!da&&I&&e.dataFilter&&(ea=e.dataFilter(ea,e.dataType)),da=A,A=oa.shift())if("*"===A)A=da;else if("*"!==da&&da!==A){if(H=w[da+
" "+A]||w["* "+A],!H)for(R in w)if(Q=R.split(" "),Q[1]===A&&(H=w[da+" "+Q[0]]||w["* "+Q[0]])){!0===H?H=w[R]:!0!==w[R]&&(A=Q[0],oa.unshift(Q[1]));break}if(!0!==H)if(H&&e["throws"])ea=H(ea);else try{ea=H(ea)}catch(Fb){R={state:"parsererror",error:H?Fb:"No conversion from "+da+" to "+A};break a}}R={state:"success",data:ea}}w=R;n?(z.ifModified&&(J=C.getResponseHeader("Last-Modified"),J&&(p.lastModified[h]=J),J=C.getResponseHeader("etag"),J&&(p.etag[h]=J)),204===b||"HEAD"===z.type?D="nocontent":304===
b?D="notmodified":(D=w.state,u=w.data,x=w.error,n=!x)):(x=D,!b&&D||(D="error",0>b&&(b=0)));C.status=b;C.statusText=(f||D)+"";n?G.resolveWith(r,[u,D,C]):G.rejectWith(r,[C,D,x]);C.statusCode(y);y=void 0;q&&v.trigger(n?"ajaxSuccess":"ajaxError",[C,z,n?u:x]);B.fireWith(r,[C,D]);q&&(v.trigger("ajaxComplete",[C,z]),--p.active||p.event.trigger("ajaxStop"))}}"object"==typeof b&&(f=b,b=void 0);f=f||{};var k,h,g,n,m,u,t,q,x,w,z=p.ajaxSetup({},f),r=z.context||z,v=z.context&&(r.nodeType||r.jquery)?p(r):p.event,
G=p.Deferred(),B=p.Callbacks("once memory"),y=z.statusCode||{},D={},oa={},ea="canceled",C={readyState:0,getResponseHeader:function(c){var b;if(t){if(!n)for(n={};b=$b.exec(g);)n[b[1].toLowerCase()]=b[2];b=n[c.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return t?g:null},setRequestHeader:function(c,b){return null==t&&(c=oa[c.toLowerCase()]=oa[c.toLowerCase()]||c,D[c]=b),this},overrideMimeType:function(c){return null==t&&(z.mimeType=c),this},statusCode:function(c){var b;if(c)if(t)C.always(c[C.status]);
else for(b in c)y[b]=[y[b],c[b]];return this},abort:function(c){c=c||ea;return k&&k.abort(c),e(0,c),this}};if(G.promise(C),z.url=((b||z.url||Ha.href)+"").replace(bc,Ha.protocol+"//"),z.type=f.method||f.type||z.method||z.type,z.dataTypes=(z.dataType||"*").toLowerCase().match(pa)||[""],null==z.crossDomain){u=J.createElement("a");try{u.href=z.url,u.href=u.href,z.crossDomain=Sa.protocol+"//"+Sa.host!=u.protocol+"//"+u.host}catch(Pa){z.crossDomain=!0}}if(z.data&&z.processData&&"string"!=typeof z.data&&
(z.data=p.param(z.data,z.traditional)),X(ob,z,f,C),t)return C;(q=p.event&&z.global)&&0===p.active++&&p.event.trigger("ajaxStart");z.type=z.type.toUpperCase();z.hasContent=!ac.test(z.type);h=z.url.replace(Yb,"");z.hasContent?z.data&&z.processData&&0===(z.contentType||"").indexOf("application/x-www-form-urlencoded")&&(z.data=z.data.replace(Xb,"+")):(w=z.url.slice(h.length),z.data&&(h+=(Ra.test(h)?"&":"?")+z.data,delete z.data),!1===z.cache&&(h=h.replace(Zb,"$1"),w=(Ra.test(h)?"&":"?")+"_="+mb++ +w),
z.url=h+w);z.ifModified&&(p.lastModified[h]&&C.setRequestHeader("If-Modified-Since",p.lastModified[h]),p.etag[h]&&C.setRequestHeader("If-None-Match",p.etag[h]));(z.data&&z.hasContent&&!1!==z.contentType||f.contentType)&&C.setRequestHeader("Content-Type",z.contentType);C.setRequestHeader("Accept",z.dataTypes[0]&&z.accepts[z.dataTypes[0]]?z.accepts[z.dataTypes[0]]+("*"!==z.dataTypes[0]?", "+pb+"; q=0.01":""):z.accepts["*"]);for(x in z.headers)C.setRequestHeader(x,z.headers[x]);if(z.beforeSend&&(!1===
z.beforeSend.call(r,C,z)||t))return C.abort();if(ea="abort",B.add(z.complete),C.done(z.success),C.fail(z.error),k=X(Oa,z,f,C)){if(C.readyState=1,q&&v.trigger("ajaxSend",[C,z]),t)return C;z.async&&0<z.timeout&&(m=c.setTimeout(function(){C.abort("timeout")},z.timeout));try{t=!1,k.send(D,e)}catch(Pa){if(t)throw Pa;e(-1,Pa)}}else e(-1,"No Transport");return C},getJSON:function(c,b,f){return p.get(c,b,f,"json")},getScript:function(c,b){return p.get(c,void 0,b,"script")}});p.each(["get","post"],function(c,
b){p[b]=function(c,f,e,k){return p.isFunction(f)&&(k=k||e,e=f,f=void 0),p.ajax(p.extend({url:c,type:b,dataType:k,data:f,success:e},p.isPlainObject(c)&&c))}});p._evalUrl=function(c){return p.ajax({url:c,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})};p.fn.extend({wrapAll:function(c){var b;return this[0]&&(p.isFunction(c)&&(c=c.call(this[0])),b=p(c,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var c=this;c.firstElementChild;)c=
c.firstElementChild;return c}).append(this)),this},wrapInner:function(c){return p.isFunction(c)?this.each(function(b){p(this).wrapInner(c.call(this,b))}):this.each(function(){var b=p(this),f=b.contents();f.length?f.wrapAll(c):b.append(c)})},wrap:function(c){var b=p.isFunction(c);return this.each(function(f){p(this).wrapAll(b?c.call(this,f):c)})},unwrap:function(c){return this.parent(c).not("body").each(function(){p(this).replaceWith(this.childNodes)}),this}});p.expr.pseudos.hidden=function(c){return!p.expr.pseudos.visible(c)};
p.expr.pseudos.visible=function(c){return!!(c.offsetWidth||c.offsetHeight||c.getClientRects().length)};p.ajaxSettings.xhr=function(){try{return new c.XMLHttpRequest}catch(t){}};var cc={0:200,1223:204},Ia=p.ajaxSettings.xhr();Z.cors=!!Ia&&"withCredentials"in Ia;Z.ajax=Ia=!!Ia;p.ajaxTransport(function(b){var f,e;if(Z.cors||Ia&&!b.crossDomain)return{send:function(k,h){var g,n=b.xhr();if(n.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)n[g]=b.xhrFields[g];b.mimeType&&
n.overrideMimeType&&n.overrideMimeType(b.mimeType);b.crossDomain||k["X-Requested-With"]||(k["X-Requested-With"]="XMLHttpRequest");for(g in k)n.setRequestHeader(g,k[g]);f=function(c){return function(){f&&(f=e=n.onload=n.onerror=n.onabort=n.onreadystatechange=null,"abort"===c?n.abort():"error"===c?"number"!=typeof n.status?h(0,"error"):h(n.status,n.statusText):h(cc[n.status]||n.status,n.statusText,"text"!==(n.responseType||"text")||"string"!=typeof n.responseText?{binary:n.response}:{text:n.responseText},
n.getAllResponseHeaders()))}};n.onload=f();e=n.onerror=f("error");void 0!==n.onabort?n.onabort=e:n.onreadystatechange=function(){4===n.readyState&&c.setTimeout(function(){f&&e()})};f=f("abort");try{n.send(b.hasContent&&b.data||null)}catch(ub){if(f)throw ub;}},abort:function(){f&&f()}}});p.ajaxPrefilter(function(c){c.crossDomain&&(c.contents.script=!1)});p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},
converters:{"text script":function(c){return p.globalEval(c),c}}});p.ajaxPrefilter("script",function(c){void 0===c.cache&&(c.cache=!1);c.crossDomain&&(c.type="GET")});p.ajaxTransport("script",function(c){if(c.crossDomain){var b,f;return{send:function(e,k){b=p("<script>").prop({charset:c.scriptCharset,src:c.url}).on("load error",f=function(c){b.remove();f=null;c&&k("error"===c.type?404:200,c.type)});J.head.appendChild(b[0])},abort:function(){f&&f()}}}});var qb=[],Ta=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",
jsonpCallback:function(){var c=qb.pop()||p.expando+"_"+mb++;return this[c]=!0,c}});p.ajaxPrefilter("json jsonp",function(b,f,e){var k,h,g,n=!1!==b.jsonp&&(Ta.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ta.test(b.data)&&"data");if(n||"jsonp"===b.dataTypes[0])return k=b.jsonpCallback=p.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,n?b[n]=b[n].replace(Ta,"$1"+k):!1!==b.jsonp&&(b.url+=(Ra.test(b.url)?"&":"?")+b.jsonp+
"="+k),b.converters["script json"]=function(){return g||p.error(k+" was not called"),g[0]},b.dataTypes[0]="json",h=c[k],c[k]=function(){g=arguments},e.always(function(){void 0===h?p(c).removeProp(k):c[k]=h;b[k]&&(b.jsonpCallback=f.jsonpCallback,qb.push(k));g&&p.isFunction(h)&&h(g[0]);g=h=void 0}),"script"});Z.createHTMLDocument=function(){var c=J.implementation.createHTMLDocument("").body;return c.innerHTML="<form></form><form></form>",2===c.childNodes.length}();p.parseHTML=function(c,b,f){if("string"!=
typeof c)return[];"boolean"==typeof b&&(f=b,b=!1);var e,k,h;return b||(Z.createHTMLDocument?(b=J.implementation.createHTMLDocument(""),e=b.createElement("base"),e.href=J.location.href,b.head.appendChild(e)):b=J),k=db.exec(c),h=!f&&[],k?[b.createElement(k[1])]:(k=G([c],b,h),h&&h.length&&p(h).remove(),p.merge([],k.childNodes))};p.fn.load=function(c,b,f){var e,k,h,g=this,n=c.indexOf(" ");return-1<n&&(e=T(c.slice(n)),c=c.slice(0,n)),p.isFunction(b)?(f=b,b=void 0):b&&"object"==typeof b&&(k="POST"),0<g.length&&
p.ajax({url:c,type:k||"GET",dataType:"html",data:b}).done(function(c){h=arguments;g.html(e?p("<div>").append(p.parseHTML(c)).find(e):c)}).always(f&&function(c,b){g.each(function(){f.apply(this,h||[c.responseText,b,c])})}),this};p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(c,b){p.fn[b]=function(c){return this.on(b,c)}});p.expr.pseudos.animated=function(c){return p.grep(p.timers,function(b){return c===b.elem}).length};p.offset={setOffset:function(c,b,f){var e,
k,h,g,n,m,u=p.css(c,"position"),q=p(c),x={};"static"===u&&(c.style.position="relative");n=q.offset();h=p.css(c,"top");m=p.css(c,"left");("absolute"===u||"fixed"===u)&&-1<(h+m).indexOf("auto")?(e=q.position(),g=e.top,k=e.left):(g=parseFloat(h)||0,k=parseFloat(m)||0);p.isFunction(b)&&(b=b.call(c,f,p.extend({},n)));null!=b.top&&(x.top=b.top-n.top+g);null!=b.left&&(x.left=b.left-n.left+k);"using"in b?b.using.call(c,x):q.css(x)}};p.fn.extend({offset:function(c){if(arguments.length)return void 0===c?this:
this.each(function(b){p.offset.setOffset(this,c,b)});var b,f,e,k,h=this[0];if(h)return h.getClientRects().length?(e=h.getBoundingClientRect(),e.width||e.height?(k=h.ownerDocument,f=fa(k),b=k.documentElement,{top:e.top+f.pageYOffset-b.clientTop,left:e.left+f.pageXOffset-b.clientLeft}):e):{top:0,left:0}},position:function(){if(this[0]){var c,b,f=this[0],e={top:0,left:0};return"fixed"===p.css(f,"position")?b=f.getBoundingClientRect():(c=this.offsetParent(),b=this.offset(),p.nodeName(c[0],"html")||(e=
c.offset()),e={top:e.top+p.css(c[0],"borderTopWidth",!0),left:e.left+p.css(c[0],"borderLeftWidth",!0)}),{top:b.top-e.top-p.css(f,"marginTop",!0),left:b.left-e.left-p.css(f,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent;c&&"static"===p.css(c,"position");)c=c.offsetParent;return c||Ma})}});p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,b){var f="pageYOffset"===b;p.fn[c]=function(e){return va(this,function(c,e,k){var h=fa(c);return void 0===
k?h?h[b]:c[e]:void(h?h.scrollTo(f?h.pageXOffset:k,f?k:h.pageYOffset):c[e]=k)},c,e,arguments.length)}});p.each(["top","left"],function(c,b){p.cssHooks[b]=S(Z.pixelPosition,function(c,f){if(f)return f=P(c,b),Na.test(f)?p(c).position()[b]+"px":f})});p.each({Height:"height",Width:"width"},function(c,b){p.each({padding:"inner"+c,content:b,"":"outer"+c},function(f,e){p.fn[e]=function(k,h){var g=arguments.length&&(f||"boolean"!=typeof k),n=f||(!0===k||!0===h?"margin":"border");return va(this,function(b,
f,k){var h;return p.isWindow(b)?0===e.indexOf("outer")?b["inner"+c]:b.document.documentElement["client"+c]:9===b.nodeType?(h=b.documentElement,Math.max(b.body["scroll"+c],h["scroll"+c],b.body["offset"+c],h["offset"+c],h["client"+c])):void 0===k?p.css(b,f,n):p.style(b,f,k,n)},b,g?k:void 0,g)}})});p.fn.extend({bind:function(c,b,f){return this.on(c,null,b,f)},unbind:function(c,b){return this.off(c,null,b)},delegate:function(c,b,f,e){return this.on(b,c,f,e)},undelegate:function(c,b,f){return 1===arguments.length?
this.off(c,"**"):this.off(b,c||"**",f)}});p.parseJSON=JSON.parse;"function"==typeof define&&define.amd&&define("jquery",[],function(){return p});var dc=c.jQuery,ec=c.$;return p.noConflict=function(b){return c.$===p&&(c.$=ec),b&&c.jQuery===p&&(c.jQuery=dc),p},b||(c.jQuery=c.$=p),p});var engine2D=window.engine2D||{};engine2D.drawDoor=function(c){void 0!==scene2DDoorGroup[c].children[0]&&(scene2DDoorGroup[c].visible=!0,paper.project.layers.push(scene2DDoorGroup[c]))};
engine2D.makeDoor=function(c,b,e,g,h,q,m,r){h="hinge.single";c=new paper.Group;g=new paper.Path;r=new paper.Path;var k=new paper.Group,n=new paper.Group,f=new paper.Path,x=new paper.Path;g.moveTo(new paper.Point(0,0));g.lineTo(new paper.Point(b,0));r.moveTo(new paper.Point(0,0));r.lineTo(new paper.Point(b,0));r.strokeColor="#ffff";r.strokeWidth=22;g.strokeColor="#000000";g.strokeWidth=10;f.moveTo(new paper.Point(10,-12));f.lineTo(new paper.Point(10,12));x.moveTo(new paper.Point(g.length-10,-12));
x.lineTo(new paper.Point(g.length-10,12));f.strokeColor=x.strokeColor="#00CC33";f.strokeWidth=x.strokeWidth=3;k.opacity=n.opacity=0;b=new paper.Path.RegularPolygon(new paper.Point(0,0),3,12);var y=new paper.Path.RegularPolygon(new paper.Point(g.length,0),3,12);b.rotate(30);y.rotate(-30);b.fillColor=y.fillColor="#00CC33";k.addChild(f);k.addChild(b);n.addChild(x);n.addChild(y);c.addChild(r);c.addChild(g);c.addChild(k);c.addChild(n);g.group=c;"fold.single"===h?engine2D.makeFoldSingleDoor(c,g,k,n,q,m):
"fold.double"===h?engine2D.makeFoldDoubleDoor(c,g,k,n,q,m):"hinge.single"===h?engine2D.makeHingeSingleDoor(c,g,k,n,q,m):"hinge.double"===h&&engine2D.makeHingeDoubleDoor(c,g,k,n,q,m);c.position=new paper.Point(e.x,e.y);c.angle=0;return c};
engine2D.makeFoldSingleDoor=function(c,b,e,g,h,q){var m,r,k,n=new paper.Path,f=new paper.Path;n.strokeColor="#000000";n.strokeWidth=4;"right"===h?(r=new paper.Point(0,0),k=new paper.Point(b.length,0)):"left"===h&&(r=new paper.Point(b.length,0),k=new paper.Point(0,0));n.moveTo(k);"in"===q?(n.lineTo(new paper.Point(k.x,k.y+b.length/2)),h=-45):(n.lineTo(new paper.Point(k.x,k.y-b.length/2)),h=45);f=n.clone();f.rotate(h,f.segments[1].point);r=new paper.Path.Line(r,void 0);c.addChild(r);c.addChild(n);c.addChild(f);
e.attach("mousedrag",function(c){});g.attach("mousedrag",function(c){});b.attach("mouseenter",function(){e.opacity=1;g.opacity=1;e.drag=!1;g.drag=!1});b.attach("mousemove",function(){clearTimeout(m);m=setTimeout(function(){e.opacity=0;g.opacity=0},400)});c.attach("mousedrag",function(b){!0!==e.drag&&!0!==g.drag&&(c.position=b.point,e.opacity=0,g.opacity=0)})};engine2D.makeFoldDoubleDoor=function(c,b,e,g,h,q){};engine2D.makeHingeDoubleDoor=function(c,b,e,g,h,q){};
engine2D.makeHingeSingleDoor=function(c,b,e,g,h,q){function m(f,e,k){f.drag=!0;f.position.x=e.point.x;f.opacity=1;g.opacity=1;b.segments[k].point.x=e.point.x;guide.segments[k].point.x=e.point.x;v.segments[1].point.y="in"===q?v.segments[0].point.y+b.length:v.segments[0].point.y-b.length;G.clear();C.clear();K.clear();I.clear();H.clear();"right"===h&&(0===k?G=new Path.Arc(e.point,new Point(v.segments[0].point.x-b.length*u,v.segments[0].point.y-b.length*w),new Point(v.segments[1].point.x,v.segments[1].point.y)):
(v.segments[0].point.x=e.point.x,v.segments[1].point.x=e.point.x,x=v.segments[0].point.x-b.length*u,y=v.segments[0].point.y-b.length*w,G=new Path.Arc(new Point(b.segments[0].point.x,b.segments[0].point.y),new Point(x,y),new Point(v.segments[1].point.x,v.segments[1].point.y))),G.strokeColor="#000000",G.strokeWidth=1,C=new Path.Arc(new Point(b.segments[1].point.x,b.segments[1].point.y-b.length),new Point(b.segments[0].point.x,b.segments[0].point.y),new Point(b.segments[1].point.x,b.segments[1].point.y+
b.length)),K=new Path.Arc(new Point(b.segments[0].point.x,b.segments[0].point.y-b.length),new Point(b.segments[1].point.x,b.segments[1].point.y),new Point(b.segments[0].point.x,b.segments[0].point.y+b.length)),I=C.clone(),H=K.clone(),C.strokeColor=K.strokeColor="#000000",C.strokeWidth=K.strokeWidth=1,C.dashArray=K.dashArray=[10,10],C.opacity=K.opacity=0,I.strokeColor=H.strokeColor="#000000",I.strokeWidth=H.strokeWidth=20,I.opacity=H.opacity=0,c.appendBottom(G),c.appendBottom(I),c.appendBottom(C),
c.appendBottom(H),c.appendBottom(K))}var r,k,n,f,x,y;n=Math.PI/180*45;var u=Math.sin(n),w=Math.cos(n),v=new paper.Path;v.strokeColor="#000000";v.strokeWidth=4;var B=new paper.Path.Circle(new paper.Point(0,0),10);B.fillColor="#FFCC00";B.opacity=0;"right"===h?(k=new paper.Point(0,0),f=new paper.Point(b.length,0)):"left"===h&&(k=new paper.Point(b.length,0),f=new paper.Point(0,0));v.moveTo(f);"in"===q?(v.lineTo(new paper.Point(f.x,f.y+b.length)),n=new paper.Point(f.x,f.y+b.length),x=f.x+b.length*u,y=
f.y+b.length*w):(v.lineTo(new paper.Point(f.x,f.y-b.length)),n=new paper.Point(f.x,f.y-b.length),x=f.x-b.length*u,y=f.y-b.length*w);var G=new paper.Path.Arc(k,new paper.Point(x,y),n);G.strokeColor="#000000";G.strokeWidth=1;k=new paper.Point(b.length,0-b.length);n=new paper.Point(b.length,0+b.length);mp=new paper.Point(0,0);var C=new paper.Path.Arc(k,mp,n),I=new paper.Path.Arc(k,mp,n);k=new paper.Point(0,0-b.length);n=new paper.Point(0,0+b.length);mp=new paper.Point(0,b.length);var K=new paper.Path.Arc(k,
mp,n),H=new paper.Path.Arc(k,mp,n);C.strokeColor=K.strokeColor="#000000";C.strokeWidth=K.strokeWidth=1;C.dashArray=K.dashArray=[10,10];C.opacity=K.opacity=0;I.strokeColor=H.strokeColor="#000000";I.strokeWidth=H.strokeWidth=20;I.opacity=H.opacity=0;c.addChild(v);c.addChild(G);c.addChild(I);c.addChild(C);c.addChild(H);c.addChild(K);c.addChild(B);b.attach("mouseenter",function(){e.opacity=1;g.opacity=1;e.drag=!1;g.drag=!1;B.opacity=0;C.opacity=0;K.opacity=0});b.attach("mousemove",function(){clearTimeout(r);
r=setTimeout(function(){e.opacity=0;g.opacity=0},400)});e.attach("mousedrag",function(c){m(this,c,0)});g.attach("mousedrag",function(c){m(this,c,1)});I.on("mouseenter",function(){e.opacity=0;g.opacity=0;B.opacity=1;C.opacity=1;K.opacity=0;G.opacity=.1;v.opacity=.1});I.attach("mousemove",function(c){clearTimeout(r);B.position=c.point;r=setTimeout(function(){B.opacity=0;C.opacity=0;G.opacity=1;v.opacity=1},400)});H.attach("mouseenter",function(){e.opacity=0;g.opacity=0;B.opacity=1;C.opacity=0;K.opacity=
1;G.opacity=.1;v.opacity=.1});H.attach("mousemove",function(c){clearTimeout(r);B.position=c.point;r=setTimeout(function(){B.opacity=0;K.opacity=0;G.opacity=1;v.opacity=1},400)});c.attach("mousedrag",function(b){!0!==e.drag&&!0!==g.drag&&(c.position=b.point,e.opacity=0,g.opacity=0,B.opacity=0,C.opacity=0,K.opacity=0,engine2D.snapObjectToWall(this,b.point))})};engine2D=window.engine2D||{};
engine2D.show=function(){console.log("engine2d.show()");engineGUI.scene="2d";engine3D.freeMemory();engine2D.freeMemory();engine3D.hide();engine2D.makeGrid();engine2D.loadDraftPlan();$("#engine2D").show();engineGUI.menuToggleRight("menuRight",!0);engineGUI.menuToggleLeft("menuLeft2D",!0);$("#menuFloorSelector").show();$("#menuBottomPlan").show();var c=document.getElementById("zoom2DProgress");c&&(zoom2Dimg=new Image,zoom2DCTX=c.getContext("2d"),zoom2DSlider=document.getElementById("zoom2DSlider"),zoom2Dimg.onload=
drawImage,zoom2Dimg.src="images/progress-tiles.jpg");$("#zoom2DLevel").show();engineGUI.menuSelect(6,"menuTopItem","#ff3700");engineGUI.menuCorrectHeight();engine2D.showFloor(engineGUI.floor)};
engine2D.showFloor=function(c){engineGUI.floor=c;void 0!==engine2D.floor[c]&&(engine2D.clear(),engine2D.drawFloor(engineGUI.floor),engine2D.drawWall(engineGUI.floor),engine2D.drawDoor(engineGUI.floor),engine2D.drawWindow(engineGUI.floor),engine2D.attachObjectsToWalls(engineGUI.floor,scene2DDoorGroup),engine2D.attachObjectsToWalls(engineGUI.floor,scene2DWindowGroup))};engine2D.addFloor=function(c){};
engine2D.clear=function(){for(var c=0;c<scene2DWallGroup.length;c++){for(var b=0;b<scene2DWallGroup[c].children.length;b++)scene2DWallGroup[c].children[b].visible=!1;engine2D.floor[c].visible=!1;scene2DLabelGroup[c].visible=!1;scene2DDoorGroup[c].visible=!1;scene2DWindowGroup[c].visible=!1}};
engine2D.hide=function(){$("#engine2D").hide();engineGUI.mousedrag=!1;if(void 0!==engine2D.canvas){for(var c=0;c<scene2DWallGroup.length;c++)engine2D.clear(c,!1);engine2D.draftPlan=void 0}try{$("#menu2DTools").tooltipster("hide")}catch(b){}$("#menuLeft2D").hide();$("#menuRight2D").hide();$("#menuBottomPlan").hide()};
engine2D.drawGrid=function(c,b){for(var e=0;e<=paper.view.size.width;e+=c){var g=new paper.Path.Line(new paper.Point(e,0),new paper.Point(e,paper.view.size.width)),h=new paper.Path.Line(new paper.Point(0,e),new paper.Point(paper.view.size.width,e));g.strokeColor=h.strokeColor=b;engine2D.canvas.addChild(g);engine2D.canvas.addChild(h)}};
engine2D.makeGrid=function(){engine2D.canvas=new paper.Group;var c=new paper.Path.Circle(new paper.Point(0,0),450);c.fillColor="#CCCCCC";c.opacity=.2;c.position.x=paper.view.center.x+40;c.position.y=paper.view.center.y+80;var b=new paper.Path.Rectangle(new paper.Point(0,0),paper.view.viewSize);b.fillColor="#ffffff";engine2D.canvas.addChild(b);engine2D.canvas.addChild(c);engine2D.drawGrid(40,"#6dcff6");engine2D.drawGrid(20,"#E0E0E0")};
engine2D.lockObject=function(c){var b=scene2D.getObjects().filter(function(b){return b.id===c});!0===b[0].lockMovementX?(b[0].item(2).set({visible:!1}),b[0].set({lockMovementX:!1,lockMovementY:!1})):(b[0].item(2).set({visible:!0}),b[0].set({lockMovementX:!0,lockMovementY:!0}));return!1};
engine2D.loadDraftPlan=function(c){var b,e,g,h=0;$.each(json.plan[engineGUI.floor],function(){if(void 0!==this.draft)return c?(this.draft=c,this.x=paper.view.center.x,this.y=paper.view.center.y,this.w=paper.view.bounds.width/1.25,this.h=paper.view.bounds.height/1.25):(c=this.draft,b=this.x,e=this.y,g=this.w,h=this.h),!0});if(c){var q=new paper.Rectangle(new paper.Point(0,0),new paper.Point(g,h)),m=new paper.Path.Rectangle(q);m.strokeColor="#ffffff";m.opacity=.1;m.strokeWidth=64;var r=new paper.Path.RegularPolygon(new paper.Point(0,
0),3,10);r.fillColor="#00e600";r.visible=!1;var k=r.clone();k.position=new paper.Point(-15,h/2);k.rotate(90);var n=r.clone();n.position=new paper.Point(g+15,h/2);n.rotate(-90);var f=r.clone();f.position=new paper.Point(g/2,-15);f.rotate(180);var x=r.clone();x.position=new paper.Point(g/2,h+15);var y=new paper.Path.Rectangle(q);y.strokeColor="#00e600";y.strokeWidth=2;y.visible=!1;q=new paper.Raster({source:c,position:new paper.Point(0,0)});q.fitBounds(y.bounds,!0);q.opacity=.7;q.attach("mousedrag",
function(c){engine2D.draftPlan.position=c.point});m.attach("mouseenter",function(){y.visible=!0;k.visible=!0;n.visible=!0;f.visible=!0;x.visible=!0});m.attach("mouseleave",function(){y.visible=!1;k.visible=!1;n.visible=!1;f.visible=!1;x.visible=!1});engine2D.draftPlan=new paper.Group([q,k,n,f,x,m,y]);engine2D.draftPlan.position=new paper.Point(b,e)}};
engine2D.loadCADPlan=function(c){$.ajax(c,{contentType:"application/text",beforeSend:function(c){c.overrideMimeType("text/plain; charset=x-user-defined")},success:function(c){void 0===("undefined"==typeof DXFParser?"undefined":_typeof(DXFParser))&&$.getScript("js/dynamic/dxfparser.js").done(function(b,g){$.getScript("js/dynamic/dxfnode.js").done(function(b,e){var h=new DXFParser(c);console.log(h)}).fail(function(c,b,e){alertify.alert("Failed to load dxfnode.js").show()})}).fail(function(c,b,h){alertify.alert("Failed to load dxfparser.js").show()})},
error:function(b,e,g){alertify.alert("DXF ("+c+") Loading Error").show()}})};engine2D.freeMemory=function(){for(var c=paper.project.activeLayer.children,b=0;b<c.length-1;b++)c[b].remove()};engine2D=window.engine2D||{};engine2D.drawFloor=function(c){void 0!==engine2D.floor[c].children[0]&&(engine2D.floor[c].visible=!0,scene2DLabelGroup[c].visible=!0,paper.project.layers.push(engine2D.floor[c]),paper.project.layers.push(scene2DLabelGroup[c]),engine2D.floor[c].on("mousedown",engine2D.drawWall_onMouseDown),engine2D.calculateWallMeasureColor(c))};
engine2D.makeFloor=function(c){if(void 0!==scene2DWallGroup[c].children[0]){console.log("2D Floor Generate ["+c+"] "+scene2DWallGroup[c].children.length);var b=new paper.Path;b.closed=!0;var e=scene2DWallGroup[c].children[0].children[0].children[0],g=e.segments[0].point;b.moveTo(g);for(var h=0;h<scene2DWallGroup[c].children.length;h++)for(var e=scene2DWallGroup[c].children[h].children[4].children[0],q=0;q<scene2DWallGroup[c].children.length;q++){var m=scene2DWallGroup[c].children[q].children[4].children[0];
if(e.id!=m.id&&e.hitTest(m.segments[0].point)){b.quadraticCurveTo(g,m.segments[1].point);g=m.segments[1].point;break}}b.fillColor="#D8D8D8";engine2D.floor[c].remove();engine2D.floor[c]=new paper.Group([b]);var r=document.createElement("canvas");r.width=b.bounds.width;r.height=b.bounds.height;var k=r.getContext("2d"),e=new Image;e.src="objects/FloorPlan/Default/4.png";e.onload=function(){k.fillStyle=k.createPattern(this,"repeat");k.fillRect(0,0,b.bounds.width,b.bounds.height);k.fill();var e=new paper.Raster(r,
new paper.Point(b.bounds.x,b.bounds.y));e.fitBounds(b.bounds,!0);e.remove();engine2D.floor[c]=new paper.Group([b,e]);engine2D.floor[c].clipped=!0;void 0!==engine2D.draftPlan&&(engine2D.floor[c].opacity=.6)};b.remove()}};engine2D.makeLabel=function(c,b,e,g,h){c=new paper.PointText;c.content=b+"\n"+e;c.justification="center";c.fontSize=28;c.position=new paper.Point(g,h);return c};engine2D=window.engine2D||{};engine2D.HistoryForward=function(){};engine2D.HistoryBack=function(){};engine2D.HistoryAdd=function(){};var engine2D=window.engine2D||{},panAndZoom;engine2D.initialize=function(){engine2D.canvas=document.getElementById("engine2D");paper.setup(engine2D.canvas);paper.view.setViewSize(window.innerWidth,window.innerHeight);panAndZoom=new SimplePanAndZoom;$("#engine2D").bind("mousewheel",function(c){if(c.shiftKey)paper.view.center=panAndZoom.changeCenter(paper.view.center,c.deltaX,c.deltaY,c.deltaFactor);else{var b=panAndZoom.changeZoom(paper.view.zoom,-c.deltaY);5>=b&&1<=b&&(paper.view.zoom=b)}return c.preventDefault()})};
engine2D["new"]=function(){};engine2D.newFloor=function(c){console.log("engine2D.newFloor "+c);scene2DInteriorMesh[c]=[];scene2DExteriorMesh[c]=[];engine2D.floor[c]=new paper.Group;scene2DDoorGroup[c]=new paper.Group;scene2DWindowGroup[c]=new paper.Group;scene2DWallGroup[c]=new paper.Group;scene2DWallPointGroup[c]=new paper.Group;scene2DLabelGroup[c]=new paper.Group};
engine2D.open=function(){for(var c=0;c<json.plan.length;c++)engine2D.newFloor(c),$.each(json.plan[c],function(){void 0!==this.name&&console.log(this.name);void 0!==this.door&&scene2DDoorGroup[c].addChild(engine2D.makeDoor(c,this.length,{x:this.x,y:this.y},this.z,this.type,this.open,this.direction,this.door));void 0!==this.window&&scene2DWindowGroup[c].addChild(engine2D.makeWindow(c,this.length,{x:this.x,y:this.y},this.z,this.open,this.direction,this.window));void 0!==this.wall&&scene2DWallGroup[c].addChild(engine2D.makeWall(c,
{x:this.x1,y:this.y1},{x:this.x2,y:this.y2},{x:this.cx,y:this.cy},this.h));void 0!==this.label&&scene2DLabelGroup[c].addChild(engine2D.makeLabel(c,this.label,this.text,this.x,this.y))}),engine2D.makeFloor(c)};engine2D=window.engine2D||{};engine2D.makeStairs=function(c,b,e){c=new paper.Group;new paper.Path;return c};var engine2D=window.engine2D||{},drawWall={radius:4,tolerance:20,handle:null,path:null,curPoint:null,prevPoint:null,curHandleSeg:null};engine2D.drawWall=function(c){if(void 0!==scene2DWallGroup[c].children[0]){for(var b=0;b<scene2DWallGroup[c].children.length;b++)scene2DWallGroup[c].children[b].visible=!0;engine2D.calculateWallCorners(c);paper.project.layers.push(scene2DWallGroup[c]);paper.project.layers.push(scene2DWallPointGroup[c]);engine2D.canvas.on("mousedown",engine2D.drawWall_onMouseDown)}};
engine2D.drawWall_onMouseDown=function(c){this.on("mouseup",engine2D.drawWall_onMouseUp);this.on("mousedrag",engine2D.drawWall_onMouseDrag);drawWall.path=new paper.Path({segments:[c.point,c.point],strokeColor:"#ff5733",strokeWidth:10,strokeCap:"round"});drawWall.prevPoint=drawWall.path.firstSegment.point;drawWall.curPoint=drawWall.path.lastSegment.point;drawWall.curHandleSeg=null;drawWall.path.on("mouseup",engine2D.drawWall_onMouseUp);paper.project.layers.push(drawWall.path)};
engine2D.drawWall_onMouseUp=function(c){this.off("mouseup",engine2D.drawWall_onMouseUp);this.off("mousedrag",engine2D.drawWall_onMouseDrag);drawWall.path.off("mouseup",engine2D.drawWall_onMouseUp);for(c=0;c<drawWall.path.segments.length;c+=2){var b=drawWall.path.segments[c].point,e=drawWall.path.segments[c+1].point;console.log("Wall draw Segment "+b+":"+e);for(var b=new paper.Path({segments:[b,e]}),g,h,e=0;e<scene2DWallGroup[engineGUI.floor].children.length&&!(g=scene2DWallGroup[engineGUI.floor].children[e],
h=g.children[4].children[0].getIntersections(b),0<h.length);e++);if(0<h.length)for(b=0;b<h.length;b++)console.log("Convert to wall Path + Attach "+h[b].intersection.point),engine2D.splitWall(g,h[b]);else console.log("Convert to wall Path")}drawWall.path.visible=!1;drawWall.path.remove()};
engine2D.drawWall_onMouseDrag=function(c){var b=c.point;c=b.x-drawWall.prevPoint.x;var e=b.y-drawWall.prevPoint.y,g=(new paper.Point(c,e)).abs();g.x<g.y?(drawWall.curPoint.x=drawWall.prevPoint.x,drawWall.curPoint.y=b.y):(drawWall.curPoint.x=b.x,drawWall.curPoint.y=drawWall.prevPoint.y);c=drawWall.curPoint.x-drawWall.prevPoint.x;e=drawWall.curPoint.y-drawWall.prevPoint.y;b=new paper.Point(c,e);b.length=1;drawWall.curHandleSeg&&(c=drawWall.prevPoint.x+b.x*drawWall.radius,e=drawWall.prevPoint.y+b.y*
drawWall.radius,drawWall.curHandleSeg.point=new paper.Point(c,e),c=b.x*-drawWall.handle,e=b.y*-drawWall.handle,drawWall.curHandleSeg.handleIn=new paper.Point(c,e));Math.min(g.x,g.y)>drawWall.tolerance&&(c=drawWall.curPoint.x-b.x*drawWall.radius,e=drawWall.curPoint.y-b.y*drawWall.radius,c=new paper.Point(c,e),c=new paper.Segment(c,null,b*drawWall.handle),drawWall.path.insert(drawWall.path.segments.length-1,c),drawWall.curHandleSeg=drawWall.path.lastSegment,drawWall.prevPoint=drawWall.curHandleSeg.point.clone(),
drawWall.path.add(drawWall.curHandleSeg),drawWall.curPoint=drawWall.path.lastSegment.point)};
engine2D.makeWall=function(c,b,e,g,h){console.log("Wall "+b.x+":"+b.y+"-"+e.x+":"+e.y);c=new paper.Group;var q=new paper.Path;q.doors=[];q.windows=[];var m=new paper.Path.Circle(new paper.Point(g.x,g.y),10);m.fillColor="#33CCFF";m.opacity=.5;var r=new paper.Path.Circle(new paper.Point(0,0),8);r.fillColor="#FFCC00";r.visible=!1;q.moveTo(new paper.Point(b.x,b.y));q.quadraticCurveTo(new paper.Point(g.x,g.y),e.x,e.y);b=q.clone();b.strokeColor="#00FF00";b.strokeWidth=1;b.visible=!1;e=new paper.Path;g=
new paper.Path;var k=new paper.PointText,n=new paper.Path.Rectangle(new paper.Rectangle(0,0,50,18)),f=new paper.Group,x=new paper.Group;f.fontSize=x.fontSize=14;n.fillColor="#ffffff";var y=q.segments[0].point.subtract(q.segments[1].point).angle;e=engine2D.pathOffset(q,-20,1);g=engine2D.pathOffset(q,20,1);k.rotation=y;n.rotation=y;k.content=(e.children[0].length/100).toFixed(1)+"m";n.position=e.position;k.position=e.position;f.addChild(n.clone());f.addChild(k.clone());k.content=(g.children[0].length/
100).toFixed(1)+"m";n.position=g.position;k.position=g.position;x.addChild(n);x.addChild(k.clone());k.remove();q.strokeColor="black";q.strokeWidth=20;120>q.length&&(m.visible=!1,r.visible=!1);80>q.length&&(e.visible=!1,g.visible=!1,f.visible=!1,x.visible=!1);k=new paper.Group([q]);c.addChild(e);c.addChild(g);c.addChild(f);c.addChild(x);c.addChild(k);c.addChild(b);c.addChild(r);c.addChild(m);c.addChild(engine2D.calculatePathOffset(q,-10,1,1.5));c.addChild(engine2D.calculatePathOffset(q,10,1,1.5));
paper.project.layers.push(c);m.attach("mouseenter",function(){this.opacity=1});m.attach("mouseleave",function(){this.opacity=.5});m.attach("doubleclick",function(c){c=new paper.Path;c.moveTo(q.segments[0].point);c.lineTo(q.segments[1].point);onPathDrag(this.parent,c.getLocationAt(c.length/2))});m.attach("mousedrag",function(c){onPathDrag(this.parent,c)});k.on("mouseenter",engine2D.wall_onMouseEnter);k.on("mousemove",engine2D.wall_onMouseMove);k.on("mouseleave",engine2D.wall_onMouseLeave);onPathDrag=
function(c,b){c.children[7].position=b.point;var f=c.children[4].children[0],e=c.children[5],k=f.segments[0].point,h=f.segments[1].point;f.clear();f.moveTo(k);f.quadraticCurveTo(b.point,h);e.clear();e.moveTo(k);e.quadraticCurveTo(b.point,h)};onPathTouchDrag=function(c){c=c.originalEvent.changedTouches[0];onPathDrag({clientX:c.pageX,clientY:c.pageY});return!1};c.h=h;return c};
engine2D.wall_onMouseEnter=function(c){this.children[0].parent.parent.children[5].visible=!0;this.children[0].parent.parent.children[6].visible=!0};engine2D.wall_onMouseLeave=function(c){this.children[0].parent.parent.children[5].visible=!1;this.children[0].parent.parent.children[6].visible=!1};engine2D.wall_onMouseMove=function(c){this.children[0].parent.parent.children[6].position=this.children[0].getNearestPoint(c.point)};
engine2D.edge_onMouseEnter=function(c){this.children[2].opacity=1;this.children[3].opacity=1;this.on("mousedown",engine2D.edge_onMouseDown);this.on("mouseleave",engine2D.edge_onMouseLeave)};engine2D.edge_onMouseLeave=function(c){this.children[2].opacity=0;this.children[3].opacity=0};engine2D.wallRelativePoints=function(c,b,e){var g=c.point,h=e[1].point;b.hitTest(h)&&(g=e[0].point,h=c.point);return{start:g,end:h}};
engine2D.edge_onMouseDrag=function(c){!1===this.dragging&&(this.dragging=!0,this.off("mouseenter",engine2D.edge_onMouseEnter),this.off("mouseleave",engine2D.edge_onMouseLeave));for(i=0;i<this.attachments.length;i++){var b=this.attachments[i];b.parent.parent.children[7].visible=120<b.length?!0:!1;var e=engine2D.wallRelativePoints(c,this.children[2],b.segments),g=b.segments[0].point.x+b.segments[1].point.x,h=b.segments[0].point.y+b.segments[1].point.y,q=b.segments[0].point.subtract(b.segments[1].point).angle,
m=e.start.subtract(e.end).angle,g=new paper.Point(g/2,h/2),h=b.doors.length;if(0<h)for(d=0;d<h;d++)b.doors[d].rotate(m-q),b.doors[d].position=g;else b.parent.parent.children[7].position=g;b.clear();b.moveTo(e.start);b.quadraticCurveTo(g,e.end);b.parent.parent.children[0].clear();b.parent.parent.children[1].clear();b.parent.parent.children[0]=engine2D.pathOffset(b,-20,1,b.parent.parent.children[0].strokeColor);b.parent.parent.children[1]=engine2D.pathOffset(b,20,1,b.parent.parent.children[1].strokeColor);
b.parent.parent.children[2].position=b.parent.parent.children[0].children[0].getLocationAt(b.parent.parent.children[0].children[0].length/2).point;b.parent.parent.children[3].position=b.parent.parent.children[1].children[0].getLocationAt(b.parent.parent.children[1].children[0].length/2).point;b.parent.parent.children[2].children[0].rotation=m-q;b.parent.parent.children[3].children[0].rotation=m-q;b.parent.parent.children[2].children[1].rotation=q;b.parent.parent.children[3].children[1].rotation=q;
b.parent.parent.children[2].children[1].content=(b.parent.parent.children[0].children[0].length/100).toFixed(2)+"m";b.parent.parent.children[3].children[1].content=(b.parent.parent.children[1].children[0].length/100).toFixed(2)+"m";b.parent.parent.children[8]=engine2D.calculatePathOffset(b,-10,1,1.5);b.parent.parent.children[9]=engine2D.calculatePathOffset(b,10,1,1.5)}this.position=c.point;engine2D.edgeSmashCorner(this)};
engine2D.edgeSmashCorner=function(c){if(2<=c.attachments.length)for(var b=0;b<c.attachments.length;b+=2)if(void 0!==c.attachments[b+1]){var e=engine2D.calculateWallAngle(c.attachments[b],c.attachments[b+1]),e=Math.abs(e)+180,e=Math.abs(e-360);c.children[4].children[3].content=Math.round(e)+"\u00b0";c.children[4].children[0].clear();c.children[4].children[1].clear();var e=c.attachments[b].parent.parent.children[9].getIntersections(c.attachments[b+1].parent.parent.children[9]),g=c.attachments[b].parent.parent.children[8].getIntersections(c.attachments[b+
1].parent.parent.children[8]),h=c.attachments[b].parent.parent.children[9].getIntersections(c.attachments[b+1].parent.parent.children[8]),q=c.attachments[b].parent.parent.children[8].getIntersections(c.attachments[b+1].parent.parent.children[9]);c.children[1].clear();e[0]&&(c.children[1].moveTo(e[0].point),h[0]&&q[0]&&(c.children[1].lineTo(h[0].point),c.children[1].lineTo(q[0].point)));g[0]&&(e[0]?c.children[1].lineTo(g[0].point):c.children[1].moveTo(g[0].point),h[0]&&q[0]&&(c.children[1].lineTo(h[0].point),
c.children[1].lineTo(q[0].point)))}};engine2D.edge_onMouseDown=function(c){this.on("mouseup",engine2D.edge_onMouseUp);this.on("mousedrag",engine2D.edge_onMouseDrag)};
engine2D.edge_onMouseUp=function(c){this.dragging=!1;this.off("mousedrag",engine2D.edge_onMouseDrag);for(i=0;i<this.attachments.length;i++){c=this.attachments[i];var b=c.parent.parent.children[5],e=this.attachments[i].getLocationAt(this.attachments[i].length/2).point;b.clear();b.moveTo(this.attachments[i].segments[0].point);b.quadraticCurveTo(e,this.attachments[i].segments[1].point);engine2D.calculateWallMeasureWidth(this,c.parent.parent.children[0]);engine2D.calculateWallMeasureWidth(this,c.parent.parent.children[1])}this.children[2].opacity=
0;this.children[3].opacity=0;this.off("mouseleave",engine2D.edge_onMouseLeave);this.off("mousedown",engine2D.edge_onMouseDown);this.on("mouseenter",engine2D.edge_onMouseEnter);engine2D.makeFloor(engineGUI.floor)};
paper.Shape.ArrowLine=function(c,b,e,g,h){function q(c,b,f,e){var k=[],h=Math.sqrt(Math.pow(f-c,2)+Math.pow(e-b,2));k[0]=f-10*((f-c)*Math.cos(.5)-(e-b)*Math.sin(.5))/h;k[1]=e-10*((e-b)*Math.cos(.5)+(f-c)*Math.sin(.5))/h;k[2]=f-10*((f-c)*Math.cos(.5)+(e-b)*Math.sin(.5))/h;k[3]=e-10*((e-b)*Math.cos(.5)-(f-c)*Math.sin(.5))/h;return k}var m=q(c,b,e,g),r=q(e,g,c,b),k=m[0],n=m[1],f=m[2],x=m[3],m=r[0],y=r[1],u=r[2],r=r[3],w=new paper.Path({segments:[new paper.Point(c,b),new paper.Point(e,g)],strokeWidth:1});
e=new paper.Path({segments:[new paper.Point(k,n),new paper.Point(e,g),new paper.Point(f,x)]});e=new paper.CompoundPath([w,e]);!0===h&&(c=new paper.Path({segments:[new paper.Point(m,y),new paper.Point(c,b),new paper.Point(u,r)]}),e.addChild(c));return e};engine2D.calculatePathOffset=function(c,b,e,g){for(var h=new paper.Path,q=0;q<e+1;q++){var m=q/e*c.length,r=c.getPointAt(m),m=c.getNormalAt(m);m.length=b;h.add(r.add(m))}h.scale(g);h.smooth();h.remove();return h};
engine2D.pathOffset=function(c,b,e,g){c=engine2D.calculatePathOffset(c,b,e,1);c=new paper.Shape.ArrowLine(c.segments[0].point.x,c.segments[0].point.y,c.segments[1].point.x,c.segments[1].point.y,!0);c.strokeColor=g;c.strokeWidth=1;return c};engine2D.calculateWallMeasureWidth=function(c,b){for(i=0;i<c.attachments.length;i++)for(l=0;2>l;l++)if(c.attachments[i].hitTest(b.children[0].segments[l].point)){b.scale(.8);break}};
engine2D.calculateWallMeasureColor=function(c,b){for(a=0;a<scene2DWallGroup[c].children.length;a++)for(l=0;2>l;l++){var e=scene2DWallGroup[c].children[a].children[l];engine2D.floor[c].hitTest(e.children[0].segments[0].point)?e.strokeColor="#606060":e.strokeColor="#000000"}};
engine2D.addWallCorner=function(c,b,e){b=new paper.Path.Circle(e,60);var g=new paper.Path.Circle(e,8);e=new paper.Path.Circle(e,17);e.strokeColor=g.fillColor="#00CC33";e.strokeWidth=3;e.opacity=g.opacity=0;var h=new paper.Path;h.fillColor="#000000";b=new paper.Group([b,h,g,e]);b.dragging=!1;b.attachments=[];b.on("mouseenter",engine2D.edge_onMouseEnter);scene2DWallPointGroup[c].addChild(b)};
engine2D.calculateWallCorners=function(c){console.log("Fix Wall Corner Geometry "+scene2DWallGroup[c].children.length);scene2DWallPointGroup[c]=new paper.Group;for(var b,e=0;e<scene2DWallGroup[c].children.length;e++)for(var g=scene2DWallGroup[c].children[e].children[4].children[0].segments,h=0;h<g.length;h++){var q=scene2DWallPointGroup[c].hitTest(g[h].point);if(q)for(var m=0;m<scene2DWallGroup[c].children.length;m++){b=q.item.parent;var r=scene2DWallGroup[c].children[m].children[4].children[0];r.hitTest(b.position)&&
b.attachments.push(r)}else engine2D.addWallCorner(c,g,g[h].point)}for(e=0;e<scene2DWallPointGroup[c].children.length;e++)b=scene2DWallPointGroup[c].children[e],engine2D.calculateWallEdge(b),engine2D.edgeSmashCorner(b)};
engine2D.calculateWallEdge=function(c){for(var b=0;b<c.attachments.length&&void 0!==c.attachments[b+1];b+=2){var e=c.bounds.width/2,g=new paper.Path,h=new paper.Path,q=new paper.Path,m=new paper.Path.Arc,r=new paper.PointText;if(c.attachments[b].length>e&&c.attachments[b+1].length>e){m=new paper.Point(c.bounds.center.x,c.bounds.center.y);g=c.attachments[b].getLocationAt(e).point;h=c.attachments[b+1].getLocationAt(e).point;Math.round(m.subtract(g).length)>e&&(g=c.attachments[b].getLocationAt(c.attachments[b].length-
e).point);Math.round(m.subtract(h).length)>e&&(h=c.attachments[b+1].getLocationAt(c.attachments[b+1].length-e).point);g=new paper.Path.Line(m,g);h=new paper.Path.Line(m,h);g.strokeColor="#ffffff";g.strokeWidth=1;h.style=g.style;e=engine2D.calculateWallAngle(c.attachments[b],c.attachments[b+1]);q.add(g.segments[1].point);q.add(h.segments[1].point);var k=q.getLocationAt(q.length/2).point;r.position=k;q.clear();q.add(k);q.add(m);q.scale(2);k=q.segments[0].point;q.remove();m=new paper.Path.Arc(g.segments[1].point,
k,h.segments[1].point);m.strokeColor="#000000";m.strokeWidth=1;r.content=Math.abs(e)+"\u00b0";r.justification="center";r.fontSize=14}q=new paper.Group([g,h,m,r]);c.addChild(q)}};engine2D.calculateWallAngle=function(c,b){var e=c.segments[0].point.subtract(c.segments[1].point).angle,g=b.segments[0].point.subtract(b.segments[1].point).angle;return e-g};engine2D.joinWall=function(c){};engine2D.splitWall=function(c,b){console.log(c)};engine2D.joinWallEdgeCircle=function(c){return!1};
engine2D.splitWallEdgeCircle=function(c){return!1};engine2D.angleObjectToWall=function(c,b){var e=b.segments[0].point.subtract(b.segments[1].point);c.angle!==e.angle&&(c.rotate(-c.angle),c.rotate(e.angle),c.angle=e.angle)};engine2D.snapObjectToWall=function(c,b){for(var e=0;e<scene2DWallGroup[engineGUI.floor].children.length;e++){var g=scene2DWallGroup[engineGUI.floor].children[e].children[4].children[0].hitTest(b);if(g){engine2D.angleObjectToWall(c,g.item);break}}};
engine2D.attachObjectsToWalls=function(c,b){if(void 0!==scene2DWallGroup[c].children[0]){console.log("2D Attach Objects to Walls ["+c+"] "+b[c].children.length);console.log(b[c].children);for(var e=0;e<b[c].children.length;e++)for(var g=b[c].children[e],h=0;h<scene2DWallGroup[c].children.length;h++){var q=scene2DWallGroup[c].children[h],m=q.children[4].children[0].getIntersections(g.children[1]);if(m[0]){h=q.children[4].children[0].hitTest(m[0].point);b===scene2DDoorGroup?h.item.doors.push(b[c].children[e]):
b===scene2DWindowGroup&&h.item.windows.push(b[c].children[e]);engine2D.angleObjectToWall(g,h.item);q.children[7].visible=!1;break}}}};engine2D=window.engine2D||{};engine2D.drawWindow=function(c){void 0!==scene2DWindowGroup[c].children&&(scene2DWindowGroup[c].visible=!0,paper.project.layers.push(scene2DWindowGroup[c]))};
engine2D.makeWindow=function(c,b,e,g,h,q,m){var r=new paper.Group;c=new paper.Path;g=new paper.Path;var k=new paper.Group,n=new paper.Group;c.moveTo(new paper.Point(0,0));c.lineTo(new paper.Point(b,0));c.strokeColor="#000000";c.strokeWidth=10;g.moveTo(new paper.Point(0,0));g.lineTo(new paper.Point(b,0));g.strokeColor="#ffff";g.strokeWidth=22;r.addChild(g);r.addChild(c);c.group=r;r.position=new paper.Point(e.x,e.y);r.attach("mousedrag",function(c){1!=k.drag&&1!=n.drag&&(r.position=c.point,k.opacity=
0,n.opacity=0,engine2D.snapObjectToWall(this,c.point))});r.angle=0;return r};var SimplePanAndZoom,StableZoom;SimplePanAndZoom=function(){function c(){}c.prototype.changeZoom=function(c,e){return 0>e?1.05*c:0<e?c/1.05:c};c.prototype.changeCenter=function(c,e,g,h){e=new paper.Point(e,-g);e=e.multiply(h);return c.add(e)};return c}();function zoom2DdrawBase(c){zoom2DCTX.drawImage(zoom2Dimg,0,0,zoom2Dwidth,zoom2Dheight,0,0,zoom2Dwidth,zoom2Dheight)}
function zoom2DdrawProgress(c){c=zoom2DSlider.value;var b;b=65+1.55*c;zoom2DCTX.drawImage(zoom2Dimg,0,zoom2Dheight,b,zoom2Dheight,0,0,b,zoom2Dheight);c=Math.round(c/10);zoom2DCTX.fillStyle="grey";zoom2DCTX.font="12pt Arial";zoom2DCTX.fillText(c,20,35)}function drawImage(){zoom2DdrawBase(zoom2DCTX);zoom2DdrawProgress(zoom2DCTX)};var engine3D=window.engine3D||{};engine3D.makeCeiling=function(){scene3DCeilingShapeContainer[i]=new THREE.Object3D};engine3D=window.engine3D||{};function camera3DFloorFlyIn(c){(new TWEEN.Tween(engine3D.camera.position)).to({x:0,y:10,z:0},2E3).easing(TWEEN.Easing.Quadratic.InOut).start();(new TWEEN.Tween(engine3D.controls.target)).to({x:0,y:0,z:0},2E3).easing(TWEEN.Easing.Quadratic.InOut).onComplete(function(){engine3D.showFloor(c)}).start()}function camera3DNoteAdd(){}
engine3D.scene3DFloorInsertAR=function(){void 0===("undefined"===typeof NyARRgbRaster_Canvas2D?"undefined":_typeof(NyARRgbRaster_Canvas2D))&&$.getScript("js/dynamic/JSARToolKit.js",function(c,b,e){})};engine3D.scene3DFloorInsertPicture=function(){camera3DPositionCache=engine3D.camera.position.clone();camera3DPivotCache=engine3D.controls.target.clone();camera3DInsertPictureEnter()};
function camera3DInsertPictureEnter(){(new TWEEN.Tween(engine3D.camera.position)).to({x:0,y:10,z:0},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}function camera3DInsertPictureExit(){(new TWEEN.Tween(engine3D.camera.position)).to({x:camera3DPositionCache.x,y:camera3DPositionCache.y,z:camera3DPositionCache.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}
function camera3DPictureEnter(){var c=(new THREE.Vector3(0,-1.75,-.4)).applyMatrix4(engine3D.camera.matrixWorld);(new TWEEN.Tween(SelectedPicture.position)).to(c,2E3).easing(TWEEN.Easing.Quadratic.InOut).onComplete(function(){engine3D.initPanorama("#WebGLPanorama","3428",.7,.64)}).start();(new TWEEN.Tween(SelectedPicture.rotation)).to({x:engine3D.camera.rotation.x,y:engine3D.camera.rotation.y,z:engine3D.camera.rotation.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}
function camera3DPictureExit(){(new TWEEN.Tween(SelectedPicture.position)).to({x:camera3DPositionCache.x,y:camera3DPositionCache.y,z:camera3DPositionCache.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start();(new TWEEN.Tween(SelectedPicture.rotation)).to({x:camera3DPivotCache.x,y:camera3DPivotCache.y,z:camera3DPivotCache.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}
function camera3DNoteEnter(){if(""!==SelectedNote.name){var c=(new THREE.Vector3(0,-.5,-.6)).applyMatrix4(engine3D.camera.matrixWorld);(new TWEEN.Tween(SelectedNote.position)).to(c,2E3).easing(TWEEN.Easing.Quadratic.InOut).onComplete(function(){$("#WebGLNote").show()}).start();(new TWEEN.Tween(SelectedNote.rotation)).to({x:engine3D.camera.rotation.x,y:engine3D.camera.rotation.y,z:engine3D.camera.rotation.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}}
function camera3DNoteExit(){$("#WebGLNote").hide();(new TWEEN.Tween(SelectedNote.position)).to({x:camera3DPositionCache.x,y:camera3DPositionCache.y,z:camera3DPositionCache.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start();(new TWEEN.Tween(SelectedNote.rotation)).to({x:camera3DPivotCache.x,y:camera3DPivotCache.y,z:camera3DPivotCache.z},2E3).easing(TWEEN.Easing.Quadratic.InOut).start()}
engine3D.cameraAnimate=function(c,b,e,g){scene3DAnimateRotate||((new TWEEN.Tween(engine3D.camera.position)).to({x:c,y:b,z:e},g).easing(TWEEN.Easing.Quadratic.InOut).start(),(new TWEEN.Tween(engine3D.controls.target)).to({x:0,y:0,z:0},g).easing(TWEEN.Easing.Quadratic.InOut).start())};
engine3D.cameraWalkViewToggle=function(){if(engine3D.controls instanceof THREE.FirstPersonControls)camera3DPositionCache=new THREE.Vector3(0,6,20),camera3DPivotCache=new THREE.Vector3(0,0,0),engine3D.cameraAnimateResetView(),engine3D.enableOrbitControls(engine3D.camera,engine3D.renderer.domElement);else if(engine3D.controls instanceof THREE.OrbitControls){var c=alertify.confirm("");c.ok=function(){camera3DPositionCache=engine3D.camera.position.clone();camera3DPivotCache=engine3D.controls.target.clone();
scene3DAnimateRotate=!1;(new TWEEN.Tween(engine3D.camera.position)).to({x:0,y:1.5,z:18},2E3).easing(TWEEN.Easing.Quadratic.InOut).start();(new TWEEN.Tween(engine3D.controls.target)).to({x:0,y:1.5,z:0},2E3).easing(TWEEN.Easing.Quadratic.InOut).onComplete(function(){engine3D.enableFirstPersonControls()}).start()};c.show();$(".alertify-title").append($.parseHTML("<img src='images/help/wasd-keyboard.jpg' /><br/><br/>Use (W,A,S,D) or arrow keys to move."))}else alertify.alert("Not Available in Edit Mode").show()};
engine3D.cameraAnimateResetView=function(){};engine3D.enableTransformControls=function(c){engine3D.controls=new THREE.TransformControls(engine3D.camera,engine3D.renderer.domElement);engine3D.controls.attach(SelectedObject);engine3D.controls.setMode(c);$("#WebGLInteractiveMenu").hide();$("#WebGLTextureSelect").hide()};
engine3D.enableOrbitControls=function(c,b){engine3D.controls instanceof THREE.OrbitControls||(engine3D.controls=new THREE.OrbitControls(c,b),engine3D.controls.minDistance=3,engine3D.controls.maxDistance=25,engine3D.controls.maxPolarAngle=Math.PI/2);engine3D.controls.enabled=!0};
engine3D.enableFirstPersonControls=function(){engine3D.controls.enabled=!1;engine3D.controls=new THREE.FirstPersonControls(engine3D.camera,engine3D.renderer.domElement);engine3D.controls.movementSpeed=5;engine3D.controls.lookSpeed=.15;engine3D.controls.noFly=!0;engine3D.controls.lookVertical=!1;engine3D.controls.activeLook=!0;engine3D.controls.lon=-90;engine3D.controls.lat=0;engine3D.controls.enabled=!0};
engine3D.open3DModel=function(c,b,e,g,h,q,m,r,k,n){try{c.split(".").pop();var f=c.substring(0,c.lastIndexOf("/")+1)+"Textures/",x=function(f){f.name=c;f.boundingBox=[];f.boundingBox.max=[];f.boundingBox.max.x=0;f.boundingBox.max.y=0;f.boundingBox.max.z=0;f.traverse(function(c){c instanceof THREE.Mesh?(c.geometry.computeFaceNormals(),c.geometry.computeVertexNormals(),c.geometry.computeBoundingBox(),f.boundingBox.max.x<c.geometry.boundingBox.max.x&&(f.boundingBox.max.x=c.geometry.boundingBox.max.x),
f.boundingBox.max.y<c.geometry.boundingBox.max.y&&(f.boundingBox.max.y=c.geometry.boundingBox.max.y),f.boundingBox.max.z<c.geometry.boundingBox.max.z&&(f.boundingBox.max.z=c.geometry.boundingBox.max.z),c.castShadow=!0,k&&(c.receiveShadow=!0),null!==c.material&&(c.material.side=THREE.DoubleSide,1<c.material.shininess-10?c.material.shininess-=10:0===c.material.shininess&&(c.material.shininess=.1),c.material.transparent=1>c.material.opacity?!0:!1)):c instanceof THREE.PointLight&&console.log("light found!")});
f.position.x=e;f.position.y=g;f.position.z=h;f.rotation.x=q;f.rotation.y=m+Math.PI;console.log("ObjectLoader add model to scene "+f.name);b.add(f);var u,x;if(n){u=new THREE.MeshBasicMaterial({color:0});engine3D.fontLoader.load("fonts/helvetiker_regular.typeface.json",function(c){x=new THREE.TextGeometry(n,{font:c,weight:"normal",size:.05,height:.01})});var r=new THREE.Mesh(x,u);r.position.x=1.25;r.position.y=.5;r.position.z=.05;r.rotation.y=1.5;r.name=n;engine3D.open3DModel("objects/Platform/note.jsz",
f,1.25,.1,-.3,0,1.5,1,!1,null);f.add(r);console.log(c+" Add Note: '"+n+"'")}if(b==scene3DFloorFurnitureContainer[engineGUI.floor]){u=new THREE.LineBasicMaterial({color:0,linewidth:2});x=new THREE.Geometry;var G=e-3*f.boundingBox.max.x,y=h-3*f.boundingBox.max.z,r=e+3*f.boundingBox.max.x,I=h+3*f.boundingBox.max.z;x.vertices.push(new THREE.Vector3(G,0,y));x.vertices.push(new THREE.Vector3(r,0,y));x.vertices.push(new THREE.Vector3(G,0,y));x.vertices.push(new THREE.Vector3(G,0,I));var K=new THREE.Line(x,
u,THREE.LineSegments);K.position.y=.01;var H=[],Q=[];H[0]=400*f.boundingBox.max.z;H[1]=400*f.boundingBox.max.x;engine3D.fontLoader.load("font/helvetiker_regular.typeface.json",function(c){for(var b=0;1>=b;b++){var f;f=100<H[b]?(H[b]/100).toFixed(2)+" m":Math.round(H[b])+" cm";Q[b]=new THREE.TextGeometry(f,{font:c,weight:"normal",size:.2,height:.01});Q[b].computeBoundingBox()}c=new THREE.Mesh(Q[0],u);c.position.x=e-Q[0].boundingBox.max.x/2;c.position.y=.01;c.position.z=y-.1;c.rotation.x=-1.5;b=new THREE.Mesh(Q[1],
u);b.position.x=G-.1;b.position.y=.01;b.position.z=h+Q[1].boundingBox.max.x/2;b.rotation.x=-1.55;b.rotation.z=1.6;K.add(c);K.add(b)});f.add(K);K.visible=!1}};if("jsz"===c.split(".").pop()){var y=c.split("/").pop().slice(0,-4)+".json";$.ajax(c,{contentType:"application/zip",beforeSend:function(c){c.overrideMimeType("text/plain; charset=x-user-defined")},success:function(c){(new JSZip).loadAsync(c).then(function(c){c.file(y).async("string").then(function(c){c=JSON.parse(c);var b=new THREE.ObjectLoader(engine3D.jsonLoader);
b.setTexturePath(f);if("BufferGeometry"===c.geometries[0].type)b.parse(c,x,{useWorker:!0,useBuffers:!0});else{for(var e=0;e<c.textures.length;e++)c.textures[e].mapping&&(c.textures[e].mapping=THREE[c.textures[e].mapping]),c.textures[e].minFilter&&(c.textures[e].minFilter=THREE[c.textures[e].minFilter]),c.textures[e].magFilter&&(c.textures[e].magFilter=THREE[c.textures[e].magFilter]),c.textures[e].wrap&&(c.textures[e].wrap=[THREE.RepeatWrapping,THREE.RepeatWrapping]);for(e=0;e<c.object.children.length;e++){for(var k=
1,h=0;h<c.geometries.length;h++)if(c.geometries[h].uuid==c.object.children[e].geometry){k=c.geometries[h].materials[0].opacity;break}0===k&&(k=.99);for(h=0;h<c.materials.length;h++){for(var g=0;g<c.textures.length;g++)if(c.textures[g].uuid==c.materials[h].map){c.textures[g].uuid=THREE.Math.generateUUID();c.materials[h].map=c.textures[g].uuid;break}if(c.materials[h].uuid==c.object.children[e].material){c.materials[h].opacity=k;k=THREE.Math.generateUUID();for(g=0;g<c.object.children.length;g++)c.object.children[g].material==
c.materials[h].uuid&&(c.object.children[g].material=k);c.materials[h].uuid=k;break}}}b.parse(c,x)}})})},error:function(b,f,e){alertify.alert("3D Model ("+c+") Loading Error").show()}})}else"obj"==c.split(".").pop()&&(loader=new THREE.OBJLoader,loader.load(c,function(f){f.name=c;f.position.x=e;f.position.y=g;f.position.z=h;f.rotation.x=q;f.rotation.y=m;console.log("OBJMTL add model to scene"+c.slice(0,-4));console.log(f);b.add(f)},onProgress,onError))}catch(u){console.log("open3DModel Error "+u)}};
engine3D.showHouse=function(){console.log("showHouse()");engine3D.freeMemory();engine3D.hide();engine2D.hide();engineGUI.scene="house";engineGUI.initMenu("menuRight3DHouse","Exterior/index.json");engineGUI.initPanoramaPreview("#panoramaHouse",json.house);engineGUI.initMenuFloorList();engine3D.enableOrbitControls(engine3D.camera,engine3D.renderer.domElement);engine3D.SSAOProcessing.enabled=!1;engine3D.FXAAProcessing.enabled=!1;$(engine3D.renderer.domElement).bind("mousedown",on3DHouseMouseDown);$(engine3D.renderer.domElement).bind("mouseup",
on3DHouseMouseUp);$(engine3D.renderer.domElement).bind("mousemove",on3DHouseMouseMove);$(engine3D.renderer.domElement).bind("dblclick",onDocumentDoubleClick);"moveXY"===engine3D.tool?engineGUI.menuSelect(0,"menuInteractiveItem","#ff3700"):"moveZ"===engine3D.tool?engineGUI.menuSelect(1,"menuInteractiveItem","#ff3700"):"rotate"===engine3D.tool&&engineGUI.menuSelect(2,"menuInteractiveItem","#ff3700");$("#menuBottomHouse").show();engineGUI.menuToggleRight("menuRight",!0);engineGUI.menuToggleLeft("menuLeft3DHouse",
!0);engineGUI.menuSelect(1,"menuTopItem","#ff3700");engineGUI.menuCorrectHeight();engine3D.setDay();engine3D.setLights();engine3D.setWeather();engine3D.makeFloor();engine3D.scene.add(engine3D.skyHouse);engine3D.scene.add(engine3D.skyFX);engine3D.scene.add(engine3D.groundHouse);engine3D.scene.add(engine3D.house);engine3D.scene.add(engine3D.roof);if(void 0!=scene2DWallGroup[engineGUI.floor]){for(var c=[-1,0,1,2,3,4],b=0;b<engine2D.floor.length;b++){var e=.1+c[b]*scene2DWallGroup[engineGUI.floor].children[0].h;
scene3DFloorShapeContainer[b].position.y=e;scene3DCeilingShapeContainer[b].position.y=e+scene2DWallGroup[engineGUI.floor].children[0].h;engine3D.scene.add(scene3DFloorShapeContainer[b]);engine3D.scene.add(scene3DCeilingShapeContainer[b])}for(b=0;b<scene3DFloorFurnitureContainer.length;b++)engine3D.scene.add(scene3DFloorFurnitureContainer[b])}json.settings.showcube&&engine3D.sceneCube.add(scene3DCubeMesh);$("#engine3D").show();$("#WebGLCanvas").show();setTimeout(function(){engine3D.cameraAnimate(0,
6,18,1E3)},1E3);engine3D.animate()};
engine3D.showLandscape=function(){scene3DAnimateRotate=!1;engine3D.freeMemory();engine3D.hide();engine2D.hide();engineGUI.scene="landscape";engine3D.setDay(!0);engine3D.setLights();engine3D.enableOrbitControls(engine3D.camera,engine3D.renderer.domElement);engine3D.camera.position.set(10,10,15);engine3D.camera.lookAt(engine3D.scene.position);engine3D.tool="rotate";engine3D.scene.add(engine3D.skyHouse);engine3D.scene.add(engine3D.terrain);$(engine3D.renderer.domElement).bind("mousedown",on3DLandscapeMouseDown);
$(engine3D.renderer.domElement).bind("mouseup",on3DLandscapeMouseUp);$(engine3D.renderer.domElement).bind("mousemove",on3DLandscapeMouseMove);engineGUI.menuToggleLeft("menuLeft3DLandscape",!0);engineGUI.menuSelect(0,"menuLeft3DLandscapeItem","#ff3700");engineGUI.menuSelect(2,"menuTopItem","#ff3700");engineGUI.menuCorrectHeight();$("#engine3D").show();$("#WebGLCanvas").show();engine3D.animate()};
engine3D.showFloor=function(c){console.log("showFloor()");engineGUI.floor=c;scene3DAnimateRotate=!1;engine3D.freeMemory();engine3D.hide();engine2D.hide();engineGUI.scene="floor";engineGUI.initMenu("menuRight3DFloor","Interior/index.json");engineGUI.initPanoramaPreview("#panoramaFloor",json.furniture[c]);engine3D.enableOrbitControls(engine3D.camera,engine3D.renderer.domElement);engine3D.SSAOProcessing.enabled=!0;engine3D.FXAAProcessing.enabled=!1;engine3D.buildPanorama(engine3D.skyFloor,"0000",75,
75,75,"",null);engine3D.scene.add(engine3D.skyFloor);engine3D.setLights();engine3D.makeFloor();engine3D.makeWalls();engine3D.scene.add(scene3DFloorFurnitureContainer[engineGUI.floor]);engine3D.scene.add(scene3DFloorShapeContainer[engineGUI.floor]);engine3D.scene.add(engine3D.groundFloor);scene3DFloorShapeContainer[engineGUI.floor].position.y=.1;engine3D.tool="measure";if("measure"===engine3D.tool)for(scene3DFloorMeasurementsGenerate(),c=0;c<scene3DFloorFurnitureContainer[engineGUI.floor].children.length;c++)scene3DFloorFurnitureContainer[engineGUI.floor].children[c].children[1]&&
(scene3DFloorFurnitureContainer[engineGUI.floor].children[c].children[1].visible=!0);engine3D.scene.add(engine3D.walls[engineGUI.floor]);engine3D.scene.add(scene3DFloorShapeContainer[engineGUI.floor]);$(engine3D.renderer.domElement).bind("mousedown",on3DFloorMouseDown);$(engine3D.renderer.domElement).bind("mouseup",on3DFloorMouseUp);$(engine3D.renderer.domElement).bind("mousemove",on3DFloorMouseMove);$(engine3D.renderer.domElement).bind("dblclick",onDocumentDoubleClick);$("#menuFloorSelectorText").html(scene3DFloorFurnitureContainer[engineGUI.floor].name);
$("#menuFloorSelector").show();$("#menuBottomFloor").show();engineGUI.menuToggleRight("menuRight",!0);engineGUI.menuToggleLeft("menuLeft3DFloor",!0);engineGUI.menuSelect(5,"menuTopItem","#ff3700");engineGUI.menuSelect(0,"menuLeft3DFloorItem","#ff3700");engineGUI.menuCorrectHeight();json.settings.showCube&&engine3D.sceneCube.add(scene3DCubeMesh);$("#engine3D").show();$("#WebGLCanvas").show();setTimeout(function(){engine3D.cameraAnimate(0,10,12,1E3)},500);engine3D.animate()};
engine3D.showFloorLevel=function(){scene3DAnimateRotate=!1;engine3D.freeMemory();engine3D.hide();engine2D.hide();engineGUI.scene="floorlevel";engine3D.setDay(!0);engine3D.setLights();engine3D.enableOrbitControls(engine3D.camera,engine3D.renderer.domElement);engine3D.camera.position.set(10,10,15);engine3D.camera.lookAt(engine3D.scene.position);engine3D.generateLevelWalls();engine3D.scene.add(engine3D.skyHouse);engine3D.scene.add(engine3D.groundHouse);engineGUI.menuSelect(3,"menuTopItem","#ff3700");
engineGUI.menuCorrectHeight();json.settings.showCube&&engine3D.sceneCube.add(scene3DCubeMesh);$("#engine3D").show();$("#WebGLCanvas").show();engine3D.animate()};
engine3D.showRoofDesign=function(){scene3DAnimateRotate=!1;engine3D.freeMemory();engine3D.hide();engine2D.hide();engineGUI.scene="roof";engineGUI.initMenu("menuRight3DRoof","Roof/index.json");engine3D.setLights();engine3D.initRendererQuad();engine3D.scene.add(engine3D.grid);engine3D.scene.add(engine3D.roof);$("#WebGLSplitCanvas-0").bind("mousemove",on3DRoofSplit0MouseMove);$("#WebGLSplitCanvas").bind("mouseup",on3DRoofVDividerMouseUp);engineGUI.menuToggleRight("menuRight",!0);engineGUI.menuSelect(4,
"menuTopItem","#ff3700");engineGUI.menuCorrectHeight();json.settings.showCube&&engine3D.sceneCube.add(scene3DCubeMesh);$("#engine3D").show();$("#WebGLSplitCanvas").show();engine3D.animate()};
engine3D.hide=function(){$("#engine3D").hide();$("#menuFloorList").hide();engineGUI.mousedrag=!1;engineGUI.mouseleft=!1;engineGUI.mouseright=!1;if(void 0!==engine3D.renderer){json.settings.showCube&&engine3D.sceneCube.remove(scene3DCubeMesh);for(var c=0;c<engine2D.floor.length;c++)engine3D.scene.remove(scene3DFloorShapeContainer[c]),engine3D.scene.remove(scene3DCeilingShapeContainer[c]);engine3D.scene.remove(engine3D.grid);$(engine3D.renderer.domElement).unbind("mousedown",on3DHouseMouseDown);$(engine3D.renderer.domElement).unbind("mouseup",
on3DHouseMouseUp);$(engine3D.renderer.domElement).unbind("mousemove",on3DHouseMouseMove);$(engine3D.renderer.domElement).unbind("dblclick",onDocumentDoubleClick);$("#WebGLSplitCanvas-0").unbind("mousemove",on3DRoofSplit0MouseMove);$("#WebGLSplitCanvas").unbind("mouseup",on3DRoofVDividerMouseUp);$(engine3D.renderer.domElement).unbind("mousedown",on3DFloorMouseDown);$(engine3D.renderer.domElement).unbind("mouseup",on3DFloorMouseUp);$(engine3D.renderer.domElement).unbind("mousemove",on3DFloorMouseMove);
$(engine3D.renderer.domElement).unbind("mousedown",on3DLandscapeMouseDown);$(engine3D.renderer.domElement).unbind("mouseup",on3DLandscapeMouseUp);$(engine3D.renderer.domElement).unbind("mousemove",on3DLandscapeMouseMove);engine3D.disposePanorama("#WebGLPanorama");$("#WebGLCanvas").hide();$("#WebGLSplitCanvas").hide();$("#menuLeft3DHouse").hide();$("#menuLeft3DLandscape").hide();$("#menuLeft3DFloor").hide();$("#menuRight3DHouse").hide();$("#menuRight3DFloor").hide();$("#menuRight3DRoof").hide();$("#menuRightObjects").hide();
$("#menuRight").hide();$("#menuFloorSelector").hide();$("#menuWallInput").hide();$("#menuBottomHouse").hide();$("#menuBottomFloor").hide();$("#panoramaHouse").empty();$("#panoramaFloor").empty();$("#menuFloorList").empty()}};
engine3D.addFloor=function(c){var b=scene3DFloorFurnitureContainer.length;null===c&&(c="Floor "+b);scene3DFloorFurnitureContainer[b]=new THREE.Object3D;scene3DFloorFurnitureContainer[b].name=c;scene3DFloorMeasurementsContainer[b]=new THREE.Object3D;engine3D.walls[b]=new THREE.Object3D;scene3DFloorShapeContainer[b]=new THREE.Object3D;scene3DCeilingShapeContainer[b]=new THREE.Object3D};
function selectDayNight(){engine3D.scene.remove(engine3D.skyHouse);!0===json.weather.day?engine3D.setDay(!1):!1===json.weather.day&&engine3D.setDay(!0);engine3D.setLights();engine3D.setWeather();engine3D.scene.add(engine3D.skyHouse)}function scene3DObjectSelectRemove(){"house"===engineGUI.scene?engine3D.house.remove(SelectedObject):"floor"===engineGUI.scene&&scene3DFloorFurnitureContainer[engineGUI.floor].remove(SelectedObject);scene3DObjectUnselect()}
function scene3DObjectSelectMenuPosition(c,b){var e=new THREE.Vector3(c,b,.1),g,h;null!==SelectedObject?e=e.setFromMatrixPosition(SelectedObject.matrixWorld):null!==SelectedWall&&(e=e.setFromMatrixPosition(SelectedWall.matrixWorld));e.project(engine3D.camera);g=(e.x+1)/2;h=(-e.y+1)/2;e.x=g*window.innerWidth;e.y=h*window.innerHeight;return e}
function scene3DObjectSelectMenu(c,b,e){c=scene3DObjectSelectMenuPosition(c,b);$(e).css("top",c.y-60).css("left",c.x);$(e).show();null===SelectedObject&&null!==SelectedWall&&($("#WebGLTextureSelect").css("top",c.y+$(e).height()).css("left",c.x-$("#WebGLTextureSelect").width()/2),$("#WebGLColorWheelSelect").css("top",c.y-$("#WebGLColorWheelSelect").height()-32).css("left",c.x-$("#WebGLColorWheelSelect").width()/2))}
function scene3DObjectSelect(c,b,e,g){if(engine3D.controls instanceof THREE.OrbitControls)if(c=new THREE.Vector3(c,b,.5),c.unproject(e),e=(new THREE.Raycaster(e.position,c.sub(e.position).normalize())).intersectObjects(g.children,!0),0<e.length){if(SelectedObject!==e[0].object){scene3DObjectUnselect();engine3D.controls.enabled=!1;SelectedObject=scene3DObjectSelectedRoot(g,e[0].object.uuid);if(0<=e[0].object.name.indexOf("Platform/note.jsz"))SelectedNote=e[0].object,camera3DPositionCache=SelectedNote.position.clone(),
camera3DPivotCache=SelectedNote.rotation.clone(),camera3DNoteEnter();else if(!(0<=SelectedObject.name.indexOf("Platform/camera.jsz")))if(SelectedObject.children===engine3D.walls[engineGUI.floor].children)SelectedWall=e[0].object,scene3DObjectSelectMenu(mouse.x,mouse.y,"#WebGLWallPaintMenu");else{if(-1!=SelectedObject.name.indexOf("house"))return scene3DObjectUnselect(),!1;g=SelectedObject.children[SelectedObject.children.length-1];c=65280;engineGUI.mouseright&&(c=16776960);c=new THREE.MeshBasicMaterial({color:c,
side:THREE.BackSide,opacity:.5,transparent:!0});"{highlighteMesh}"!==g.name?(g=SelectedObject.clone(),g.name="{highlighteMesh}",g.position.set(0,0,0),g.rotation.set(0,0,0),g.scale.multiplyScalar(1.06),SelectedObject.add(g)):g.visible=!0;for(b=0;b<g.children.length;b++)"Mesh"===g.children[b].type?(g.children[b].material=c,g.children[b].material.depthWrite=!0,g.children[b].material.depthTest=!0):g.remove(g.children[b]);if("house"!==SCENE){var h=$("#WebGLSelectMenu");h.tooltipster("content",'<a href="#item" onclick="" class="lo-icon icon-info" style="color:#606060"></a><a href="#" onclick="" class="lo-icon icon-settings" style="color:#606060"></a>')}SelectedObject.boundingBox&&
8<e[0].distance&&4>SelectedObject.boundingBox.max.x&&(camera3DPositionCache=engine3D.camera.position.clone(),camera3DPivotCache=engine3D.controls.target.clone(),(new TWEEN.Tween(engine3D.camera.position)).to({x:SelectedObject.position.x,y:SelectedObject.position.y+4,z:SelectedObject.position.z+5},1E3).easing(TWEEN.Easing.Quadratic.InOut).onComplete(function(){}).start(),(new TWEEN.Tween(engine3D.controls.target)).to({x:SelectedObject.position.x,y:SelectedObject.position.y,z:SelectedObject.position.z},
1E3).easing(TWEEN.Easing.Quadratic.InOut).start());void 0!==h&&(console.log(engineGUI.scene),g=scene3DObjectSelectMenuPosition(mouse.x,mouse.y),h.css({position:"absolute",left:g.x,top:g.y-50,"z-index":0}),h.tooltipster("open"));engineGUI.toggleSideMenus(!1)}return!0}}else scene3DObjectUnselect();return!1}function scene3DObjectSelectedRoot(c,b){for(var e=0;e<c.children.length;e++)for(var g=0;g<c.children[e].children.length;g++)if(c.children[e].children[g].uuid===b)return c.children[e];return c}
function scene3DObjectUnselect(){if(engine3D.controls instanceof THREE.OrbitControls){if(null!==SelectedObject){var c=SelectedObject.children[SelectedObject.children.length-1];"{highlighteMesh}"===c.name&&(c.visible=!1);SelectedWall=SelectedObject=null;$("#WebGLSelectMenu").tooltipster("hide");$("#WebGLInteractiveMenu").hide();$("#WebGLWallPaintMenu").hide();$("#WebGLColorWheelSelect").hide();$("#WebGLTextureSelect").hide()}else null!==SelectedNote?(SelectedNote=null,camera3DNoteExit()):null!==SelectedPicture&&
(SelectedPicture=null,camera3DPictureExit());engine3D.controls.enabled=!0;camera3DPivotCache=camera3DPositionCache=null}}
engine3D.collectArrayFromContainer=function(c){for(var b=[],e=0;e<c.children.length;e++){var g={};g.file=c.children[e].children[0].name;try{g.note=c.children[e].children[2].name}catch(h){}g.textures="Textures";g.position.x=c.children[e].children[0].position.x;g.position.y=c.children[e].children[0].position.y;g.position.z=c.children[e].children[0].position.z;g.rotation.x=c.children[e].children[0].rotation.x;g.rotation.y=c.children[e].children[0].rotation.y;g.rotation.z=c.children[e].children[0].rotation.z;
b.push(g)}return b};function scene3DFloorMeasurementsGenerate(){material=new THREE.LineBasicMaterial({color:0,linewidth:2})}
function scene3DFloorMeasurementShow(){for(var c=!0,b=0;b<scene3DFloorFurnitureContainer[engineGUI.floor].children.length;b++).8>scene3DFloorFurnitureContainer[engineGUI.floor].children[b].position.y&&(scene3DFloorFurnitureContainer[engineGUI.floor].children[b].children[1].visible=!scene3DFloorFurnitureContainer[engineGUI.floor].children[b].children[1].visible),c=scene3DFloorFurnitureContainer[engineGUI.floor].children[b].children[1].visible;c?(engineGUI.menuSelect(0,"menuLeft3DFloorItem","#ff3700"),
engine3D.tool="measure"):(engineGUI.menuSelect(0,"menuLeft3DFloorItem","black"),engine3D.tool="")}
engine3D.setBackground=function(c){var b=document.createElement("canvas");b.width=window.innerWidth;b.height=window.innerHeight;var e=b.getContext("2d");"blue"===c?(c=e.createLinearGradient(0,0,0,b.height),c.addColorStop(0,"#1e4877"),c.addColorStop(.5,"#4584b4"),e.fillStyle=c,e.fillRect(0,0,b.width,b.height),document.getElementById("engine3D").style.background="url("+b.toDataURL("image/png")+")"):"split"===c?(e.lineWidth=1,e.beginPath(),e.moveTo(.5*window.innerWidth,0),e.lineTo(.5*window.innerWidth,
window.innerHeight),e.stroke(),e.beginPath(),e.moveTo(0,.5*window.innerHeight),e.lineTo(window.innerWidth,.5*window.innerHeight),e.stroke(),document.getElementById("engine3D").style.background="url("+b.toDataURL("image/png")+")"):document.body.style.background="#fff"};
engine3D.setLights=function(){engine3D.scene.remove(engine3D.lightAmbient);engine3D.scene.remove(engine3D.lightDirectional);engine3D.scene.remove(engine3D.lightSpot);"house"===engineGUI.scene?!1===json.weather.day?(engine3D.lightSpot.intensity=.8,engine3D.lightSpot.castShadow=!1,engine3D.scene.add(engine3D.lightSpot)):json.weather.sunlight?(engine3D.lightAmbient=new THREE.AmbientLight,engine3D.scene.add(engine3D.lightAmbient),engine3D.scene.add(engine3D.lightDirectional),engine3D.lightSpot.intensity=
1,engine3D.lightSpot.castShadow=!1,engine3D.scene.add(engine3D.lightSpot)):(engine3D.lightAmbient=new THREE.AmbientLight(16777215,.7),engine3D.scene.add(engine3D.lightAmbient),engine3D.scene.add(engine3D.lightDirectional)):"landscape"===engineGUI.scene?(engine3D.lightAmbient=new THREE.AmbientLight(16777215,.5),engine3D.scene.add(engine3D.lightAmbient),engine3D.scene.add(engine3D.lightDirectional)):"roof"===engineGUI.scene?(engine3D.lightAmbient=new THREE.AmbientLight(16777215,.1),engine3D.scene.add(engine3D.lightAmbient),
engine3D.lightSpot.intensity=.6,engine3D.lightSpot.castShadow=!1,engine3D.scene.add(engine3D.lightSpot)):"floorlevel"===engineGUI.scene?(engine3D.lightAmbient=new THREE.AmbientLight(16777215,.5),engine3D.scene.add(engine3D.lightAmbient),engine3D.scene.add(engine3D.lightDirectional)):"floor"===engineGUI.scene&&(engine3D.lightAmbient=new THREE.AmbientLight,engine3D.scene.add(engine3D.lightAmbient),engine3D.lightDirectional.intensity=.6,engine3D.scene.add(engine3D.lightDirectional))};
engine3D.insert3DModel=function(c){"database"===json.settings.mode&&(c="php/objects.php?id="+c,$.ajax({type:"GET",dataType:"json",url:c,async:!1,success:function(b){c=b.file},error:function(c,b,e){alertify.alert("Database Error - 3D Object Not Found").show()}}));var b=0,e=0,g=0;if("house"===engineGUI.scene){g=engine3D.house.children.length-1;e=b=0;try{b=engine3D.house.children[g].position.x+engine3D.house.children[g].geometry.boundingBox.max.x,e=engine3D.house.children[g].position.z+engine3D.house.children[g].geometry.boundingBox.max.z}catch(h){}engine3D.open3DModel(c,
engine3D.house,b,0,e,0,0,1,!0,null)}else"floor"===engineGUI.scene&&(g=scene3DFloorFurnitureContainer[engineGUI.floor].children.length-1,b=scene3DFloorFurnitureContainer[engineGUI.floor].children[g].position.x+scene3DFloorFurnitureContainer[engineGUI.floor].children[g].geometry.boundingBox.max.x,e=scene3DFloorFurnitureContainer[engineGUI.floor].children[g].position.z+scene3DFloorFurnitureContainer[engineGUI.floor].children[g].geometry.boundingBox.max.z,engine3D.open3DModel(c,scene3DFloorFurnitureContainer[engineGUI.floor],
b,0,e,0,0,1,!0,null))};
engine3D.calculateCutawayGeometry=function(){var c=alertify.confirm("This feature is experimental and may not work properly. Continue?");c.ok=function(){var c=new THREE.BoxGeometry(20,16,6),c=new THREE.Mesh(c);c.position.z=engine3D.roof.children[0].position.z+engine3D.roof.children[0].boundingBox.max.z/2;for(var c=new ThreeBSP(c),e=0;e<engine3D.roof.children.length;e++)for(var g=0;g<engine3D.roof.children[e].children.length;g++){var h=(new ThreeBSP(engine3D.roof.children[e].children[g].geometry)).subtract(c),h=
new THREE.Mesh(h.toGeometry(),new THREE.MeshNormalMaterial({shading:THREE.SmoothShading}));h.geometry.computeVertexNormals();h.geometry.computeFaceNormals();engine3D.roof.children[e].children[g].geometry=h.geometry}};c.show()};
function animateHouseRotate(){requestAnimationID=window.requestAnimationFrame(animateHouseRotate);if(scene3DAnimateRotate){var c=.19*clock.getDelta(),b=engine3D.camera.position.x,e=engine3D.camera.position.z,g=Math.cos(c),c=Math.sin(c);engine3D.camera.position.x=b*g+e*c;engine3D.camera.position.z=e*g-b*c;engine3D.camera.lookAt(engine3D.scene.position);animateClouds();engine3D.renderer.render(engine3D.scene,engine3D.camera)}else engine3D.animate()}
function animateFloor(){requestAnimationID=window.requestAnimationFrame(animateFloor);engine3D.lightSpot.visible=!1;engine3D.controls.update();engineGUI.mouseleft?engine3D.renderer.render(engine3D.scene,engine3D.camera):(engine3D.SSAOProcessing.enabled&&(engine3D.scene.overrideMaterial=engine3D.depthMaterial,engine3D.renderer.render(engine3D.scene,engine3D.camera,engine3D.depthRenderTarget,!0),engine3D.scene.overrideMaterial=null),engine3D.effectComposer.render());TWEEN.update()}
function animateLandscape(){requestAnimationID=window.requestAnimationFrame(animateLandscape);engineGUI.mouseleft&&"rotate"===engine3D.tool&&engine3D.controls.update();engine3D.terrain.water.material.uniforms.time.value=(new Date).getTime()%1E4;engine3D.renderer.render(engine3D.scene,engine3D.camera)}
function renderSunlight(){if(json.weather.sunlight){var c=new THREE.Vector3(0,10,-10),b=new THREE.MeshDepthMaterial,e=new THREE.Vector3;e.copy(c).project(engine3D.camera);e.x+=1;e.y+=1;sunlight.godrayGenUniforms.vSunPositionScreenSpace.value.x=e.x;sunlight.godrayGenUniforms.vSunPositionScreenSpace.value.y=e.y;sunlight.godraysFakeSunUniforms.vSunPositionScreenSpace.value.x=e.x;sunlight.godraysFakeSunUniforms.vSunPositionScreenSpace.value.y=e.y;engine3D.renderer.clearTarget(sunlight.rtTextureColors,
!0,!0,!1);var c=.74*window.innerHeight,g=.74*window.innerHeight;e.x*=window.innerWidth;e.y*=window.innerHeight;engine3D.renderer.setScissor(e.x-g/2,e.y-c/2,g,c);engine3D.renderer.enableScissorTest(!0);sunlight.godraysFakeSunUniforms.fAspect.value=window.innerWidth/window.innerHeight;sunlight.scene.overrideMaterial=sunlight.materialGodraysFakeSun;engine3D.renderer.render(sunlight.scene,sunlight.camera,sunlight.rtTextureColors);engine3D.renderer.enableScissorTest(!1);engine3D.scene.overrideMaterial=
null;engine3D.renderer.render(scene3D,engine3D.camera,sunlight.rtTextureColors);engine3D.scene.overrideMaterial=b;engine3D.renderer.render(scene3D,engine3D.camera,sunlight.rtTextureDepth,!0);b=1*Math.pow(6,-1);sunlight.godrayGenUniforms.fStepSize.value=b;sunlight.godrayGenUniforms.tInput.value=sunlight.rtTextureDepth;sunlight.scene.overrideMaterial=sunlight.materialGodraysGenerate;engine3D.renderer.render(sunlight.scene,sunlight.camera,sunlight.rtTextureGodRays2);b=1*Math.pow(6,-2);sunlight.godrayGenUniforms.fStepSize.value=
b;sunlight.godrayGenUniforms.tInput.value=sunlight.rtTextureGodRays2;engine3D.renderer.render(sunlight.scene,sunlight.camera,sunlight.rtTextureGodRays1);b=1*Math.pow(6,-3);sunlight.godrayGenUniforms.fStepSize.value=b;sunlight.godrayGenUniforms.tInput.value=sunlight.rtTextureGodRays1;engine3D.renderer.render(sunlight.scene,sunlight.camera,sunlight.rtTextureGodRays2);sunlight.godrayCombineUniforms.tColors.value=sunlight.rtTextureColors;sunlight.godrayCombineUniforms.tGodRays.value=sunlight.rtTextureGodRays2;
sunlight.scene.overrideMaterial=sunlight.materialGodraysCombine;engine3D.renderer.render(sunlight.scene,sunlight.camera);sunlight.scene.overrideMaterial=null}else engine3D.renderer.render(scene3D,engine3D.camera)}function animateClouds(){weatherSkyCloudsMesh.rotation.y=engine3D.camera.rotation.y;weatherSkyCloudsMesh.rotation.z=engine3D.camera.rotation.z;weatherSkyCloudsMesh.rotation.x=engine3D.camera.rotation.x;weatherSkyCloudsMesh.position.x=engine3D.camera.position.x/1.5}
function animateHouse(){requestAnimationID=window.requestAnimationFrame(animateHouse);scene3DAnimateRotate?engine3D.animate():(animateClouds(),engine3D.controls.enabled&&(engine3D.controls.update(),json.settings.showCube&&engine3D.rendererCube.render(engine3D.sceneCube,engine3D.cameraCube)),engineGUI.mouseleft?engine3D.renderer.render(engine3D.scene,engine3D.camera):(engine3D.SSAOProcessing.enabled&&(engine3D.scene.overrideMaterial=engine3D.depthMaterial,engine3D.renderer.render(engine3D.scene,engine3D.camera,
engine3D.depthRenderTarget,!0),engine3D.scene.overrideMaterial=null),engine3D.effectComposer.render()),TWEEN.update())}function animateRoof(){requestAnimationID=window.requestAnimationFrame(animateRoof);for(i=0;4>i;i++)engine3D.rendererQuad[i].render(engine3D.scene,engine3D.cameraQuad[i])}function animateRoof0(){requestAnimationID=window.requestAnimationFrame(animateRoof);engine3D.rendererQuad[0].render(engine3D.scene,engine3D.cameraQuad[0])}
engine3D.animateStop=function(){requestAnimationID&&(window.cancelAnimationFrame(requestAnimationID),requestId=void 0)};engine3D.animate=function(){engine3D.animateStop();"house"==engineGUI.scene?scene3DAnimateRotate?animateHouseRotate():animateHouse():"floor"==engineGUI.scene?animateFloor():"landscape"==engineGUI.scene||"floorlevel"==engineGUI.scene?animateLandscape():"roof"==engineGUI.scene&&animateRoof()};
engine3D.freeMemory=function(){if(void 0!==engine3D.scene){for(;0<engine3D.scene.children.length;){var c=engine3D.scene.children[engine3D.scene.children.length-1];c.geometry&&c.geometry.dispose();c.material&&(c.material.map&&c.material.map.dispose(),c.material.dispose());engine3D.scene.remove(c)}scene3DObjectUnselect()}if(engine3D.cameraQuad[0]instanceof THREE.OrthographicCamera)for(i=0;4>i;i++)engine3D.cameraQuad[i]=null,engine3D.rendererQuad[i]=null};engine3D=window.engine3D||{};
function onWindowResize(){var c=window.devicePixelRatio|1;engine3D.camera.aspect=window.innerWidth/window.innerHeight;engine3D.camera.updateProjectionMatrix();void 0!==engine3D.SSAOPass&&engine3D.SSAOPass.uniforms.resolution.value.set(1/(window.innerWidth*c),1/(window.innerHeight*c));void 0!==engine3D.FXAAPass&&engine3D.FXAAPass.uniforms.resolution.value.set(1/(window.innerWidth*c),1/(window.innerHeight*c));engine3D.effectComposer.setSize(window.innerWidth*c,window.innerHeight*c);engine3D.renderer.setSize(window.innerWidth,
window.innerHeight);engine3D.initRendererQuadSize();engineGUI.menuCorrectHeight()}function onCubeMouseMove(c){}
function onDocumentDoubleClick(c){engine3D.controls instanceof THREE.OrbitControls&&null===SelectedObject&&(vector=new THREE.Vector3(c.clientX/window.innerWidth*2-1,2*-(c.clientY/window.innerHeight)+1,.5),vector.unproject(engine3D.camera),c=(new THREE.Raycaster(engine3D.camera.position,vector.sub(engine3D.camera.position).normalize())).intersectObjects(engine3D.groundHouse.children,!0),0<c.length&&(clearTimeout(engineGUI.doubleClickTime),engine3D.pivot.position.set(c[0].point.x,0,c[0].point.z),(new TWEEN.Tween(engine3D.controls.target)).to({x:c[0].point.x,
y:0,z:c[0].point.z},800).easing(TWEEN.Easing.Quadratic.InOut).start(),engineGUI.doubleClickTime=setTimeout(function(){engine3D.scene.remove(engine3D.pivot)},4E3)))}
function on3DLandscapeMouseMove(c){if("angle"===engine3D.tool)engineGUI.mouseleft&&(engine3D.terrain.rotation.y=c.clientX>window.innerWidth/2?engine3D.terrain.rotation.y+.015:engine3D.terrain.rotation.y-.015);else if(c=new THREE.Vector3(c.clientX/window.innerWidth*2-1,2*-(c.clientY/window.innerHeight)+1,.5),c.unproject(engine3D.camera),c=(new THREE.Raycaster(engine3D.camera.position,c.sub(engine3D.camera.position).normalize())).intersectObjects(engine3D.terrain.children),0<c.length&&(terrain3DMouse.vertex.x=
Math.floor(c[0].point.x*plot_vertices-map_left*plot_vertices),terrain3DMouse.vertex.y=Math.floor(c[0].point.z*plot_vertices-map_top*plot_vertices),engine3D.terrain.material.uniforms.ring_center.value.x=c[0].point.x,engine3D.terrain.material.uniforms.ring_center.value.y=-c[0].point.z),engineGUI.mouseleft)landscape.onmousemove()}
function on3DLandscapeMouseDown(c){1===c.which&&(engineGUI.mouseleft=!0);engine3D.controls.enabled=!1;if("rotate"===engine3D.tool)engine3D.controls.enabled=!0;else if("hill"===engine3D.tool||"valley"===engine3D.tool)terrain3DMouse.x=c.clientX,terrain3DMouse.y=c.clientY}function on3DLandscapeMouseUp(c){engineGUI.mouseleft=!1;engine3D.controls.enabled=!1;if("hill"===engine3D.tool||"valley"===engine3D.tool)terrain3DMouse.x=c.clientX,terrain3DMouse.y=c.clientY}
$(document).on("keyup",function(c){c.preventDefault();"house"===engineGUI.scene&&27===c.which&&(camera3DPositionCache=new THREE.Vector3(0,6,20),camera3DPivotCache=new THREE.Vector3(0,0,0),engine3D.cameraAnimateResetView())});function on3DRoofVDividerMouseUp(c){engine3D.initRendererQuadSize()}function on3DRoofSplit0MouseMove(c){}function on3DRoofSplit1MouseMove(c){}function on3DRoofSplit2MouseMove(c){}function on3DRoofSplit3MouseMove(c){}function on3DHouseMouseUp(c){on3DMouseUp(c)}
function on3DHouseMouseDown(c){on3DMouseDown(c);scene3DObjectSelect(mouse.x,mouse.y,engine3D.camera,engine3D.house)||engine3D.scene.add(engine3D.pivot)}function on3DHouseMouseMove(c){engineGUI.mousedrag&&(null!==SelectedObject?on3DObjectMove(engine3D.groundHouse,c):on3DCubeMove())}function on3DFloorMouseDown(c){on3DMouseDown(c);scene3DObjectSelect(mouse.x,mouse.y,engine3D.camera,scene3DFloorFurnitureContainer[engineGUI.floor])||engine3D.scene.add(engine3D.pivot)}
function on3DFloorMouseUp(c){on3DMouseUp(c);c=.1;null===SelectedObject&&(c=.5);for(var b=0;b<engine3D.walls[engineGUI.floor].children.length;b++)tween=(new TWEEN.Tween(engine3D.walls[engineGUI.floor].children[b].material)).to({opacity:c},500).start()}
function on3DCubeMove(){!1!==json.settings.showcube&&(engine3D.cameraCube.position.copy(engine3D.camera.position),engine3D.cameraCube.position.sub(engine3D.controls.center),engine3D.cameraCube.position.setLength(18),engine3D.cameraCube.lookAt(scene3DCube.position),engine3D.cameraCube.updateMatrixWorld())}
function on3DObjectMove(c,b){var e=new THREE.Vector3(b.clientX/window.innerWidth*2-1,2*-(b.clientY/window.innerHeight)+1,-2);e.unproject(engine3D.camera);e=(new THREE.Raycaster(engine3D.camera.position,e.sub(engine3D.camera.position).normalize())).intersectObjects(c.children,!0);if(0<e.length){var g=$("#WebGLSelectMenu");engineGUI.mouseleft?(g.tooltipster("close"),SelectedObject.position.x=e[0].point.x,SelectedObject.position.z=e[0].point.z):engineGUI.mouseright&&(g.tooltipster("close"),SelectedObject.rotation.y=
e[0].point.x)}}
function on3DFloorMouseMove(c){if(0===TWEEN.getAll().length)if(null!==SelectedObject)on3DObjectMove(engine3D.groundFloor,c);else{c=new THREE.Vector3(0,0,8);c.applyQuaternion(engine3D.camera.quaternion);scene3DCutawayPlaneMesh.position.copy(c);scene3DCutawayPlaneMesh.lookAt(engine3D.camera.position);c=[];for(var b=scene3DCutawayPlaneMesh.position.clone(),e=0;e<scene3DCutawayPlaneMesh.geometry.vertices.length;e++){var g=scene3DCutawayPlaneMesh.geometry.vertices[e].clone().applyMatrix4(scene3DCutawayPlaneMesh.matrix).sub(scene3DCutawayPlaneMesh.position),h=
(new THREE.Raycaster(b,g.clone().normalize())).intersectObjects(engine3D.walls[engineGUI.floor].children);0<h.length&&h[0].distance<g.length()&&((new TWEEN.Tween(h[0].object.material)).to({opacity:.1},800).start(),c.push(h[0].object.id))}on3DCubeMove()}}
function on3DMouseMove(c){!engineGUI.mouseleft||!engineGUI.mouseright||engine3D.controls instanceof THREE.TransformControls||engine3D.controls instanceof THREE.FirstPersonControls||(clearTimeout(engineGUI.clickMenuTime),engine3D.cameraCube.position.copy(engine3D.camera.position),engine3D.cameraCube.position.sub(engine3D.controls.center),engine3D.cameraCube.position.setLength(18),engine3D.cameraCube.lookAt(scene3DCube.position))}
function on3DMouseDown(c){1===c.which&&(engineGUI.mouseleft=!0);3===c.which&&(engineGUI.mouseright=!0);mouse.x=c.clientX/window.innerWidth*2-1;mouse.y=2*-(c.clientY/window.innerHeight)+1;scene3DObjectUnselect();scene3DAnimateRotate=!1;clearTimeout(engineGUI.clickTime);engineGUI.clickTime=setTimeout(function(){engineGUI.mousedrag=!0;0<=document.getElementById("arrow-right").src.indexOf("images/arrowright.png")&&engineGUI.toggleSideMenus(!1)},500)}
function on3DMouseUp(c){clearTimeout(engineGUI.clickTime);engineGUI.mousedrag=!1;1==c.which&&(engineGUI.mouseleft=!1);3==c.which&&(engineGUI.mouseright=!1);engine3D.controls instanceof THREE.TransformControls||engine3D.controls instanceof THREE.FirstPersonControls||(engine3D.scene.remove(engine3D.pivot),null===SelectedObject&&(engineGUI.clickTime=setTimeout(function(){0<=document.getElementById("arrow-right").src.indexOf("images/arrowleft.png")&&engineGUI.toggleSideMenus(!0)},1E3)))};engine3D=window.engine3D||{};
engine3D.makeFloor=function(){for(var c=Math.PI/180,b=0;b<engine2D.floor.length;b++)if(void 0!==engine2D.floor[b].children[0]){console.log("3D Floor Generate ["+b+"] "+scene2DWallGroup[b].children.length);scene3DFloorShapeContainer[b]=new THREE.Object3D;scene3DCeilingShapeContainer[b]=new THREE.Object3D;var e=new THREE.Shape;for(a=0;a<engine2D.floor[b].children[0].segments.length;a++){var g=engine2D.floor[b].children[0].segments[a].point,h=g.x/100*2-1,g=2*-(g.y/100)+1,h=h-13,g=g+7;0===a?e.moveTo(h,
g):e.lineTo(h,g)}e=new THREE.ShapeGeometry(e);h=new THREE.MeshBasicMaterial;g=engine3D.textureLoader.load(json.floor[b].texture);g.wrapS=THREE.RepeatWrapping;g.wrapT=THREE.RepeatWrapping;h.map=g;h=new THREE.Mesh(e,h);h.rotation.x=-(90*c);scene3DFloorShapeContainer[b].add(h);g=engine3D.textureLoader.load(json.ceiling[b].texture);g.wrapS=THREE.RepeatWrapping;g.wrapT=THREE.RepeatWrapping;e=new THREE.MeshBasicMaterial;e.map=g;e.side=THREE.BackSide;h=h.clone();h.material=e;scene3DCeilingShapeContainer[b].add(h)}};engine3D=window.engine3D||{};engine3D.historyForward=function(){};engine3D.historyBack=function(){};engine3D.historyAdd=function(){};engine3D=window.engine3D||{};
engine3D.initialize=function(){if(Detector.webgl){$("#menuTop").show();$("#menuBottomHouse").show();0===window.innerWidth&&(window.innerWidth=parent.innerWidth,window.innerHeight=parent.innerHeight);engine3D.scene=new THREE.Scene;projector=new THREE.Projector;clock=new THREE.Clock;mouse=new THREE.Vector2;touch=new THREE.Vector2;target=new THREE.Vector3;engine3D.jsonLoader=new THREE.LoadingManager;engine3D.fontLoader=new THREE.FontLoader;engine3D.textureLoader=new THREE.TextureLoader;engine3D.groundFloor=
new THREE.Object3D;engine3D.pivot=new THREE.Object3D;var c=new THREE.BoxGeometry(15,15,3);c.computeBoundingBox();material=new THREE.MeshBasicMaterial({color:16776960,side:THREE.DoubleSide});scene3DCutawayPlaneMesh=new THREE.Mesh(c,material);!0===engine3D.showCube&&(c=[new THREE.MeshBasicMaterial({color:3385941,transparent:!0,opacity:.9,shading:THREE.FlatShading,vertexColors:THREE.VertexColors}),new THREE.MeshBasicMaterial({color:5622784,transparent:!0,opacity:.9,shading:THREE.FlatShading,vertexColors:THREE.VertexColors}),
new THREE.MeshBasicMaterial({color:0,transparent:!0,opacity:.9,shading:THREE.FlatShading,vertexColors:THREE.VertexColors}),new THREE.MeshBasicMaterial({color:0,transparent:!0,opacity:.9,shading:THREE.FlatShading,vertexColors:THREE.VertexColors}),new THREE.MeshBasicMaterial({color:255,transparent:!0,opacity:.9,shading:THREE.FlatShading,vertexColors:THREE.VertexColors}),new THREE.MeshBasicMaterial({color:5592490,transparent:!0,opacity:.9,shading:THREE.FlatShading,vertexColors:THREE.VertexColors})],
material=new THREE.MultiMaterial(c),material.vertexColors=THREE.FaceColors,c=engine3D.initCube(8),c.computeLineDistances(),scene3DCubeMesh=new THREE.Line(c,new THREE.LineDashedMaterial({color:16725760,dashSize:3,gapSize:1,linewidth:2}),THREE.LineSegments),scene3DCubeMesh.geometry.dynamic=!0);engine3D.initRenderer();engine3D.initPhysics();engine3D.initTerrainGround();engine3D.initTerrainWater();engine2D.initialize();engine3D["new"]();engine3D.showHouse();$(window).bind("resize",onWindowResize);$(window).bind("beforeunload",
function(){return"Are you sure you want to leave?"})}else/MSIE (\d+\.\d+);/.test(navigator.userAgent)?$("body").append("<br/><br/><br/><div><center><img src='images/webgl.gif' /><h1>Looks like you broke the Internet!</h1><br/><h2>...your WebGL not enabled?</h2><br/><br/>You are running Internet Explorer, the browser does not support WebGL, please install one of these popular browsers<br/><br/><a href='http://www.mozilla.org/en-US/firefox'><img src='images/firefox.png'/></a> <a href='http://www.google.ca/chrome'><img src='images/chrome.png'/></a></center></div>"):
/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&$("body").append("<br/><br/><br/><div><center><img src='images/webgl.gif' /><h1>Looks like you broke the Internet!</h1><br/><h2>...your WebGL not enabled?</h2><img src='images/firefox-webgl.png'/></center></div>"),document.getElementsByTagName("body")[0].style.overflow="auto",document.getElementsByTagName("html")[0].style.overflow="auto"};
engine3D.initRenderer=function(){engine3D.camera=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,.1,80);var c=window.devicePixelRatio|1;engine3D.renderer=new THREE.WebGLRenderer({devicePixelRatio:c,antialias:!1});engine3D.renderer.shadowMap.enabled=!0;engine3D.renderer.shadowMapSoft=!0;engine3D.renderer.shadowMapAutoUpdate=!0;engine3D.renderer.setSize(window.innerWidth,window.innerHeight);document.getElementById("WebGLCanvas").appendChild(engine3D.renderer.domElement);json.settings.showcube&&
(engine3D.sceneCube=new THREE.Scene,engine3D.cameraCube=new THREE.PerspectiveCamera(60,1,1,50),engine3D.cameraCube.up=engine3D.camera.up,engine3D.sceneCube.add(scene3DCubeMesh),engine3D.rendererCube=new THREE.WebGLRenderer({devicePixelRatio:c,antialias:!1,alpha:!0}),engine3D.rendererCube.setSize(100,100),document.getElementById("WebGLCubeCanvas").appendChild(engine3D.rendererCube.domElement))};
engine3D.initRendererQuad=function(){$("div.split-pane").splitPane();for(var c=0;4>c;c++)engine3D.rendererQuad[c]=new THREE.WebGLRenderer({devicePixelRatio:window.devicePixelRatio|1,antialias:!1}),engine3D.rendererQuad[c].setClearColor(16777215),$("#WebGLSplitCanvas-"+c).append(engine3D.rendererQuad[c].domElement);engine3D.cameraQuad[0]=new THREE.OrthographicCamera($("#WebGLSplitCanvas-0").parent().parent().width()/-60,$("#WebGLSplitCanvas-0").parent().parent().width()/60,$("#WebGLSplitCanvas-0").parent().parent().height()/
10,$("#WebGLSplitCanvas-0").parent().parent().height()/-10,-30,30);engine3D.cameraQuad[0].up=new THREE.Vector3(0,0,-1);engine3D.cameraQuad[0].lookAt(new THREE.Vector3(0,-1,0));engine3D.cameraQuad[1]=new THREE.OrthographicCamera($("#WebGLSplitCanvas-1").parent().parent().width()/-60,$("#WebGLSplitCanvas-1").parent().parent().width()/60,$("#WebGLSplitCanvas-1").parent().parent().height()/10,$("#WebGLSplitCanvas-1").parent().parent().height()/-10,-30,30);engine3D.cameraQuad[1].lookAt(new THREE.Vector3(1,
0,0));engine3D.cameraQuad[1].position.set(0,0,0);engine3D.cameraQuad[2]=new THREE.OrthographicCamera($("#WebGLSplitCanvas-2").parent().parent().width()/-60,$("#WebGLSplitCanvas-2").parent().parent().width()/60,$("#WebGLSplitCanvas-2").parent().parent().height()/10,$("#WebGLSplitCanvas-2").parent().parent().height()/-40,-30,30);engine3D.cameraQuad[2].lookAt(new THREE.Vector3(1,0,0));engine3D.cameraQuad[2].position.set(0,0,0);engine3D.cameraQuad[3]=new THREE.PerspectiveCamera(70,$("#WebGLSplitCanvas-3").parent().width()/
$("#WebGLSplitCanvas-3").parent().height(),1,50);engine3D.cameraQuad[3].position.set(0,14,8);engine3D.cameraQuad[3].lookAt(new THREE.Vector3(0,0,0));engine3D.grid=new THREE.GridHelper(15,1,new THREE.Color(102),new THREE.Color(7196662));engine3D.initRendererQuadSize()};
engine3D.initRendererQuadSize=function(){if(engine3D.cameraQuad[0]instanceof THREE.OrthographicCamera)for(var c=0;4>c;c++){var b=$("#WebGLSplitCanvas-"+c).parent().parent().width(),e=$("#WebGLSplitCanvas-"+c).parent().parent().height();engine3D.cameraQuad[c].aspect=b/e;engine3D.cameraQuad[c].updateProjectionMatrix();engine3D.rendererQuad[c].setSize(b,e)}};
engine3D.initPostprocessing=function(){var c=window.devicePixelRatio|1;console.log("init EffectComposer");engine3D.effectComposer=new THREE.EffectComposer(engine3D.renderer);engine3D.effectComposer.setSize(window.innerWidth*c,window.innerHeight*c);engine3D.renderPass=new THREE.RenderPass(engine3D.scene,engine3D.camera);engine3D.effectComposer.addPass(engine3D.renderPass);engine3D.SSAOProcessing.enabled&&(console.log("init SSAOShader"),engine3D.depthMaterial=new THREE.MeshDepthMaterial,engine3D.depthMaterial.depthPacking=
THREE.RGBADepthPacking,engine3D.depthMaterial.blending=THREE.NoBlending,engine3D.depthRenderTarget=new THREE.WebGLRenderTarget(window.innerWidth,window.innerHeight,{minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter}),engine3D.SSAOPass=new THREE.ShaderPass(THREE.SSAOShader),engine3D.SSAOPass.renderToScreen=!0,engine3D.SSAOPass.uniforms.tDepth.value=engine3D.depthRenderTarget,engine3D.SSAOPass.uniforms.size.value.set(1/(window.innerWidth*c),1/(window.innerHeight*c)),engine3D.SSAOPass.uniforms.cameraNear.value=
engine3D.camera.near,engine3D.SSAOPass.uniforms.cameraFar.value=engine3D.camera.far,engine3D.SSAOPass.uniforms.onlyAO.value=1==engine3D.SSAOProcessing.renderMode,engine3D.SSAOPass.uniforms.aoClamp.value=.3,engine3D.SSAOPass.uniforms.lumInfluence.value=.5,engine3D.effectComposer.addPass(engine3D.SSAOPass));engine3D.FXAAProcessing.enabled&&(console.log("init FXAAShader"),engine3D.FXAAPass=new THREE.ShaderPass(THREE.FXAAShader),engine3D.FXAAPass.uniforms.resolution.value.set(1/(window.innerWidth*c),
1/(window.innerHeight*c)),engine3D.FXAAPass.renderToScreen=!0,engine3D.effectComposer.addPass(engine3D.FXAAPass))};
engine3D.initLights=function(){engine3D.lightDirectional=new THREE.DirectionalLight;engine3D.lightDirectional.color.setHSL(.1,1,.95);engine3D.lightDirectional.position.set(1,1.8,.8).normalize();engine3D.lightDirectional.target.position.set(0,0,0);engine3D.lightDirectional.position.multiplyScalar(50);engine3D.lightDirectional.castShadow=!0;engine3D.lightDirectional.shadow.mapSize.width=2048;engine3D.lightDirectional.shadow.mapSize.height=2048;engine3D.lightDirectional.shadow.camera.left=-15;engine3D.lightDirectional.shadow.camera.left=
15;engine3D.lightDirectional.shadow.camera.top=15;engine3D.lightDirectional.shadow.camera.bottom=-15;engine3D.lightDirectional.shadow.camera.far=2E3;engine3D.lightDirectional.shadow.bias=-1E-4;engine3D.lightSpot=new THREE.SpotLight;engine3D.lightSpot.shadow.camera.near=1;engine3D.lightSpot.shadow.camera.far=38;engine3D.lightSpot.castShadow=!0;engine3D.lightSpot.intensity=.8;engine3D.lightSpot.position.set(-4,35,4)};
engine3D.initPhysics=function(){engine3D.physics=new CANNON.World;engine3D.physics.gravity.set(0,-9.82,0);var c=new CANNON.Material("ground"),c=new CANNON.ContactMaterial(c,c,{friction:.4,restitution:.3,contactEquationStiffness:1E8,contactEquationRegularizationTime:3,frictionEquationStiffness:1E8,frictionEquationRegularizationTime:3});engine3D.physics.addContactMaterial(c)};
engine3D.initCube=function(c){c*=.5;geometry=new THREE.Geometry;geometry.vertices.push(new THREE.Vector3(-c,-c,-c),new THREE.Vector3(-c,c,-c),new THREE.Vector3(-c,c,-c),new THREE.Vector3(c,c,-c),new THREE.Vector3(c,c,-c),new THREE.Vector3(c,-c,-c),new THREE.Vector3(c,-c,-c),new THREE.Vector3(-c,-c,-c),new THREE.Vector3(-c,-c,c),new THREE.Vector3(-c,c,c),new THREE.Vector3(-c,c,c),new THREE.Vector3(c,c,c),new THREE.Vector3(c,c,c),new THREE.Vector3(c,-c,c),new THREE.Vector3(c,-c,c),new THREE.Vector3(-c,
-c,c),new THREE.Vector3(-c,-c,-c),new THREE.Vector3(-c,-c,c),new THREE.Vector3(-c,c,-c),new THREE.Vector3(-c,c,c),new THREE.Vector3(c,c,-c),new THREE.Vector3(c,c,c),new THREE.Vector3(c,-c,-c),new THREE.Vector3(c,-c,c));return geometry};
engine3D.newFloor=function(c){scene3DFloorFurnitureContainer[c]=new THREE.Object3D;scene3DFloorMeasurementsContainer[c]=new THREE.Object3D;engine3D.walls[c]=new THREE.Object3D;scene3DFloorShapeContainer[c]=new THREE.Object3D;scene3DCeilingShapeContainer[c]=new THREE.Object3D;scene3DWallInteriorTextures[c]=[];scene3DWallExteriorTextures[c]=[]};
engine3D["new"]=function(c){engine3D.roof=new THREE.Object3D;engine3D.house=new THREE.Object3D;engine3D._groundHouse=new THREE.Geometry;engine3D.groundHouse=new THREE.Object3D;scene3DLevelGroundContainer=new THREE.Object3D;scene3DLevelWallContainer=new THREE.Object3D;engine3D.skyHouse=new THREE.Object3D;engine3D.skyFX=new THREE.Object3D;engine3D.skyFloor=new THREE.Object3D;engine3D.enableOrbitControls(engine3D.camera,engine3D.renderer.domElement);engine3D.initPostprocessing();engine3D.initLights();
engine3D.open3DModel("objects/Platform/floor.jsz",engine3D.groundFloor,0,0,0,0,0,1,!1,null);engine3D.open3DModel("objects/Landscape/round.jsz",engine3D.groundHouse,0,0,0,0,0,1,!0,null);engine3D.open3DModel("objects/Platform/pivotpoint.jsz",engine3D.pivot,0,0,.1,0,0,1,!1,null)};
engine3D.open=function(){engine3D.groundHouse=new THREE.Object3D;$.each(json.terrain,function(){engine3D.open3DModel(this.file,engine3D.groundHouse,this["position.x"],this["position.y"],this["position.z"],this["rotation.x"],this["rotation.y"],1,!0,null)});$.each(json.roof,function(){engine3D.open3DModel(this.file,engine3D.roof,this["position.x"],this["position.y"],this["position.z"],this["rotation.x"],this["rotation.y"],1,!0,null)});$.each(json.house,function(){engine3D.open3DModel(this.file,engine3D.house,
this["position.x"],this["position.y"],this["position.z"],this["rotation.x"],this["rotation.y"],1,!0,null)});for(var c=0;c<json.furniture.length;c++)engine3D.newFloor(c),$.each(json.furniture[c],function(){var b=null;void 0!==this.note&&(b=this.note);void 0!==this.file&&engine3D.open3DModel(this.file,scene3DFloorFurnitureContainer[c],this["position.x"],this["position.y"],this["position.z"],this["rotation.x"],this["rotation.y"],1,!0,b)})};var engine3D=window.engine3D||{},rendererPanorama,scene3DPanorama,camera3DPanorama,controls3DPanorama,movementX,movementY;
engine3D.initPanorama=function(c,b,e,g){$(c).show();$(c).append(engineGUI.spinner);scene3DPanorama=new THREE.Scene;camera3DPanorama=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,1,1E3);rendererPanorama=new THREE.WebGLRenderer({antialias:!1});rendererPanorama.setSize(window.innerWidth*e,window.innerHeight*g);$(c).append(rendererPanorama.domElement);$(c).mousedown(function(){$(c).bind("mousemove",onPanoramaMouseMove)});$(c).mouseup(function(){$(c).unbind("mousemove",onPanoramaMouseMove)});
$(c).bind("mousewheel",onPanoramaMouseWheel);engine3D.buildPanorama(scene3DPanorama,b,1024,1024,1024,"_",null);engine3D.animatePanorama()};
engine3D.animatePanorama=function(){if(rendererPanorama instanceof THREE.WebGLRenderer){requestAnimationID=window.requestAnimationFrame(engine3D.animatePanorama);clock.getDelta();mouse.x+=.1;mouse.y=Math.max(-85,Math.min(85,mouse.y));var c=THREE.Math.degToRad(90-mouse.y),b=THREE.Math.degToRad(mouse.x);target.x=Math.sin(c)*Math.cos(b);target.y=Math.cos(c);target.z=Math.sin(c)*Math.sin(b);camera3DPanorama.lookAt(target);rendererPanorama.render(scene3DPanorama,camera3DPanorama)}else engine3D.animate()};
engine3D.cubePanoramaImages=function(c,b){-1===c.indexOf("/")&&(c="panoramas/"+c);return[c+"/"+b+"right.jpg",c+"/"+b+"left.jpg",c+"/"+b+"top.jpg",c+"/"+b+"bottom.jpg",c+"/"+b+"front.jpg",c+"/"+b+"back.jpg"]};
engine3D.buildPanorama=function(c,b,e,g,h,q,m){var r=engine3D.cubePanoramaImages(b,q),k=[new THREE.MeshBasicMaterial({map:engine3D.textureLoader.load(r[0]),side:THREE.BackSide}),new THREE.MeshBasicMaterial({map:engine3D.textureLoader.load(r[1]),side:THREE.BackSide}),new THREE.MeshBasicMaterial({map:engine3D.textureLoader.load(r[2]),side:THREE.BackSide}),new THREE.MeshBasicMaterial({map:engine3D.textureLoader.load(r[3]),side:THREE.BackSide}),new THREE.MeshBasicMaterial({map:engine3D.textureLoader.load(r[4]),
side:THREE.BackSide}),new THREE.MeshBasicMaterial({map:engine3D.textureLoader.load(r[5]),side:THREE.BackSide})];e=new THREE.BoxGeometry(e,g,h);m=new THREE.Mesh(e,new THREE.MultiMaterial(k));""!==q&&(engineGUI.spinner.remove(),r=engine3D.cubePanoramaImages(b,""),engine3D.textureLoader.load(r[0],function(c){k[0].map=c}),engine3D.textureLoader.load(r[1],function(c){k[1].map=c}),engine3D.textureLoader.load(r[2],function(c){k[2].map=c}),engine3D.textureLoader.load(r[3],function(c){k[3].map=c}),engine3D.textureLoader.load(r[4],
function(c){k[4].map=c}),engine3D.textureLoader.load(r[5],function(c){k[5].map=c}));c.add(m)};function onPanoramaMouseMove(c){c.pageX<movementX?mouse.x-=.005*c.pageX:c.pageX>movementX&&(mouse.x+=.005*c.pageX);movementX=c.pageX||c.mozMovementX||0}function onPanoramaMouseWheel(c){mouse.x+=.002*c.pageX}
function onPanoramaWindowResize(){camera3DPanorama.aspect=window.innerWidth/window.innerHeight;camera3DPanorama.updateProjectionMatrix();rendererPanorama.setSize(window.innerWidth,window.innerHeight)}engine3D.disposePanorama=function(c){$(c).hide();$(c).empty();scene3DPanorama=camera3DPanorama=rendererPanorama=null;$(c).unbind("mousedown");$(c).unbind("mouseup");$(c).unbind("mousemove");$(c).unbind("mousewheel")};var engine3D=window.engine3D||{},plots_x=20,plots_y=20,plot_vertices=2,map_left=plots_x/-2,map_top=plots_y/-2,terrain3DMouse={x:0,y:0,vertex:{x:null,y:null}},verticeIndex=function(c){return c.x+c.y*(plots_x*plot_vertices+1)},findLattices=function(){return function(c,b){var e=[],g,h,q;g=[0];h=0;q=[];for(var m,r,k;h<=c;){for(yieldable=[];;){m=[];for(r=0;r<h+1;r++)k=g[r],Math.pow(r,2)+Math.pow(k,2)<=Math.pow(h,2)&&(m.push({x:r,y:k}),g[r]+=1);if(0===m.length)break;q=q.concat(m)}h+=1;g.push(0)}for(g=0;g<
q.length;g++)h=q[g],e.push(h),0!==h.x&&e.push({x:-h.x,y:h.y}),0!==h.y&&e.push({x:h.x,y:-h.y}),h.x&&h.y&&e.push({x:-h.x,y:-h.y});for(g=0;g<e.length;g++)e[g].x+=b.x,e[g].y+=b.y;return e}}(),landscape=new function(){var c=null;this.select=function(b){c=b};this.onmousemove=function(){if(!engine3D.controls.enabled){var b=findLattices(3*plot_vertices,terrain3DMouse.vertex);this.tools[c](3*plot_vertices,b);for(var e,g=0;g<b.length;g++)e=verticeIndex(b[g]),6<engine3D.terrain.displacement.array[e]&&(engine3D.terrain.displacement.array[e]=
6),-5>engine3D.terrain.displacement.array[e]&&(engine3D.terrain.displacement.array[e]=-5),engine3D.terrain.water.displacement.array[e]=engine3D.terrain.displacement.array[e];engine3D.terrain.water.displacement.needsUpdate=!0}};this.tools={hill:function(c,e){var b,h,q;for(b=0;b<e.length;b++)h=e[b],0>h.x||0>h.y||h.x>=plots_x*plot_vertices+1||h.y>=plots_y*plot_vertices+1||(q=verticeIndex(h),h=Math.sqrt(Math.pow(terrain3DMouse.vertex.x-h.x,2)+Math.pow(terrain3DMouse.vertex.y-h.y,2)),engine3D.terrain.displacement.array[q]+=
.03*Math.pow(c-h,.5),engine3D.terrain.displacement.needsUpdate=!0)},valley:function(c,e){var b,h,q;for(b=0;b<e.length;b++)h=e[b],0>h.x||0>h.y||h.x>=plots_x*plot_vertices+1||h.y>=plots_y*plot_vertices+1||(q=verticeIndex(h),h=Math.sqrt(Math.pow(terrain3DMouse.vertex.x-h.x,2)+Math.pow(terrain3DMouse.vertex.y-h.y,2)),engine3D.terrain.displacement.array[q]-=.03*Math.pow(c-h,.5),engine3D.terrain.displacement.needsUpdate=!0)}}};function Degrees2Radians(c){return Math.PI/180*c}
function scene3DLandscapeGetHeightData(c,b){void 0===b&&(b=1);var e=document.createElement("canvas");e.width=c.width;e.height=c.height;var g=e.getContext("2d"),h=c.width*c.height,e=new Float32Array(h);g.drawImage(c,0,0);for(var q=0;q<h;q++)e[q]=0;g=g.getImageData(0,0,c.width,c.height).data;for(q=h=0;q<g.length;q+=4){var m=g[q]+g[q+1]+g[q+2];e[h++]=m/(12*b)}return e}
engine3D.initTerrainGround=function(){if(void 0===engine3D.terrainMaterial){var c=$.ajax({url:"shaders/ground.vertex.fx",dataType:"text",async:!1}).responseText,b=$.ajax({url:"shaders/ground.fragment.fx",dataType:"text",async:!1}).responseText;engine3D.terrainMaterial=new THREE.ShaderMaterial({uniforms:{texture_grass:{type:"t",value:engine3D.textureLoader.load("objects/Landscape/Textures/G36096.jpg")},texture_bare:{type:"t",value:engine3D.textureLoader.load("objects/Landscape/Textures/F46734.jpg")},
texture_snow:{type:"t",value:engine3D.textureLoader.load("objects/Landscape/Textures/F46734.jpg")},show_ring:{type:"i",value:!0},ring_width:{type:"f",value:.15},ring_color:{type:"v4",value:new THREE.Vector4(1,0,0,1)},ring_center:{type:"v3",value:new THREE.Vector3},ring_radius:{type:"f",value:1.6}},vertexShader:c,fragmentShader:b});c=new THREE.PlaneBufferGeometry(plots_x,plots_y,plots_x*plot_vertices,plots_y*plot_vertices);b=new THREE.Float32BufferAttribute(1*c.attributes.position.count,1);c.addAttribute("displacement",
b);engine3D.terrain=new THREE.Mesh(c,engine3D.terrainMaterial);engine3D.terrain.displacement=c.attributes.displacement;engine3D.terrain.displacement.dynamic=!0;engine3D.terrain.rotation.x=-Math.PI/2;var b=$.ajax({url:"shaders/water.vertex.fx",dataType:"text",async:!1}).responseText,e=$.ajax({url:"shaders/water.fragment.fx",dataType:"text",async:!1}).responseText;engine3D.terrain.water=new THREE.Mesh(c,new THREE.ShaderMaterial({uniforms:{water_level:{type:"f",value:-1},time:{type:"f",value:0}},vertexShader:b,
fragmentShader:e,transparent:!0}));engine3D.terrain.water.displacement=c.attributes.displacement;engine3D.terrain.water.displacement.dynamic=!0;engine3D.terrain.water.position.z=-1;engine3D.terrain.add(engine3D.terrain.water)}};function getRandomInt(c,b){return Math.floor(Math.random()*(b-c+1))+c}engine3D.initTerrainWater=function(){};engine3D=window.engine3D||{};
engine3D.makeWalls=function(){for(var c=Math.PI/180,b=0;b<scene2DWallGroup.length;b++)if(engine3D.walls[b]=new THREE.Object3D,void 0!==scene2DWallGroup[b].children[0]){console.log("3D Wall Generate ["+b+" of "+scene2DWallGroup.length+"] "+scene2DWallGroup[b].children.length);for(var e=0;e<scene2DWallGroup[b].children.length;e++){var g=scene2DWallGroup[b].children[e].children[0].children[0],h=g.segments[0].point.x/100*2-1,q=2*-(g.segments[0].point.y/100)+1,m=(g.segments[0].point.x+g.segments[1].point.x)/
2/100*2-1,r=-((g.segments[0].point.y+g.segments[1].point.y)/2)/100*2+1,k=g.segments[1].point.x/100*2-1,g=2*-(g.segments[1].point.y/100)+1,h=Math.round(h-13),q=Math.round(q+7),m=Math.round(m-13),r=Math.round(r+7),k=Math.round(k-13),g=Math.round(g+7);console.log("x1:"+h+" y1:"+q+" x2:"+k+" y2:"+g+" cx:"+m+" cy:"+r);var n=new THREE.Shape;n.moveTo(h,q);n.quadraticCurveTo(m,r,k,g);n.moveTo(k,g);n.quadraticCurveTo(m,r,h,q);h=new THREE.ExtrudeGeometry(n,{amount:4,bevelEnabled:!1});h.computeBoundingBox();
q=new THREE.MeshLambertMaterial({map:scene3DWallInteriorTextureDefault,transparent:!0,opacity:.6});h=new THREE.Mesh(h,q);h.rotation.x=-(90*c);h.position.y=0;engine3D.walls[b].add(h)}}};
engine3D.generateLevelWalls=function(){scene3DLevelWallContainer=new THREE.Object3D;var c=new THREE.BoxGeometry(15,4,13),b=new THREE.MeshBasicMaterial({color:14737632}),c=new THREE.Mesh(c,b);c.position.y=2;scene3DLevelWallContainer.add(c);c=new THREE.BoxGeometry(10,4,9);b=new THREE.MeshBasicMaterial({color:11579568});c=new THREE.Mesh(c,b);c.position.x=2.5;c.position.z=-2;c.position.y=6;scene3DLevelWallContainer.add(c);engine3D.scene.add(scene3DLevelWallContainer)};
function scene3DFloorObjectWallMeasurementAjust(){};var engine3D=window.engine3D||{},weatherSkyGeometry,weatherSkyMaterial,weatherSkyCloudsMesh,weatherSkyRainbowMesh;
engine3D.initSunlight=function(){if(json.weather.sunlight){new THREE.Vector3(0,10,-10);new THREE.MeshDepthMaterial;new THREE.Vector3;sunlight.scene=new THREE.Scene;sunlight.camera=new THREE.OrthographicCamera(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,-1E4,1E4);sunlight.camera.position.z=50;sunlight.scene.add(sunlight.camera);var c={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat};sunlight.rtTextureColors=new THREE.WebGLRenderTarget(window.innerWidth,
window.innerHeight,c);sunlight.rtTextureDepth=new THREE.WebGLRenderTarget(window.innerWidth,window.innerHeight,c);var b=window.innerWidth/4,e=window.innerHeight/4;sunlight.rtTextureGodRays1=new THREE.WebGLRenderTarget(b,e,c);sunlight.rtTextureGodRays2=new THREE.WebGLRenderTarget(b,e,c);c=THREE.ShaderGodRays.godrays_generate;sunlight.godrayGenUniforms=Object.assign({},c.uniforms);sunlight.materialGodraysGenerate=new THREE.ShaderMaterial({uniforms:sunlight.godrayGenUniforms,vertexShader:c.vertexShader,
fragmentShader:c.fragmentShader});c=THREE.ShaderGodRays.godrays_combine;sunlight.godrayCombineUniforms=Object.assign({},c.uniforms);sunlight.materialGodraysCombine=new THREE.ShaderMaterial({uniforms:sunlight.godrayCombineUniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader});c=THREE.ShaderGodRays.godrays_fake_sun;sunlight.godraysFakeSunUniforms=Object.assign({},c.uniforms);sunlight.materialGodraysFakeSun=new THREE.ShaderMaterial({uniforms:sunlight.godraysFakeSunUniforms,vertexShader:c.vertexShader,
fragmentShader:c.fragmentShader});sunlight.godraysFakeSunUniforms.bgColor.value.setHex(1297);sunlight.godraysFakeSunUniforms.sunColor.value.setHex(16772608);sunlight.godrayCombineUniforms.fGodRayIntensity.value=.4;sunlight.quad=new THREE.Mesh(new THREE.PlaneBufferGeometry(window.innerWidth,window.innerHeight),sunlight.materialGodraysGenerate);sunlight.quad.position.z=-9900;sunlight.scene.add(sunlight.quad)}};
engine3D.selectWeather=function(){"sunny"===json.weather.atmosphere?json.weather.atmosphere="snowy":"snowy"===json.weather.atmosphere?json.weather.atmosphere="rainy":"rainy"===json.weather.atmosphere&&(json.weather.atmosphere="sunny");engine3D.setWeather()};
engine3D.setWeather=function(){engine3D.initWeatherClouds();engine3D.scene.remove(weatherSkyCloudsMesh);engine3D.scene.remove(weatherSkyRainbowMesh);if(json.weather.day){if(json.weather.clouds&&(texture=engine3D.textureLoader.load("images/cloud.png"),weatherSkyMaterial.uniforms.map.value=texture,weatherSkyCloudsMesh=new THREE.Mesh(weatherSkyGeometry,weatherSkyMaterial),engine3D.scene.add(weatherSkyCloudsMesh)),json.weather.rainbow){texture=engine3D.textureLoader.load("images/rainbow.png");var c=weatherSkyMaterial.clone();
c.uniforms=THREE.UniformsUtils.clone(weatherSkyMaterial.uniforms);c.uniforms.map.value=texture;geometry=new THREE.Geometry;var b=new THREE.Mesh(new THREE.PlaneGeometry(18,18));b.position.x=getRandomInt(1,15);b.position.y=getRandomInt(5,8);b.position.z=-2;b.updateMatrix();geometry.merge(b.geometry,b.matrix);weatherSkyRainbowMesh=new THREE.Mesh(geometry,c);engine3D.scene.add(weatherSkyRainbowMesh)}}else json.weather.clouds&&(texture=engine3D.textureLoader.load("images/cloud2.png"),texture.magFilter=
THREE.LinearFilter,texture.minFilter=THREE.LinearFilter,weatherSkyMaterial.uniforms.map.value=texture,weatherSkyCloudsMesh=new THREE.Mesh(weatherSkyGeometry,weatherSkyMaterial),engine3D.scene.add(weatherSkyCloudsMesh))};
engine3D.initWeatherClouds=function(){if(void 0===weatherSkyMaterial){weatherSkyCloudsMesh=new THREE.Mesh;weatherSkyRainbowMesh=new THREE.Mesh;var c=$.ajax({url:"shaders/clouds.vertex.fx",async:!1}).responseText,b=$.ajax({url:"shaders/clouds.fragment.fx",async:!1}).responseText,e=new THREE.Fog(4555956,-100,1E3);weatherSkyMaterial=new THREE.ShaderMaterial({uniforms:{map:{type:"t"},fogColor:{type:"c",value:e.color},fogNear:{type:"f",value:e.near},fogFar:{type:"f",value:e.far}},vertexShader:c,fragmentShader:b,
depthWrite:!1,depthTest:!1,transparent:!0});weatherSkyGeometry=new THREE.Geometry;c=new THREE.Mesh(new THREE.PlaneGeometry(4,4));for(b=0;20>b;b++)c.position.x=getRandomInt(-20,20),c.position.y=getRandomInt(5.5,10),c.position.z=b,c.rotation.z=getRandomInt(5,10),c.scale.x=c.scale.y=getRandomInt(.5,1),c.updateMatrix(),weatherSkyGeometry.merge(c.geometry,c.matrix)}};
engine3D.setDay=function(c){void 0!==c&&(json.weather.day=c);c="2056";!0===json.weather.day?c=json.settings.panorama_day:!1===json.weather.day&&(c=json.settings.panorama_night);engine3D.skyHouse.name!=c&&(engine3D.buildPanorama(engine3D.skyHouse,c,75,75,75,"",null),engine3D.skyHouse.position.y=5,engine3D.skyHouse.name=c)};engine3D.setSkyEffects=function(){};var engineGUI=window.engineGUI||{};
engineGUI.initialize=function(){window.location.href="#list";$("#menuTop").hide();$("#menuAgent").hide();$("#menuBottomHouse").hide();$("#menuBottomFloor").hide();$("#menuBottomPlan").hide();$("#WebGLInteractiveMenu").hide();$("#WebGLSelectMenu").hide();$("#menuLeft3DHouse").hide();$("#menuLeft3DLandscape").hide();$("#menuLeft3DFloor").hide();$("#menuLeft2D").hide();$("#menuFloorSelector").hide();engineGUI.spinner=$("<div>",{"class":"cssload-container",style:"position:absolute;top:32%;left:40%;"}).append($("<ul>",{"class":"cssload-flex-container"}).append($("<li>").append($("<span>",
{"class":"cssload-loading"}))));engineGUI.initList()};
engineGUI.initHousePlanner=function(c){engine3D.id=c;$.ajax("scenes/"+c+".json",{contentType:"application/json",dataType:"json",success:function(c){json=c},error:function(c,e,g){engineGUI.spinner.remove();alertify.alert("Cannot load scene json file: "+c.responseText).show()}});$("#menu2DTools").tooltipster({theme:"tooltipster-light",trigger:"custom",touchDevices:!0,interactive:!0,contentAsHTML:!0,content:""});$("#WebGLSelectMenu").tooltipster({theme:"tooltipster-light",trigger:"custom",touchDevices:!0,
delay:0,interactive:!0,position:"top",contentAsHTML:!0,content:""});$(".tooltip-right").tooltipster({animation:"fade",delay:200,theme:"tooltipster-default",touchDevices:!1,trigger:"hover",position:"right"});$(".tooltip-top").tooltipster({animation:"fade",delay:200,theme:"tooltipster-default",touchDevices:!1,trigger:"hover",position:"top",contentAsHTML:!0});$(".cssmenu ul ul li:odd").addClass("odd");$(".cssmenu ul ul li:even").addClass("even");$(".cssmenu > ul > li > a").click(function(c){engineGUI.menuItemClick(this)});
$("#menuTop p").click(function(){$(this).hide().after('<input type="text" class="editP" value="'+$(this).html()+'" size="10" />');$(".editP").focus()});$(".editP").bind("blur",function(){$(this).hide().prev("#menuTop p").html($(this).val()).show()});stroll.bind(".cssmenu ul");engine3D.initialize()};
engineGUI.initMenuTop=function(){var c=$(".menuTop").empty(),b=$("<div>",{"class":"hi-icon-wrap hi-icon-effect-1 hi-icon-effect-1a"});json.settings.house&&(b.append($("<a>",{href:"#",onclick:"engine3D.showHouse()","class":"hi-icon icon-house tooltip",title:"Home Exterior"})),b.append($("<a>",{href:"#",onclick:"engine3D.showFloorLevel()","class":"hi-icon icon-floors tooltip",title:"Floor Arrangements"})));json.settings.terrain&&b.append($("<a>",{href:"#",onclick:"engine3D.showLandscape()","class":"hi-icon icon-terrain tooltip",
title:"Landscape Editor"}));json.settings.roof&&b.append($("<a>",{href:"#",onclick:"engine3D.showRoofDesign()","class":"hi-icon icon-roof tooltip",title:"Roof Design"}));json.settings.floor&&b.append($("<a>",{href:"#",onclick:"engine3D.showFloor(1)","class":"hi-icon icon-armchair tooltip",title:"Floor Furnishings"}));b.append($("<a>",{href:"#",onclick:"engine2D.show()","class":"hi-icon icon-draftplan tooltip",title:"Floor Plans"}));b.append($("<div>",{style:"display:inline-block;width:1px;height:28px;background:black;"}));
b.append($("<a>",{href:"#",onclick:"sceneNew()","class":"hi-icon icon-new tooltip",title:"New"}));b.append($("<a>",{href:"#",onclick:"fileSelect('opendesign')","class":"hi-icon icon-open tooltip",title:"Open"}));b.append($("<a>",{href:"#",onclick:"engineGUI.save()","class":"hi-icon icon-save tooltip",title:"Save"}));b.append($("<div>",{style:"display: inline-block;width:1px;height:28px;background:black;"}));b.append($("<a>",{href:"#",onclick:"engineGUI.makeScreenshot()","class":"hi-icon icon-screenshot tooltip",
title:"Screenshot"}));b.append($("<a>",{href:"#",onclick:"screenfull.request(document.documentElement)","class":"hi-icon icon-expand tooltip",title:"Full Screen"}));b.append($("<a>",{href:"#","class":"hi-icon icon-settings tooltip",title:"Settings"}));c.append(b)};engineGUI.initTooltipster=function(c,b){$(".tooltip").tooltipster({animation:"fade",delay:200,theme:"tooltipster-default",touchDevices:!1,trigger:"hover",position:"bottom",contentAsHTML:!0})};
engineGUI.initPanoramaPreview=function(c,b){var e=$(c);$.each(b,function(){if(void 0!==this.panorama)return e.append($("<div>",{"class":"links-left",style:"width:180px;height:100px;"}).append($("<a>",{href:"#panorama",onclick:"engine3D.initPanorama('#WebGLPanorama','"+this.panorama+"',0.78,0.85)"}).append($("<img>",{"class":"tooltip",title:this.note,src:this.panorama+"/front.jpg",style:"width:100%;height:80px;"})))),!0});"#panoramaFloor"===c&&e.append($("<div>",{"class":"links-left",style:"width:180px;height:100px;"}).append($("<a>",
{href:"#panoramaBuild",onclick:""}).append($("<img>",{"class":"tooltip",title:"Add Panorama",src:"images/placeholder.jpg",style:"width:100%;height:80px;"}))));engineGUI.initTooltipster()};
engineGUI.initMenuFloorList=function(){for(var c=$("#menuFloorList"),b=$("<div>",{"class":"cssmenu links-left",style:"width:180px;margin-top:20px"}),e=$("<span>",{"class":"icon-add",style:"font-size:18px;padding-right:5px"}),g=$("<span>").append("Add New Floor"),h=$("<ul>").append($("<li>",{"class":"active"}).append($("<a>",{href:"#openAddNewFloor"}).append(e).append(g))),q=0;q<json.plan.length;q++)$.each(json.plan[q],function(){if(void 0!==this.name){var c=$("<li>",{"class":"has-sub"}),b=$("<a>",
{href:"#"}).append($("<span>").append(this.name));c.append(b);var e=$("<ul>");e.append($("<li>").append($("<a>",{href:"#",onclick:"camera3DFloorFlyIn("+q+")"}).append($("<span>").append("Living Room"))));e.append($("<li>").append($("<a>",{href:"#",onclick:"camera3DFloorFlyIn("+q+")"}).append($("<span>").append("Kitchen"))));e.append($("<li>",{"class":"last"}).append($("<a>",{href:"#",onclick:"camera3DFloorFlyIn("+q+")"}).append($("<span>").append("Bedroom"))));c.append(e);b.click(function(c){engineGUI.menuItemClick(this)});
h.append(c)}});c.append(b.append(h))};
engineGUI.initList=function(){$.ajax("scenes/index.json",{contentType:"application/json",dataType:"json",success:function(c){jsonindex=c;var b=$("#menuIndexList").empty();$.each(jsonindex.menu,function(){var c=$("<div>",{width:"300px",style:"padding:20px;display:inline-block;text-align:center;"}),g=$("<img>",{width:"300px",height:"150px","class":"lazy indexImage",id:this.name,"data-original":"scenes/"+this.id+"/index.jpg"}),g=$("<a>",{href:"javascript:engineGUI.initParallaxSlider('"+this.id+"')"}).append(g),
h=$("<p>").append(this.name),c=c.append(g).append(h);b.append(c)});new LazyLoad}})};
engineGUI.initMenu=function(c,b){b="database"===json.settings.mode?"php/objects.php?menu="+b.split("/").shift():"objects/"+b;$.ajax(b,{dataType:"json",success:function(b){var e=$("#"+c+" .scroll");e.empty();$.each(b.menu,function(){e.append(engineGUI.menuGetItem(this))});$("#"+c+" .cssmenu > ul > li > a").click(function(c){engineGUI.menuItemClick(this)})},error:function(c,g,h){alertify.alert("Menu ("+b+") Loading Error").show()}});engineGUI.menuCorrectHeight();$("#"+c).show()};
engineGUI.menuSelect=function(c,b,e){if(null===c)for(c=0;6>=c;c++)$("#"+b+c).css("color","black");else engineGUI.menuSelect(null,b,e),$("#"+b+c).css("color",e)};
engineGUI.showRightObjectMenu=function(c){c="database"===json.settings.mode?"php/objects.php?objects="+c:"objects/"+c+"/index.json";var b=$("#menuRightObjects .scroll");$("#menuRight3DHouse").hide();$("#menuRight3DFloor").hide();$("#menuRight3DRoof").hide();$("#menuRight2D").hide();$("#menuRightObjects").show();$.ajax(c,{dataType:"json",success:function(c){b.empty();try{$.each(c.menu,function(){0<Object.keys(c.menu).length?getMenuObjectItem(b,this):b.append("<li><span style='margin-let:auto;text-align:center;padding:20px'>No Objects In This Category</span></li>")})}catch(g){b.append("<li><span style='margin-let:auto;text-align:center;padding:20px'>No Objects In This Category</span></li>")}}})};
engineGUI.showRightCatalogMenu=function(){"house"===engineGUI.scene?$("#menuRight3DHouse").show():"floor"===engineGUI.scene&&$("#menuRight3DFloor").show();$("#menuRightObjects").hide();$("#menuRightObjects .scroll").empty()};engineGUI.toggleSideMenus=function(c){engineGUI.menuToggleRight("menuRight",c);"house"==engineGUI.scene?engineGUI.menuToggleLeft("menuLeft3DHouse",c):"floor"==engineGUI.scene&&engineGUI.menuToggleLeft("menuLeft3DFloor",c)};
engineGUI.menuToggleRight=function(c,b){var e=document.getElementById(c),g=document.getElementById("arrow-right");e.getAttribute("class");0<=g.src.indexOf("images/arrowleft.png")||b?(e.style.display="block",e.setAttribute("class","show-right"),engineGUI.menuDelay(g,"images/arrowright.png",400)):b||(e.setAttribute("class","hide-right"),engineGUI.menuDelay(g,"images/arrowleft.png",400))};
engineGUI.menuToggleLeft=function(c,b){var e=document.getElementById(c),g=document.getElementById("arrow-left");e.getAttribute("class");0<=g.src.indexOf("images/arrowright.png")||b?(e.style.display="block",e.setAttribute("class",c+"-show-left"),engineGUI.menuDelay(g,"images/arrowleft.png",400)):b||(e.setAttribute("class","hide-left"),engineGUI.menuDelay(g,"images/arrowright.png",400))};engineGUI.menuDelay=function(c,b,e){window.setTimeout(function(){c.setAttribute("src",b)},e)};
engineGUI.menuItemClick=function(c){$(".cssmenu > ul > li").removeClass("active");$(c).closest("li").addClass("active");var b=$(c).next();b.is("ul")&&b.is(":visible")&&($(c).closest("li").removeClass("active"),b.slideUp("normal"));b.is("ul")&&!b.is(":visible")&&($(".cssmenu ul ul:visible").slideUp("normal"),b.slideDown("normal"));return 0==$(c).closest("li").find("ul").children().length?!0:!1};
engineGUI.menuGetItem=function(c,b){var e="<li";c.sub?e+=" class='has-sub'":b&&(e+=" class='last-child'");var g="<a",g=null!=c.link?g+(" href=\"javascript:engineGUI.showRightObjectMenu('"+c.link+"');\""):g+' href="#"',g=g+(">"+c.name+"</a>"),e=$(e+">").append(g);if(c.sub){var h=$("<ul>");$.each(c.sub,function(b){b==c.sub.length-1?h.append(engineGUI.menuGetItem(this,!0)):h.append(engineGUI.menuGetItem(this,!1))});e.append(h)}return e};
engineGUI.initParallaxSlider=function(c){getCookie("firstTimer")?(createCookie("firstTimer","1",15),window.location.href="#start"):window.location.href="#scene";engineGUI.initHousePlanner(c);var b=$(".pxs_slider").empty(),e=$(".pxs_thumbnails").empty(),g;json.settings.house&&(g=$("<img>",{src:"scenes/"+c+"/1.jpg"}),g=$("<li>").append($("<a>",{href:"javascript:engineGUI.open(1)"}).append(g)),b.append(g),g=$("<img>",{src:"scenes/"+c+"/1.jpg",width:146,height:80}),g=$("<li>").append(g),e.append(g));
if(json.settings.floor)for(var h=2;3>=h;h++)g=$("<img>",{src:"scenes/"+c+"/"+h+".jpg"}),g=$("<li>").append($("<a>",{href:"javascript:engineGUI.open("+h+")"}).append(g)),b.append(g),g=$("<img>",{src:"scenes/"+c+"/"+h+".jpg",width:146,height:80}),g=$("<li>").append(g),e.append(g);$("#pxs_container").parallaxSlider();$(".pxs_bg1").css("background-image","images/bg1.jpg");engineGUI.initMenuTop()};
function getMenuObjectItem(c,b){var e=$("<img>",{id:b.name,src:"images/loader.gif","data-src":b.image,"data-src-retina":b.image.slice(0,-4)+"@2x."+b.image.split(".").pop(),style:"opacity: 0;transition: opacity .3s ease-in;height:100%"}),g=$("<a>",{href:"javascript:engine3D.insert3DModel('"+b.file+"')"}).append(e),g=$("<li style='border:1px solid #aaa;text-align:center'>").append($("<div style='background-color:#fff;height:120px'>").append(g).append("<span class='objectItemInfo' style='height:40px'>"));
c.append(g);$(e).unveil(200,function(){$(this).load(function(){this.style.opacity=1})})}
engineGUI.menuCorrectHeight=function(){var c=window.innerHeight-250,b;if("house"==engineGUI.scene)$("#menuRight3DHouse .cssmenu").height(),b=$("#menuRight2D .cssmenu");else if("floor"==engineGUI.scene)$("#menuRight3DFloor .cssmenu").height(),b=$("#menuRight2D .cssmenu");else if("roof"==engineGUI.scene)$("#menuRight3DRoof .cssmenu").height(),b=$("#menuRight2D .cssmenu");else if("2d"==engineGUI.scene)$("#menuRight2D .cssmenu").height(),b=$("#menuRight2D .cssmenu");else return;$("#menuRightObjects .scroll").css("height",
c);b.height()<c?b.css("height","100%"):b.css("height",c)};engineGUI.selectFloor=function(c){c=engineGUI.floor+c;c<engineGUI.floor?"floor"==engineGUI.scene?engine3D.showFloor(c):"2d"==engineGUI.scene&&engine2D.showFloor(c):alertify.confirm("Add New Floor?",function(c){c&&("floor"==engineGUI.scene?engine3D.addFloor("New Floor"):"2d"==engineGUI.scene&&engine2D.addFloor("New Floor"))})};function selectMeasurement(){engine3D.measurements=1.8311874==engine3D.measurements?1:1.8311874}
engineGUI.sceneMapBox=function(){void 0===("undefined"==typeof L?"undefined":_typeof(L))&&(engine3D.animateStop(),$.getScript("js/dynamic/mapbox.js").done(function(c,b){L.mapbox.accessToken="pk.eyJ1IjoibWFwYm94IiwiYSI6IlhHVkZmaW8ifQ.hAMX5hSW-QnTeRCMAy9A8Q";L.mapbox.map("map1","mapbox.streets").setView([48.43102300370144,-123.3489990234375],14);console.log("mapbox.js loaded");window.location="#map"}).fail(function(c,b,e){alertify.alert("Failed to load mapbox.js").show()}))};
engineGUI.makeScreenshot=function(){window.open(engine3D.renderer.domElement.toDataURL("image/png"),"Final")};engineGUI.addNewFloor=function(){if($("#addNewFloor").val()){engine3D.newFloor($("#addNewFloor").val());var c="<a href='#' onclick='camera3DFloorFlyIn("+scene3DFloorFurnitureContainer.length+")'><span>"+$("#addNewFloor").val()+"</span></a>",c=$("<li>").append(c);$("#menuLeft3DHouseFloorList").append(c)}};
engineGUI.generateItemList=function(){$("#generateItemList").empty();for(var c=0;c<scene3DFloorFurnitureContainer.length;c++){console.log(scene3DFloorFurnitureContainer[c].name);for(var b=0;b<scene3DFloorFurnitureContainer[c].children.length;b++)console.log(scene3DFloorFurnitureContainer[c].children[b].children[0].name)}for(c=0;c<engine3D.house.children.length;c++)console.log(engine3D.house.children[c].children[0].name)};
engineGUI.exportPDF=function(){"2d"===engineGUI.scene&&void 0===("undefined"===typeof jsPDF?"undefined":_typeof(jsPDF))&&$.getScript("js/dynamic/jspdf.js",function(c,b,e){c=new jsPDF("l","in",[8.5,11]);c.setFontSize(40);c.text(4.5,1,scene3DFloorFurnitureContainer[engineGUI.floor].name);b=scene2D.toDataURL("image/jpeg");c.addImage(b,"JPEG",0,1.5,11,7);c.output("dataurl")})};
function scene3DSplitViewTop(){var c=window.innerWidth/1.4,b=.2*window.innerHeight;$("#left-component-1").css({width:c});$("#right-component-1").css({left:c});$("#vertical-divider-1").css({left:c});$("#bottom-component").css({height:b});$("#top-component").css({bottom:b});$("#horizontal-divider").css({bottom:b});engine3D.initRendererQuadSize()}
function scene3DSplitViewFront(){var c=.3*window.innerWidth,b=.2*window.innerHeight;$("#left-component-1").css({width:c});$("#right-component-1").css({left:c});$("#vertical-divider-1").css({left:c});$("#bottom-component").css({height:b});$("#top-component").css({bottom:b});$("#horizontal-divider").css({bottom:b});engine3D.initRendererQuadSize()}
function scene3DSplitViewSide(){var c=.15*window.innerWidth,b=window.innerHeight/1.4;$("#left-component-1").css({width:c});$("#right-component-1").css({left:c});$("#vertical-divider-1").css({left:c});$("#bottom-component").css({height:b});$("#top-component").css({bottom:b});$("#horizontal-divider").css({bottom:b});engine3D.initRendererQuadSize()}function scene3DSplitView3D(){}
function handleFile3DObjectSelect(c){switch(c.target.files[0].type){case "application/zip":case "application/octet-stream":var b={beforeSubmit:ajaxBeforeSubmit,resetForm:!0};$("#uploadForm").submit(function(){$(this).ajaxSubmit(b);return!1});break;case "application/x-javascript":fileReader=new FileReader;fileReader.onerror=errorHandler;fileReader.onloadstart=function(c){};fileReader.onload=function(b){console.log("Load File: "+$("#fileInput").value+":"+c.target.files[0].name);engine3D.open(b.target.result);
engine2D.open(b.target.result)};fileReader.readAsText(file);break;default:return alert("file type should be .js, .json or .zip"),!1}}function handleFile2DImageSelect(c){c.target.files[0].type.match("image.*")?(fileReader=new FileReader,fileReader.onerror=errorHandler,fileReader.onload=function(c){engine2D.loadDraftPlan(c.target.result)},fileReader.readAsDataURL(c.target.files[0]),$("#fileInput").unbind("change",handleFile2DImageSelect)):alert("Currently only photos are supported")}
function handleFile2DAutoCADConvert(c){fileReader=new FileReader;fileReader.onerror=errorHandler;fileReader.onload=function(c){c=new DXFParser(c.target.result);console.log(c)};fileReader.readAsText(c.target.files[0]);$("#fileInput").unbind("change",handleFile2DAutoCADConvert)}
function toggleTextureSelect(){if($("#WebGLTextureSelect").is(":visible"))$("#WebGLTextureSelect").hide(),$("#WebGLColorWheelSelect").hide();else{$("#WebGLTextureSelect").empty();if(null!==SelectedWall){var c=$("<div>",{"class":"scroll","data-ui":"jscroll-default",style:"width:100%;height:80px"}),b=$("<div>",{"class":"objectItem",style:"width:100px;height:64px"}),e=$("<a>",{href:"#"}).append($("<img>",{id:"test",src:"objects/Wall/Textures/W2367.jpg"}));b.append(e);e=$("<a>",{href:"#"}).append($("<img>",
{id:"test",src:"objects/Wall/Textures/W3465.jpg"}));b.append(e);$("#WebGLTextureSelect").append(c.append(b))}$("#WebGLTextureSelect").show();null!==SelectedWall&&$("#WebGLColorWheelSelect").show()}}
function ajaxBeforeSubmit(){var c=$("#fileInput")[0].files[0].size,b=$("#fileInput")[0].files[0].type;switch(b){case "application/zip":case "application/octet-stream":break;default:return alert(b+" is unsupported file type!"),!1}if(10485760<c)return alert("<b>"+c+"</b> Too big file! <br />File is too big, it should be less than 5 MB."),!1}
function fileSelect(c){window.File&&window.FileReader&&window.FileList&&window.Blob?($("#fileInput").click(),"2ddraftplan"==c?$("#fileInput").bind("change",handleFile2DImageSelect):"2dautocad"==c?$("#fileInput").bind("change",handleFile2DAutoCADConvert):"3dobject"==c&&$("#fileInput").bind("change",handleFile3DObjectSelect)):alert("The File APIs are not fully supported in this browser.")}
function errorHandler(c){switch(c.target.error.code){case c.target.error.NOT_FOUND_ERR:alert("File Not Found!");break;case c.target.error.NOT_READABLE_ERR:alert("File is not readable");break;case c.target.error.ABORT_ERR:break;default:alert("An error occurred reading this file.")}}function getCookie(c){c=("; "+document.cookie).split("; "+c+"=");if(2==c.length)return c.pop().split(";").shift()}
function createCookie(c,b,e){if(e){var g=new Date;g.setTime(g.getTime()+864E5*e);e="; expires="+g.toGMTString()}else e="";document.cookie=c+"="+b+e+"; path=/"};/*
 alertify - v0.5.0 - Fabien Doiron */
window.onload=function(){!function(c){function b(c){c&&(c.preventDefault?c.preventDefault():c.returnValue=!1)}function e(c){this.message=c;this.type="alert"}function g(c){this.message=c;this.type="confirm"}function h(c,b){this.message=c;this.value=b;this.type="prompt"}function q(){return{settings:n.settings,alert:function(c){return new e(c)},confirm:function(c){return new g(c)},prompt:function(c,b){return new h(c,b)}}}var m=function(){return document.addEventListener?function(c,b,e){c.addEventListener(b,
e,!1)}:document.attachEvent?function(c,b,e){c.attachEvent("on"+b,e)}:void 0}(),r=function(){return document.removeEventListener?function(c,b,e){c.removeEventListener(b,e,!1)}:document.detachEvent?function(c,b,e){c.detachEvent("on"+b,e)}:void 0}(),k=function(){var c,b,e=!1,k=document.createElement("fakeelement"),h={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(c in h)if(void 0!==k.style[c]){b=h[c];e=!0;break}return{type:b,
supported:e}}(),n=function(){function c(f){b(f);clearTimeout(G);e();"function"==typeof B.onfocus&&B.onfocus();r(B.el,k.type,c)}function e(c){if(m(document.body,"keyup",v),"prompt"===B.type)H.focus(),H.select();else if(c)"alert"===B.type?C.focus():D.children[0].focus();else switch(B.settings.focus){case "ok":C.focus();break;case "cancel":I.focus();break;default:C.focus()}}function h(c){b(c);e(!0)}function g(c){b(c);B.close();"function"==typeof B.ok&&B.ok(H.value)}function q(c){b(c);B.close();"function"==
typeof B.cancel&&B.cancel()}function v(c){var b=c.keyCode;b===z.ENTER&&g(c);b===z.ESC&&/prompt|confirm/.test(B.type)&&q(c)}var B,G,C=document.getElementById("alertifyButtonOk"),I=document.getElementById("alertifyButtonCancel"),K=document.getElementById("alertifyFocusReset"),H=document.getElementById("alertifyInput"),Q=document.getElementById("alertifyTitle"),M=document.getElementById("alertifyCover"),D=document.getElementById("alertifyButtons"),A=!1,z={ENTER:13,ESC:27};return document.body.setAttribute("tabindex",
"0"),{el:document.getElementById("alertifyDialog"),activeElement:document.body,settings:{ok:"OK",cancel:"Cancel",focus:"ok"},isOpen:function(){return A},show:function(){var b;A?b=!1:(A=!0,B=this,Q.innerHTML=B.message,C.innerHTML=B.settings.ok,I.innerHTML=B.settings.cancel,H.value=B.value||"",b=(n.activeElement=document.activeElement,m(C,"click",g),m(I,"click",q),m(K,"focus",h),k.supported&&(m(this.el,k.type,c),clearTimeout(G),G=setTimeout(c,1E3)),M.className="alertify-cover",this.el.className="alertify alertify--"+
this.type,k.supported||e(),"function"==typeof this.onshow&&this.onshow(),!0));return b},close:function(){r(C,"click",g);r(I,"click",q);r(document.body,"keyup",v);r(K,"focus",h);M.className="alertify-cover alertify-hidden";this.el.className+=" alertify-close";n.activeElement.focus();A=!1;"function"==typeof this.onclose&&this.onclose()}}}();e.prototype=n;g.prototype=n;h.prototype=n;"function"==typeof define?define([],function(){return new q}):c.alertify||(c.alertify=new q)}(this)};$(function(){var c=!0,b=document.getElementById("picker"),e=b.getContext("2d"),g=new Image;g.onload=function(){e.drawImage(g,0,0,g.width,g.height)};var h="images/colorwheel1.png";switch($(b).attr("var")){case "2":h="images/colorwheel2.png";break;case "3":h="images/colorwheel3.png";break;case "4":h="images/colorwheel4.png";break;case "5":h="images/colorwheel5.png"}g.src=h;$("#picker").mousemove(function(h){if(c){var g=$(b).offset();h=e.getImageData(Math.floor(h.pageX-g.left),Math.floor(h.pageY-g.top),
1,1).data;g="rgb("+h[0]+", "+h[1]+", "+h[2]+")";$(".preview").css("backgroundColor",g);$("#rVal").val(h[0]);$("#gVal").val(h[1]);$("#bVal").val(h[2]);$("#rgbVal").val(h[0]+","+h[1]+","+h[2]);h=h[2]+256*h[1]+65536*h[0];$("#hexVal").val("#"+("0000"+h.toString(16)).substr(-6))}});$("#picker").click(function(b){c=!c});$(".preview").click(function(b){$(".colorpicker").fadeToggle("slow","linear");c=!0})});/*
 @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var saveAs=saveAs||function(c){if(!("undefined"===typeof c||"undefined"!==typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var b=c.document.createElementNS("http://www.w3.org/1999/xhtml","a"),e="download"in b,g=/constructor/i.test(c.HTMLElement)||c.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent),q=function(b){(c.setImmediate||c.setTimeout)(function(){throw b;},0)},m=function(b){setTimeout(function(){"string"===typeof b?(c.URL||c.webkitURL||c).revokeObjectURL(b):b.remove()},4E4)},r=function(c){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?
new Blob([String.fromCharCode(65279),c],{type:c.type}):c},k=function(f,k,n){n||(f=r(f));var u=this,x="application/octet-stream"===f.type,y,B=function(){for(var c=["writestart","progress","write","writeend"],c=[].concat(c),b=c.length;b--;){var f=u["on"+c[b]];if("function"===typeof f)try{f.call(u,u)}catch(K){q(K)}}};u.readyState=u.INIT;e?(y=(c.URL||c.webkitURL||c).createObjectURL(f),setTimeout(function(){b.href=y;b.download=k;var c=new MouseEvent("click");b.dispatchEvent(c);B();m(y);u.readyState=u.DONE})):
function(){if((h||x&&g)&&c.FileReader){var b=new FileReader;b.onloadend=function(){var f=h?b.result:b.result.replace(/^data:[^;]*;/,"data:attachment/file;");c.open(f,"_blank")||(c.location.href=f);u.readyState=u.DONE;B()};b.readAsDataURL(f);u.readyState=u.INIT}else y||(y=(c.URL||c.webkitURL||c).createObjectURL(f)),x?c.location.href=y:c.open(y,"_blank")||(c.location.href=y),u.readyState=u.DONE,B(),m(y)}()},n=k.prototype;if("undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob)return function(c,
b,e){b=b||c.name||"download";e||(c=r(c));return navigator.msSaveOrOpenBlob(c,b)};n.abort=function(){};n.readyState=n.INIT=0;n.WRITING=1;n.DONE=2;n.error=n.onwritestart=n.onprogress=n.onwrite=n.onabort=n.onerror=n.onwriteend=null;return function(c,b,e){return new k(c,b||c.name||"download",e)}}}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||this.content);
"undefined"!==typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!==typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return saveAs});(function(c){c.easing.jswing=c.easing.swing;c.extend(c.easing,{def:"easeOutQuad",swing:function(b,e,g,h,q){return c.easing[c.easing.def](b,e,g,h,q)},easeInQuad:function(c,e,g,h,q){return h*(e/=q)*e+g},easeOutQuad:function(c,e,g,h,q){return-h*(e/=q)*(e-2)+g},easeInOutQuad:function(c,e,g,h,q){return 1>(e/=q/2)?h/2*e*e+g:-h/2*(--e*(e-2)-1)+g},easeInCubic:function(c,e,g,h,q){return h*(e/=q)*e*e+g},easeOutCubic:function(c,e,g,h,q){return h*((e=e/q-1)*e*e+1)+g},easeInOutCubic:function(c,e,g,h,q){return 1>
(e/=q/2)?h/2*e*e*e+g:h/2*((e-=2)*e*e+2)+g},easeInQuart:function(c,e,g,h,q){return h*(e/=q)*e*e*e+g},easeOutQuart:function(c,e,g,h,q){return-h*((e=e/q-1)*e*e*e-1)+g},easeInOutQuart:function(c,e,g,h,q){return 1>(e/=q/2)?h/2*e*e*e*e+g:-h/2*((e-=2)*e*e*e-2)+g},easeInQuint:function(c,e,g,h,q){return h*(e/=q)*e*e*e*e+g},easeOutQuint:function(c,e,g,h,q){return h*((e=e/q-1)*e*e*e*e+1)+g},easeInOutQuint:function(c,e,g,h,q){return 1>(e/=q/2)?h/2*e*e*e*e*e+g:h/2*((e-=2)*e*e*e*e+2)+g},easeInSine:function(c,e,
g,h,q){return-h*Math.cos(e/q*(Math.PI/2))+h+g},easeOutSine:function(c,e,g,h,q){return h*Math.sin(e/q*(Math.PI/2))+g},easeInOutSine:function(c,e,g,h,q){return-h/2*(Math.cos(Math.PI*e/q)-1)+g},easeInExpo:function(c,e,g,h,q){return 0==e?g:h*Math.pow(2,10*(e/q-1))+g},easeOutExpo:function(c,e,g,h,q){return e==q?g+h:h*(-Math.pow(2,-10*e/q)+1)+g},easeInOutExpo:function(c,e,g,h,q){return 0==e?g:e==q?g+h:1>(e/=q/2)?h/2*Math.pow(2,10*(e-1))+g:h/2*(-Math.pow(2,-10*--e)+2)+g},easeInCirc:function(c,e,g,h,q){return-h*
(Math.sqrt(1-(e/=q)*e)-1)+g},easeOutCirc:function(c,e,g,h,q){return h*Math.sqrt(1-(e=e/q-1)*e)+g},easeInOutCirc:function(c,e,g,h,q){return 1>(e/=q/2)?-h/2*(Math.sqrt(1-e*e)-1)+g:h/2*(Math.sqrt(1-(e-=2)*e)+1)+g},easeInElastic:function(c,e,g,h,q){c=1.70158;var b=0,r=h;if(0==e)return g;if(1==(e/=q))return g+h;b||(b=.3*q);r<Math.abs(h)?(r=h,c=b/4):c=b/(2*Math.PI)*Math.asin(h/r);return-(r*Math.pow(2,10*--e)*Math.sin(2*(e*q-c)*Math.PI/b))+g},easeOutElastic:function(c,e,g,h,q){c=1.70158;var b=0,r=h;if(0==
e)return g;if(1==(e/=q))return g+h;b||(b=.3*q);r<Math.abs(h)?(r=h,c=b/4):c=b/(2*Math.PI)*Math.asin(h/r);return r*Math.pow(2,-10*e)*Math.sin(2*(e*q-c)*Math.PI/b)+h+g},easeInOutElastic:function(c,e,g,h,q){c=1.70158;var b=0,r=h;if(0==e)return g;if(2==(e/=q/2))return g+h;b||(b=.3*q*1.5);r<Math.abs(h)?(r=h,c=b/4):c=b/(2*Math.PI)*Math.asin(h/r);return 1>e?-.5*r*Math.pow(2,10*--e)*Math.sin(2*(e*q-c)*Math.PI/b)+g:r*Math.pow(2,-10*--e)*Math.sin(2*(e*q-c)*Math.PI/b)*.5+h+g},easeInBack:function(c,e,g,h,q,m){void 0==
m&&(m=1.70158);return h*(e/=q)*e*((m+1)*e-m)+g},easeOutBack:function(c,e,g,h,q,m){void 0==m&&(m=1.70158);return h*((e=e/q-1)*e*((m+1)*e+m)+1)+g},easeInOutBack:function(c,e,g,h,q,m){void 0==m&&(m=1.70158);return 1>(e/=q/2)?h/2*e*e*(((m*=1.525)+1)*e-m)+g:h/2*((e-=2)*e*(((m*=1.525)+1)*e+m)+2)+g},easeInBounce:function(b,e,g,h,q){return h-c.easing.easeOutBounce(b,q-e,0,h,q)+g},easeOutBounce:function(c,e,g,h,q){return(e/=q)<1/2.75?7.5625*h*e*e+g:e<2/2.75?h*(7.5625*(e-=1.5/2.75)*e+.75)+g:e<2.5/2.75?h*(7.5625*
(e-=2.25/2.75)*e+.9375)+g:h*(7.5625*(e-=2.625/2.75)*e+.984375)+g},easeInOutBounce:function(b,e,g,h,q){return e<q/2?.5*c.easing.easeInBounce(b,2*e,0,h,q)+g:.5*c.easing.easeOutBounce(b,2*e-q,0,h,q)+.5*h+g}})})(jQuery);/*
 jQuery Mousewheel 3.1.13

 Copyright 2015 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
*/
!function(c){"function"==typeof define&&define.amd?define(["jquery"],c):"object"==typeof exports?module.exports=c:c(jQuery)}(function(c){function b(b){var f=b||window.event,k=r.call(arguments,1),m,q=0,v=0,B=0,G=0,C=0;if(b=c.event.fix(f),b.type="mousewheel","detail"in f&&(v=-1*f.detail),"wheelDelta"in f&&(v=f.wheelDelta),"wheelDeltaY"in f&&(v=f.wheelDeltaY),"wheelDeltaX"in f&&(q=-1*f.wheelDeltaX),"axis"in f&&f.axis===f.HORIZONTAL_AXIS&&(q=-1*v,v=0),m=0===v?q:v,"deltaY"in f&&(v=-1*f.deltaY,m=v),"deltaX"in
f&&(q=f.deltaX,0===v&&(m=-1*q)),0!==v||0!==q){if(1===f.deltaMode){var I=c.data(this,"mousewheel-line-height");m*=I;v*=I;q*=I}else 2===f.deltaMode&&(I=c.data(this,"mousewheel-page-height"),m*=I,v*=I,q*=I);if(B=Math.max(Math.abs(v),Math.abs(q)),(!h||h>B)&&(h=B,n.settings.adjustOldDeltas&&"mousewheel"===f.type&&0===B%120&&(h/=40)),n.settings.adjustOldDeltas&&"mousewheel"===f.type&&0===B%120&&(m/=40,q/=40,v/=40),m=Math[1<=m?"floor":"ceil"](m/h),q=Math[1<=q?"floor":"ceil"](q/h),v=Math[1<=v?"floor":"ceil"](v/
h),n.settings.normalizeOffset&&this.getBoundingClientRect)f=this.getBoundingClientRect(),G=b.clientX-f.left,C=b.clientY-f.top;return b.deltaX=q,b.deltaY=v,b.deltaFactor=h,b.offsetX=G,b.offsetY=C,b.deltaMode=0,k.unshift(b,m,q,v),g&&clearTimeout(g),g=setTimeout(e,200),(c.event.dispatch||c.event.handle).apply(this,k)}}function e(){h=null}var g,h,q=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],m="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],
r=Array.prototype.slice;if(c.event.fixHooks)for(var k=q.length;k;)c.event.fixHooks[q[--k]]=c.event.mouseHooks;var n=c.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var f=m.length;f;)this.addEventListener(m[--f],b,!1);else this.onmousewheel=b;c.data(this,"mousewheel-line-height",n.getLineHeight(this));c.data(this,"mousewheel-page-height",n.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var f=m.length;f;)this.removeEventListener(m[--f],
b,!1);else this.onmousewheel=null;c.removeData(this,"mousewheel-line-height");c.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){b=c(b);var f=b["offsetParent"in c.fn?"offsetParent":"parent"]();return f.length||(f=c("body")),parseInt(f.css("fontSize"),10)||parseInt(b.css("fontSize"),10)||16},getPageHeight:function(b){return c(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};c.fn.extend({mousewheel:function(c){return c?this.bind("mousewheel",c):this.trigger("mousewheel")},
unmousewheel:function(c){return this.unbind("mousewheel",c)}})});/*
 JSZip v3.1.3 - A Javascript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/master/LICENSE
*/
!function(c){"object"==typeof exports&&"undefined"!=typeof module?module.exports=c():"function"==typeof define&&define.amd?define([],c):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).JSZip=c()}(function(){return function b(e,g,h){function q(k,n){if(!g[k]){if(!e[k]){var f="function"==typeof require&&require;if(!n&&f)return f(k,!0);if(m)return m(k,!0);f=Error("Cannot find module '"+k+"'");throw f.code="MODULE_NOT_FOUND",f;}f=g[k]={exports:{}};
e[k][0].call(f.exports,function(b){var f=e[k][1][b];return q(f?f:b)},f,f.exports,b,e,g,h)}return g[k].exports}for(var m="function"==typeof require&&require,r=0;r<h.length;r++)q(h[r]);return q}({1:[function(b,e,g){var h=b("./utils"),q=b("./support");g.encode=function(b){for(var e,k,g,f,m,q,u,w=[],v=0,B=b.length,G="string"!==h.getTypeOf(b);v<b.length;)u=B-v,G?(e=b[v++],k=v<B?b[v++]:0,g=v<B?b[v++]:0):(e=b.charCodeAt(v++),k=v<B?b.charCodeAt(v++):0,g=v<B?b.charCodeAt(v++):0),f=e>>2,m=(3&e)<<4|k>>4,q=1<
u?(15&k)<<2|g>>6:64,u=2<u?63&g:64,w.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(f)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(m)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(q)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(u));return w.join("")};g.decode=function(b){var e,k,h,f,g,m=0,u=0;if("data:"===b.substr(0,5))throw Error("Invalid base64 input, it looks like a data url.");
b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");f=3*b.length/4;if("="===b.charAt(b.length-1)&&f--,"="===b.charAt(b.length-2)&&f--,0!==f%1)throw Error("Invalid base64 input, bad content length.");var w;for(w=q.uint8array?new Uint8Array(0|f):Array(0|f);m<b.length;)e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(m++)),k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(m++)),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(m++)),
g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(m++)),e=e<<2|k>>4,k=(15&k)<<4|f>>2,h=(3&f)<<6|g,w[u++]=e,64!==f&&(w[u++]=k),64!==g&&(w[u++]=h);return w}},{"./support":30,"./utils":32}],2:[function(b,e,g){function h(b,f,e,k,h){this.compressedSize=b;this.uncompressedSize=f;this.crc32=e;this.compression=k;this.compressedContent=h}var q=b("./external"),m=b("./stream/DataWorker"),r=b("./stream/DataLengthProbe"),k=b("./stream/Crc32Probe"),r=b("./stream/DataLengthProbe");
h.prototype={getContentWorker:function(){var b=(new m(q.Promise.resolve(this.compressedContent))).pipe(this.compression.uncompressWorker()).pipe(new r("data_length")),f=this;return b.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw Error("Bug : uncompressed data size mismatch");}),b},getCompressedWorker:function(){return(new m(q.Promise.resolve(this.compressedContent))).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",
this.crc32).withStreamInfo("compression",this.compression)}};h.createWorkerFrom=function(b,f,e){return b.pipe(new k).pipe(new r("uncompressedSize")).pipe(f.compressWorker(e)).pipe(new r("compressedSize")).withStreamInfo("compression",f)};e.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(b,e,g){var h=b("./stream/GenericWorker");g.STORE={magic:"\x00\x00",compressWorker:function(b){return new h("STORE compression")},uncompressWorker:function(){return new h("STORE decompression")}};
g.DEFLATE=b("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(b,e,g){var h=b("./utils"),q=function(){for(var b,e=[],k=0;256>k;k++){b=k;for(var h=0;8>h;h++)b=1&b?3988292384^b>>>1:b>>>1;e[k]=b}return e}();e.exports=function(b,e){if("undefined"==typeof b||!b.length)return 0;var k;if("string"!==h.getTypeOf(b)){var g=0+b.length;k=(0|e)^-1;for(var f=0;f<g;f++)k=k>>>8^q[255&(k^b[f])]}else for(g=0+b.length,k=(0|e)^-1,f=0;f<g;f++)k=k>>>8^q[255&(k^b.charCodeAt(f))];return k^=-1}},{"./utils":32}],
5:[function(b,e,g){g.base64=!1;g.binary=!1;g.dir=!1;g.createFolders=!0;g.date=null;g.compression=null;g.compressionOptions=null;g.comment=null;g.unixPermissions=null;g.dosPermissions=null},{}],6:[function(b,e,g){b="undefined"!=typeof Promise?Promise:b("lie");e.exports={Promise:b}},{lie:58}],7:[function(b,e,g){function h(b,f){r.call(this,"FlateWorker/"+b);this._pako=new q[b]({raw:!0,level:f.level||-1});this.meta={};var e=this;this._pako.onData=function(b){e.push({data:b,meta:e.meta})}}e="undefined"!=
typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array;var q=b("pako"),m=b("./utils"),r=b("./stream/GenericWorker"),k=e?"uint8array":"array";g.magic="\b\x00";m.inherits(h,r);h.prototype.processChunk=function(b){this.meta=b.meta;this._pako.push(m.transformTo(k,b.data),!1)};h.prototype.flush=function(){r.prototype.flush.call(this);this._pako.push([],!0)};h.prototype.cleanUp=function(){r.prototype.cleanUp.call(this);this._pako=null};g.compressWorker=function(b){return new h("Deflate",
b)};g.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:59}],8:[function(b,e,g){function h(b,f,e,k){m.call(this,"ZipFileWorker");this.bytesWritten=0;this.zipComment=f;this.zipPlatform=e;this.encodeFileName=k;this.streamFiles=b;this.accumulate=!1;this.contentBuffer=[];this.dirRecords=[];this.entriesCount=this.currentSourceOffset=0;this.currentFile=null;this._sources=[]}var q=b("../utils"),m=b("../stream/GenericWorker"),r=b("../utf8"),k=b("../crc32"),
n=b("../signature"),f=function(b,f){var e,k="";for(e=0;e<f;e++)k+=String.fromCharCode(255&b),b>>>=8;return k},x=function(b,e,h,g,m,x){var u,w;u=b.file;var y=b.compression,B=x!==r.utf8encode,G=q.transformTo("string",x(u.name)),D=q.transformTo("string",r.utf8encode(u.name)),v=u.comment;x=q.transformTo("string",x(v));var z=q.transformTo("string",r.utf8encode(v)),C=D.length!==u.name.length,P=z.length!==v.length,S=v="",ga="";w=u.dir;var ba=u.date,ka=0,aa=0,E=0;e&&!h||(ka=b.crc32,aa=b.compressedSize,E=
b.uncompressedSize);b=0;e&&(b|=8);B||!C&&!P||(b|=2048);e=0;w&&(e|=16);"UNIX"===m?(m=798,u=B=u.unixPermissions,w=(B||(u=w?16893:33204),(65535&u)<<16),e|=w):(m=20,e|=63&(u.dosPermissions||0));u=ba.getUTCHours();u=u<<6|ba.getUTCMinutes();u=u<<5|ba.getUTCSeconds()/2;w=ba.getUTCFullYear()-1980;w=w<<4|ba.getUTCMonth()+1;w=w<<5|ba.getUTCDate();C&&(S=f(1,1)+f(k(G),4)+D,v+="up"+f(S.length,2)+S);P&&(ga=f(1,1)+f(k(x),4)+z,v+="uc"+f(ga.length,2)+ga);D="\n\x00"+f(b,2);D+=y.magic;D+=f(u,2);D+=f(w,2);D+=f(ka,4);
D+=f(aa,4);D+=f(E,4);D+=f(G.length,2);D+=f(v.length,2);y=n.LOCAL_FILE_HEADER+D+G+v;g=n.CENTRAL_FILE_HEADER+f(m,2)+D+f(x.length,2)+"\x00\x00\x00\x00"+f(e,4)+f(g,4)+G+v+x;return{fileRecord:y,dirRecord:g}},y=function(b){return n.DATA_DESCRIPTOR+f(b.crc32,4)+f(b.compressedSize,4)+f(b.uncompressedSize,4)};q.inherits(h,m);h.prototype.push=function(b){var f=b.meta.percent||0,e=this.entriesCount,k=this._sources.length;this.accumulate?this.contentBuffer.push(b):(this.bytesWritten+=b.data.length,m.prototype.push.call(this,
{data:b.data,meta:{currentFile:this.currentFile,percent:e?(f+100*(e-k-1))/e:100}}))};h.prototype.openedSource=function(b){this.currentSourceOffset=this.bytesWritten;this.currentFile=b.file.name;var f=this.streamFiles&&!b.file.dir;f?(b=x(b,f,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName),this.push({data:b.fileRecord,meta:{percent:0}})):this.accumulate=!0};h.prototype.closedSource=function(b){this.accumulate=!1;var f=this.streamFiles&&!b.file.dir,e=x(b,f,!0,this.currentSourceOffset,
this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(e.dirRecord),f)this.push({data:y(b),meta:{percent:100}});else for(this.push({data:e.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null};h.prototype.flush=function(){for(var b=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var e=this.dirRecords.length,k=this.bytesWritten-b,h=q.transformTo("string",(0,this.encodeFileName)(this.zipComment)),
b=n.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+f(e,2)+f(e,2)+f(k,4)+f(b,4)+f(h.length,2)+h;this.push({data:b,meta:{percent:100}})};h.prototype.prepareNextSource=function(){this.previous=this._sources.shift();this.openedSource(this.previous.streamInfo);this.isPaused?this.previous.pause():this.previous.resume()};h.prototype.registerPrevious=function(b){this._sources.push(b);var f=this;return b.on("data",function(b){f.processChunk(b)}),b.on("end",function(){f.closedSource(f.previous.streamInfo);f._sources.length?
f.prepareNextSource():f.end()}),b.on("error",function(b){f.error(b)}),this};h.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))};h.prototype.error=function(b){var f=this._sources;if(!m.prototype.error.call(this,b))return!1;for(var e=0;e<f.length;e++)try{f[e].error(b)}catch(B){}return!0};h.prototype.lock=function(){m.prototype.lock.call(this);
for(var b=this._sources,f=0;f<b.length;f++)b[f].lock()};e.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(b,e,g){var h=b("../compressions"),q=b("./ZipFileWorker");g.generateWorker=function(b,e,k){var g=new q(e.streamFiles,k,e.platform,e.encodeFileName),f=0;try{b.forEach(function(b,k){f++;var n=k.options.compression||e.compression,m=h[n];if(!m)throw Error(n+" is not a valid compression method !");var n=k.dir,q=k.date;k._compressWorker(m,
k.options.compressionOptions||e.compressionOptions||{}).withStreamInfo("file",{name:b,dir:n,date:q,comment:k.comment||"",unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions}).pipe(g)}),g.entriesCount=f}catch(x){g.error(x)}return g}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(b,e,g){function h(){if(!(this instanceof h))return new h;if(arguments.length)throw Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=
{};this.comment=null;this.root="";this.clone=function(){var b=new h,e;for(e in this)"function"!=typeof this[e]&&(b[e]=this[e]);return b}}h.prototype=b("./object");h.prototype.loadAsync=b("./load");h.support=b("./support");h.defaults=b("./defaults");h.version="3.1.3";h.loadAsync=function(b,e){return(new h).loadAsync(b,e)};h.external=b("./external");e.exports=h},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(b,e,g){function h(b){return new m.Promise(function(f,
e){var k=b.decompressed.getContentWorker().pipe(new n);k.on("error",function(b){e(b)}).on("end",function(){k.streamInfo.crc32!==b.decompressed.crc32?e(Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}var q=b("./utils"),m=b("./external"),r=b("./utf8"),q=b("./utils"),k=b("./zipEntries"),n=b("./stream/Crc32Probe"),f=b("./nodejsUtils");e.exports=function(b,e){var g=this;return e=q.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),f.isNode&&
f.isStream(b)?m.Promise.reject(Error("JSZip can't accept a stream when loading a zip file.")):q.prepareContent("the loaded zip file",b,!0,e.optimizedBinaryString,e.base64).then(function(b){var f=new k(e);return f.load(b),f}).then(function(b){var f=[m.Promise.resolve(b)];b=b.files;if(e.checkCRC32)for(var k=0;k<b.length;k++)f.push(h(b[k]));return m.Promise.all(f)}).then(function(b){b=b.shift();for(var f=b.files,k=0;k<f.length;k++){var h=f[k];g.file(h.fileNameStr,h.decompressed,{binary:!0,optimizedBinaryString:!0,
date:h.date,dir:h.dir,comment:h.fileCommentStr.length?h.fileCommentStr:null,unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions,createFolders:e.createFolders})}return b.zipComment.length&&(g.comment=b.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(b,e,g){function h(b,e){q.call(this,"Nodejs stream input adapter for "+b);this._upstreamEnded=!1;this._bindStream(e)}g=b("../utils");var q=b("../stream/GenericWorker");
g.inherits(h,q);h.prototype._bindStream=function(b){var e=this;this._stream=b;b.pause();b.on("data",function(b){e.push({data:b,meta:{percent:0}})}).on("error",function(b){e.isPaused?this.generatedError=b:e.error(b)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})};h.prototype.pause=function(){return!!q.prototype.pause.call(this)&&(this._stream.pause(),!0)};h.prototype.resume=function(){return!!q.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)};
e.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(b,e,g){function h(b,e,k){q.call(this,e);this._helper=b;var h=this;b.on("data",function(b,e){h.push(b)||h._helper.pause();k&&k(e)}).on("error",function(b){h.emit("error",b)}).on("end",function(){h.push(null)})}var q=b("readable-stream").Readable;b("util").inherits(h,q);h.prototype._read=function(){this._helper.resume()};e.exports=h},{"readable-stream":16,util:void 0}],14:[function(b,e,g){e.exports={isNode:"undefined"!=typeof Buffer,
newBuffer:function(b,e){return new Buffer(b,e)},isBuffer:function(b){return Buffer.isBuffer(b)},isStream:function(b){return b&&"function"==typeof b.on&&"function"==typeof b.pause&&"function"==typeof b.resume}}},{}],15:[function(b,e,g){var h=b("./utf8"),q=b("./utils"),m=b("./stream/GenericWorker"),r=b("./stream/StreamHelper"),k=b("./defaults"),n=b("./compressedObject"),f=b("./zipObject"),x=b("./generate"),y=b("./nodejsUtils"),u=b("./nodejs/NodejsStreamInputAdapter"),w=function(b,e,h){var g,x=q.getTypeOf(e),
w=q.extend(h||{},k);w.date=w.date||new Date;null!==w.compression&&(w.compression=w.compression.toUpperCase());"string"==typeof w.unixPermissions&&(w.unixPermissions=parseInt(w.unixPermissions,8));w.unixPermissions&&16384&w.unixPermissions&&(w.dir=!0);w.dosPermissions&&16&w.dosPermissions&&(w.dir=!0);w.dir&&(b=v(b));var r;if(r=w.createFolders)g=b,"/"===g.slice(-1)&&(g=g.substring(0,g.length-1)),r=g.lastIndexOf("/"),r=g=0<r?g.substring(0,r):"";r&&B.call(this,g,!0);x="string"===x&&!1===w.binary&&!1===
w.base64;h&&"undefined"!=typeof h.binary||(w.binary=!x);(e instanceof n&&0===e.uncompressedSize||w.dir||!e||0===e.length)&&(w.base64=!1,w.binary=!0,e="",w.compression="STORE");e=e instanceof n||e instanceof m?e:y.isNode&&y.isStream(e)?new u(b,e):q.prepareContent(b,e,w.binary,w.optimizedBinaryString,w.base64);w=new f(b,e,w);this.files[b]=w},v=function(b){return"/"!==b.slice(-1)&&(b+="/"),b},B=function(b,f){return f="undefined"!=typeof f?f:k.createFolders,b=v(b),this.files[b]||w.call(this,b,null,{dir:!0,
createFolders:f}),this.files[b]};e.exports={load:function(){throw Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");},forEach:function(b){var f,e,k;for(f in this.files)this.files.hasOwnProperty(f)&&(k=this.files[f],e=f.slice(this.root.length,f.length),e&&f.slice(0,this.root.length)===this.root&&b(e,k))},filter:function(b){var f=[];return this.forEach(function(e,k){b(e,k)&&f.push(k)}),f},file:function(b,f,e){if(1===arguments.length){if("[object RegExp]"===Object.prototype.toString.call(b)){var k=
b;return this.filter(function(b,f){return!f.dir&&k.test(b)})}var h=this.files[this.root+b];return h&&!h.dir?h:null}return b=this.root+b,w.call(this,b,f,e),this},folder:function(b){if(!b)return this;if("[object RegExp]"===Object.prototype.toString.call(b))return this.filter(function(f,e){return e.dir&&b.test(f)});var f=B.call(this,this.root+b),e=this.clone();return e.root=f.name,e},remove:function(b){b=this.root+b;var f=this.files[b];if(f||("/"!==b.slice(-1)&&(b+="/"),f=this.files[b]),f&&!f.dir)delete this.files[b];
else for(var f=this.filter(function(f,e){return e.name.slice(0,b.length)===b}),e=0;e<f.length;e++)delete this.files[f[e].name];return this},generate:function(b){throw Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");},generateInternalStream:function(b){var f,e={};try{if(e=q.extend(b||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode}),e.type=e.type.toLowerCase(),
e.compression=e.compression.toUpperCase(),"binarystring"===e.type&&(e.type="string"),!e.type)throw Error("No output type specified.");q.checkSupport(e.type);"darwin"!==e.platform&&"freebsd"!==e.platform&&"linux"!==e.platform&&"sunos"!==e.platform||(e.platform="UNIX");"win32"===e.platform&&(e.platform="DOS");f=x.generateWorker(this,e,e.comment||this.comment||"")}catch(K){f=new m("error"),f.error(K)}return new r(f,e.type||"string",e.mimeType)},generateAsync:function(b,f){return this.generateInternalStream(b).accumulate(f)},
generateNodeStream:function(b,f){return b=b||{},b.type||(b.type="nodebuffer"),this.generateInternalStream(b).toNodejsStream(f)}}},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(b,e,g){e.exports=b("stream")},{stream:void 0}],17:[function(b,e,g){function h(b){q.call(this,b);for(var e=0;e<this.data.length;e++)b[e]&=255}var q=
b("./DataReader");b("../utils").inherits(h,q);h.prototype.byteAt=function(b){return this.data[this.zero+b]};h.prototype.lastIndexOfSignature=function(b){var e=b.charCodeAt(0),k=b.charCodeAt(1),h=b.charCodeAt(2);b=b.charCodeAt(3);for(var f=this.length-4;0<=f;--f)if(this.data[f]===e&&this.data[f+1]===k&&this.data[f+2]===h&&this.data[f+3]===b)return f-this.zero;return-1};h.prototype.readAndCheckSignature=function(b){var e=b.charCodeAt(0),k=b.charCodeAt(1),h=b.charCodeAt(2);b=b.charCodeAt(3);var f=this.readData(4);
return e===f[0]&&k===f[1]&&h===f[2]&&b===f[3]};h.prototype.readData=function(b){if(this.checkOffset(b),0===b)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,e};e.exports=h},{"../utils":32,"./DataReader":18}],18:[function(b,e,g){function h(b){this.data=b;this.length=b.length;this.zero=this.index=0}var q=b("../utils");h.prototype={checkOffset:function(b){this.checkIndex(this.index+b)},checkIndex:function(b){if(this.length<this.zero+b||0>b)throw Error("End of data reached (data length = "+
this.length+", asked index = "+b+"). Corrupted zip ?");},setIndex:function(b){this.checkIndex(b);this.index=b},skip:function(b){this.setIndex(this.index+b)},byteAt:function(b){},readInt:function(b){var e,k=0;this.checkOffset(b);for(e=this.index+b-1;e>=this.index;e--)k=(k<<8)+this.byteAt(e);return this.index+=b,k},readString:function(b){return q.transformTo("string",this.readData(b))},readData:function(b){},lastIndexOfSignature:function(b){},readAndCheckSignature:function(b){},readDate:function(){var b=
this.readInt(4);return new Date(Date.UTC((b>>25&127)+1980,(b>>21&15)-1,b>>16&31,b>>11&31,b>>5&63,(31&b)<<1))}};e.exports=h},{"../utils":32}],19:[function(b,e,g){function h(b){q.call(this,b)}var q=b("./Uint8ArrayReader");b("../utils").inherits(h,q);h.prototype.readData=function(b){this.checkOffset(b);var e=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,e};e.exports=h},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(b,e,g){function h(b){q.call(this,b)}var q=
b("./DataReader");b("../utils").inherits(h,q);h.prototype.byteAt=function(b){return this.data.charCodeAt(this.zero+b)};h.prototype.lastIndexOfSignature=function(b){return this.data.lastIndexOf(b)-this.zero};h.prototype.readAndCheckSignature=function(b){var e=this.readData(4);return b===e};h.prototype.readData=function(b){this.checkOffset(b);var e=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,e};e.exports=h},{"../utils":32,"./DataReader":18}],21:[function(b,e,g){function h(b){q.call(this,
b)}var q=b("./ArrayReader");b("../utils").inherits(h,q);h.prototype.readData=function(b){if(this.checkOffset(b),0===b)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+b);return this.index+=b,e};e.exports=h},{"../utils":32,"./ArrayReader":17}],22:[function(b,e,g){var h=b("../utils"),q=b("../support"),m=b("./ArrayReader"),r=b("./StringReader"),k=b("./NodeBufferReader"),n=b("./Uint8ArrayReader");e.exports=function(b){var f=h.getTypeOf(b);return h.checkSupport(f),
"string"!==f||q.uint8array?"nodebuffer"===f?new k(b):q.uint8array?new n(h.transformTo("uint8array",b)):new m(h.transformTo("array",b)):new r(b)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(b,e,g){g.LOCAL_FILE_HEADER="PK\u0003\u0004";g.CENTRAL_FILE_HEADER="PK\u0001\u0002";g.CENTRAL_DIRECTORY_END="PK\u0005\u0006";g.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\u0006\u0007";g.ZIP64_CENTRAL_DIRECTORY_END="PK\u0006\u0006";
g.DATA_DESCRIPTOR="PK\u0007\b"},{}],24:[function(b,e,g){function h(b){q.call(this,"ConvertWorker to "+b);this.destType=b}var q=b("./GenericWorker"),m=b("../utils");m.inherits(h,q);h.prototype.processChunk=function(b){this.push({data:m.transformTo(this.destType,b.data),meta:b.meta})};e.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(b,e,g){function h(){q.call(this,"Crc32Probe");this.withStreamInfo("crc32",0)}var q=b("./GenericWorker"),m=b("../crc32");b("../utils").inherits(h,q);h.prototype.processChunk=
function(b){this.streamInfo.crc32=m(b.data,this.streamInfo.crc32||0);this.push(b)};e.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(b,e,g){function h(b){q.call(this,"DataLengthProbe for "+b);this.propName=b;this.withStreamInfo(b,0)}g=b("../utils");var q=b("./GenericWorker");g.inherits(h,q);h.prototype.processChunk=function(b){b&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+b.data.length);q.prototype.processChunk.call(this,b)};e.exports=h},{"../utils":32,
"./GenericWorker":28}],27:[function(b,e,g){function h(b){m.call(this,"DataWorker");var e=this;this.dataIsReady=!1;this.max=this.index=0;this.data=null;this.type="";this._tickScheduled=!1;b.then(function(b){e.dataIsReady=!0;e.data=b;e.max=b&&b.length||0;e.type=q.getTypeOf(b);e.isPaused||e._tickAndRepeat()},function(b){e.error(b)})}var q=b("../utils"),m=b("./GenericWorker");q.inherits(h,m);h.prototype.cleanUp=function(){m.prototype.cleanUp.call(this);this.data=null};h.prototype.resume=function(){return!!m.prototype.resume.call(this)&&
(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,q.delay(this._tickAndRepeat,[],this)),!0)};h.prototype._tickAndRepeat=function(){this._tickScheduled=!1;this.isPaused||this.isFinished||(this._tick(),this.isFinished||(q.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))};h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var b=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case "string":b=this.data.substring(this.index,
e);break;case "uint8array":b=this.data.subarray(this.index,e);break;case "array":case "nodebuffer":b=this.data.slice(this.index,e)}return this.index=e,this.push({data:b,meta:{percent:this.max?this.index/this.max*100:0}})};e.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(b,e,g){function h(b){this.name=b||"default";this.streamInfo={};this.generatedError=null;this.extraStreamInfo={};this.isPaused=!0;this.isLocked=this.isFinished=!1;this._listeners={data:[],end:[],error:[]};this.previous=
null}h.prototype={push:function(b){this.emit("data",b)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(q){this.emit("error",q)}return!0},error:function(b){return!this.isFinished&&(this.isPaused?this.generatedError=b:(this.isFinished=!0,this.emit("error",b),this.previous&&this.previous.error(b),this.cleanUp()),!0)},on:function(b,e){return this._listeners[b].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=
null;this._listeners=[]},emit:function(b,e){if(this._listeners[b])for(var h=0;h<this._listeners[b].length;h++)this._listeners[b][h].call(this,e)},pipe:function(b){return b.registerPrevious(this)},registerPrevious:function(b){if(this.isLocked)throw Error("The stream '"+this+"' has already been used.");this.streamInfo=b.streamInfo;this.mergeStreamInfo();this.previous=b;var e=this;return b.on("data",function(b){e.processChunk(b)}),b.on("end",function(){e.end()}),b.on("error",function(b){e.error(b)}),
this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var b=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),b=!0),this.previous&&this.previous.resume(),!b},flush:function(){},processChunk:function(b){this.push(b)},withStreamInfo:function(b,e){return this.extraStreamInfo[b]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var b in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(b)&&
(this.streamInfo[b]=this.extraStreamInfo[b])},lock:function(){if(this.isLocked)throw Error("The stream '"+this+"' has already been used.");this.isLocked=!0;this.previous&&this.previous.lock()},toString:function(){var b="Worker "+this.name;return this.previous?this.previous+" -> "+b:b}};e.exports=h},{}],29:[function(b,e,g){function h(b,f){var e,k=0,h;for(e=h=0;e<f.length;e++)h+=f[e].length;switch(b){case "string":return f.join("");case "array":return Array.prototype.concat.apply([],f);case "uint8array":h=
new Uint8Array(h);for(e=0;e<f.length;e++)h.set(f[e],k),k+=f[e].length;return h;case "nodebuffer":return Buffer.concat(f);default:throw Error("concat : unsupported type '"+b+"'");}}function q(b,e){return new x.Promise(function(k,g){var n=[],q=b._internalType,m=b._outputType,u=b._mimeType;b.on("data",function(b,f){n.push(b);e&&e(f)}).on("error",function(b){n=[];g(b)}).on("end",function(){try{var b;a:{var e=n,x=null;switch(m){case "blob":b=r.newBlob(e,u);break a;case "base64":b=(x=h(q,e),f.encode(x));
break a;default:b=(x=h(q,e),r.transformTo(m,x))}}k(b)}catch(D){g(D)}n=[]}).resume()})}function m(b,f,e){var h=f;switch(f){case "blob":h="arraybuffer";break;case "arraybuffer":h="uint8array";break;case "base64":h="string"}try{this._internalType=h,this._outputType=f,this._mimeType=e,r.checkSupport(h),this._worker=b.pipe(new k(h)),b.lock()}catch(G){this._worker=new n("error"),this._worker.error(G)}}var r=b("../utils"),k=b("./ConvertWorker"),n=b("./GenericWorker"),f=b("../base64");g=b("../support");var x=
b("../external"),y=null;if(g.nodestream)try{y=b("../nodejs/NodejsStreamOutputAdapter")}catch(u){}m.prototype={accumulate:function(b){return q(this,b)},on:function(b,f){var e=this;return"data"===b?this._worker.on(b,function(b){f.call(e,b.data,b.meta)}):this._worker.on(b,function(){r.delay(f,arguments,e)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(r.checkSupport("nodestream"),"nodebuffer"!==
this._outputType)throw Error(this._outputType+" is not supported by this method");return new y(this,{objectMode:"nodebuffer"!==this._outputType},b)}};e.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(b,e,g){if(g.base64=!0,g.array=!0,g.string=!0,g.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,g.nodebuffer="undefined"!=typeof Buffer,g.uint8array="undefined"!=
typeof Uint8Array,"undefined"==typeof ArrayBuffer)g.blob=!1;else{e=new ArrayBuffer(0);try{g.blob=0===(new Blob([e],{type:"application/zip"})).size}catch(q){try{var h=new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);h.append(e);g.blob=0===h.getBlob("application/zip").size}catch(m){g.blob=!1}}}try{g.nodestream=!!b("readable-stream").Readable}catch(q){g.nodestream=!1}},{"readable-stream":16}],31:[function(b,e,g){function h(){n.call(this,"utf-8 decode");
this.leftOver=null}function q(){n.call(this,"utf-8 encode")}var m=b("./utils"),r=b("./support"),k=b("./nodejsUtils"),n=b("./stream/GenericWorker"),f=Array(256);for(b=0;256>b;b++)f[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;f[254]=f[254]=1;g.utf8encode=function(b){if(r.nodebuffer)b=k.newBuffer(b,"utf-8");else{var f,e,h,g,n,q=b.length,m=0;for(g=0;g<q;g++)e=b.charCodeAt(g),55296===(64512&e)&&g+1<q&&(h=b.charCodeAt(g+1),56320===(64512&h)&&(e=65536+(e-55296<<10)+(h-56320),g++)),m+=128>e?1:2048>
e?2:65536>e?3:4;f=r.uint8array?new Uint8Array(m):Array(m);for(g=n=0;n<m;g++)e=b.charCodeAt(g),55296===(64512&e)&&g+1<q&&(h=b.charCodeAt(g+1),56320===(64512&h)&&(e=65536+(e-55296<<10)+(h-56320),g++)),128>e?f[n++]=e:2048>e?(f[n++]=192|e>>>6,f[n++]=128|63&e):65536>e?(f[n++]=224|e>>>12,f[n++]=128|e>>>6&63,f[n++]=128|63&e):(f[n++]=240|e>>>18,f[n++]=128|e>>>12&63,f[n++]=128|e>>>6&63,f[n++]=128|63&e);b=f}return b};g.utf8decode=function(b){var e;if(r.nodebuffer)e=m.transformTo("nodebuffer",b).toString("utf-8");
else{var k=b=m.transformTo(r.uint8array?"uint8array":"array",b),h,g,n,q=k.length;b=Array(2*q);for(h=g=0;h<q;)if(e=k[h++],128>e)b[g++]=e;else if(n=f[e],4<n)b[g++]=65533,h+=n-1;else{for(e&=2===n?31:3===n?15:7;1<n&&h<q;)e=e<<6|63&k[h++],n--;1<n?b[g++]=65533:65536>e?b[g++]=e:(e-=65536,b[g++]=55296|e>>10&1023,b[g++]=56320|1023&e)}e=(b.length!==g&&(b.subarray?b=b.subarray(0,g):b.length=g),m.applyFromCharCode(b))}return e};m.inherits(h,n);h.prototype.processChunk=function(b){var e=m.transformTo(r.uint8array?
"uint8array":"array",b.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var k=e,e=new Uint8Array(k.length+this.leftOver.length);e.set(this.leftOver,0);e.set(k,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var h,k=e.length;k>e.length&&(k=e.length);for(h=k-1;0<=h&&128===(192&e[h]);)h--;k=0>h?k:0===h?k:h+f[e[h]]>k?h:k;h=e;k!==e.length&&(r.uint8array?(h=e.subarray(0,k),this.leftOver=e.subarray(k,e.length)):(h=e.slice(0,k),this.leftOver=e.slice(k,e.length)));this.push({data:g.utf8decode(h),
meta:b.meta})};h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:g.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)};g.Utf8DecodeWorker=h;m.inherits(q,n);q.prototype.processChunk=function(b){this.push({data:g.utf8encode(b.data),meta:b.meta})};g.Utf8EncodeWorker=q},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(b,e,g){function h(b){return b}function q(b,f){for(var e=0;e<b.length;++e)f[e]=255&b.charCodeAt(e);return f}
function m(b){var f=65536,e=g.getTypeOf(b),k=!0;if("uint8array"===e?k=v.applyCanBeUsed.uint8array:"nodebuffer"===e&&(k=v.applyCanBeUsed.nodebuffer),k)for(;1<f;)try{return v.stringifyByChunk(b,e,f)}catch(H){f=Math.floor(f/2)}return v.stringifyByChar(b)}function r(b,f){for(var e=0;e<b.length;e++)f[e]=b[e];return f}var k=b("./support"),n=b("./base64"),f=b("./nodejsUtils"),x=b("core-js/library/fn/set-immediate"),y=b("./external");g.newBlob=function(b,f){g.checkSupport("blob");try{return new Blob(b,{type:f})}catch(H){try{for(var e=
new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder),k=0;k<b.length;k++)e.append(b[k]);return e.getBlob(f)}catch(Q){throw Error("Bug : can't construct the Blob.");}}};var u;try{u=k.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(G){u=!1}b=u;var w;try{w=k.nodebuffer&&1===String.fromCharCode.apply(null,f.newBuffer(1)).length}catch(G){w=!1}var v={stringifyByChunk:function(b,f,e){var k=[],h=0,g=b.length;if(g<=e)return String.fromCharCode.apply(null,
b);for(;h<g;)"array"===f||"nodebuffer"===f?k.push(String.fromCharCode.apply(null,b.slice(h,Math.min(h+e,g)))):k.push(String.fromCharCode.apply(null,b.subarray(h,Math.min(h+e,g)))),h+=e;return k.join("")},stringifyByChar:function(b){for(var f="",e=0;e<b.length;e++)f+=String.fromCharCode(b[e]);return f},applyCanBeUsed:{uint8array:b,nodebuffer:w}};g.applyFromCharCode=m;var B={};B.string={string:h,array:function(b){return q(b,Array(b.length))},arraybuffer:function(b){return B.string.uint8array(b).buffer},
uint8array:function(b){return q(b,new Uint8Array(b.length))},nodebuffer:function(b){return q(b,f.newBuffer(b.length))}};B.array={string:m,array:h,arraybuffer:function(b){return(new Uint8Array(b)).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return f.newBuffer(b)}};B.arraybuffer={string:function(b){return m(new Uint8Array(b))},array:function(b){return r(new Uint8Array(b),Array(b.byteLength))},arraybuffer:h,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return f.newBuffer(new Uint8Array(b))}};
B.uint8array={string:m,array:function(b){return r(b,Array(b.length))},arraybuffer:function(b){var f=new Uint8Array(b.length);return b.length&&f.set(b,0),f.buffer},uint8array:h,nodebuffer:function(b){return f.newBuffer(b)}};B.nodebuffer={string:m,array:function(b){return r(b,Array(b.length))},arraybuffer:function(b){return B.nodebuffer.uint8array(b).buffer},uint8array:function(b){return r(b,new Uint8Array(b.length))},nodebuffer:h};g.transformTo=function(b,f){if(f||(f=""),!b)return f;g.checkSupport(b);
var e=g.getTypeOf(f);return B[e][b](f)};g.getTypeOf=function(b){return"string"==typeof b?"string":"[object Array]"===Object.prototype.toString.call(b)?"array":k.nodebuffer&&f.isBuffer(b)?"nodebuffer":k.uint8array&&b instanceof Uint8Array?"uint8array":k.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0};g.checkSupport=function(b){if(!k[b.toLowerCase()])throw Error(b+" is not supported by this platform");};g.MAX_VALUE_16BITS=65535;g.MAX_VALUE_32BITS=-1;g.pretty=function(b){var f,e,k="";for(e=
0;e<(b||"").length;e++)f=b.charCodeAt(e),k+="\\x"+(16>f?"0":"")+f.toString(16).toUpperCase();return k};g.delay=function(b,f,e){x(function(){b.apply(e||null,f||[])})};g.inherits=function(b,f){var e=function(){};e.prototype=f.prototype;b.prototype=new e};g.extend=function(){var b,f,e={};for(b=0;b<arguments.length;b++)for(f in arguments[b])arguments[b].hasOwnProperty(f)&&"undefined"==typeof e[f]&&(e[f]=arguments[b][f]);return e};g.prepareContent=function(b,f,e,h,m){return y.Promise.resolve(f).then(function(b){return k.blob&&
(b instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(b)))&&"undefined"!=typeof FileReader?new y.Promise(function(f,e){var k=new FileReader;k.onload=function(b){f(b.target.result)};k.onerror=function(b){e(b.target.error)};k.readAsArrayBuffer(b)}):b}).then(function(f){var u=g.getTypeOf(f);u?"arraybuffer"===u?f=g.transformTo("uint8array",f):"string"===u&&(m?f=n.decode(f):e&&!0!==h&&(u=null,f=(u=k.uint8array?new Uint8Array(f.length):Array(f.length),q(f,u)))):
f=y.Promise.reject(Error("The data of '"+b+"' is in an unsupported format !"));return f})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"core-js/library/fn/set-immediate":36}],33:[function(b,e,g){function h(b){this.files=[];this.loadOptions=b}var q=b("./reader/readerFor"),m=b("./utils"),r=b("./signature"),k=b("./zipEntry"),n=(b("./utf8"),b("./support"));h.prototype={checkSignature:function(b){if(!this.reader.readAndCheckSignature(b)){this.reader.index-=4;var f=this.reader.readString(4);
throw Error("Corrupted zip or bug : unexpected signature ("+m.pretty(f)+", expected "+m.pretty(b)+")");}},isSignature:function(b,e){var f=this.reader.index;this.reader.setIndex(b);var k=this.reader.readString(4)===e;return this.reader.setIndex(f),k},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2);this.diskWithCentralDirStart=this.reader.readInt(2);this.centralDirRecordsOnThisDisk=this.reader.readInt(2);this.centralDirRecords=this.reader.readInt(2);this.centralDirSize=this.reader.readInt(4);
this.centralDirOffset=this.reader.readInt(4);this.zipCommentLength=this.reader.readInt(2);var b=this.reader.readData(this.zipCommentLength),b=m.transformTo(n.uint8array?"uint8array":"array",b);this.zipComment=this.loadOptions.decodeFileName(b)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8);this.reader.skip(4);this.diskNumber=this.reader.readInt(4);this.diskWithCentralDirStart=this.reader.readInt(4);this.centralDirRecordsOnThisDisk=this.reader.readInt(8);this.centralDirRecords=
this.reader.readInt(8);this.centralDirSize=this.reader.readInt(8);this.centralDirOffset=this.reader.readInt(8);this.zip64ExtensibleData={};for(var b,e,k,h=this.zip64EndOfCentralSize-44;0<h;)b=this.reader.readInt(2),e=this.reader.readInt(4),k=this.reader.readData(e),this.zip64ExtensibleData[b]={id:b,length:e,value:k}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=
this.reader.readInt(4),1<this.disksCount)throw Error("Multi-volumes zip are not supported");},readLocalFiles:function(){var b,e;for(b=0;b<this.files.length;b++)e=this.files[b],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var b;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)b=new k({zip64:this.zip64},this.loadOptions),
b.readCentralPart(this.reader),this.files.push(b);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length);},readEndOfCentral:function(){var b=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(0>b)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?Error("Corrupted zip : can't find end of central directory"):Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html");
this.reader.setIndex(b);var e=b;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===m.MAX_VALUE_16BITS||this.diskWithCentralDirStart===m.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===m.MAX_VALUE_16BITS||this.centralDirRecords===m.MAX_VALUE_16BITS||this.centralDirSize===m.MAX_VALUE_32BITS||this.centralDirOffset===m.MAX_VALUE_32BITS){if(this.zip64=!0,b=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),0>b)throw Error("Corrupted zip : can't find the ZIP64 end of central directory locator");
if(this.reader.setIndex(b),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),0>this.relativeOffsetEndOfZip64CentralDir))throw Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir);this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END);
this.readBlockZip64EndOfCentral()}b=this.centralDirOffset+this.centralDirSize;this.zip64&&(b+=20,b+=12+this.zip64EndOfCentralSize);b=e-b;if(0<b)this.isSignature(e,r.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(0>b)throw Error("Corrupted zip: missing "+Math.abs(b)+" bytes.");},prepareReader:function(b){this.reader=q(b)},load:function(b){this.prepareReader(b);this.readEndOfCentral();this.readCentralDir();this.readLocalFiles()}};e.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,
"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(b,e,g){function h(b,f){this.options=b;this.loadOptions=f}var q=b("./reader/readerFor"),m=b("./utils"),r=b("./compressedObject"),k=b("./crc32"),n=b("./utf8"),f=b("./compressions"),x=b("./support");h.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},readLocalPart:function(b){var e,k;if(b.skip(22),this.fileNameLength=b.readInt(2),k=b.readInt(2),this.fileName=b.readData(this.fileNameLength),
b.skip(k),-1===this.compressedSize||-1===this.uncompressedSize)throw Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");var h;a:{k=this.compressionMethod;for(h in f)if(f.hasOwnProperty(h)&&f[h].magic===k){h=f[h];break a}h=null}if(e=h,null===e)throw Error("Corrupted zip : compression "+m.pretty(this.compressionMethod)+" unknown (inner file : "+m.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,
this.uncompressedSize,this.crc32,e,b.readData(this.compressedSize))},readCentralPart:function(b){this.versionMadeBy=b.readInt(2);b.skip(2);this.bitFlag=b.readInt(2);this.compressionMethod=b.readString(2);this.date=b.readDate();this.crc32=b.readInt(4);this.compressedSize=b.readInt(4);this.uncompressedSize=b.readInt(4);var f=b.readInt(2);if(this.extraFieldsLength=b.readInt(2),this.fileCommentLength=b.readInt(2),this.diskNumberStart=b.readInt(2),this.internalFileAttributes=b.readInt(2),this.externalFileAttributes=
b.readInt(4),this.localHeaderOffset=b.readInt(4),this.isEncrypted())throw Error("Encrypted zip are not supported");b.skip(f);this.readExtraFields(b);this.parseZIP64ExtraField(b);this.fileComment=b.readData(this.fileCommentLength)},processAttributes:function(){this.dosPermissions=this.unixPermissions=null;var b=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes);0===b&&(this.dosPermissions=63&this.externalFileAttributes);3===b&&(this.unixPermissions=this.externalFileAttributes>>16&65535);
this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(b){this.extraFields[1]&&(b=q(this.extraFields[1].value),this.uncompressedSize===m.MAX_VALUE_32BITS&&(this.uncompressedSize=b.readInt(8)),this.compressedSize===m.MAX_VALUE_32BITS&&(this.compressedSize=b.readInt(8)),this.localHeaderOffset===m.MAX_VALUE_32BITS&&(this.localHeaderOffset=b.readInt(8)),this.diskNumberStart===m.MAX_VALUE_32BITS&&(this.diskNumberStart=b.readInt(4)))},readExtraFields:function(b){var f,
e,k,h=b.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});b.index<h;)f=b.readInt(2),e=b.readInt(2),k=b.readData(e),this.extraFields[f]={id:f,length:e,value:k}},handleUTF8:function(){var b=x.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=n.utf8decode(this.fileName),this.fileCommentStr=n.utf8decode(this.fileComment);else{var f=this.findExtraFieldUnicodePath();null!==f?this.fileNameStr=f:(f=m.transformTo(b,this.fileName),this.fileNameStr=this.loadOptions.decodeFileName(f));
f=this.findExtraFieldUnicodeComment();null!==f?this.fileCommentStr=f:(b=m.transformTo(b,this.fileComment),this.fileCommentStr=this.loadOptions.decodeFileName(b))}},findExtraFieldUnicodePath:function(){var b=this.extraFields[28789];if(b){var f=q(b.value);return 1!==f.readInt(1)?null:k(this.fileName)!==f.readInt(4)?null:n.utf8decode(f.readData(b.length-5))}return null},findExtraFieldUnicodeComment:function(){var b=this.extraFields[25461];if(b){var f=q(b.value);return 1!==f.readInt(1)?null:k(this.fileComment)!==
f.readInt(4)?null:n.utf8decode(f.readData(b.length-5))}return null}};e.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(b,e,g){var h=b("./stream/StreamHelper"),q=b("./stream/DataWorker"),m=b("./utf8"),r=b("./compressedObject"),k=b("./stream/GenericWorker");b=function(b,f,e){this.name=b;this.dir=e.dir;this.date=e.date;this.comment=e.comment;this.unixPermissions=e.unixPermissions;this.dosPermissions=e.dosPermissions;
this._data=f;this._dataBinary=e.binary;this.options={compression:e.compression,compressionOptions:e.compressionOptions}};b.prototype={internalStream:function(b){b=b.toLowerCase();var f="string"===b||"text"===b;"binarystring"!==b&&"text"!==b||(b="string");var e=this._decompressWorker(),k=!this._dataBinary;return k&&!f&&(e=e.pipe(new m.Utf8EncodeWorker)),!k&&f&&(e=e.pipe(new m.Utf8DecodeWorker)),new h(e,b,"")},async:function(b,f){return this.internalStream(b).accumulate(f)},nodeStream:function(b,f){return this.internalStream(b||
"nodebuffer").toNodejsStream(f)},_compressWorker:function(b,f){if(this._data instanceof r&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var e=this._decompressWorker();return this._dataBinary||(e=e.pipe(new m.Utf8EncodeWorker)),r.createWorkerFrom(e,b,f)},_decompressWorker:function(){return this._data instanceof r?this._data.getContentWorker():this._data instanceof k?this._data:new q(this._data)}};g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"];
for(var n=function(){throw Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");},f=0;f<g.length;f++)b.prototype[g[f]]=n;e.exports=b},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(b,e,g){b("../modules/web.immediate");e.exports=b("../modules/_core").setImmediate},{"../modules/_core":40,"../modules/web.immediate":56}],37:[function(b,e,g){e.exports=function(b){if("function"!=typeof b)throw TypeError(b+
" is not a function!");return b}},{}],38:[function(b,e,g){var h=b("./_is-object");e.exports=function(b){if(!h(b))throw TypeError(b+" is not an object!");return b}},{"./_is-object":51}],39:[function(b,e,g){var h={}.toString;e.exports=function(b){return h.call(b).slice(8,-1)}},{}],40:[function(b,e,g){b=e.exports={version:"2.3.0"};"number"==typeof __e&&(__e=b)},{}],41:[function(b,e,g){var h=b("./_a-function");e.exports=function(b,e,g){if(h(b),void 0===e)return b;switch(g){case 1:return function(k){return b.call(e,
k)};case 2:return function(k,h){return b.call(e,k,h)};case 3:return function(k,h,f){return b.call(e,k,h,f)}}return function(){return b.apply(e,arguments)}}},{"./_a-function":37}],42:[function(b,e,g){e.exports=!b("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":45}],43:[function(b,e,g){g=b("./_is-object");var h=b("./_global").document,q=g(h)&&g(h.createElement);e.exports=function(b){return q?h.createElement(b):{}}},{"./_global":46,"./_is-object":51}],
44:[function(b,e,g){var h=b("./_global"),q=b("./_core"),m=b("./_ctx"),r=b("./_hide"),k=function(b,f,e){var g,n,x=b&k.F,v=b&k.G,B=b&k.S,G=b&k.P,C=b&k.B,I=b&k.W,K=v?q:q[f]||(q[f]={}),H=K.prototype,B=v?h:B?h[f]:(h[f]||{}).prototype;v&&(e=f);for(g in e)(f=!x&&B&&void 0!==B[g])&&g in K||(n=f?B[g]:e[g],K[g]=v&&"function"!=typeof B[g]?e[g]:C&&f?m(n,h):I&&B[g]==n?function(b){var f=function(f,e,k){if(this instanceof b){switch(arguments.length){case 0:return new b;case 1:return new b(f);case 2:return new b(f,
e)}return new b(f,e,k)}return b.apply(this,arguments)};return f.prototype=b.prototype,f}(n):G&&"function"==typeof n?m(Function.call,n):n,G&&((K.virtual||(K.virtual={}))[g]=n,b&k.R&&H&&!H[g]&&r(H,g,n)))};k.F=1;k.G=2;k.S=4;k.P=8;k.B=16;k.W=32;k.U=64;k.R=128;e.exports=k},{"./_core":40,"./_ctx":41,"./_global":46,"./_hide":47}],45:[function(b,e,g){e.exports=function(b){try{return!!b()}catch(q){return!0}}},{}],46:[function(b,e,g){b=e.exports="undefined"!=typeof window&&Math==Math?window:"undefined"!=typeof self&&
self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=b)},{}],47:[function(b,e,g){var h=b("./_object-dp"),q=b("./_property-desc");e.exports=b("./_descriptors")?function(b,e,k){return h.f(b,e,q(1,k))}:function(b,e,k){return b[e]=k,b}},{"./_descriptors":42,"./_object-dp":52,"./_property-desc":53}],48:[function(b,e,g){e.exports=b("./_global").document&&document.documentElement},{"./_global":46}],49:[function(b,e,g){e.exports=!b("./_descriptors")&&!b("./_fails")(function(){return 7!=
Object.defineProperty(b("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":42,"./_dom-create":43,"./_fails":45}],50:[function(b,e,g){e.exports=function(b,e,g){var h=void 0===g;switch(e.length){case 0:return h?b():b.call(g);case 1:return h?b(e[0]):b.call(g,e[0]);case 2:return h?b(e[0],e[1]):b.call(g,e[0],e[1]);case 3:return h?b(e[0],e[1],e[2]):b.call(g,e[0],e[1],e[2]);case 4:return h?b(e[0],e[1],e[2],e[3]):b.call(g,e[0],e[1],e[2],e[3])}return b.apply(g,e)}},{}],51:[function(b,
e,g){e.exports=function(b){return"object"==typeof b?null!==b:"function"==typeof b}},{}],52:[function(b,e,g){var h=b("./_an-object"),q=b("./_ie8-dom-define"),m=b("./_to-primitive"),r=Object.defineProperty;g.f=b("./_descriptors")?Object.defineProperty:function(b,e,f){if(h(b),e=m(e,!0),h(f),q)try{return r(b,e,f)}catch(x){}if("get"in f||"set"in f)throw TypeError("Accessors not supported!");return"value"in f&&(b[e]=f.value),b}},{"./_an-object":38,"./_descriptors":42,"./_ie8-dom-define":49,"./_to-primitive":55}],
53:[function(b,e,g){e.exports=function(b,e){return{enumerable:!(1&b),configurable:!(2&b),writable:!(4&b),value:e}}},{}],54:[function(b,e,g){var h,q,m,r=b("./_ctx"),k=b("./_invoke"),n=b("./_html"),f=b("./_dom-create"),x=b("./_global"),y=x.process;g=x.setImmediate;var u=x.clearImmediate,w=x.MessageChannel,v=0,B={},G=function(){var b=+this;if(B.hasOwnProperty(b)){var f=B[b];delete B[b];f()}},C=function(b){G.call(b.data)};g&&u||(g=function(b){for(var f=[],e=1;arguments.length>e;)f.push(arguments[e++]);
return B[++v]=function(){k("function"==typeof b?b:Function(b),f)},h(v),v},u=function(b){delete B[b]},"process"==b("./_cof")(y)?h=function(b){y.nextTick(r(G,b,1))}:w?(q=new w,m=q.port2,q.port1.onmessage=C,h=r(m.postMessage,m,1)):x.addEventListener&&"function"==typeof postMessage&&!x.importScripts?(h=function(b){x.postMessage(b+"","*")},x.addEventListener("message",C,!1)):h="onreadystatechange"in f("script")?function(b){n.appendChild(f("script")).onreadystatechange=function(){n.removeChild(this);G.call(b)}}:
function(b){setTimeout(r(G,b,1),0)});e.exports={set:g,clear:u}},{"./_cof":39,"./_ctx":41,"./_dom-create":43,"./_global":46,"./_html":48,"./_invoke":50}],55:[function(b,e,g){var h=b("./_is-object");e.exports=function(b,e){if(!h(b))return b;var g,k;if(e&&"function"==typeof(g=b.toString)&&!h(k=g.call(b))||"function"==typeof(g=b.valueOf)&&!h(k=g.call(b))||!e&&"function"==typeof(g=b.toString)&&!h(k=g.call(b)))return k;throw TypeError("Can't convert object to primitive value");}},{"./_is-object":51}],56:[function(b,
e,g){e=b("./_export");b=b("./_task");e(e.G+e.B,{setImmediate:b.set,clearImmediate:b.clear})},{"./_export":44,"./_task":54}],57:[function(b,e,g){(function(b){function h(){x=!0;for(var b,f,e=y.length;e;){f=y;y=[];for(b=-1;++b<e;)f[b]();e=y.length}x=!1}var g,r=b.MutationObserver||b.WebKitMutationObserver;if(r){var k=0,r=new r(h),n=b.document.createTextNode("");r.observe(n,{characterData:!0});g=function(){n.data=k=++k%2}}else if(b.setImmediate||"undefined"==typeof b.MessageChannel)g="document"in b&&"onreadystatechange"in
b.document.createElement("script")?function(){var f=b.document.createElement("script");f.onreadystatechange=function(){h();f.onreadystatechange=null;f.parentNode.removeChild(f);f=null};b.document.documentElement.appendChild(f)}:function(){setTimeout(h,0)};else{var f=new b.MessageChannel;f.port1.onmessage=h;g=function(){f.port2.postMessage(0)}}var x,y=[];e.exports=function(b){1!==y.push(b)||x||g()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?
window:{})},{}],58:[function(b,e,g){function h(){}function q(b){if("function"!=typeof b)throw new TypeError("resolver must be a function");this.state=v;this.queue=[];this.outcome=void 0;b!==h&&n(this,b)}function m(b,f,e){this.promise=b;"function"==typeof f&&(this.onFulfilled=f,this.callFulfilled=this.otherCallFulfilled);"function"==typeof e&&(this.onRejected=e,this.callRejected=this.otherCallRejected)}function r(b,f,e){x(function(){var k;try{k=f(e)}catch(K){return y.reject(b,K)}k===b?y.reject(b,new TypeError("Cannot resolve promise with itself")):
y.resolve(b,k)})}function k(b){var f=b&&b.then;if(b&&"object"==typeof b&&"function"==typeof f)return function(){f.apply(b,arguments)}}function n(b,e){function k(f){g||(g=!0,y.reject(b,f))}function h(f){g||(g=!0,y.resolve(b,f))}var g=!1,n=f(function(){e(h,k)});"error"===n.status&&k(n.value)}function f(b,f){var e={};try{e.value=b(f),e.status="success"}catch(I){e.status="error",e.value=I}return e}var x=b("immediate"),y={},u=["REJECTED"],w=["FULFILLED"],v=["PENDING"];e.exports=q;q.prototype["catch"]=
function(b){return this.then(null,b)};q.prototype.then=function(b,f){if("function"!=typeof b&&this.state===w||"function"!=typeof f&&this.state===u)return this;var e=new this.constructor(h);this.state!==v?r(e,this.state===w?b:f,this.outcome):this.queue.push(new m(e,b,f));return e};m.prototype.callFulfilled=function(b){y.resolve(this.promise,b)};m.prototype.otherCallFulfilled=function(b){r(this.promise,this.onFulfilled,b)};m.prototype.callRejected=function(b){y.reject(this.promise,b)};m.prototype.otherCallRejected=
function(b){r(this.promise,this.onRejected,b)};y.resolve=function(b,e){var h=f(k,e);if("error"===h.status)return y.reject(b,h.value);if(h=h.value)n(b,h);else{b.state=w;b.outcome=e;for(var h=-1,g=b.queue.length;++h<g;)b.queue[h].callFulfilled(e)}return b};y.reject=function(b,f){b.state=u;b.outcome=f;for(var e=-1,k=b.queue.length;++e<k;)b.queue[e].callRejected(f);return b};q.resolve=function(b){return b instanceof this?b:y.resolve(new this(h),b)};q.reject=function(b){var f=new this(h);return y.reject(f,
b)};q.all=function(b){function f(b,f){e.resolve(b).then(function(b){n[f]=b;++m!==k||g||(g=!0,y.resolve(x,n))},function(b){g||(g=!0,y.reject(x,b))})}var e=this;if("[object Array]"!==Object.prototype.toString.call(b))return this.reject(new TypeError("must be an array"));var k=b.length,g=!1;if(!k)return this.resolve([]);for(var n=Array(k),m=0,q=-1,x=new this(h);++q<k;)f(b[q],q);return x};q.race=function(b){function f(b){e.resolve(b).then(function(b){g||(g=!0,y.resolve(m,b))},function(b){g||(g=!0,y.reject(m,
b))})}var e=this;if("[object Array]"!==Object.prototype.toString.call(b))return this.reject(new TypeError("must be an array"));var k=b.length,g=!1;if(!k)return this.resolve([]);for(var n=-1,m=new this(h);++n<k;)f(b[n]);return m}},{immediate:57}],59:[function(b,e,g){g=b("./lib/utils/common").assign;var h=b("./lib/deflate"),q=b("./lib/inflate");b=b("./lib/zlib/constants");var m={};g(m,h,q,b);e.exports=m},{"./lib/deflate":60,"./lib/inflate":61,"./lib/utils/common":62,"./lib/zlib/constants":65}],60:[function(b,
e,g){function h(b){if(!(this instanceof h))return new h(b);b=this.options=r.assign({level:u,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:w,to:""},b||{});b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&16>b.windowBits&&(b.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new f;this.strm.avail_out=0;var e=m.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(e!==y)throw Error(n[e]);if(b.header&&m.deflateSetHeader(this.strm,
b.header),b.dictionary){var g;if(g="string"==typeof b.dictionary?k.string2buf(b.dictionary):"[object ArrayBuffer]"===x.call(b.dictionary)?new Uint8Array(b.dictionary):b.dictionary,e=m.deflateSetDictionary(this.strm,g),e!==y)throw Error(n[e]);this._dict_set=!0}}function q(b,f){var e=new h(f);if(e.push(b,!0),e.err)throw e.msg;return e.result}var m=b("./zlib/deflate"),r=b("./utils/common"),k=b("./utils/strings"),n=b("./zlib/messages"),f=b("./zlib/zstream"),x=Object.prototype.toString,y=0,u=-1,w=0,v=
8;h.prototype.push=function(b,f){var e,h,g=this.strm,n=this.options.chunkSize;if(this.ended)return!1;h=f===~~f?f:!0===f?4:0;"string"==typeof b?g.input=k.string2buf(b):"[object ArrayBuffer]"===x.call(b)?g.input=new Uint8Array(b):g.input=b;g.next_in=0;g.avail_in=g.input.length;do{if(0===g.avail_out&&(g.output=new r.Buf8(n),g.next_out=0,g.avail_out=n),e=m.deflate(g,h),1!==e&&e!==y)return this.onEnd(e),this.ended=!0,!1;0!==g.avail_out&&(0!==g.avail_in||4!==h&&2!==h)||("string"===this.options.to?this.onData(k.buf2binstring(r.shrinkBuf(g.output,
g.next_out))):this.onData(r.shrinkBuf(g.output,g.next_out)))}while((0<g.avail_in||0===g.avail_out)&&1!==e);return 4===h?(e=m.deflateEnd(this.strm),this.onEnd(e),this.ended=!0,e===y):2!==h||(this.onEnd(y),g.avail_out=0,!0)};h.prototype.onData=function(b){this.chunks.push(b)};h.prototype.onEnd=function(b){b===y&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks));this.chunks=[];this.err=b;this.msg=this.strm.msg};g.Deflate=h;g.deflate=q;g.deflateRaw=
function(b,f){return f=f||{},f.raw=!0,q(b,f)};g.gzip=function(b,f){return f=f||{},f.gzip=!0,q(b,f)}},{"./utils/common":62,"./utils/strings":63,"./zlib/deflate":67,"./zlib/messages":72,"./zlib/zstream":74}],61:[function(b,e,g){function h(b){if(!(this instanceof h))return new h(b);var e=this.options=r.assign({chunkSize:16384,windowBits:0,to:""},b||{});e.raw&&0<=e.windowBits&&16>e.windowBits&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15));!(0<=e.windowBits&&16>e.windowBits)||b&&b.windowBits||
(e.windowBits+=32);15<e.windowBits&&48>e.windowBits&&0===(15&e.windowBits)&&(e.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new x;this.strm.avail_out=0;b=m.inflateInit2(this.strm,e.windowBits);if(b!==n.Z_OK)throw Error(f[b]);this.header=new y;m.inflateGetHeader(this.strm,this.header)}function q(b,f){var e=new h(f);if(e.push(b,!0),e.err)throw e.msg;return e.result}var m=b("./zlib/inflate"),r=b("./utils/common"),k=b("./utils/strings"),n=b("./zlib/constants"),f=b("./zlib/messages"),
x=b("./zlib/zstream"),y=b("./zlib/gzheader"),u=Object.prototype.toString;h.prototype.push=function(b,f){var e,h,g,q,x,w,v=this.strm,y=this.options.chunkSize,D=this.options.dictionary,A=!1;if(this.ended)return!1;h=f===~~f?f:!0===f?n.Z_FINISH:n.Z_NO_FLUSH;"string"==typeof b?v.input=k.binstring2buf(b):"[object ArrayBuffer]"===u.call(b)?v.input=new Uint8Array(b):v.input=b;v.next_in=0;v.avail_in=v.input.length;do{if(0===v.avail_out&&(v.output=new r.Buf8(y),v.next_out=0,v.avail_out=y),e=m.inflate(v,n.Z_NO_FLUSH),
e===n.Z_NEED_DICT&&D&&(w="string"==typeof D?k.string2buf(D):"[object ArrayBuffer]"===u.call(D)?new Uint8Array(D):D,e=m.inflateSetDictionary(this.strm,w)),e===n.Z_BUF_ERROR&&!0===A&&(e=n.Z_OK,A=!1),e!==n.Z_STREAM_END&&e!==n.Z_OK)return this.onEnd(e),this.ended=!0,!1;v.next_out&&(0!==v.avail_out&&e!==n.Z_STREAM_END&&(0!==v.avail_in||h!==n.Z_FINISH&&h!==n.Z_SYNC_FLUSH)||("string"===this.options.to?(g=k.utf8border(v.output,v.next_out),q=v.next_out-g,x=k.buf2string(v.output,g),v.next_out=q,v.avail_out=
y-q,q&&r.arraySet(v.output,v.output,g,q,0),this.onData(x)):this.onData(r.shrinkBuf(v.output,v.next_out))));0===v.avail_in&&0===v.avail_out&&(A=!0)}while((0<v.avail_in||0===v.avail_out)&&e!==n.Z_STREAM_END);return e===n.Z_STREAM_END&&(h=n.Z_FINISH),h===n.Z_FINISH?(e=m.inflateEnd(this.strm),this.onEnd(e),this.ended=!0,e===n.Z_OK):h!==n.Z_SYNC_FLUSH||(this.onEnd(n.Z_OK),v.avail_out=0,!0)};h.prototype.onData=function(b){this.chunks.push(b)};h.prototype.onEnd=function(b){b===n.Z_OK&&("string"===this.options.to?
this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks));this.chunks=[];this.err=b;this.msg=this.strm.msg};g.Inflate=h;g.inflate=q;g.inflateRaw=function(b,f){return f=f||{},f.raw=!0,q(b,f)};g.ungzip=q},{"./utils/common":62,"./utils/strings":63,"./zlib/constants":65,"./zlib/gzheader":68,"./zlib/inflate":70,"./zlib/messages":72,"./zlib/zstream":74}],62:[function(b,e,g){b="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;g.assign=function(b){for(var e=
Array.prototype.slice.call(arguments,1);e.length;){var k=e.shift();if(k){if("object"!=typeof k)throw new TypeError(k+"must be non-object");for(var h in k)k.hasOwnProperty(h)&&(b[h]=k[h])}}return b};g.shrinkBuf=function(b,e){return b.length===e?b:b.subarray?b.subarray(0,e):(b.length=e,b)};var h={arraySet:function(b,e,k,h,f){if(e.subarray&&b.subarray)return void b.set(e.subarray(k,k+h),f);for(var g=0;g<h;g++)b[f+g]=e[k+g]},flattenChunks:function(b){var e,k,h,f,g;e=h=0;for(k=b.length;e<k;e++)h+=b[e].length;
g=new Uint8Array(h);e=h=0;for(k=b.length;e<k;e++)f=b[e],g.set(f,h),h+=f.length;return g}},q={arraySet:function(b,e,k,h,f){for(var g=0;g<h;g++)b[f+g]=e[k+g]},flattenChunks:function(b){return[].concat.apply([],b)}};g.setTyped=function(b){b?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,h)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,q))};g.setTyped(b)},{}],63:[function(b,e,g){function h(b,f){if(65537>f&&(b.subarray&&r||!b.subarray&&m))return String.fromCharCode.apply(null,
q.shrinkBuf(b,f));for(var e="",k=0;k<f;k++)e+=String.fromCharCode(b[k]);return e}var q=b("./common"),m=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(n){m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(n){r=!1}var k=new q.Buf8(256);for(b=0;256>b;b++)k[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;k[254]=k[254]=1;g.string2buf=function(b){var f,e,k,h,g,n=b.length,m=0;for(h=0;h<n;h++)e=b.charCodeAt(h),55296===(64512&e)&&h+1<n&&(k=b.charCodeAt(h+1),56320===(64512&k)&&(e=65536+
(e-55296<<10)+(k-56320),h++)),m+=128>e?1:2048>e?2:65536>e?3:4;f=new q.Buf8(m);for(h=g=0;g<m;h++)e=b.charCodeAt(h),55296===(64512&e)&&h+1<n&&(k=b.charCodeAt(h+1),56320===(64512&k)&&(e=65536+(e-55296<<10)+(k-56320),h++)),128>e?f[g++]=e:2048>e?(f[g++]=192|e>>>6,f[g++]=128|63&e):65536>e?(f[g++]=224|e>>>12,f[g++]=128|e>>>6&63,f[g++]=128|63&e):(f[g++]=240|e>>>18,f[g++]=128|e>>>12&63,f[g++]=128|e>>>6&63,f[g++]=128|63&e);return f};g.buf2binstring=function(b){return h(b,b.length)};g.binstring2buf=function(b){for(var f=
new q.Buf8(b.length),e=0,k=f.length;e<k;e++)f[e]=b.charCodeAt(e);return f};g.buf2string=function(b,f){var e,g,n,q,m=f||b.length,r=Array(2*m);for(e=g=0;e<m;)if(n=b[e++],128>n)r[g++]=n;else if(q=k[n],4<q)r[g++]=65533,e+=q-1;else{for(n&=2===q?31:3===q?15:7;1<q&&e<m;)n=n<<6|63&b[e++],q--;1<q?r[g++]=65533:65536>n?r[g++]=n:(n-=65536,r[g++]=55296|n>>10&1023,r[g++]=56320|1023&n)}return h(r,g)};g.utf8border=function(b,f){var e;f=f||b.length;f>b.length&&(f=b.length);for(e=f-1;0<=e&&128===(192&b[e]);)e--;return 0>
e?f:0===e?f:e+k[b[e]]>f?e:f}},{"./common":62}],64:[function(b,e,g){e.exports=function(b,e,g,r){var k=65535&b|0;b=b>>>16&65535|0;for(var h;0!==g;){h=2E3<g?2E3:g;g-=h;do k=k+e[r++]|0,b=b+k|0;while(--h);k%=65521;b%=65521}return k|b<<16|0}},{}],65:[function(b,e,g){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,
Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],66:[function(b,e,g){var h=function(){for(var b,e=[],h=0;256>h;h++){b=h;for(var k=0;8>k;k++)b=1&b?3988292384^b>>>1:b>>>1;e[h]=b}return e}();e.exports=function(b,e,g,k){g=k+g;for(b^=-1;k<g;k++)b=b>>>8^h[255&(b^e[k])];return b^-1}},{}],67:[function(b,e,g){function h(b,f){return b.msg=D[f],f}function q(b){for(var f=b.length;0<=--f;)b[f]=0}function m(b){var f=
b.state,e=f.pending;e>b.avail_out&&(e=b.avail_out);0!==e&&(K.arraySet(b.output,f.pending_buf,f.pending_out,e,b.next_out),b.next_out+=e,f.pending_out+=e,b.total_out+=e,b.avail_out-=e,f.pending-=e,0===f.pending&&(f.pending_out=0))}function r(b,f){H._tr_flush_block(b,0<=b.block_start?b.block_start:-1,b.strstart-b.block_start,f);b.block_start=b.strstart;m(b.strm)}function k(b,f){b.pending_buf[b.pending++]=f}function n(b,f){b.pending_buf[b.pending++]=f>>>8&255;b.pending_buf[b.pending++]=255&f}function f(b,
f){var e,k,h=b.max_chain_length,g=b.strstart,n=b.prev_length,z=b.nice_match,q=b.strstart>b.w_size-W?b.strstart-(b.w_size-W):0,m=b.window,J=b.w_mask,u=b.prev,p=b.strstart+T,D=m[g+n-1],x=m[g+n];b.prev_length>=b.good_match&&(h>>=2);z>b.lookahead&&(z=b.lookahead);do if(e=f,m[e+n]===x&&m[e+n-1]===D&&m[e]===m[g]&&m[++e]===m[g+1]){g+=2;for(e++;m[++g]===m[++e]&&m[++g]===m[++e]&&m[++g]===m[++e]&&m[++g]===m[++e]&&m[++g]===m[++e]&&m[++g]===m[++e]&&m[++g]===m[++e]&&m[++g]===m[++e]&&g<p;);if(k=T-(p-g),g=p-T,k>
n){if(b.match_start=f,n=k,k>=z)break;D=m[g+n-1];x=m[g+n]}}while((f=u[f&J])>q&&0!==--h);return n<=b.lookahead?n:b.lookahead}function x(b){var f,e,k,h,g=b.w_size;do{if(h=b.window_size-b.lookahead-b.strstart,b.strstart>=g+(g-W)){K.arraySet(b.window,b.window,g,g,0);b.match_start-=g;b.strstart-=g;b.block_start-=g;f=e=b.hash_size;do k=b.head[--f],b.head[f]=k>=g?k-g:0;while(--e);f=e=g;do k=b.prev[--f],b.prev[f]=k>=g?k-g:0;while(--e);h+=g}if(0===b.strm.avail_in)break;f=b.strm;k=b.window;var n=b.strstart+
b.lookahead,z=f.avail_in;if(e=(z>h&&(z=h),0===z?0:(f.avail_in-=z,K.arraySet(k,f.input,f.next_in,z,n),1===f.state.wrap?f.adler=Q(f.adler,k,z,n):2===f.state.wrap&&(f.adler=M(f.adler,k,z,n)),f.next_in+=z,f.total_in+=z,z)),b.lookahead+=e,b.lookahead+b.insert>=N)for(h=b.strstart-b.insert,b.ins_h=b.window[h],b.ins_h=(b.ins_h<<b.hash_shift^b.window[h+1])&b.hash_mask;b.insert&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[h+N-1])&b.hash_mask,b.prev[h&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=h,h++,b.insert--,
!(b.lookahead+b.insert<N)););}while(b.lookahead<W&&0!==b.strm.avail_in)}function y(b,e){for(var k,h;;){if(b.lookahead<W){if(x(b),b.lookahead<W&&e===A)return X;if(0===b.lookahead)break}if(k=0,b.lookahead>=N&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+N-1])&b.hash_mask,k=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),0!==k&&b.strstart-k<=b.w_size-W&&(b.match_length=f(b,k)),b.match_length>=N)if(h=H._tr_tally(b,b.strstart-b.match_start,b.match_length-N),b.lookahead-=
b.match_length,b.match_length<=b.max_lazy_match&&b.lookahead>=N){b.match_length--;do b.strstart++,b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+N-1])&b.hash_mask,k=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart;while(0!==--b.match_length);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+1])&b.hash_mask;else h=H._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(h&&
(r(b,!1),0===b.strm.avail_out))return X}return b.insert=b.strstart<N-1?b.strstart:N-1,e===z?(r(b,!0),0===b.strm.avail_out?fa:Y):b.last_lit&&(r(b,!1),0===b.strm.avail_out)?X:ca}function u(b,e){for(var k,h,g;;){if(b.lookahead<W){if(x(b),b.lookahead<W&&e===A)return X;if(0===b.lookahead)break}if(k=0,b.lookahead>=N&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+N-1])&b.hash_mask,k=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),b.prev_length=b.match_length,b.prev_match=b.match_start,
b.match_length=N-1,0!==k&&b.prev_length<b.max_lazy_match&&b.strstart-k<=b.w_size-W&&(b.match_length=f(b,k),5>=b.match_length&&(b.strategy===ga||b.match_length===N&&4096<b.strstart-b.match_start)&&(b.match_length=N-1)),b.prev_length>=N&&b.match_length<=b.prev_length){g=b.strstart+b.lookahead-N;h=H._tr_tally(b,b.strstart-1-b.prev_match,b.prev_length-N);b.lookahead-=b.prev_length-1;b.prev_length-=2;do++b.strstart<=g&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+N-1])&b.hash_mask,k=b.prev[b.strstart&
b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart);while(0!==--b.prev_length);if(b.match_available=0,b.match_length=N-1,b.strstart++,h&&(r(b,!1),0===b.strm.avail_out))return X}else if(b.match_available){if(h=H._tr_tally(b,0,b.window[b.strstart-1]),h&&r(b,!1),b.strstart++,b.lookahead--,0===b.strm.avail_out)return X}else b.match_available=1,b.strstart++,b.lookahead--}return b.match_available&&(H._tr_tally(b,0,b.window[b.strstart-1]),b.match_available=0),b.insert=b.strstart<N-1?b.strstart:N-1,e===
z?(r(b,!0),0===b.strm.avail_out?fa:Y):b.last_lit&&(r(b,!1),0===b.strm.avail_out)?X:ca}function w(b,f,e,k,h){this.good_length=b;this.max_lazy=f;this.nice_length=e;this.max_chain=k;this.func=h}function v(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=aa;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=
this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new K.Buf16(2*na);this.dyn_dtree=new K.Buf16(2*(2*ma+1));this.bl_tree=new K.Buf16(2*(2*O+1));q(this.dyn_ltree);q(this.dyn_dtree);q(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new K.Buf16(V+
1);this.heap=new K.Buf16(2*ta+1);q(this.heap);this.heap_max=this.heap_len=0;this.depth=new K.Buf16(2*ta+1);q(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function B(b){var f;return b&&b.state?(b.total_in=b.total_out=0,b.data_type=ka,f=b.state,f.pending=0,f.pending_out=0,0>f.wrap&&(f.wrap=-f.wrap),f.status=f.wrap?ha:ia,b.adler=2===f.wrap?0:1,f.last_flush=A,H._tr_init(f),R):h(b,P)}function G(b){var f=
B(b);f===R&&(b=b.state,b.window_size=2*b.w_size,q(b.head),b.max_lazy_match=I[b.level].max_lazy,b.good_match=I[b.level].good_length,b.nice_match=I[b.level].nice_length,b.max_chain_length=I[b.level].max_chain,b.strstart=0,b.block_start=0,b.lookahead=0,b.insert=0,b.match_length=b.prev_length=N-1,b.match_available=0,b.ins_h=0);return f}function C(b,f,e,k,g,n){if(!b)return P;var z=1;if(f===S&&(f=6),0>k?(z=0,k=-k):15<k&&(z=2,k-=16),1>g||g>E||e!==aa||8>k||15<k||0>f||9<f||0>n||n>ba)return h(b,P);8===k&&(k=
9);var m=new v;return b.state=m,m.strm=b,m.wrap=z,m.gzhead=null,m.w_bits=k,m.w_size=1<<m.w_bits,m.w_mask=m.w_size-1,m.hash_bits=g+7,m.hash_size=1<<m.hash_bits,m.hash_mask=m.hash_size-1,m.hash_shift=~~((m.hash_bits+N-1)/N),m.window=new K.Buf8(2*m.w_size),m.head=new K.Buf16(m.hash_size),m.prev=new K.Buf16(m.w_size),m.lit_bufsize=1<<g+6,m.pending_buf_size=4*m.lit_bufsize,m.pending_buf=new K.Buf8(m.pending_buf_size),m.d_buf=1*m.lit_bufsize,m.l_buf=3*m.lit_bufsize,m.level=f,m.strategy=n,m.method=e,G(b)}
var I,K=b("../utils/common"),H=b("./trees"),Q=b("./adler32"),M=b("./crc32"),D=b("./messages"),A=0,z=4,R=0,P=-2,S=-1,ga=1,ba=4,ka=2,aa=8,E=9,ta=286,ma=30,O=19,na=2*ta+1,V=15,N=3,T=258,W=T+N+1,ha=42,ia=113,X=1,ca=2,fa=3,Y=4;I=[new w(0,0,0,0,function(b,f){var e=65535;for(e>b.pending_buf_size-5&&(e=b.pending_buf_size-5);;){if(1>=b.lookahead){if(x(b),0===b.lookahead&&f===A)return X;if(0===b.lookahead)break}b.strstart+=b.lookahead;b.lookahead=0;var k=b.block_start+e;if((0===b.strstart||b.strstart>=k)&&
(b.lookahead=b.strstart-k,b.strstart=k,r(b,!1),0===b.strm.avail_out)||b.strstart-b.block_start>=b.w_size-W&&(r(b,!1),0===b.strm.avail_out))return X}return b.insert=0,f===z?(r(b,!0),0===b.strm.avail_out?fa:Y):(b.strstart>b.block_start&&r(b,!1),X)}),new w(4,4,8,4,y),new w(4,5,16,8,y),new w(4,6,32,32,y),new w(4,4,16,16,u),new w(8,16,32,32,u),new w(8,16,128,128,u),new w(8,32,128,256,u),new w(32,128,258,1024,u),new w(32,258,258,4096,u)];g.deflateInit=function(b,f){return C(b,f,aa,15,8,0)};g.deflateInit2=
C;g.deflateReset=G;g.deflateResetKeep=B;g.deflateSetHeader=function(b,f){return b&&b.state?2!==b.state.wrap?P:(b.state.gzhead=f,R):P};g.deflate=function(b,f){var e,g,u,D;if(!b||!b.state||5<f||0>f)return b?h(b,P):P;if(g=b.state,!b.output||!b.input&&0!==b.avail_in||666===g.status&&f!==z)return h(b,0===b.avail_out?-5:P);if(g.strm=b,e=g.last_flush,g.last_flush=f,g.status===ha)2===g.wrap?(b.adler=0,k(g,31),k(g,139),k(g,8),g.gzhead?(k(g,(g.gzhead.text?1:0)+(g.gzhead.hcrc?2:0)+(g.gzhead.extra?4:0)+(g.gzhead.name?
8:0)+(g.gzhead.comment?16:0)),k(g,255&g.gzhead.time),k(g,g.gzhead.time>>8&255),k(g,g.gzhead.time>>16&255),k(g,g.gzhead.time>>24&255),k(g,9===g.level?2:2<=g.strategy||2>g.level?4:0),k(g,255&g.gzhead.os),g.gzhead.extra&&g.gzhead.extra.length&&(k(g,255&g.gzhead.extra.length),k(g,g.gzhead.extra.length>>8&255)),g.gzhead.hcrc&&(b.adler=M(b.adler,g.pending_buf,g.pending,0)),g.gzindex=0,g.status=69):(k(g,0),k(g,0),k(g,0),k(g,0),k(g,0),k(g,9===g.level?2:2<=g.strategy||2>g.level?4:0),k(g,3),g.status=ia)):(u=
aa+(g.w_bits-8<<4)<<8,u|=(2<=g.strategy||2>g.level?0:6>g.level?1:6===g.level?2:3)<<6,0!==g.strstart&&(u|=32),g.status=ia,n(g,u+(31-u%31)),0!==g.strstart&&(n(g,b.adler>>>16),n(g,65535&b.adler)),b.adler=1);if(69===g.status)if(g.gzhead.extra){for(u=g.pending;g.gzindex<(65535&g.gzhead.extra.length)&&(g.pending!==g.pending_buf_size||(g.gzhead.hcrc&&g.pending>u&&(b.adler=M(b.adler,g.pending_buf,g.pending-u,u)),m(b),u=g.pending,g.pending!==g.pending_buf_size));)k(g,255&g.gzhead.extra[g.gzindex]),g.gzindex++;
g.gzhead.hcrc&&g.pending>u&&(b.adler=M(b.adler,g.pending_buf,g.pending-u,u));g.gzindex===g.gzhead.extra.length&&(g.gzindex=0,g.status=73)}else g.status=73;if(73===g.status)if(g.gzhead.name){u=g.pending;do{if(g.pending===g.pending_buf_size&&(g.gzhead.hcrc&&g.pending>u&&(b.adler=M(b.adler,g.pending_buf,g.pending-u,u)),m(b),u=g.pending,g.pending===g.pending_buf_size)){D=1;break}D=g.gzindex<g.gzhead.name.length?255&g.gzhead.name.charCodeAt(g.gzindex++):0;k(g,D)}while(0!==D);g.gzhead.hcrc&&g.pending>u&&
(b.adler=M(b.adler,g.pending_buf,g.pending-u,u));0===D&&(g.gzindex=0,g.status=91)}else g.status=91;if(91===g.status)if(g.gzhead.comment){u=g.pending;do{if(g.pending===g.pending_buf_size&&(g.gzhead.hcrc&&g.pending>u&&(b.adler=M(b.adler,g.pending_buf,g.pending-u,u)),m(b),u=g.pending,g.pending===g.pending_buf_size)){D=1;break}D=g.gzindex<g.gzhead.comment.length?255&g.gzhead.comment.charCodeAt(g.gzindex++):0;k(g,D)}while(0!==D);g.gzhead.hcrc&&g.pending>u&&(b.adler=M(b.adler,g.pending_buf,g.pending-u,
u));0===D&&(g.status=103)}else g.status=103;if(103===g.status&&(g.gzhead.hcrc?(g.pending+2>g.pending_buf_size&&m(b),g.pending+2<=g.pending_buf_size&&(k(g,255&b.adler),k(g,b.adler>>8&255),b.adler=0,g.status=ia)):g.status=ia),0!==g.pending){if(m(b),0===b.avail_out)return g.last_flush=-1,R}else if(0===b.avail_in&&(f<<1)-(4<f?9:0)<=(e<<1)-(4<e?9:0)&&f!==z)return h(b,-5);if(666===g.status&&0!==b.avail_in)return h(b,-5);if(0!==b.avail_in||0!==g.lookahead||f!==A&&666!==g.status){var w;if(2===g.strategy)a:{for(var v;;){if(0===
g.lookahead&&(x(g),0===g.lookahead)){if(f===A){w=X;break a}break}if(g.match_length=0,v=H._tr_tally(g,0,g.window[g.strstart]),g.lookahead--,g.strstart++,v&&(r(g,!1),0===g.strm.avail_out)){w=X;break a}}w=(g.insert=0,f===z?(r(g,!0),0===g.strm.avail_out?fa:Y):g.last_lit&&(r(g,!1),0===g.strm.avail_out)?X:ca)}else if(3===g.strategy)a:{var y,B;for(v=g.window;;){if(g.lookahead<=T){if(x(g),g.lookahead<=T&&f===A){w=X;break a}if(0===g.lookahead)break}if(g.match_length=0,g.lookahead>=N&&0<g.strstart&&(B=g.strstart-
1,y=v[B],y===v[++B]&&y===v[++B]&&y===v[++B])){for(e=g.strstart+T;y===v[++B]&&y===v[++B]&&y===v[++B]&&y===v[++B]&&y===v[++B]&&y===v[++B]&&y===v[++B]&&y===v[++B]&&B<e;);g.match_length=T-(e-B);g.match_length>g.lookahead&&(g.match_length=g.lookahead)}if(g.match_length>=N?(w=H._tr_tally(g,1,g.match_length-N),g.lookahead-=g.match_length,g.strstart+=g.match_length,g.match_length=0):(w=H._tr_tally(g,0,g.window[g.strstart]),g.lookahead--,g.strstart++),w&&(r(g,!1),0===g.strm.avail_out)){w=X;break a}}w=(g.insert=
0,f===z?(r(g,!0),0===g.strm.avail_out?fa:Y):g.last_lit&&(r(g,!1),0===g.strm.avail_out)?X:ca)}else w=I[g.level].func(g,f);if(w!==fa&&w!==Y||(g.status=666),w===X||w===fa)return 0===b.avail_out&&(g.last_flush=-1),R;if(w===ca&&(1===f?H._tr_align(g):5!==f&&(H._tr_stored_block(g,0,0,!1),3===f&&(q(g.head),0===g.lookahead&&(g.strstart=0,g.block_start=0,g.insert=0))),m(b),0===b.avail_out))return g.last_flush=-1,R}return f!==z?R:0>=g.wrap?1:(2===g.wrap?(k(g,255&b.adler),k(g,b.adler>>8&255),k(g,b.adler>>16&
255),k(g,b.adler>>24&255),k(g,255&b.total_in),k(g,b.total_in>>8&255),k(g,b.total_in>>16&255),k(g,b.total_in>>24&255)):(n(g,b.adler>>>16),n(g,65535&b.adler)),m(b),0<g.wrap&&(g.wrap=-g.wrap),0!==g.pending?R:1)};g.deflateEnd=function(b){var f;return b&&b.state?(f=b.state.status,f!==ha&&69!==f&&73!==f&&91!==f&&103!==f&&f!==ia&&666!==f?h(b,P):(b.state=null,f===ia?h(b,-3):R)):P};g.deflateSetDictionary=function(b,f){var e,g,k,h,n,m,z;g=f.length;if(!b||!b.state||(e=b.state,h=e.wrap,2===h||1===h&&e.status!==
ha||e.lookahead))return P;1===h&&(b.adler=Q(b.adler,f,g,0));e.wrap=0;g>=e.w_size&&(0===h&&(q(e.head),e.strstart=0,e.block_start=0,e.insert=0),n=new K.Buf8(e.w_size),K.arraySet(n,f,g-e.w_size,e.w_size,0),f=n,g=e.w_size);n=b.avail_in;m=b.next_in;z=b.input;b.avail_in=g;b.next_in=0;b.input=f;for(x(e);e.lookahead>=N;){g=e.strstart;k=e.lookahead-(N-1);do e.ins_h=(e.ins_h<<e.hash_shift^e.window[g+N-1])&e.hash_mask,e.prev[g&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=g,g++;while(--k);e.strstart=g;e.lookahead=
N-1;x(e)}return e.strstart+=e.lookahead,e.block_start=e.strstart,e.insert=e.lookahead,e.lookahead=0,e.match_length=e.prev_length=N-1,e.match_available=0,b.next_in=m,b.input=z,b.avail_in=n,e.wrap=h,R};g.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./messages":72,"./trees":73}],68:[function(b,e,g){e.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1}},
{}],69:[function(b,e,g){e.exports=function(b,e){var g,h,k,n,f,q,y,u,w,v,B,G,C,I,K,H,Q,M,D,A,z,R,P,S;g=b.state;h=b.next_in;P=b.input;k=h+(b.avail_in-5);n=b.next_out;S=b.output;f=n-(e-b.avail_out);q=n+(b.avail_out-257);y=g.dmax;u=g.wsize;w=g.whave;v=g.wnext;B=g.window;G=g.hold;C=g.bits;I=g.lencode;K=g.distcode;H=(1<<g.lenbits)-1;Q=(1<<g.distbits)-1;a:do b:for(15>C&&(G+=P[h++]<<C,C+=8,G+=P[h++]<<C,C+=8),M=I[G&H];;){if(D=M>>>24,G>>>=D,C-=D,D=M>>>16&255,0===D)S[n++]=65535&M;else{if(!(16&D)){if(0===(64&
D)){M=I[(65535&M)+(G&(1<<D)-1)];continue b}if(32&D){g.mode=12;break a}b.msg="invalid literal/length code";g.mode=30;break a}A=65535&M;(D&=15)&&(C<D&&(G+=P[h++]<<C,C+=8),A+=G&(1<<D)-1,G>>>=D,C-=D);15>C&&(G+=P[h++]<<C,C+=8,G+=P[h++]<<C,C+=8);M=K[G&Q];c:for(;;){if(D=M>>>24,G>>>=D,C-=D,D=M>>>16&255,!(16&D)){if(0===(64&D)){M=K[(65535&M)+(G&(1<<D)-1)];continue c}b.msg="invalid distance code";g.mode=30;break a}if(z=65535&M,D&=15,C<D&&(G+=P[h++]<<C,C+=8,C<D&&(G+=P[h++]<<C,C+=8)),z+=G&(1<<D)-1,z>y){b.msg=
"invalid distance too far back";g.mode=30;break a}if(G>>>=D,C-=D,D=n-f,z>D){if(D=z-D,D>w&&g.sane){b.msg="invalid distance too far back";g.mode=30;break a}if(M=0,R=B,0===v){if(M+=u-D,D<A){A-=D;do S[n++]=B[M++];while(--D);M=n-z;R=S}}else if(v<D){if(M+=u+v-D,D-=v,D<A){A-=D;do S[n++]=B[M++];while(--D);if(M=0,v<A){D=v;A-=D;do S[n++]=B[M++];while(--D);M=n-z;R=S}}}else if(M+=v-D,D<A){A-=D;do S[n++]=B[M++];while(--D);M=n-z;R=S}for(;2<A;)S[n++]=R[M++],S[n++]=R[M++],S[n++]=R[M++],A-=3;A&&(S[n++]=R[M++],1<A&&
(S[n++]=R[M++]))}else{M=n-z;do S[n++]=S[M++],S[n++]=S[M++],S[n++]=S[M++],A-=3;while(2<A);A&&(S[n++]=S[M++],1<A&&(S[n++]=S[M++]))}break}}break}while(h<k&&n<q);A=C>>3;h-=A;C-=A<<3;b.next_in=h;b.next_out=n;b.avail_in=h<k?5+(k-h):5-(h-k);b.avail_out=n<q?257+(q-n):257-(n-q);g.hold=G&(1<<C)-1;g.bits=C}},{}],70:[function(b,e,g){function h(b){return(b>>>24&255)+(b>>>8&65280)+((65280&b)<<8)+((255&b)<<24)}function q(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=
0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new u.Buf16(320);this.work=new u.Buf16(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function m(b){var f;return b&&b.state?(f=b.state,b.total_in=b.total_out=f.total=0,b.msg="",f.wrap&&(b.adler=1&f.wrap),f.mode=K,f.last=
0,f.havedict=0,f.dmax=32768,f.head=null,f.hold=0,f.bits=0,f.lencode=f.lendyn=new u.Buf32(H),f.distcode=f.distdyn=new u.Buf32(Q),f.sane=1,f.back=-1,C):I}function r(b){var f;return b&&b.state?(f=b.state,f.wsize=0,f.whave=0,f.wnext=0,m(b)):I}function k(b,f){var e,g;return b&&b.state?(g=b.state,0>f?(e=0,f=-f):(e=(f>>4)+1,48>f&&(f&=15)),f&&(8>f||15<f)?I:(null!==g.window&&g.wbits!==f&&(g.window=null),g.wrap=e,g.wbits=f,r(b))):I}function n(b,f){var e,g;return b?(g=new q,b.state=g,g.window=null,e=k(b,f),
e!==C&&(b.state=null),e):I}function f(b,f,e,g){var k;b=b.state;return null===b.window&&(b.wsize=1<<b.wbits,b.wnext=0,b.whave=0,b.window=new u.Buf8(b.wsize)),g>=b.wsize?(u.arraySet(b.window,f,e-b.wsize,b.wsize,0),b.wnext=0,b.whave=b.wsize):(k=b.wsize-b.wnext,k>g&&(k=g),u.arraySet(b.window,f,e-g,k,b.wnext),g-=k,g?(u.arraySet(b.window,f,e-g,g,0),b.wnext=g,b.whave=b.wsize):(b.wnext+=k,b.wnext===b.wsize&&(b.wnext=0),b.whave<b.wsize&&(b.whave+=k))),0}var x,y,u=b("../utils/common"),w=b("./adler32"),v=b("./crc32"),
B=b("./inffast"),G=b("./inftrees"),C=0,I=-2,K=1,H=852,Q=592,M=!0;g.inflateReset=r;g.inflateReset2=k;g.inflateResetKeep=m;g.inflateInit=function(b){return n(b,15)};g.inflateInit2=n;g.inflate=function(b,e){var g,k,n,m,q,r,D,A,E,H,Q,O,na,V,N,T,W,ha,ia,X,ca,fa,Y=0,J=new u.Buf8(4),ua=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!b||!b.state||!b.output||!b.input&&0!==b.avail_in)return I;g=b.state;12===g.mode&&(g.mode=13);q=b.next_out;n=b.output;D=b.avail_out;m=b.next_in;k=b.input;r=b.avail_in;A=
g.hold;E=g.bits;H=r;Q=D;ca=C;a:for(;;)switch(g.mode){case K:if(0===g.wrap){g.mode=13;break}for(;16>E;){if(0===r)break a;r--;A+=k[m++]<<E;E+=8}if(2&g.wrap&&35615===A){g.check=0;J[0]=255&A;J[1]=A>>>8&255;g.check=v(g.check,J,2,0);E=A=0;g.mode=2;break}if(g.flags=0,g.head&&(g.head.done=!1),!(1&g.wrap)||(((255&A)<<8)+(A>>8))%31){b.msg="incorrect header check";g.mode=30;break}if(8!==(15&A)){b.msg="unknown compression method";g.mode=30;break}if(A>>>=4,E-=4,X=(15&A)+8,0===g.wbits)g.wbits=X;else if(X>g.wbits){b.msg=
"invalid window size";g.mode=30;break}g.dmax=1<<X;b.adler=g.check=1;g.mode=512&A?10:12;E=A=0;break;case 2:for(;16>E;){if(0===r)break a;r--;A+=k[m++]<<E;E+=8}if(g.flags=A,8!==(255&g.flags)){b.msg="unknown compression method";g.mode=30;break}if(57344&g.flags){b.msg="unknown header flags set";g.mode=30;break}g.head&&(g.head.text=A>>8&1);512&g.flags&&(J[0]=255&A,J[1]=A>>>8&255,g.check=v(g.check,J,2,0));E=A=0;g.mode=3;case 3:for(;32>E;){if(0===r)break a;r--;A+=k[m++]<<E;E+=8}g.head&&(g.head.time=A);512&
g.flags&&(J[0]=255&A,J[1]=A>>>8&255,J[2]=A>>>16&255,J[3]=A>>>24&255,g.check=v(g.check,J,4,0));E=A=0;g.mode=4;case 4:for(;16>E;){if(0===r)break a;r--;A+=k[m++]<<E;E+=8}g.head&&(g.head.xflags=255&A,g.head.os=A>>8);512&g.flags&&(J[0]=255&A,J[1]=A>>>8&255,g.check=v(g.check,J,2,0));E=A=0;g.mode=5;case 5:if(1024&g.flags){for(;16>E;){if(0===r)break a;r--;A+=k[m++]<<E;E+=8}g.length=A;g.head&&(g.head.extra_len=A);512&g.flags&&(J[0]=255&A,J[1]=A>>>8&255,g.check=v(g.check,J,2,0));E=A=0}else g.head&&(g.head.extra=
null);g.mode=6;case 6:if(1024&g.flags&&(O=g.length,O>r&&(O=r),O&&(g.head&&(X=g.head.extra_len-g.length,g.head.extra||(g.head.extra=Array(g.head.extra_len)),u.arraySet(g.head.extra,k,m,O,X)),512&g.flags&&(g.check=v(g.check,k,O,m)),r-=O,m+=O,g.length-=O),g.length))break a;g.length=0;g.mode=7;case 7:if(2048&g.flags){if(0===r)break a;O=0;do X=k[m+O++],g.head&&X&&65536>g.length&&(g.head.name+=String.fromCharCode(X));while(X&&O<r);if(512&g.flags&&(g.check=v(g.check,k,O,m)),r-=O,m+=O,X)break a}else g.head&&
(g.head.name=null);g.length=0;g.mode=8;case 8:if(4096&g.flags){if(0===r)break a;O=0;do X=k[m+O++],g.head&&X&&65536>g.length&&(g.head.comment+=String.fromCharCode(X));while(X&&O<r);if(512&g.flags&&(g.check=v(g.check,k,O,m)),r-=O,m+=O,X)break a}else g.head&&(g.head.comment=null);g.mode=9;case 9:if(512&g.flags){for(;16>E;){if(0===r)break a;r--;A+=k[m++]<<E;E+=8}if(A!==(65535&g.check)){b.msg="header crc mismatch";g.mode=30;break}E=A=0}g.head&&(g.head.hcrc=g.flags>>9&1,g.head.done=!0);b.adler=g.check=
0;g.mode=12;break;case 10:for(;32>E;){if(0===r)break a;r--;A+=k[m++]<<E;E+=8}b.adler=g.check=h(A);E=A=0;g.mode=11;case 11:if(0===g.havedict)return b.next_out=q,b.avail_out=D,b.next_in=m,b.avail_in=r,g.hold=A,g.bits=E,2;b.adler=g.check=1;g.mode=12;case 12:if(5===e||6===e)break a;case 13:if(g.last){A>>>=7&E;E-=7&E;g.mode=27;break}for(;3>E;){if(0===r)break a;r--;A+=k[m++]<<E;E+=8}switch(g.last=1&A,A>>>=1,--E,3&A){case 0:g.mode=14;break;case 1:T=g;if(M){x=new u.Buf32(512);y=new u.Buf32(32);for(V=0;144>
V;)T.lens[V++]=8;for(;256>V;)T.lens[V++]=9;for(;280>V;)T.lens[V++]=7;for(;288>V;)T.lens[V++]=8;G(1,T.lens,0,288,x,0,T.work,{bits:9});for(V=0;32>V;)T.lens[V++]=5;G(2,T.lens,0,32,y,0,T.work,{bits:5});M=!1}T.lencode=x;T.lenbits=9;T.distcode=y;T.distbits=5;if(g.mode=20,6===e){A>>>=2;E-=2;break a}break;case 2:g.mode=17;break;case 3:b.msg="invalid block type",g.mode=30}A>>>=2;E-=2;break;case 14:A>>>=7&E;for(E-=7&E;32>E;){if(0===r)break a;r--;A+=k[m++]<<E;E+=8}if((65535&A)!==(A>>>16^65535)){b.msg="invalid stored block lengths";
g.mode=30;break}if(g.length=65535&A,A=0,E=0,g.mode=15,6===e)break a;case 15:g.mode=16;case 16:if(O=g.length){if(O>r&&(O=r),O>D&&(O=D),0===O)break a;u.arraySet(n,k,m,O,q);r-=O;m+=O;D-=O;q+=O;g.length-=O;break}g.mode=12;break;case 17:for(;14>E;){if(0===r)break a;r--;A+=k[m++]<<E;E+=8}if(g.nlen=(31&A)+257,A>>>=5,E-=5,g.ndist=(31&A)+1,A>>>=5,E-=5,g.ncode=(15&A)+4,A>>>=4,E-=4,286<g.nlen||30<g.ndist){b.msg="too many length or distance symbols";g.mode=30;break}g.have=0;g.mode=18;case 18:for(;g.have<g.ncode;){for(;3>
E;){if(0===r)break a;r--;A+=k[m++]<<E;E+=8}g.lens[ua[g.have++]]=7&A;A>>>=3;E-=3}for(;19>g.have;)g.lens[ua[g.have++]]=0;if(g.lencode=g.lendyn,g.lenbits=7,fa={bits:g.lenbits},ca=G(0,g.lens,0,19,g.lencode,0,g.work,fa),g.lenbits=fa.bits,ca){b.msg="invalid code lengths set";g.mode=30;break}g.have=0;g.mode=19;case 19:for(;g.have<g.nlen+g.ndist;){for(;Y=g.lencode[A&(1<<g.lenbits)-1],N=Y>>>24,T=65535&Y,!(N<=E);){if(0===r)break a;r--;A+=k[m++]<<E;E+=8}if(16>T)A>>>=N,E-=N,g.lens[g.have++]=T;else{if(16===T){for(V=
N+2;E<V;){if(0===r)break a;r--;A+=k[m++]<<E;E+=8}if(A>>>=N,E-=N,0===g.have){b.msg="invalid bit length repeat";g.mode=30;break}X=g.lens[g.have-1];O=3+(3&A);A>>>=2;E-=2}else if(17===T){for(V=N+3;E<V;){if(0===r)break a;r--;A+=k[m++]<<E;E+=8}A>>>=N;E-=N;X=0;O=3+(7&A);A>>>=3;E-=3}else{for(V=N+7;E<V;){if(0===r)break a;r--;A+=k[m++]<<E;E+=8}A>>>=N;E-=N;X=0;O=11+(127&A);A>>>=7;E-=7}if(g.have+O>g.nlen+g.ndist){b.msg="invalid bit length repeat";g.mode=30;break}for(;O--;)g.lens[g.have++]=X}}if(30===g.mode)break;
if(0===g.lens[256]){b.msg="invalid code -- missing end-of-block";g.mode=30;break}if(g.lenbits=9,fa={bits:g.lenbits},ca=G(1,g.lens,0,g.nlen,g.lencode,0,g.work,fa),g.lenbits=fa.bits,ca){b.msg="invalid literal/lengths set";g.mode=30;break}if(g.distbits=6,g.distcode=g.distdyn,fa={bits:g.distbits},ca=G(2,g.lens,g.nlen,g.ndist,g.distcode,0,g.work,fa),g.distbits=fa.bits,ca){b.msg="invalid distances set";g.mode=30;break}if(g.mode=20,6===e)break a;case 20:g.mode=21;case 21:if(6<=r&&258<=D){b.next_out=q;b.avail_out=
D;b.next_in=m;b.avail_in=r;g.hold=A;g.bits=E;B(b,Q);q=b.next_out;n=b.output;D=b.avail_out;m=b.next_in;k=b.input;r=b.avail_in;A=g.hold;E=g.bits;12===g.mode&&(g.back=-1);break}for(g.back=0;Y=g.lencode[A&(1<<g.lenbits)-1],N=Y>>>24,V=Y>>>16&255,T=65535&Y,!(N<=E);){if(0===r)break a;r--;A+=k[m++]<<E;E+=8}if(V&&0===(240&V)){W=N;ha=V;for(ia=T;Y=g.lencode[ia+((A&(1<<W+ha)-1)>>W)],N=Y>>>24,V=Y>>>16&255,T=65535&Y,!(W+N<=E);){if(0===r)break a;r--;A+=k[m++]<<E;E+=8}A>>>=W;E-=W;g.back+=W}if(A>>>=N,E-=N,g.back+=
N,g.length=T,0===V){g.mode=26;break}if(32&V){g.back=-1;g.mode=12;break}if(64&V){b.msg="invalid literal/length code";g.mode=30;break}g.extra=15&V;g.mode=22;case 22:if(g.extra){for(V=g.extra;E<V;){if(0===r)break a;r--;A+=k[m++]<<E;E+=8}g.length+=A&(1<<g.extra)-1;A>>>=g.extra;E-=g.extra;g.back+=g.extra}g.was=g.length;g.mode=23;case 23:for(;Y=g.distcode[A&(1<<g.distbits)-1],N=Y>>>24,V=Y>>>16&255,T=65535&Y,!(N<=E);){if(0===r)break a;r--;A+=k[m++]<<E;E+=8}if(0===(240&V)){W=N;ha=V;for(ia=T;Y=g.distcode[ia+
((A&(1<<W+ha)-1)>>W)],N=Y>>>24,V=Y>>>16&255,T=65535&Y,!(W+N<=E);){if(0===r)break a;r--;A+=k[m++]<<E;E+=8}A>>>=W;E-=W;g.back+=W}if(A>>>=N,E-=N,g.back+=N,64&V){b.msg="invalid distance code";g.mode=30;break}g.offset=T;g.extra=15&V;g.mode=24;case 24:if(g.extra){for(V=g.extra;E<V;){if(0===r)break a;r--;A+=k[m++]<<E;E+=8}g.offset+=A&(1<<g.extra)-1;A>>>=g.extra;E-=g.extra;g.back+=g.extra}if(g.offset>g.dmax){b.msg="invalid distance too far back";g.mode=30;break}g.mode=25;case 25:if(0===D)break a;if(O=Q-D,
g.offset>O){if(O=g.offset-O,O>g.whave&&g.sane){b.msg="invalid distance too far back";g.mode=30;break}O>g.wnext?(O-=g.wnext,na=g.wsize-O):na=g.wnext-O;O>g.length&&(O=g.length);V=g.window}else V=n,na=q-g.offset,O=g.length;O>D&&(O=D);D-=O;g.length-=O;do n[q++]=V[na++];while(--O);0===g.length&&(g.mode=21);break;case 26:if(0===D)break a;n[q++]=g.length;D--;g.mode=21;break;case 27:if(g.wrap){for(;32>E;){if(0===r)break a;r--;A|=k[m++]<<E;E+=8}if(Q-=D,b.total_out+=Q,g.total+=Q,Q&&(b.adler=g.check=g.flags?
v(g.check,n,Q,q-Q):w(g.check,n,Q,q-Q)),Q=D,(g.flags?A:h(A))!==g.check){b.msg="incorrect data check";g.mode=30;break}E=A=0}g.mode=28;case 28:if(g.wrap&&g.flags){for(;32>E;){if(0===r)break a;r--;A+=k[m++]<<E;E+=8}if(A!==(4294967295&g.total)){b.msg="incorrect length check";g.mode=30;break}E=A=0}g.mode=29;case 29:ca=1;break a;case 30:ca=-3;break a;case 31:return-4;default:return I}return b.next_out=q,b.avail_out=D,b.next_in=m,b.avail_in=r,g.hold=A,g.bits=E,(g.wsize||Q!==b.avail_out&&30>g.mode&&(27>g.mode||
4!==e))&&f(b,b.output,b.next_out,Q-b.avail_out)?(g.mode=31,-4):(H-=b.avail_in,Q-=b.avail_out,b.total_in+=H,b.total_out+=Q,g.total+=Q,g.wrap&&Q&&(b.adler=g.check=g.flags?v(g.check,n,Q,b.next_out-Q):w(g.check,n,Q,b.next_out-Q)),b.data_type=g.bits+(g.last?64:0)+(12===g.mode?128:0)+(20===g.mode||15===g.mode?256:0),(0===H&&0===Q||4===e)&&ca===C&&(ca=-5),ca)};g.inflateEnd=function(b){if(!b||!b.state)return I;var f=b.state;return f.window&&(f.window=null),b.state=null,C};g.inflateGetHeader=function(b,f){var e;
return b&&b.state?(e=b.state,0===(2&e.wrap)?I:(e.head=f,f.done=!1,C)):I};g.inflateSetDictionary=function(b,e){var g,k,h=e.length;return b&&b.state?(g=b.state,0!==g.wrap&&11!==g.mode?I:11===g.mode&&(k=1,k=w(k,e,h,0),k!==g.check)?-3:f(b,e,h,h)?(g.mode=31,-4):(g.havedict=1,C)):I};g.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./inffast":69,"./inftrees":71}],71:[function(b,e,g){var h=b("../utils/common"),q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,
31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],m=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],r=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],k=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(b,f,e,g,u,w,v,B){var n,x,y,K,H,Q,M,D,A=B.bits,z,R,P,S,ga,ba,ka=0,aa,E=null,ta=0,ma=new h.Buf16(16);K=new h.Buf16(16);
var O=null,na=0;for(z=0;15>=z;z++)ma[z]=0;for(R=0;R<g;R++)ma[f[e+R]]++;S=A;for(P=15;1<=P&&0===ma[P];P--);if(S>P&&(S=P),0===P)return u[w++]=20971520,u[w++]=20971520,B.bits=1,0;for(A=1;A<P&&0===ma[A];A++);S<A&&(S=A);for(z=n=1;15>=z;z++)if(n<<=1,n-=ma[z],0>n)return-1;if(0<n&&(0===b||1!==P))return-1;K[1]=0;for(z=1;15>z;z++)K[z+1]=K[z]+ma[z];for(R=0;R<g;R++)0!==f[e+R]&&(v[K[f[e+R]]++]=R);if(0===b?(E=O=v,H=19):1===b?(E=q,ta-=257,O=m,na-=257,H=256):(E=r,O=k,H=-1),aa=0,R=0,z=A,K=w,ga=S,ba=0,y=-1,ka=1<<S,
g=ka-1,1===b&&852<ka||2===b&&592<ka)return 1;for(var V=0;;){V++;Q=z-ba;v[R]<H?(M=0,D=v[R]):v[R]>H?(M=O[na+v[R]],D=E[ta+v[R]]):(M=96,D=0);n=1<<z-ba;A=x=1<<ga;do x-=n,u[K+(aa>>ba)+x]=Q<<24|M<<16|D|0;while(0!==x);for(n=1<<z-1;aa&n;)n>>=1;if(0!==n?(aa&=n-1,aa+=n):aa=0,R++,0===--ma[z]){if(z===P)break;z=f[e+v[R]]}if(z>S&&(aa&g)!==y){0===ba&&(ba=S);K+=A;ga=z-ba;for(n=1<<ga;ga+ba<P&&(n-=ma[ga+ba],!(0>=n));)ga++,n<<=1;if(ka+=1<<ga,1===b&&852<ka||2===b&&592<ka)return 1;y=aa&g;u[y]=S<<24|ga<<16|K-w|0}}return 0!==
aa&&(u[K+aa]=z-ba<<24|4194304),B.bits=S,0}},{"../utils/common":62}],72:[function(b,e,g){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],73:[function(b,e,g){function h(b){for(var f=b.length;0<=--f;)b[f]=0}function q(b,f,e,g,k){this.static_tree=b;this.extra_bits=f;this.extra_base=e;this.elems=g;this.max_length=k;this.has_stree=b&&b.length}function m(b,f){this.dyn_tree=
b;this.max_code=0;this.stat_desc=f}function r(b,f){b.pending_buf[b.pending++]=255&f;b.pending_buf[b.pending++]=f>>>8&255}function k(b,f,e){b.bi_valid>ka-e?(b.bi_buf|=f<<b.bi_valid&65535,r(b,b.bi_buf),b.bi_buf=f>>ka-b.bi_valid,b.bi_valid+=e-ka):(b.bi_buf|=f<<b.bi_valid&65535,b.bi_valid+=e)}function n(b,f,e){k(b,e[2*f],e[2*f+1])}function f(b,f){var e=0;do e|=1&b,b>>>=1,e<<=1;while(0<--f);return e>>>1}function x(b,e,g){var k,h=Array(ba+1),n=0;for(k=1;k<=ba;k++)h[k]=n=n+g[k-1]<<1;for(g=0;g<=e;g++)k=b[2*
g+1],0!==k&&(b[2*g]=f(h[k]++,k))}function y(b){var f;for(f=0;f<R;f++)b.dyn_ltree[2*f]=0;for(f=0;f<P;f++)b.dyn_dtree[2*f]=0;for(f=0;f<S;f++)b.bl_tree[2*f]=0;b.dyn_ltree[2*aa]=1;b.opt_len=b.static_len=0;b.last_lit=b.matches=0}function u(b){8<b.bi_valid?r(b,b.bi_buf):0<b.bi_valid&&(b.pending_buf[b.pending++]=b.bi_buf);b.bi_buf=0;b.bi_valid=0}function w(b,f,e,g){var k=2*f,h=2*e;return b[k]<b[h]||b[k]===b[h]&&g[f]<=g[e]}function v(b,f,e){for(var g=b.heap[e],k=e<<1;k<=b.heap_len&&(k<b.heap_len&&w(f,b.heap[k+
1],b.heap[k],b.depth)&&k++,!w(f,g,b.heap[k],b.depth));)b.heap[e]=b.heap[k],e=k,k<<=1;b.heap[e]=g}function B(b,f,e){var g,h,m,q,u=0;if(0!==b.last_lit){do g=b.pending_buf[b.d_buf+2*u]<<8|b.pending_buf[b.d_buf+2*u+1],h=b.pending_buf[b.l_buf+u],u++,0===g?n(b,h,f):(m=ia[h],n(b,m+z+1,f),q=O[m],0!==q&&(h-=X[m],k(b,h,q)),g--,m=256>g?ha[g]:ha[256+(g>>>7)],n(b,m,e),q=na[m],0!==q&&(g-=ca[m],k(b,g,q)));while(u<b.last_lit)}n(b,aa,f)}function G(b,f){var e,g,k,h=f.dyn_tree;g=f.stat_desc.static_tree;var n=f.stat_desc.has_stree,
m=f.stat_desc.elems,q=-1;b.heap_len=0;b.heap_max=ga;for(e=0;e<m;e++)0!==h[2*e]?(b.heap[++b.heap_len]=q=e,b.depth[e]=0):h[2*e+1]=0;for(;2>b.heap_len;)k=b.heap[++b.heap_len]=2>q?++q:0,h[2*k]=1,b.depth[k]=0,b.opt_len--,n&&(b.static_len-=g[2*k+1]);f.max_code=q;for(e=b.heap_len>>1;1<=e;e--)v(b,h,e);k=m;do e=b.heap[1],b.heap[1]=b.heap[b.heap_len--],v(b,h,1),g=b.heap[1],b.heap[--b.heap_max]=e,b.heap[--b.heap_max]=g,h[2*k]=h[2*e]+h[2*g],b.depth[k]=(b.depth[e]>=b.depth[g]?b.depth[e]:b.depth[g])+1,h[2*e+1]=
h[2*g+1]=k,b.heap[1]=k++,v(b,h,1);while(2<=b.heap_len);b.heap[--b.heap_max]=b.heap[1];var u,p,n=f.dyn_tree,m=f.max_code,r=f.stat_desc.static_tree,w=f.stat_desc.has_stree,A=f.stat_desc.extra_bits,D=f.stat_desc.extra_base,y=f.stat_desc.max_length,z=0;for(g=0;g<=ba;g++)b.bl_count[g]=0;n[2*b.heap[b.heap_max]+1]=0;for(e=b.heap_max+1;e<ga;e++)k=b.heap[e],g=n[2*n[2*k+1]+1]+1,g>y&&(g=y,z++),n[2*k+1]=g,k>m||(b.bl_count[g]++,u=0,k>=D&&(u=A[k-D]),p=n[2*k],b.opt_len+=p*(g+u),w&&(b.static_len+=p*(r[2*k+1]+u)));
if(0!==z){do{for(g=y-1;0===b.bl_count[g];)g--;b.bl_count[g]--;b.bl_count[g+1]+=2;b.bl_count[y]--;z-=2}while(0<z);for(g=y;0!==g;g--)for(k=b.bl_count[g];0!==k;)u=b.heap[--e],u>m||(n[2*u+1]!==g&&(b.opt_len+=(g-n[2*u+1])*n[2*u],n[2*u+1]=g),k--)}x(h,q,b.bl_count)}function C(b,f,e){var g,k,h=-1,n=f[1],m=0,q=7,u=4;0===n&&(q=138,u=3);f[2*(e+1)+1]=65535;for(g=0;g<=e;g++)k=n,n=f[2*(g+1)+1],++m<q&&k===n||(m<u?b.bl_tree[2*k]+=m:0!==k?(k!==h&&b.bl_tree[2*k]++,b.bl_tree[2*E]++):10>=m?b.bl_tree[2*ta]++:b.bl_tree[2*
ma]++,m=0,h=k,0===n?(q=138,u=3):k===n?(q=6,u=3):(q=7,u=4))}function I(b,f,e){var g,h,m=-1,q=f[1],u=0,r=7,w=4;0===q&&(r=138,w=3);for(g=0;g<=e;g++)if(h=q,q=f[2*(g+1)+1],!(++u<r&&h===q)){if(u<w){do n(b,h,b.bl_tree);while(0!==--u)}else 0!==h?(h!==m&&(n(b,h,b.bl_tree),u--),n(b,E,b.bl_tree),k(b,u-3,2)):10>=u?(n(b,ta,b.bl_tree),k(b,u-3,3)):(n(b,ma,b.bl_tree),k(b,u-11,7));u=0;m=h;0===q?(r=138,w=3):h===q?(r=6,w=3):(r=7,w=4)}}function K(b){var f,e=4093624447;for(f=0;31>=f;f++,e>>>=1)if(1&e&&0!==b.dyn_ltree[2*
f])return M;if(0!==b.dyn_ltree[18]||0!==b.dyn_ltree[20]||0!==b.dyn_ltree[26])return D;for(f=32;f<z;f++)if(0!==b.dyn_ltree[2*f])return D;return M}function H(b,f,e,g){k(b,(A<<1)+(g?1:0),3);u(b);r(b,e);r(b,~e);Q.arraySet(b.pending_buf,b.window,f,e,b.pending);b.pending+=e}var Q=b("../utils/common"),M=0,D=1,A=0,z=256,R=z+1+29,P=30,S=19,ga=2*R+1,ba=15,ka=16,aa=256,E=16,ta=17,ma=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],na=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,
12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],T=Array(2*(R+2));h(T);var W=Array(2*P);h(W);var ha=Array(512);h(ha);var ia=Array(256);h(ia);var X=Array(29);h(X);var ca=Array(P);h(ca);var fa,Y,J,ua=!1;g._tr_init=function(b){if(!ua){var e,g,k,h=Array(ba+1);for(k=g=0;28>k;k++)for(X[k]=g,e=0;e<1<<O[k];e++)ia[g++]=k;ia[g-1]=k;for(k=g=0;16>k;k++)for(ca[k]=g,e=0;e<1<<na[k];e++)ha[g++]=k;for(g>>=7;k<P;k++)for(ca[k]=g<<7,e=0;e<1<<na[k]-7;e++)ha[256+g++]=
k;for(e=0;e<=ba;e++)h[e]=0;for(e=0;143>=e;)T[2*e+1]=8,e++,h[8]++;for(;255>=e;)T[2*e+1]=9,e++,h[9]++;for(;279>=e;)T[2*e+1]=7,e++,h[7]++;for(;287>=e;)T[2*e+1]=8,e++,h[8]++;x(T,R+1,h);for(e=0;e<P;e++)W[2*e+1]=5,W[2*e]=f(e,5);fa=new q(T,O,z+1,R,ba);Y=new q(W,na,0,P,ba);J=new q([],V,0,S,7);ua=!0}b.l_desc=new m(b.dyn_ltree,fa);b.d_desc=new m(b.dyn_dtree,Y);b.bl_desc=new m(b.bl_tree,J);b.bi_buf=0;b.bi_valid=0;y(b)};g._tr_stored_block=H;g._tr_flush_block=function(b,f,e,g){var h,n,m=0;if(0<b.level){2===b.strm.data_type&&
(b.strm.data_type=K(b));G(b,b.l_desc);G(b,b.d_desc);C(b,b.dyn_ltree,b.l_desc.max_code);C(b,b.dyn_dtree,b.d_desc.max_code);G(b,b.bl_desc);for(m=S-1;3<=m&&0===b.bl_tree[2*N[m]+1];m--);m=(b.opt_len+=3*(m+1)+14,m);h=b.opt_len+3+7>>>3;n=b.static_len+3+7>>>3;n<=h&&(h=n)}else h=n=e+5;if(e+4<=h&&-1!==f)H(b,f,e,g);else if(4===b.strategy||n===h)k(b,2+(g?1:0),3),B(b,T,W);else{k(b,4+(g?1:0),3);f=b.l_desc.max_code+1;e=b.d_desc.max_code+1;m+=1;k(b,f-257,5);k(b,e-1,5);k(b,m-4,4);for(h=0;h<m;h++)k(b,b.bl_tree[2*
N[h]+1],3);I(b,b.dyn_ltree,f-1);I(b,b.dyn_dtree,e-1);B(b,b.dyn_ltree,b.dyn_dtree)}y(b);g&&u(b)};g._tr_tally=function(b,f,e){return b.pending_buf[b.d_buf+2*b.last_lit]=f>>>8&255,b.pending_buf[b.d_buf+2*b.last_lit+1]=255&f,b.pending_buf[b.l_buf+b.last_lit]=255&e,b.last_lit++,0===f?b.dyn_ltree[2*e]++:(b.matches++,f--,b.dyn_ltree[2*(ia[e]+z+1)]++,b.dyn_dtree[2*(256>f?ha[f]:ha[256+(f>>>7)])]++),b.last_lit===b.lit_bufsize-1};g._tr_align=function(b){k(b,2,3);n(b,aa,T);16===b.bi_valid?(r(b,b.bi_buf),b.bi_buf=
0,b.bi_valid=0):8<=b.bi_valid&&(b.pending_buf[b.pending++]=255&b.bi_buf,b.bi_buf>>=8,b.bi_valid-=8)}},{"../utils/common":62}],74:[function(b,e,g){e.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}},{}]},{},[10])(10)});!function(c,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():c.LazyLoad=b()}(this,function(){function c(b,c,e){return n?void b.addEventListener(c,e):void(f&&(b.attachEvent("on"+c,function(b){return function(){e.call(b,window.event)}}(b)),b=null))}function b(b,c,e){return n?void b.removeEventListener(c,e):void(f&&b.detachEvent("on"+c,e))}function e(b,c,f){function e(b){return b.getBoundingClientRect().top+q-m.documentElement.clientTop}function g(b){return b.getBoundingClientRect().left+
u-m.documentElement.clientLeft}function k(){var e;return e=c===window?(window.innerWidth||m.documentElement.clientWidth||document.body.clientWidth)+window.pageXOffset:g(c)+(window.innerWidth||m.documentElement.clientWidth||document.body.clientWidth),e<=g(b)-f}function h(){var g;return g=c===window?q:e(c),g>=e(b)+f+b.offsetHeight}function n(){var e;return e=c===window?u:g(c),e>=g(b)+f+b.offsetWidth}var m,q,u;return m=b.ownerDocument,q=window.pageYOffset||m.body.scrollTop,u=window.pageXOffset||m.body.scrollLeft,
!(function(){var g;return g=c===window?(window.innerHeight||m.documentElement.clientHeight||document.body.clientHeight)+q:e(c)+c.offsetHeight,g<=e(b)-f}()||h()||k()||n())}function g(b,c){return x?void b.classList.add(c):void(b.className+=(b.className?" ":"")+c)}function h(b,c){return x?void b.classList.remove(c):void(b.className=b.className.replace(new RegExp("(^|\\s+)"+c+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,""))}function q(b,c,f,e){e=c.getAttribute("data-"+e);c=c.getAttribute("data-"+
f);f=b.tagName;return"IMG"===f?(c&&b.setAttribute("srcset",c),void(e&&b.setAttribute("src",e))):"IFRAME"===f?void(e&&b.setAttribute("src",e)):void(b.style.backgroundImage="url("+e+")")}function m(b,c){return function(){return b.apply(c,arguments)}}function r(b){y||(k={elements_selector:"img",container:window,threshold:300,throttle:50,data_src:"original",data_srcset:"original-set",class_loading:"loading",class_loaded:"loaded",skip_invisible:!0,show_while_loading:!0,callback_load:null,callback_error:null,
callback_set:null,callback_processed:null,placeholder:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},n=!!window.addEventListener,f=!!window.attachEvent,x=!!document.body.classList,y=!0);var e=k,g,h={};for(g in e)e.hasOwnProperty(g)&&(h[g]=e[g]);for(g in b)b.hasOwnProperty(g)&&(h[g]=b[g]);this._settings=h;this._queryOriginNode=this._settings.container===window?document:this._settings.container;this._previousLoopTime=0;this._loopTimeout=null;this._handleScrollFn=m(this.handleScroll,
this);c(window,"resize",this._handleScrollFn);this.update()}var k,n,f,x,y=!1;return r.prototype._showOnLoad=function(f){function e(){null!==n&&(n.callback_load&&n.callback_load(f),q(f,f,n.data_srcset,n.data_src),n.callback_set&&n.callback_set(f),h(f,n.class_loading),g(f,n.class_loaded),b(k,"load",e))}var k,n=this._settings;f.getAttribute("src")||f.setAttribute("src",n.placeholder);k=document.createElement("img");c(k,"load",e);c(k,"error",function(){h(f,n.class_loading);n.callback_error&&n.callback_error(f)});
g(f,n.class_loading);q(k,f,n.data_srcset,n.data_src)},r.prototype._showOnAppear=function(f){function e(){null!==k&&(k.callback_load&&k.callback_load(f),h(f,k.class_loading),g(f,k.class_loaded),b(f,"load",e))}var k=this._settings;"IMG"!==f.tagName&&"IFRAME"!==f.tagName||(c(f,"load",e),c(f,"error",function(){b(f,"load",e);h(f,k.class_loading);k.callback_error&&k.callback_error(f)}),g(f,k.class_loading));q(f,f,k.data_srcset,k.data_src);k.callback_set&&k.callback_set(f)},r.prototype._loopThroughElements=
function(){var b,c,f=this._settings,g=this._elements,k=g?g.length:0,h=[];for(b=0;b<k;b++)c=g[b],f.skip_invisible&&null===c.offsetParent||e(c,f.container,f.threshold)&&(f.show_while_loading?this._showOnAppear(c):this._showOnLoad(c),h.push(b),c.wasProcessed=!0);for(;0<h.length;)g.splice(h.pop(),1),f.callback_processed&&f.callback_processed(g.length);0===k&&this._stopScrollHandler()},r.prototype._purgeElements=function(){var b,c,f=this._elements,e=f.length,g=[];for(b=0;b<e;b++)c=f[b],c.wasProcessed&&
g.push(b);for(;0<g.length;)f.splice(g.pop(),1)},r.prototype._startScrollHandler=function(){this._isHandlingScroll||(this._isHandlingScroll=!0,c(this._settings.container,"scroll",this._handleScrollFn))},r.prototype._stopScrollHandler=function(){this._isHandlingScroll&&(this._isHandlingScroll=!1,b(this._settings.container,"scroll",this._handleScrollFn))},r.prototype.handleScroll=function(){var b,c,f;this._settings&&(c=(new Date).getTime(),f=this._settings.throttle,0!==f?(b=f-(c-this._previousLoopTime),
0>=b||b>f?(this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._previousLoopTime=c,this._loopThroughElements()):this._loopTimeout||(this._loopTimeout=setTimeout(m(function(){this._previousLoopTime=(new Date).getTime();this._loopTimeout=null;this._loopThroughElements()},this),b))):this._loopThroughElements())},r.prototype.update=function(){var b;var c=this._queryOriginNode.querySelectorAll(this._settings.elements_selector);try{b=Array.prototype.slice.call(c)}catch(G){var f=
[],e=c.length;for(b=0;b<e;b++)f.push(c[b]);b=f}this._elements=b;this._purgeElements();this._loopThroughElements();this._startScrollHandler()},r.prototype.destroy=function(){b(window,"resize",this._handleScrollFn);this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null);this._stopScrollHandler();this._settings=this._queryOriginNode=this._elements=null},r});/*
 modernizr 3.3.1 (Custom Build) | MIT *
 http://modernizr.com/download/?-prefixes-setclasses-shiv-teststyles !*/
!function(c,b,e){function g(){return"function"!=typeof b.createElement?b.createElement(arguments[0]):k?b.createElementNS.call(b,"http://www.w3.org/2000/svg",arguments[0]):b.createElement.apply(b,arguments)}var h=[],q=[];e={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(b,c){var f=this;setTimeout(function(){c(f[b])},0)},addTest:function(b,c,e){q.push({name:b,fn:c,options:e})},addAsyncTest:function(b){q.push({name:null,fn:b})}};var m=function(){};
m.prototype=e;m=new m;e._prefixes=e._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];var r=b.documentElement,k="svg"===r.nodeName.toLowerCase();k||!function(b,c){function f(){var b=D.elements;return"string"==typeof b?b.split(" "):b}function e(b){var c=M[b[H]];return c||(c={},Q++,b[H]=Q,M[Q]=c),c}function g(b,f,g){if(f||(f=c),m)return f.createElement(b);g||(g=e(f));var k;return k=g.cache[b]?g.cache[b].cloneNode():K.test(b)?(g.cache[b]=g.createElem(b)).cloneNode():g.createElem(b),
!k.canHaveChildren||r.test(b)||k.tagUrn?k:g.frag.appendChild(k)}function k(b,c){c.cache||(c.cache={},c.createElem=b.createElement,c.createFrag=b.createDocumentFragment,c.frag=c.createFrag());b.createElement=function(f){return D.shivMethods?g(f,b,c):c.createElem(f)};b.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+f().join().replace(/[\w\-:]+/g,function(b){return c.createElem(b),c.frag.createElement(b),'c("'+b+'")'})+");return n}")(D,
c.frag)}function h(b){b||(b=c);var f=e(b);if(D.shivCSS&&!n&&!f.hasCSS){var g,h=b;g=h.createElement("p");h=h.getElementsByTagName("head")[0]||h.documentElement;g=(g.innerHTML="x<style>article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}</style>",h.insertBefore(g.lastChild,h.firstChild));f.hasCSS=!!g}return m||k(b,f),b}var n,m,q=b.html5||{},r=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,
K=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,H="_html5shiv",Q=0,M={};!function(){try{var b=c.createElement("a");b.innerHTML="<xyz></xyz>";n="hidden"in b;var f;if(!(f=1==b.childNodes.length)){c.createElement("a");var e=c.createDocumentFragment();f="undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}m=f}catch(P){m=n=!0}}();var D={elements:q.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",
version:"3.7.3",shivCSS:!1!==q.shivCSS,supportsUnknownElements:m,shivMethods:!1!==q.shivMethods,type:"default",shivDocument:h,createElement:g,createDocumentFragment:function(b,g){if(b||(b=c),m)return b.createDocumentFragment();g=g||e(b);for(var k=g.frag.cloneNode(),h=0,n=f(),q=n.length;q>h;h++)k.createElement(n[h]);return k},addElements:function(b,c){var f=D.elements;"string"!=typeof f&&(f=f.join(" "));"string"!=typeof b&&(b=b.join(" "));D.elements=f+" "+b;h(c)}};b.html5=D;h(c);"object"==typeof module&&
module.exports&&(module.exports=D)}("undefined"!=typeof c?c:this,b);e.testStyles=function(c,f,e,h){var n,m,q,x,y=g("div"),C;q=b.body;C=(q||(q=g(k?"svg":"body"),q.fake=!0),q);if(parseInt(e,10))for(;e--;)q=g("div"),q.id=h?h[e]:"modernizr"+(e+1),y.appendChild(q);return n=g("style"),n.type="text/css",n.id="smodernizr",(C.fake?C:y).appendChild(n),C.appendChild(y),n.styleSheet?n.styleSheet.cssText=c:n.appendChild(b.createTextNode(c)),y.id="modernizr",C.fake&&(C.style.background="",C.style.overflow="hidden",
x=r.style.overflow,r.style.overflow="hidden",r.appendChild(C)),m=f(y,c),C.fake?(C.parentNode.removeChild(C),r.style.overflow=x,r.offsetHeight):y.parentNode.removeChild(y),!!m};(function(){var b,c,e,g,k,r;for(r in q)if(q.hasOwnProperty(r)){if(b=[],c=q[r],c.name&&(b.push(c.name.toLowerCase()),c.options&&c.options.aliases&&c.options.aliases.length))for(e=0;e<c.options.aliases.length;e++)b.push(c.options.aliases[e].toLowerCase());e="function"===typeof c.fn?c.fn():c.fn;for(g=0;g<b.length;g++)k=b[g],k=
k.split("."),1===k.length?m[k[0]]=e:(!m[k[0]]||m[k[0]]instanceof Boolean||(m[k[0]]=new Boolean(m[k[0]])),m[k[0]][k[1]]=e),h.push((e?"":"no-")+k.join("-"))}})();(function(b){var c=r.className,e=m._config.classPrefix||"";if(k&&(c=c.baseVal),m._config.enableJSClass)c=c.replace(new RegExp("(^|\\s)"+e+"no-js(\\s|$)"),"$1"+e+"js$2");m._config.enableClasses&&(c+=" "+e+b.join(" "+e),k?r.className.baseVal=c:r.className=c)})(h);delete e.addTest;delete e.addAsyncTest;for(e=0;e<m._q.length;e++)m._q[e]();c.Modernizr=
m}(window,document);(function(c){c.fn.parallaxSlider=function(q){var m=c.extend({},c.fn.parallaxSlider.defaults,q);return this.each(function(){var q=c(this),k=c.meta?c.extend({},m,q.data()):m,n=c(".pxs_slider",q),f=n.children(),x=f.length,y=c(".pxs_next",q),u=c(".pxs_prev",q),w=c(".pxs_bg1",q),v=c(".pxs_bg2",q),B=c(".pxs_bg3",q),G=0,C=c(".pxs_thumbnails",q),I=C.children(),K,H=c(".pxs_slider_wrapper",q),Q=0;H.find("img").each(function(){var m=c(this);c("<img/>").on("load",function(){++Q;if(Q==2*x){H.show();var m=n.find("img:first").width();
h(n,f,x,w,v,B,m,y,u);C.css({width:m+"px","margin-left":-m/2+"px"});var q=m/(x+1);I.each(function(b){var f=c(this);b=q*(b+1)-f.width()/2;f.css("left",b+"px");k.thumbRotation&&(b=Math.floor(41*Math.random())-20,f.css({"-moz-transform":"rotate("+b+"deg)","-webkit-transform":"rotate("+b+"deg)",transform:"rotate("+b+"deg)"}));f.bind("mouseenter",function(){c(this).stop().animate({top:"-10px"},100)}).bind("mouseleave",function(){c(this).stop().animate({top:"0px"},100)})});g(I.eq(0));y.bind("click",function(){++G;
if(G>=x)if(k.circular)G=0;else return--G,!1;g(I.eq(G));e(G,n,B,v,w,k.speed,k.easing,k.easingBg)});u.bind("click",function(){--G;if(0>G)if(k.circular)G=x-1;else return++G,!1;g(I.eq(G));e(G,n,B,v,w,k.speed,k.easing,k.easingBg)});I.bind("click",function(){var b=c(this);g(b);k.auto&&clearInterval(K);G=b.index();e(G,n,B,v,w,k.speed,k.easing,k.easingBg)});0!=k.auto&&(k.circular=!0,K=setInterval(function(){y.trigger("click")},k.auto));c(window).resize(function(){b=c(window).width();h(n,f,x,w,v,B,m,y,u);
e(G,n,B,v,w,1,k.easing,k.easingBg)})}}).attr("src",m.attr("src"))})})};var b=c(window).width(),e=function(c,e,g,k,h,f,x,y){c=parseInt(-b*c);e.stop().animate({left:c+"px"},f,x);g.stop().animate({left:c/2+"px"},f,y);k.stop().animate({left:c/4+"px"},f,y);h.stop().animate({left:c/8+"px"},f,y)},g=function(b){b.siblings().removeClass("selected");b.addClass("selected")},h=function(c,e,g,k,h,f,x,y,u){g*=b;c.width(g+"px");e.width(b+"px");k.width(g+"px");h.width(g+"px");f.width(g+"px");y.css("right","20px");
u.css("left","20px")};c.fn.parallaxSlider.defaults={auto:0,speed:1E3,easing:"jswing",easingBg:"jswing",circular:!0,thumbRotation:!0}})(jQuery);var docCookies={getItem:function(c){return c&&this.hasItem(c)?unescape(document.cookie.replace(RegExp("(?:^|.*;\\s*)"+escape(c).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},setItem:function(c,b,e,g,h,q){if(c&&!/^(?:expires|max\-age|path|domain|secure)$/i.test(c)){var m="";if(e)switch(e.constructor){case Number:m=Infinity===e?"; expires=Tue, 19 Jan 2038 03:14:07 GMT":"; max-age="+e;break;case String:m="; expires="+e;break;case Date:m="; expires="+e.toGMTString()}document.cookie=
escape(c)+"="+escape(b)+m+(h?"; domain="+h:"")+(g?"; path="+g:"")+(q?"; secure":"")}},removeItem:function(c,b){c&&this.hasItem(c)&&(document.cookie=escape(c)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(b?"; path="+b:""))},hasItem:function(c){return RegExp("(?:^|;\\s*)"+escape(c).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}},JQ=jQuery;
window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(c){window.setTimeout(c,1E3/60)}}();
window.transitionEnd=function(c,b){var e=!1,g=document.createElement("div");JQ(["transition","WebkitTransition","MozTransition","msTransition"]).each(function(b,c){if(void 0!==g.style[c])return e=!0,!1});e?c.bind("webkitTransitionEnd oTransitionEnd MSTransitionEnd transitionend",function(e){c.unbind("webkitTransitionEnd oTransitionEnd MSTransitionEnd transitionend");b(e,c)}):setTimeout(function(){b(null,c)},0);return c};
var preloader={_overlay:null,_loader:null,_name:null,_percentage:null,_on_complete:null,_text_loader:null,_text_loader_overlay:null,_logo_loader:null,_logo_loader_meter:null,_total:0,_loaded:0,_image_queue:[],_percentage_loaded:0,_mode:"number",_text:"loading...",_text_colour:"#FFFFFF",_images:[],_show_progress:!0,_show_percentage:!0,_background:"#000000",_logo:"",_logo_size:[80,80],_cookie:!1,_timeout:10,_init:function(){JQ("img").each(function(c){JQ(this).attr("src")&&preloader._images.push(JQ(this).attr("src"))});
if(preloader._cookie){if(docCookies.getItem("melonhtml5_preloader_"+preloader._cookie)){JQ("#preloader").remove();JQ(document.body).removeClass("preloader");return}docCookies.setItem("melonhtml5_preloader_"+preloader._cookie,(new Date).getTime(),Infinity)}preloader._total=preloader._images.length;preloader._build();preloader._load()},_build:function(){this._overlay=JQ("#preloader");this._overlay.length||(this._overlay=JQ("<div>").attr("id","preloader").prependTo(JQ(document.body)));this._overlay.addClass("preloader_"+
this._mode);"line"!==this._mode&&this._overlay.css("background-color",this._background);switch(this._mode){case "number":var c=this._hexToRgb(this._text_colour);this._percentage=JQ("<div>").html("<div></div><span></span>").css({color:this._text_colour,"border-color":c?"rgba("+c.r+", "+c.g+", "+c.b+", 0.7)":this._text_colour}).addClass("preloader_percentage").appendTo(this._overlay);this._percentage.children("div").css("border-left-color",this._text_colour);break;case "text":this._text_loader=JQ("<div>").addClass("preloader_loader").text(this._text).css("color",
this._text_colour).appendTo(this._overlay);this._text_loader_overlay=JQ("<div>").css("background-color",this._background).appendTo(this._text_loader);break;case "scale_text":for(var c="",b=0;b<this._text.length;b++)c+="<span>"+this._htmlentities(this._text.charAt(b))+"</span>";this._text_loader=JQ("<div>").addClass("preloader_loader").html(c).css("color",this._text_colour).appendTo(this._overlay);break;case "logo":this._logo_loader=JQ("<div>").css({width:this._logo_size[0],height:this._logo_size[1],
"margin-left":this._logo_size[0]/2*-1,"margin-top":this._logo_size[1]/2*-1,"background-image":'url("'+this._logo+'")'}).addClass("preloader_loader").appendTo(this._overlay);this._logo_loader_meter=JQ("<div>").css("background-color",this._background).appendTo(this._logo_loader);this._show_progress&&(this._percentage=JQ("<div>").css({color:this._text_colour,width:this._logo_size[0],height:this._logo_size[1],"margin-left":this._logo_size[0]/2*-1,"margin-top":this._logo_size[1]/2,"background-color":this._background}).addClass("preloader_percentage").appendTo(this._overlay));
break;case "line":this._line_loader=JQ("<div>").addClass("preloader_loader").css("background-color",this._background).appendTo(this._overlay);JQ("<div>").addClass("preloader_peg").css("box-shadow","0 0 10px "+this._background).appendTo(this._line_loader);JQ(document.body).css("visibility","visible");break;case "progress":this._progress_loader=JQ("<div>").addClass("preloader_loader").appendTo(this._overlay),this._progress_loader_meter=JQ("<div>").addClass("preloader_meter").appendTo(this._progress_loader),
this._show_progress&&(this._percentage=JQ("<div>").addClass("preloader_percentage").text(0).appendTo(this._overlay))}this._overlay.appendTo(JQ(document.body));"text"!==this._mode&&"scale_text"!==this._mode||this._text_loader.css("margin-left",this._text_loader.width()/2*-1)},_load:function(){if(("number"===this._mode||"logo"===this._mode||"progress"===this._mode)&&this._show_progress){this._percentage.data("num",0);var c="0"+(preloader._show_percentage?"%":"");"number"===this._mode?this._percentage.children("span").text(c):
this._percentage.text(c)}JQ.each(this._images,function(b,c){var e=function(){preloader._imageOnLoad(c)},h=new Image;h.src=c;h.complete?e():(h.onload=e,h.onerror=e)});setTimeout(function(){preloader._overlay&&preloader._animatePercentage(preloader._percentage_loaded,100)},this._images.length?1E3*this._timeout:0)},_hexToRgb:function(c){return(c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(c))?{r:parseInt(c[1],16),g:parseInt(c[2],16),b:parseInt(c[3],16)}:null},_htmlentities:function(c){return c.toString().replace(/&/g,
"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;")},_animatePercentage:function(c,b){preloader._percentage_loaded=c;c<b&&(c++,setTimeout(function(){switch(preloader._mode){case "text":preloader._text_loader_overlay.css("left",c+"%");break;case "scale_text":var e=parseInt(preloader._text.length*c*.01,10);preloader._text_loader.children("span").eq(e).addClass("loaded");break;case "line":preloader._line_loader.width(c+"%");break;case "number":preloader._show_progress&&
(e=c+(preloader._show_percentage?"%":""),preloader._percentage.children("span").text(e));break;case "logo":preloader._show_progress&&(e=c+(preloader._show_percentage?"%":""),preloader._percentage.text(e));preloader._logo_loader_meter.css("bottom",c+"%");break;case "progress":preloader._show_progress&&(e=c+(preloader._show_percentage?"%":""),preloader._percentage.text(e)),preloader._progress_loader_meter.width(c+"%")}preloader._animatePercentage(c,b)},5),100===c&&preloader._loadFinish())},_imageOnLoad:function(c){this._image_queue.push(c);
this._image_queue.length&&this._image_queue[0]===c&&this._processQueue()},_reQueue:function(){preloader._image_queue.splice(0,1);preloader._processQueue()},_processQueue:function(){0!==this._image_queue.length&&(this._loaded++,preloader._animatePercentage(preloader._percentage_loaded,parseInt(this._loaded/this._total*100,10)),this._reQueue())},_loadFinish:function(){transitionEnd(this._overlay,function(c,b){preloader._overlay&&(preloader._overlay.remove(),preloader._overlay=null)});this._overlay.addClass("complete");
JQ(document.body).removeClass("preloader");this._on_complete&&this._on_complete()},config:function(c){"undefined"!==typeof c.mode&&(this._mode=c.mode);"undefined"!==typeof c.text&&(this._text=c.text);"undefined"!==typeof c.text_colour&&(this._text_colour=c.text_colour);"undefined"!==typeof c.timeout&&(this._timeout=parseInt(c.timeout,10));"undefined"!==typeof c.showProgress&&(this._show_progress=c.showProgress?!0:!1);"undefined"!==typeof c.showPercentage&&(this._show_percentage=c.showPercentage?!0:
!1);"undefined"!==typeof c.background&&(this._background=c.background);"undefined"!==typeof c.logo&&(this._logo=c.logo);"undefined"!==typeof c.logo_size&&(this._logo_size=c.logo_size);"undefined"!==typeof c.onComplete&&(this._on_complete=c.onComplete);"undefined"!==typeof c.images&&(this._images=c.images);"undefined"!==typeof c.cookie&&(this._cookie=c.cookie)}};setTimeout(function(){JQ(document).ready(preloader._init)});/*
 screenfull
 v3.0.0 - 2015-11-24
 (c) Sindre Sorhus; MIT License
*/
!function(){var c="undefined"!=typeof module&&module.exports,b="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,e=function(){var b,c,e=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),
"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],g=0;c=e.length;for(var k={};c>g;g++)if(b=e[g],b&&b[1]in document){g=0;for(c=b.length;c>g;g++)k[e[0][g]]=b[g];return k}return!1}(),g={request:function(c){var g=e.requestFullscreen;c=c||document.documentElement;/5\.1[\.\d]* Safari/.test(navigator.userAgent)?
c[g]():c[g](b&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[e.exitFullscreen]()},toggle:function(b){this.isFullscreen?this.exit():this.request(b)},raw:e};return e?(Object.defineProperties(g,{isFullscreen:{get:function(){return!!document[e.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[e.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[e.fullscreenEnabled]}}}),void(c?module.exports=g:window.screenfull=g)):void(c?module.exports=!1:window.screenfull=
!1)}();/*
 Split Pane v0.9.3

Copyright (c) 2014 - 2016 Simon Hagstr?m

Released under the MIT license
https://raw.github.com/shagstrom/split-pane/master/LICENSE

*/
(function(c){function b(){var b=c(this),f=u(b);b.is(".fixed-top, .fixed-bottom, .horizontal-percent")?b.css("min-height",B(f.first)+B(f.last)+c(f.divider).height()+"px"):b.css("min-width",G(f.first)+G(f.last)+c(f.divider).width()+"px")}function e(b){b.preventDefault();var f=c(this),e=f.parent();f.addClass("dragged");b.type.match(/^touch/)&&f.addClass("touch");var k=m(e,w(b),v(b));c(document).on("touchmove mousemove",k);c(document).one("touchend mouseup",function(b){c(document).off("touchmove mousemove",
k);f.removeClass("dragged touch");e.trigger("dividerdragend",[g(e)])});e.trigger("dividerdragstart",[g(e)])}function g(b){var c=b.is(".fixed-top, .fixed-bottom, .horizontal-percent")?"height":"width";return{firstComponentSize:b.find(".split-pane-component:first")[c](),lastComponentSize:b.find(".split-pane-component:last")[c]()}}function h(){var b=c(this),f=q(b),e=b.parent().closest(".split-pane")[0]||window;c(e).on(e===window?"resize":"splitpaneresize",function(b){(b.target===document?window:b.target)===
e&&f(b)})}function q(b){var c=u(b);if(b.is(".fixed-top"))return function(f){f=B(c.last);f=c.splitPane.offsetHeight-f-c.divider.offsetHeight;c.first.offsetHeight>f&&C(c,f+"px");b.trigger("splitpaneresize")};if(b.is(".fixed-bottom"))return function(f){f=B(c.first);f=c.splitPane.offsetHeight-f-c.divider.offsetHeight;c.last.offsetHeight>f&&I(c,f+"px");b.trigger("splitpaneresize")};if(b.is(".horizontal-percent"))return function(f){f=B(c.last);var e=B(c.first),e=c.splitPane.offsetHeight-e-c.divider.offsetHeight;
c.last.offsetHeight>e?I(c,e/c.splitPane.offsetHeight*100+"%"):c.splitPane.offsetHeight-c.first.offsetHeight-c.divider.offsetHeight<f&&I(c,f/c.splitPane.offsetHeight*100+"%");b.trigger("splitpaneresize")};if(b.is(".fixed-left"))return function(f){f=G(c.last);f=c.splitPane.offsetWidth-f-c.divider.offsetWidth;c.first.offsetWidth>f&&K(c,f+"px");b.trigger("splitpaneresize")};if(b.is(".fixed-right"))return function(f){f=G(c.first);f=c.splitPane.offsetWidth-f-c.divider.offsetWidth;c.last.offsetWidth>f&&
H(c,f+"px");b.trigger("splitpaneresize")};if(b.is(".vertical-percent"))return function(f){f=G(c.last);var e=G(c.first),e=c.splitPane.offsetWidth-e-c.divider.offsetWidth;c.last.offsetWidth>e?H(c,e/c.splitPane.offsetWidth*100+"%"):c.splitPane.offsetWidth-c.first.offsetWidth-c.divider.offsetWidth<f&&H(c,f/c.splitPane.offsetWidth*100+"%");b.trigger("splitpaneresize")}}function m(b,c,e){var g=u(b);if(b.is(".fixed-top"))return r(g,e);if(b.is(".fixed-bottom"))return k(g,e);if(b.is(".horizontal-percent"))return n(g,
e);if(b.is(".fixed-left"))return f(g,c);if(b.is(".fixed-right"))return x(g,c);if(b.is(".vertical-percent"))return y(g,c)}function r(b,f){var e=B(b.first),g=b.splitPane.offsetHeight-B(b.last)-b.divider.offsetHeight,k=b.divider.offsetTop-f;return function(f){f.preventDefault&&f.preventDefault();f=k+v(f);C(b,Math.min(Math.max(e,f),g)+"px");c(b.splitPane).trigger("splitpaneresize")}}function k(b,f){var e=B(b.last),g=b.splitPane.offsetHeight-B(b.first)-b.divider.offsetHeight,k=b.last.offsetHeight+f;return function(f){f.preventDefault&&
f.preventDefault();f=Math.min(Math.max(e,k-v(f)),g);I(b,f+"px");c(b.splitPane).trigger("splitpaneresize")}}function n(b,f){var e=b.splitPane.offsetHeight,g=B(b.last),k=e-B(b.first)-b.divider.offsetHeight,h=b.last.offsetHeight+f;return function(f){f.preventDefault&&f.preventDefault();f=Math.min(Math.max(g,h-v(f)),k);I(b,f/e*100+"%");c(b.splitPane).trigger("splitpaneresize")}}function f(b,f){var e=G(b.first),g=b.splitPane.offsetWidth-G(b.last)-b.divider.offsetWidth,k=b.divider.offsetLeft-f;return function(f){f.preventDefault&&
f.preventDefault();f=k+w(f);K(b,Math.min(Math.max(e,f),g)+"px");c(b.splitPane).trigger("splitpaneresize")}}function x(b,f){var e=G(b.last),g=b.splitPane.offsetWidth-G(b.first)-b.divider.offsetWidth,k=b.last.offsetWidth+f;return function(f){f.preventDefault&&f.preventDefault();f=Math.min(Math.max(e,k-w(f)),g);H(b,f+"px");c(b.splitPane).trigger("splitpaneresize")}}function y(b,f){var e=b.splitPane.offsetWidth,g=G(b.last),k=e-G(b.first)-b.divider.offsetWidth,h=b.last.offsetWidth+f;return function(f){f.preventDefault&&
f.preventDefault();f=Math.min(Math.max(g,h-w(f)),k);H(b,f/e*100+"%");c(b.splitPane).trigger("splitpaneresize")}}function u(b){return{splitPane:b[0],first:b.children(".split-pane-component:first")[0],divider:b.children(".split-pane-divider")[0],last:b.children(".split-pane-component:last")[0]}}function w(b){if(void 0!==b.pageX)return b.pageX;if(void 0!==b.originalEvent.pageX)return b.originalEvent.pageX;if(b.originalEvent.touches)return b.originalEvent.touches[0].pageX}function v(b){if(void 0!==b.pageY)return b.pageY;
if(void 0!==b.originalEvent.pageY)return b.originalEvent.pageY;if(b.originalEvent.touches)return b.originalEvent.touches[0].pageY}function B(b){return parseInt(c(b).css("min-height"),10)||0}function G(b){return parseInt(c(b).css("min-width"),10)||0}function C(b,c){b.first.style.height=c;b.divider.style.top=c;b.last.style.top=c}function I(b,c){b.first.style.bottom=c;b.divider.style.bottom=c;b.last.style.height=c}function K(b,c){b.first.style.width=c;b.divider.style.left=c;b.last.style.left=c}function H(b,
c){b.first.style.right=c;b.divider.style.right=c;b.last.style.width=c}var Q={init:function(){var f=this;f.each(b);f.children(".split-pane-divider").html('<div class="split-pane-divider-inner"></div>');f.children(".split-pane-divider").on("touchstart mousedown",e);setTimeout(function(){f.each(h);c(window).trigger("resize")},100)},firstComponentSize:function(b){this.each(function(){var e=c(this),g=u(e);e.is(".fixed-top")?r(g,g.divider.offsetTop)({pageY:b}):e.is(".fixed-bottom")?(b=g.splitPane.offsetHeight-
g.divider.offsetHeight-b,k(g,-g.last.offsetHeight)({pageY:-b})):e.is(".horizontal-percent")?(b=g.splitPane.offsetHeight-g.divider.offsetHeight-b,n(g,-g.last.offsetHeight)({pageY:-b})):e.is(".fixed-left")?f(g,g.divider.offsetLeft)({pageX:b}):e.is(".fixed-right")?(b=g.splitPane.offsetWidth-g.divider.offsetWidth-b,x(g,-g.last.offsetWidth)({pageX:-b})):e.is(".vertical-percent")&&(b=g.splitPane.offsetWidth-g.divider.offsetWidth-b,y(g,-g.last.offsetWidth)({pageX:-b}))})},lastComponentSize:function(b){this.each(function(){var e=
c(this),g=u(e);e.is(".fixed-top")?(b=g.splitPane.offsetHeight-g.divider.offsetHeight-b,r(g,g.divider.offsetTop)({pageY:b})):e.is(".fixed-bottom")?k(g,-g.last.offsetHeight)({pageY:-b}):e.is(".horizontal-percent")?n(g,-g.last.offsetHeight)({pageY:-b}):e.is(".fixed-left")?(b=g.splitPane.offsetWidth-g.divider.offsetWidth-b,f(g,g.divider.offsetLeft)({pageX:b})):e.is(".fixed-right")?x(g,-g.last.offsetWidth)({pageX:-b}):e.is(".vertical-percent")&&y(g,-g.last.offsetWidth)({pageX:-b})})}};c.fn.splitPane=function(b){Q[b||
"init"].apply(this,c.grep(arguments,function(b,c){return 0<c}))}})(jQuery);/*
 stroll.js 1.2 - CSS scroll effects
 http://lab.hakim.se/scroll-effects
 MIT licensed

 Copyright (C) 2012 Hakim El Hattab, http://hakim.se
*/
(function(){function c(){if(n){requestAnimFrame(c);for(var b=0,e=k.length;b<e;b++)k[b].update()}}function b(b,h){if(b.nodeName&&!1!==/^(ul|ol)$/i.test(b.nodeName))g(b)&&e(b);else return!1;var f=r?new m(b):new q(b);h&&h.live&&(f.syncInterval=setInterval(function(){f.sync.call(f)},500));f.sync();k.push(f);1===k.length&&(n=!0,c())}function e(b){for(var c=0;c<k.length;c++){var f=k[c];f.element==b&&(f.destroy(),k.splice(c,1),c--)}0===k.length&&(n=!1)}function g(b){for(var c=0,f=k.length;c<f;c++)if(k[c].element==
b)return!0;return!1}function h(b,c,e){var f,g;if("string"===typeof b)for(b=document.querySelectorAll(b),f=0,g=b.length;f<g;f++)c.call(null,b[f],e);else if("object"===typeof b&&"number"===typeof b.length)for(f=0,g=b.length;f<g;f++)c.call(null,b[f],e);else if(b.nodeName)c.call(null,b,e);else throw"Stroll target was of unexpected type.";}function q(b){this.element=b}function m(b){this.element=b;this.element.style.overflow="hidden";this.top={value:0,natural:0};this.touch={value:0,offset:0,start:0,previous:0,
lastMove:Date.now(),accellerateTimeout:-1,isAccellerating:!1,isActive:!1};this.velocity=0}var r=!!("ontouchstart"in window),k=[],n=!1;q.prototype.sync=function(){this.items=Array.prototype.slice.apply(this.element.children);this.listHeight=this.element.offsetHeight;for(var b=0,c=this.items.length;b<c;b++){var e=this.items[b];e._offsetHeight=e.offsetHeight;e._offsetTop=e.offsetTop;e._offsetBottom=e._offsetTop+e._offsetHeight;e._state=""}this.update(!0)};q.prototype.update=function(b){var c=this.element.pageYOffset||
this.element.scrollTop,f=c+this.listHeight;if(c!==this.lastTop||b){this.lastTop=c;b=0;for(var e=this.items.length;b<e;b++){var g=this.items[b];g._offsetBottom<c?"past"!==g._state&&(g._state="past",g.classList.add("past"),g.classList.remove("future")):g._offsetTop>f?"future"!==g._state&&(g._state="future",g.classList.add("future"),g.classList.remove("past")):g._state&&("past"===g._state&&g.classList.remove("past"),"future"===g._state&&g.classList.remove("future"),g._state="")}}};q.prototype.destroy=
function(){clearInterval(this.syncInterval);for(var b=0,c=this.items.length;b<c;b++){var e=this.items[b];e.classList.remove("past");e.classList.remove("future")}};m.prototype=new q;m.prototype.sync=function(){this.items=Array.prototype.slice.apply(this.element.children);this.listHeight=this.element.offsetHeight;for(var b,c=0,e=this.items.length;c<e;c++)b=this.items[c],b._offsetHeight=b.offsetHeight,b._offsetTop=b.offsetTop,b._offsetBottom=b._offsetTop+b._offsetHeight,b._state="",b.style.opacity=1;
this.top.natural=this.element.scrollTop;this.top.value=this.top.natural;this.top.max=b._offsetBottom-this.listHeight;this.update(!0);this.bind()};m.prototype.bind=function(){var b=this;this.touchStartDelegate=function(c){b.onTouchStart(c)};this.touchMoveDelegate=function(c){b.onTouchMove(c)};this.touchEndDelegate=function(c){b.onTouchEnd(c)};this.element.addEventListener("touchstart",this.touchStartDelegate,!1);this.element.addEventListener("touchmove",this.touchMoveDelegate,!1);this.element.addEventListener("touchend",
this.touchEndDelegate,!1)};m.prototype.onTouchStart=function(b){b.preventDefault();if(1===b.touches.length)if(this.touch.isActive=!0,this.touch.start=b.touches[0].clientY,this.touch.previous=this.touch.start,this.touch.value=this.touch.start,this.touch.offset=0,this.velocity){this.touch.isAccellerating=!0;var c=this;this.touch.accellerateTimeout=setTimeout(function(){c.touch.isAccellerating=!1;c.velocity=0},500)}else this.velocity=0};m.prototype.onTouchMove=function(b){if(1===b.touches.length){var c=
this.touch.value;this.touch.value=b.touches[0].clientY;this.touch.lastMove=Date.now();b=this.touch.value>this.touch.previous&&0>this.velocity||this.touch.value<this.touch.previous&&0<this.velocity;this.touch.isAccellerating&&b?(clearInterval(this.touch.accellerateTimeout),this.velocity+=(this.touch.previous-this.touch.value)/10):(this.velocity=0,this.touch.isAccellerating=!1,this.touch.offset=Math.round(this.touch.start-this.touch.value));this.touch.previous=c}};m.prototype.onTouchEnd=function(b){var c=
this.touch.start-this.touch.value;this.touch.isAccellerating||(this.velocity=(this.touch.start-this.touch.value)/10);if(200<Date.now()-this.touch.lastMove||5>Math.abs(this.touch.previous-this.touch.value))this.velocity=0;this.top.value+=this.touch.offset;this.touch.offset=0;this.touch.start=0;this.touch.value=0;this.touch.isActive=!1;this.touch.isAccellerating=!1;clearInterval(this.touch.accellerateTimeout);(4<Math.abs(this.velocity)||10<Math.abs(c))&&b.preventDefault()};m.prototype.update=function(b){var c=
this.top.value+this.velocity+this.touch.offset;if(this.velocity||this.touch.offset)this.element.scrollTop=c,c=Math.max(0,Math.min(this.element.scrollTop,this.top.max)),this.top.value=c-this.touch.offset;if(!this.touch.isActive||this.touch.isAccellerating)this.velocity*=.95;.15>Math.abs(this.velocity)&&(this.velocity=0);if(c!==this.top.natural||b){this.top.natural=c;this.top.value=c-this.touch.offset;b=c+this.listHeight;for(var e=0,f=this.items.length;e<f;e++){var g=this.items[e];g._offsetBottom<c?
0>=this.velocity&&"past"!==g._state&&(g.classList.add("past"),g._state="past"):g._offsetTop>b?0<=this.velocity&&"future"!==g._state&&(g.classList.add("future"),g._state="future"):g._state&&("past"===g._state&&g.classList.remove("past"),"future"===g._state&&g.classList.remove("future"),g._state="")}}};m.prototype.destroy=function(){q.prototype.destroy.apply(this);this.element.removeEventListener("touchstart",this.touchStartDelegate,!1);this.element.removeEventListener("touchmove",this.touchMoveDelegate,
!1);this.element.removeEventListener("touchend",this.touchEndDelegate,!1)};window.stroll={bind:function(c,e){document.body.classList&&h(c,b,e)},unbind:function(b){document.body.classList&&h(b,e)}};window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){window.setTimeout(b,1E3/60)}}()})();/*
 tooltipster v4.1.6 */
!function(c,b){"function"==typeof define&&define.amd?define(["jquery"],function(c){return b(c)}):"object"==typeof exports?module.exports=b(require("jquery")):b(jQuery)}(this,function(c){function b(b){this.$container;this.constraints=null;this.__$tooltip;this.__init(b)}function e(b,e){var f=!0;return c.each(b,function(c,g){return void 0===e[c]||b[c]!==e[c]?(f=!1,!1):void 0}),f}function g(b){var e=b.attr("id");return(e=e?m.window.document.getElementById(e):null)?e===b[0]:c.contains(m.window.document.body,
b[0])}var h={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:"body",plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,
scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},q="undefined"!=typeof window?window:null,m={hasTouchCapability:!(!q||!("ontouchstart"in q||q.DocumentTouch&&q.document instanceof q.DocumentTouch||q.navigator.maxTouchPoints)),hasTransitions:function(){if(!q)return!1;var b=(q.document.body||q.document.documentElement).style,c="transition",e=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof b[c])return!0;for(var c=
c.charAt(0).toUpperCase()+c.substr(1),g=0;g<e.length;g++)if("string"==typeof b[e[g]+c])return!0;return!1}(),IE:!1,semVer:"4.1.6",window:q},r=function(){this.__$emitterPrivate=c({});this.__$emitterPublic=c({});this.__instancesLatestArr=[];this.__plugins={};this._env=m};r.prototype={__bridge:function(b,e,f){if(!e[f]){var g=function(){};g.prototype=b;var k=new g;k.__init&&k.__init(e);c.each(b,function(b,c){0!=b.indexOf("__")&&(e[b]?h.debug&&console.log("The "+b+" method of the "+f+" plugin conflicts with another plugin or native methods"):
(e[b]=function(){return k[b].apply(k,Array.prototype.slice.apply(arguments))},e[b].bridged=k))});e[f]=k}return this},__setWindow:function(b){return m.window=b,this},_getRuler:function(c){return new b(c)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,
Array.prototype.slice.apply(arguments)),this},_plugin:function(b){if("string"==typeof b){var e=null;return 0<b.indexOf(".")?e=this.__plugins[b]:c.each(this.__plugins,function(c,g){return g.name.substring(g.name.length-b.length-1)=="."+b?(e=g,!1):void 0}),e}if(0>b.name.indexOf("."))throw Error("Plugins must be namespaced");return this.__plugins[b.name]=b,b.core&&this.__bridge(b.core,this,b.name),this},_trigger:function(){var b=Array.prototype.slice.apply(arguments);return"string"==typeof b[0]&&(b[0]=
{type:b[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,b),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,b),this},instances:function(b){var e=[];return c(b||".tooltipstered").each(function(){var b=c(this),g=b.data("tooltipster-ns");g&&c.each(g,function(c,f){e.push(b.data(f))})}),e},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,
Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(b){return c((b?b+" ":"")+".tooltipstered").toArray()},setDefaults:function(b){return c.extend(h,b),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}};c.tooltipster=new r;c.Tooltipster=function(b,e){this.__callbacks={close:[],
open:[]};this.__closingTime;this.__Content;this.__contentBcr;this.__destroying=this.__destroyed=!1;this.__$emitterPrivate=c({});this.__$emitterPublic=c({});this.__enabled=!0;this.__garbageCollector;this.__Geometry;this.__lastPosition;this.__namespace="tooltipster-"+Math.round(1E6*Math.random());this.__options;this.__$originParents;this.__pointerIsOverOrigin=!1;this.__previousThemes=[];this.__state="closed";this.__timeouts={close:[],open:null};this.__touchEvents=[];this.__tracker=null;this._$origin;
this._$tooltip;this.__init(b,e)};c.Tooltipster.prototype={__init:function(b,e){var f=this;if(f._$origin=c(b),f.__options=c.extend(!0,{},h,e),f.__optionsFormat(),!m.IE||m.IE>=f.__options.IEmin){var g=null;if(void 0===f._$origin.data("tooltipster-initialTitle")&&(g=f._$origin.attr("title"),void 0===g&&(g=null),f._$origin.data("tooltipster-initialTitle",g)),null!==f.__options.content)f.__contentSet(f.__options.content);else{var k,n=f._$origin.attr("data-tooltip-content");n&&(k=c(n));k&&k[0]?f.__contentSet(k.first()):
f.__contentSet(g)}f._$origin.removeAttr("title").addClass("tooltipstered");f.__prepareOrigin();f.__prepareGC();c.each(f.__options.plugins,function(b,c){f._plug(c)});m.hasTouchCapability&&c("body").on("touchmove."+f.__namespace+"-triggerOpen",function(b){f._touchRecordEvent(b)});f._on("created",function(){f.__prepareTooltip()})._on("repositioned",function(b){f.__lastPosition=b.position})}else f.__options.disabled=!0},__contentInsert:function(){var b=this._$tooltip.find(".tooltipster-content"),c=this.__Content;
return this._trigger({type:"format",content:this.__Content,format:function(b){c=b}}),this.__options.functionFormat&&(c=this.__options.functionFormat.call(this,this,{origin:this._$origin[0]},this.__Content)),"string"!=typeof c||this.__options.contentAsHTML?b.empty().append(c):b.text(c),this},__contentSet:function(b){return b instanceof c&&this.__options.contentCloning&&(b=b.clone(!0)),this.__Content=b,this._trigger({type:"updated",content:b}),this},__destroyError:function(){throw Error("This tooltip has been destroyed and cannot execute your method call.");
},__geometry:function(){var b=this._$origin,e=this._$origin.is("area");if(e)var f=this._$origin.parent().attr("name"),b=c('img[usemap="#'+f+'"]');var g=b[0].getBoundingClientRect(),h=c(m.window.document),q=c(m.window),f=b,r={available:{document:null,window:null},document:{size:{height:h.height(),width:h.width()}},window:{scroll:{left:m.window.scrollX||m.window.document.documentElement.scrollLeft,top:m.window.scrollY||m.window.document.documentElement.scrollTop},size:{height:q.height(),width:q.width()}},
origin:{fixedLineage:!1,offset:{},size:{height:g.bottom-g.top,width:g.right-g.left},usemapImage:e?b[0]:null,windowOffset:{bottom:g.bottom,left:g.left,right:g.right,top:g.top}}};if(e){var e=this._$origin.attr("shape"),v=this._$origin.attr("coords");if(v&&(v=v.split(","),c.map(v,function(b,c){v[c]=parseInt(b)})),"default"!=e)switch(e){case "circle":e=v[0];b=v[1];g=v[2];r.origin.size.height=2*g;r.origin.size.width=r.origin.size.height;r.origin.windowOffset.left+=e-g;r.origin.windowOffset.top+=b-g;break;
case "rect":e=v[0];b=v[1];g=v[2];r.origin.size.height=v[3]-b;r.origin.size.width=g-e;r.origin.windowOffset.left+=e;r.origin.windowOffset.top+=b;break;case "poly":for(var h=g=b=e=0,q="even",B=0;B<v.length;B++){var G=v[B];"even"==q?(G>g&&(g=G,0===B&&(e=g)),e>G&&(e=G),q="odd"):(G>h&&(h=G,1==B&&(b=h)),b>G&&(b=G),q="even")}r.origin.size.height=h-b;r.origin.size.width=g-e;r.origin.windowOffset.left+=e;r.origin.windowOffset.top+=b}}this._trigger({type:"geometry",edit:function(b){r.origin.size.height=b.height;
r.origin.windowOffset.left=b.left;r.origin.windowOffset.top=b.top;r.origin.size.width=b.width},geometry:{height:r.origin.size.height,left:r.origin.windowOffset.left,top:r.origin.windowOffset.top,width:r.origin.size.width}});r.origin.windowOffset.right=r.origin.windowOffset.left+r.origin.size.width;r.origin.windowOffset.bottom=r.origin.windowOffset.top+r.origin.size.height;r.origin.offset.left=r.origin.windowOffset.left+r.window.scroll.left;r.origin.offset.top=r.origin.windowOffset.top+r.window.scroll.top;
r.origin.offset.bottom=r.origin.offset.top+r.origin.size.height;r.origin.offset.right=r.origin.offset.left+r.origin.size.width;r.available.document={bottom:{height:r.document.size.height-r.origin.offset.bottom,width:r.document.size.width},left:{height:r.document.size.height,width:r.origin.offset.left},right:{height:r.document.size.height,width:r.document.size.width-r.origin.offset.right},top:{height:r.origin.offset.top,width:r.document.size.width}};for(r.available.window={bottom:{height:Math.max(r.window.size.height-
Math.max(r.origin.windowOffset.bottom,0),0),width:r.window.size.width},left:{height:r.window.size.height,width:Math.max(r.origin.windowOffset.left,0)},right:{height:r.window.size.height,width:Math.max(r.window.size.width-Math.max(r.origin.windowOffset.right,0),0)},top:{height:Math.max(r.origin.windowOffset.top,0),width:r.window.size.width}};"html"!=f[0].tagName.toLowerCase();){if("fixed"==f.css("position")){r.origin.fixedLineage=!0;break}f=f.parent()}return r},__optionsFormat:function(){return"number"==
typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),"string"==typeof this.__options.parent&&
(this.__options.parent=c(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var b=this;return b.__options.selfDestruction?b.__garbageCollector=setInterval(function(){var e=(new Date).getTime();
b.__touchEvents=c.grep(b.__touchEvents,function(b,c){return 6E4<e-b.time});g(b._$origin)||b.destroy()},2E4):clearInterval(b.__garbageCollector),b},__prepareOrigin:function(){var b=this;if(b._$origin.off("."+b.__namespace+"-triggerOpen"),m.hasTouchCapability&&b._$origin.on("touchstart."+b.__namespace+"-triggerOpen touchend."+b.__namespace+"-triggerOpen touchcancel."+b.__namespace+"-triggerOpen",function(c){b._touchRecordEvent(c)}),b.__options.triggerOpen.click||b.__options.triggerOpen.tap&&m.hasTouchCapability){var c=
"";b.__options.triggerOpen.click&&(c+="click."+b.__namespace+"-triggerOpen ");b.__options.triggerOpen.tap&&m.hasTouchCapability&&(c+="touchend."+b.__namespace+"-triggerOpen");b._$origin.on(c,function(c){b._touchIsMeaningfulEvent(c)&&b._open(c)})}if(b.__options.triggerOpen.mouseenter||b.__options.triggerOpen.touchstart&&m.hasTouchCapability)c="",b.__options.triggerOpen.mouseenter&&(c+="mouseenter."+b.__namespace+"-triggerOpen "),b.__options.triggerOpen.touchstart&&m.hasTouchCapability&&(c+="touchstart."+
b.__namespace+"-triggerOpen"),b._$origin.on(c,function(c){!b._touchIsTouchEvent(c)&&b._touchIsEmulatedEvent(c)||(b.__pointerIsOverOrigin=!0,b._openShortly(c))});if(b.__options.triggerClose.mouseleave||b.__options.triggerClose.touchleave&&m.hasTouchCapability)c="",b.__options.triggerClose.mouseleave&&(c+="mouseleave."+b.__namespace+"-triggerOpen "),b.__options.triggerClose.touchleave&&m.hasTouchCapability&&(c+="touchend."+b.__namespace+"-triggerOpen touchcancel."+b.__namespace+"-triggerOpen"),b._$origin.on(c,
function(c){b._touchIsMeaningfulEvent(c)&&(b.__pointerIsOverOrigin=!1)});return b},__prepareTooltip:function(){var b=this,e=b.__options.interactive?"auto":"";return b._$tooltip.attr("id",b.__namespace).css({"pointer-events":e,zIndex:b.__options.zIndex}),c.each(b.__previousThemes,function(c,e){b._$tooltip.removeClass(e)}),c.each(b.__options.theme,function(c,e){b._$tooltip.addClass(e)}),b.__previousThemes=c.merge([],b.__options.theme),b},__scrollHandler:function(b){if(this.__options.triggerClose.scroll)this._close(b);
else{if(b.target===m.window.document)this.__Geometry.origin.fixedLineage||this.__options.repositionOnScroll&&this.reposition(b);else{var e=this.__geometry(),f=!1;("fixed"!=this._$origin.css("position")&&this.__$originParents.each(function(b,g){var k=c(g),h=k.css("overflow-x"),n=k.css("overflow-y");if("visible"!=h||"visible"!=n){var m=g.getBoundingClientRect();if("visible"!=h&&(e.origin.windowOffset.left<m.left||e.origin.windowOffset.right>m.right)||"visible"!=n&&(e.origin.windowOffset.top<m.top||
e.origin.windowOffset.bottom>m.bottom))return f=!0,!1}return"fixed"==k.css("position")?!1:void 0}),f)?this._$tooltip.css("visibility","hidden"):(this._$tooltip.css("visibility","visible"),this.__options.repositionOnScroll)?this.reposition(b):this._$tooltip.css({left:this.__lastPosition.coord.left+(e.origin.offset.left-this.__Geometry.origin.offset.left),top:this.__lastPosition.coord.top+(e.origin.offset.top-this.__Geometry.origin.offset.top)})}this._trigger({type:"scroll",event:b})}return this},__stateSet:function(b){return this.__state=
b,this._trigger({type:"state",state:b}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,c.each(this.__timeouts.close,function(b,c){clearTimeout(c)}),this.__timeouts.close=[],this},__trackerStart:function(){var b=this,c=b._$tooltip.find(".tooltipster-content");return b.__options.trackTooltip&&(b.__contentBcr=c[0].getBoundingClientRect()),b.__tracker=setInterval(function(){if(g(b._$origin)&&g(b._$tooltip)){if(b.__options.trackOrigin){var f=b.__geometry(),
k=!1;e(f.origin.size,b.__Geometry.origin.size)&&(b.__Geometry.origin.fixedLineage?e(f.origin.windowOffset,b.__Geometry.origin.windowOffset)&&(k=!0):e(f.origin.offset,b.__Geometry.origin.offset)&&(k=!0));k||(b.__options.triggerClose.mouseleave?b._close():b.reposition())}b.__options.trackTooltip&&(f=c[0].getBoundingClientRect(),f.height===b.__contentBcr.height&&f.width===b.__contentBcr.width||(b.reposition(),b.__contentBcr=f))}else b._close()},b.__options.trackerInterval),b},_close:function(b,e){var f=
this,g=!0;if(f._trigger({type:"close",event:b,stop:function(){g=!1}}),g||f.__destroying){e&&f.__callbacks.close.push(e);f.__callbacks.open=[];f.__timeoutsClear();var k=function(){c.each(f.__callbacks.close,function(c,e){e.call(f,f,{event:b,origin:f._$origin[0]})});f.__callbacks.close=[]};if("closed"!=f.__state){var h=!0,n=(new Date).getTime()+f.__options.animationDuration[1];if("disappearing"==f.__state&&n>f.__closingTime&&(h=!1),h)f.__closingTime=n,"disappearing"!=f.__state&&f.__stateSet("disappearing"),
h=function(){clearInterval(f.__tracker);f._trigger({type:"closing",event:b});f._$tooltip.off("."+f.__namespace+"-triggerClose").removeClass("tooltipster-dying");c(m.window).off("."+f.__namespace+"-triggerClose");f.__$originParents.each(function(b,e){c(e).off("scroll."+f.__namespace+"-triggerClose")});f.__$originParents=null;c("body").off("."+f.__namespace+"-triggerClose");f._$origin.off("."+f.__namespace+"-triggerClose");f._off("dismissable");f.__stateSet("closed");f._trigger({type:"after",event:b});
f.__options.functionAfter&&f.__options.functionAfter.call(f,f,{event:b,origin:f._$origin[0]});k()},m.hasTransitions?(f._$tooltip.css({"-moz-animation-duration":f.__options.animationDuration[1]+"ms","-ms-animation-duration":f.__options.animationDuration[1]+"ms","-o-animation-duration":f.__options.animationDuration[1]+"ms","-webkit-animation-duration":f.__options.animationDuration[1]+"ms","animation-duration":f.__options.animationDuration[1]+"ms","transition-duration":f.__options.animationDuration[1]+
"ms"}),f._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),0<f.__options.animationDuration[1]&&f._$tooltip.delay(f.__options.animationDuration[1]),f._$tooltip.queue(h)):f._$tooltip.stop().fadeOut(f.__options.animationDuration[1],h)}else k()}return f},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),
this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(b,e){var f=this;if(!f.__destroying&&g(f._$origin)&&f.__enabled){var k=!0;if("closed"==f.__state&&(f._trigger({type:"before",event:b,stop:function(){k=!1}}),k&&f.__options.functionBefore&&(k=f.__options.functionBefore.call(f,f,{event:b,origin:f._$origin[0]}))),!1!==k&&null!==f.__Content){e&&f.__callbacks.open.push(e);f.__callbacks.close=[];f.__timeoutsClear();
var h,n=function(){"stable"!=f.__state&&f.__stateSet("stable");c.each(f.__callbacks.open,function(b,c){c.call(f,f,{origin:f._$origin[0],tooltip:f._$tooltip[0]})});f.__callbacks.open=[]};if("closed"!==f.__state)h=0,"disappearing"===f.__state?(f.__stateSet("appearing"),m.hasTransitions?(f._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),0<f.__options.animationDuration[0]&&f._$tooltip.delay(f.__options.animationDuration[0]),f._$tooltip.queue(n)):f._$tooltip.stop().fadeIn(n)):
"stable"==f.__state&&n();else{if(f.__stateSet("appearing"),h=f.__options.animationDuration[0],f.__contentInsert(),f.reposition(b,!0),m.hasTransitions?(f._$tooltip.addClass("tooltipster-"+f.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":f.__options.animationDuration[0]+"ms","-ms-animation-duration":f.__options.animationDuration[0]+"ms","-o-animation-duration":f.__options.animationDuration[0]+"ms","-webkit-animation-duration":f.__options.animationDuration[0]+"ms",
"animation-duration":f.__options.animationDuration[0]+"ms","transition-duration":f.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=f.__state&&(f._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),0<f.__options.animationDuration[0]&&f._$tooltip.delay(f.__options.animationDuration[0]),f._$tooltip.queue(n))},0)):f._$tooltip.css("display","none").fadeIn(f.__options.animationDuration[0],n),f.__trackerStart(),c(m.window).on("resize."+f.__namespace+"-triggerClose",
function(b){var e=c(document.activeElement);(e.is("input")||e.is("textarea"))&&c.contains(f._$tooltip[0],e[0])||f.reposition(b)}).on("scroll."+f.__namespace+"-triggerClose",function(b){f.__scrollHandler(b)}),f.__$originParents=f._$origin.parents(),f.__$originParents.each(function(b,e){c(e).on("scroll."+f.__namespace+"-triggerClose",function(b){f.__scrollHandler(b)})}),f.__options.triggerClose.mouseleave||f.__options.triggerClose.touchleave&&m.hasTouchCapability){f._on("dismissable",function(b){b.dismissable?
b.delay?(G=setTimeout(function(){f._close(b.event)},b.delay),f.__timeouts.close.push(G)):f._close(b):clearTimeout(G)});var q=f._$origin,r="",B="",G=null;f.__options.interactive&&(q=q.add(f._$tooltip));f.__options.triggerClose.mouseleave&&(r+="mouseenter."+f.__namespace+"-triggerClose ",B+="mouseleave."+f.__namespace+"-triggerClose ");f.__options.triggerClose.touchleave&&m.hasTouchCapability&&(r+="touchstart."+f.__namespace+"-triggerClose",B+="touchend."+f.__namespace+"-triggerClose touchcancel."+
f.__namespace+"-triggerClose");q.on(B,function(b){!f._touchIsTouchEvent(b)&&f._touchIsEmulatedEvent(b)||f._trigger({delay:("mouseleave"==b.type?f.__options.delay:f.__options.delayTouch)[1],dismissable:!0,event:b,type:"dismissable"})}).on(r,function(b){!f._touchIsTouchEvent(b)&&f._touchIsEmulatedEvent(b)||f._trigger({dismissable:!1,event:b,type:"dismissable"})})}f.__options.triggerClose.originClick&&f._$origin.on("click."+f.__namespace+"-triggerClose",function(b){f._touchIsTouchEvent(b)||f._touchIsEmulatedEvent(b)||
f._close(b)});(f.__options.triggerClose.click||f.__options.triggerClose.tap&&m.hasTouchCapability)&&setTimeout(function(){if("closed"!=f.__state){var b="";f.__options.triggerClose.click&&(b+="click."+f.__namespace+"-triggerClose ");f.__options.triggerClose.tap&&m.hasTouchCapability&&(b+="touchend."+f.__namespace+"-triggerClose");c("body").on(b,function(b){f._touchIsMeaningfulEvent(b)&&(f._touchRecordEvent(b),f.__options.interactive&&c.contains(f._$tooltip[0],b.target)||f._close(b))});f.__options.triggerClose.tap&&
m.hasTouchCapability&&c("body").on("touchstart."+f.__namespace+"-triggerClose",function(b){f._touchRecordEvent(b)})}},0);f._trigger("ready");f.__options.functionReady&&f.__options.functionReady.call(f,f,{origin:f._$origin[0],tooltip:f._$tooltip[0]})}0<f.__options.timer&&(G=setTimeout(function(){f._close()},f.__options.timer+h),f.__timeouts.close.push(G))}}return f},_openShortly:function(b){var c=this,e=!0;if("stable"!=c.__state&&"appearing"!=c.__state&&!c.__timeouts.open&&(c._trigger({type:"start",
event:b,stop:function(){e=!1}}),e)){var g=0==b.type.indexOf("touch")?c.__options.delayTouch:c.__options.delay;g[0]?c.__timeouts.open=setTimeout(function(){c.__timeouts.open=null;c.__pointerIsOverOrigin&&c._touchIsMeaningfulEvent(b)?(c._trigger("startend"),c._open(b)):c._trigger("startcancel")},g[0]):(c._trigger("startend"),c._open(b))}return c},_optionsExtract:function(b,e){var f=this,g=c.extend(!0,{},e),k=f.__options[b];return k||(k={},c.each(e,function(b,c){var e=f.__options[b];void 0!==e&&(k[b]=
e)})),c.each(g,function(b,e){void 0!==k[b]&&("object"!=typeof e||e instanceof Array||null==e||"object"!=typeof k[b]||k[b]instanceof Array||null==k[b]?g[b]=k[b]:c.extend(g[b],k[b]))}),g},_plug:function(b){var e=c.tooltipster._plugin(b);if(!e)throw Error('The "'+b+'" plugin is not defined');return e.instance&&c.tooltipster.__bridge(e.instance,this,e.name),this},_touchIsEmulatedEvent:function(b){for(var c=!1,e=(new Date).getTime(),g=this.__touchEvents.length-1;0<=g;g--){var k=this.__touchEvents[g];if(!(500>
e-k.time))break;k.target===b.target&&(c=!0)}return c},_touchIsMeaningfulEvent:function(b){return this._touchIsTouchEvent(b)&&!this._touchSwiped(b.target)||!this._touchIsTouchEvent(b)&&!this._touchIsEmulatedEvent(b)},_touchIsTouchEvent:function(b){return 0==b.type.indexOf("touch")},_touchRecordEvent:function(b){return this._touchIsTouchEvent(b)&&(b.time=(new Date).getTime(),this.__touchEvents.push(b)),this},_touchSwiped:function(b){for(var c=!1,e=this.__touchEvents.length-1;0<=e;e--){var g=this.__touchEvents[e];
if("touchmove"==g.type){c=!0;break}if("touchstart"==g.type&&b===g.target)break}return c},_trigger:function(){var b=Array.prototype.slice.apply(arguments);return"string"==typeof b[0]&&(b[0]={type:b[0]}),b[0].instance=this,b[0].origin=this._$origin?this._$origin[0]:null,b[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,b),c.tooltipster._trigger.apply(c.tooltipster,b),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,b),this},_unplug:function(b){var e=
this;if(e[b]){var f=c.tooltipster._plugin(b);f.instance&&c.each(f.instance,function(c,f){e[c]&&e[c].bridged===e[b]&&delete e[c]});e[b].__destroy&&e[b].__destroy();delete e[b]}return e},close:function(b){return this.__destroyed?this.__destroyError():this._close(null,b),this},content:function(b){var c=this;if(void 0===b)return c.__Content;if(c.__destroyed)c.__destroyError();else if(c.__contentSet(b),null!==c.__Content){if("closed"!==c.__state&&(c.__contentInsert(),c.reposition(),c.__options.updateAnimation))if(m.hasTransitions){var e=
c.__options.updateAnimation;c._$tooltip.addClass("tooltipster-update-"+e);setTimeout(function(){"closed"!=c.__state&&c._$tooltip.removeClass("tooltipster-update-"+e)},1E3)}else c._$tooltip.fadeTo(200,.5,function(){"closed"!=c.__state&&c._$tooltip.fadeTo(200,1)})}else c._close();return c},destroy:function(){var b=this;return b.__destroyed?b.__destroyError():b.__destroying||(b.__destroying=!0,b._close(null,function(){b._trigger("destroy");b.__destroying=!1;b.__destroyed=!0;b._$origin.removeData(b.__namespace).off("."+
b.__namespace+"-triggerOpen");c("body").off("."+b.__namespace+"-triggerOpen");var e=b._$origin.data("tooltipster-ns");e&&(1===e.length?(e=null,"previous"==b.__options.restoration?e=b._$origin.data("tooltipster-initialTitle"):"current"==b.__options.restoration&&(e="string"==typeof b.__Content?b.__Content:c("<div></div>").append(b.__Content).html()),e&&b._$origin.attr("title",e),b._$origin.removeClass("tooltipstered"),b._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")):(e=
c.grep(e,function(c,e){return c!==b.__namespace}),b._$origin.data("tooltipster-ns",e)));b._trigger("destroyed");b._off();b.off();b.__Content=null;b.__$emitterPrivate=null;b.__$emitterPublic=null;b.__options.parent=null;b._$origin=null;b._$tooltip=null;c.tooltipster.__instancesLatestArr=c.grep(c.tooltipster.__instancesLatestArr,function(c,e){return b!==c});clearInterval(b.__garbageCollector)})),b},disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=
!1,this)},elementOrigin:function(){return this.__destroyed?void this.__destroyError():this._$origin[0]},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(b){return this.close(b)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,
Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(b){return this.__destroyed||this.__destroying?this.__destroyError():this._open(null,b),this},option:function(b,e){return void 0===e?this.__options[b]:(this.__destroyed?this.__destroyError():(this.__options[b]=e,this.__optionsFormat(),0<=c.inArray(b,["trigger","triggerClose","triggerOpen"])&&
this.__prepareOrigin(),"selfDestruction"===b&&this.__prepareGC()),this)},reposition:function(b,c){return this.__destroyed?this.__destroyError():"closed"!=this.__state&&g(this._$origin)&&(c||g(this._$tooltip))&&(c||this._$tooltip.detach(),this.__Geometry=this.__geometry(),this._trigger({type:"reposition",event:b,helper:{geo:this.__Geometry}})),this},show:function(b){return this.open(b)},status:function(){return{destroyed:this.__destroyed,destroying:this.__destroying,enabled:this.__enabled,open:"closed"!==
this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}};c.fn.tooltipster=function(){var b=Array.prototype.slice.apply(arguments);if(0===this.length)return this;if("string"==typeof b[0]){var e="#*$~&";return this.each(function(){var f=c(this).data("tooltipster-ns"),f=f?c(this).data(f[0]):null;if(!f)throw Error("You called Tooltipster's \""+
b[0]+'" method on an uninitialized element');if("function"!=typeof f[b[0]])throw Error('Unknown method "'+b[0]+'"');1<this.length&&"content"==b[0]&&(b[1]instanceof c||"object"==typeof b[1]&&null!=b[1]&&b[1].tagName)&&!f.__options.contentCloning&&f.__options.debug&&console.log("You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.");var g=f[b[0]](b[1],b[2]);return g!==f||"instance"===b[0]?(e=g,!1):void 0}),"#*$~&"!==e?e:this}c.tooltipster.__instancesLatestArr=
[];var f=b[0]&&void 0!==b[0].multiple,g=f&&b[0].multiple||!f&&h.multiple,f=(f=b[0]&&void 0!==b[0].content)&&b[0].content||!f&&h.content,m=b[0]&&void 0!==b[0].contentCloning,m=m&&b[0].contentCloning||!m&&h.contentCloning,q=b[0]&&void 0!==b[0].debug,r=q&&b[0].debug||!q&&h.debug;return 1<this.length&&(f instanceof c||"object"==typeof f&&null!=f&&f.tagName)&&!m&&r&&console.log("You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE."),
this.each(function(){var e=!1,f=c(this),h=f.data("tooltipster-ns"),k=null;h?g?e=!0:r&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):e=!0;e&&(k=new c.Tooltipster(this,b[0]),h||(h=[]),h.push(k.__namespace),f.data("tooltipster-ns",h),f.data(k.__namespace,k),k.__options.functionInit&&k.__options.functionInit.call(k,k,{origin:this}),k._trigger("init"));c.tooltipster.__instancesLatestArr.push(k)}),this};b.prototype={__init:function(b){this.__$tooltip=
b;this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto");this.$container=c('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo("body")},__forceRedraw:function(){var b=this.__$tooltip.parent();this.__$tooltip.detach();this.__$tooltip.appendTo(b)},constrain:function(b,c){return this.constraints={width:b,height:c},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:b}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",
overflow:""});this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var b=this.__$tooltip[0].getBoundingClientRect(),c={size:{height:b.height||b.bottom,width:b.width||b.right}};if(this.constraints){var e=this.__$tooltip.find(".tooltipster-content"),g=this.__$tooltip.outerHeight(),h=e[0].getBoundingClientRect(),b=b.width<=this.constraints.width&&h.width>=e[0].scrollWidth-
1;c.fits=g<=this.constraints.height&&b}return m.IE&&11>=m.IE&&c.size.width!==m.window.document.documentElement.clientWidth&&(c.size.width=Math.ceil(c.size.width)+1),c}};r=navigator.userAgent.toLowerCase();-1!=r.indexOf("msie")?m.IE=parseInt(r.split("msie")[1]):-1!==r.toLowerCase().indexOf("trident")&&-1!==r.indexOf(" rv:11")?m.IE=11:-1!=r.toLowerCase().indexOf("edge/")&&(m.IE=parseInt(r.toLowerCase().split("edge/")[1]));return c.tooltipster._plugin({name:"tooltipster.sideTip",instance:{__defaults:function(){return{arrow:!0,
distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(b){var c=this;c.__instance=b;c.__namespace="tooltipster-sideTip-"+Math.round(1E6*Math.random());c.__previousState="closed";c.__options;c.__optionsFormat();c.__instance._on("state."+c.__namespace,function(b){"closed"==b.state?c.__close():"appearing"==b.state&&"closed"==c.__previousState&&c.__create();c.__previousState=b.state});c.__instance._on("options."+c.__namespace,
function(){c.__optionsFormat()});c.__instance._on("reposition."+c.__namespace,function(b){c.__reposition(b.event,b.helper)})},__close:function(){this.__instance.content()instanceof c&&this.__instance.content().detach();this.__instance._$tooltip.remove();this.__instance._$tooltip=null},__create:function(){var b=c('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');
this.__options.arrow||b.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide();this.__options.minWidth&&b.css("min-width",this.__options.minWidth+"px");this.__options.maxWidth&&b.css("max-width",this.__options.maxWidth+"px");this.__instance._$tooltip=b;this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){if(this.__options=this.__instance._optionsExtract("tooltipster.sideTip",this.__defaults()),this.__options.position&&
(this.__options.side=this.__options.position),"object"!=typeof this.__options.distance&&(this.__options.distance=[this.__options.distance]),4>this.__options.distance.length&&(void 0===this.__options.distance[1]&&(this.__options.distance[1]=this.__options.distance[0]),void 0===this.__options.distance[2]&&(this.__options.distance[2]=this.__options.distance[0]),void 0===this.__options.distance[3]&&(this.__options.distance[3]=this.__options.distance[1]),this.__options.distance={top:this.__options.distance[0],
right:this.__options.distance[1],bottom:this.__options.distance[2],left:this.__options.distance[3]}),"string"==typeof this.__options.side)this.__options.side=[this.__options.side,{top:"bottom",right:"left",bottom:"top",left:"right"}[this.__options.side]],"left"==this.__options.side[0]||"right"==this.__options.side[0]?this.__options.side.push("top","bottom"):this.__options.side.push("right","left");6===c.tooltipster._env.IE&&!0!==this.__options.arrow&&(this.__options.arrow=!1)},__reposition:function(b,
e){var f,g=this,h=g.__targetFind(e),k=[];g.__instance._$tooltip.detach();var m=g.__instance._$tooltip.clone(),n=c.tooltipster._getRuler(m),q=!1,r=g.__instance.option("animation");switch(r&&m.removeClass("tooltipster-"+r),c.each(["window","document"],function(f,r){var u=null;if(g.__instance._trigger({container:r,helper:e,satisfied:q,takeTest:function(b){u=b},results:k,type:"positionTest"}),1==u||0!=u&&0==q&&("window"!=r||g.__options.viewportAware))for(f=0;f<g.__options.side.length;f++){var v={horizontal:0,
vertical:0},w=g.__options.side[f];"top"==w||"bottom"==w?v.vertical=g.__options.distance[w]:v.horizontal=g.__options.distance[w];g.__sideChange(m,w);c.each(["natural","constrained"],function(c,f){if(u=null,g.__instance._trigger({container:r,event:b,helper:e,mode:f,results:k,satisfied:q,side:w,takeTest:function(b){u=b},type:"positionTest"}),1==u||0!=u&&0==q){var m={container:r,distance:v,fits:null,mode:f,outerSize:null,side:w,size:null,target:h[w],whole:null},x=("natural"==f?n.free():n.constrain(e.geo.available[r][w].width-
v.horizontal,e.geo.available[r][w].height-v.vertical)).measure();if(m.size=x.size,m.outerSize={height:x.size.height+v.vertical,width:x.size.width+v.horizontal},"natural"==f?e.geo.available[r][w].width>=m.outerSize.width&&e.geo.available[r][w].height>=m.outerSize.height?m.fits=!0:m.fits=!1:m.fits=x.fits,"window"==r&&(m.fits?"top"==w||"bottom"==w?m.whole=e.geo.origin.windowOffset.right>=g.__options.minIntersection&&e.geo.window.size.width-e.geo.origin.windowOffset.left>=g.__options.minIntersection:
m.whole=e.geo.origin.windowOffset.bottom>=g.__options.minIntersection&&e.geo.window.size.height-e.geo.origin.windowOffset.top>=g.__options.minIntersection:m.whole=!1),k.push(m),m.whole)q=!0;else if("natural"==m.mode&&(m.fits||m.size.width<=e.geo.available[r][w].width))return!1}})}}),g.__instance._trigger({edit:function(b){k=b},event:b,helper:e,results:k,type:"positionTested"}),k.sort(function(b,c){if(b.whole&&!c.whole)return-1;if(!b.whole&&c.whole)return 1;if(b.whole&&c.whole){var e=g.__options.side.indexOf(b.side),
f=g.__options.side.indexOf(c.side);return f>e?-1:e>f?1:"natural"==b.mode?-1:1}return b.fits&&!c.fits?-1:!b.fits&&c.fits?1:b.fits&&c.fits?(e=g.__options.side.indexOf(b.side),f=g.__options.side.indexOf(c.side),f>e?-1:e>f?1:"natural"==b.mode?-1:1):"document"==b.container&&"bottom"==b.side&&"natural"==b.mode?-1:1}),f=k[0],f.coord={},f.side){case "left":case "right":f.coord.top=Math.floor(f.target-f.size.height/2);break;case "bottom":case "top":f.coord.left=Math.floor(f.target-f.size.width/2)}switch(f.side){case "left":f.coord.left=
e.geo.origin.windowOffset.left-f.outerSize.width;break;case "right":f.coord.left=e.geo.origin.windowOffset.right+f.distance.horizontal;break;case "top":f.coord.top=e.geo.origin.windowOffset.top-f.outerSize.height;break;case "bottom":f.coord.top=e.geo.origin.windowOffset.bottom+f.distance.vertical}"window"==f.container?"top"==f.side||"bottom"==f.side?0>f.coord.left?0<=e.geo.origin.windowOffset.right-this.__options.minIntersection?f.coord.left=0:f.coord.left=e.geo.origin.windowOffset.right-this.__options.minIntersection-
1:f.coord.left>e.geo.window.size.width-f.size.width&&(e.geo.origin.windowOffset.left+this.__options.minIntersection<=e.geo.window.size.width?f.coord.left=e.geo.window.size.width-f.size.width:f.coord.left=e.geo.origin.windowOffset.left+this.__options.minIntersection+1-f.size.width):0>f.coord.top?0<=e.geo.origin.windowOffset.bottom-this.__options.minIntersection?f.coord.top=0:f.coord.top=e.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:f.coord.top>e.geo.window.size.height-f.size.height&&
(e.geo.origin.windowOffset.top+this.__options.minIntersection<=e.geo.window.size.height?f.coord.top=e.geo.window.size.height-f.size.height:f.coord.top=e.geo.origin.windowOffset.top+this.__options.minIntersection+1-f.size.height):(f.coord.left>e.geo.window.size.width-f.size.width&&(f.coord.left=e.geo.window.size.width-f.size.width),0>f.coord.left&&(f.coord.left=0));g.__sideChange(m,f.side);e.tooltipClone=m[0];e.tooltipParent=g.__instance.option("parent").parent[0];e.mode=f.mode;e.whole=f.whole;e.origin=
g.__instance._$origin[0];e.tooltip=g.__instance._$tooltip[0];delete f.container;delete f.fits;delete f.mode;delete f.outerSize;delete f.whole;f.distance=f.distance.horizontal||f.distance.vertical;r=c.extend(!0,{},f);(g.__instance._trigger({edit:function(b){f=b},event:b,helper:e,position:r,type:"position"}),g.__options.functionPosition)&&(r=g.__options.functionPosition.call(g,g.__instance,e,r))&&(f=r);n.destroy();var C,I;"top"==f.side||"bottom"==f.side?(C={prop:"left",val:f.target-f.coord.left},I=
f.size.width-this.__options.minIntersection):(C={prop:"top",val:f.target-f.coord.top},I=f.size.height-this.__options.minIntersection);C.val<this.__options.minIntersection?C.val=this.__options.minIntersection:C.val>I&&(C.val=I);I=e.geo.origin.fixedLineage?e.geo.origin.windowOffset:{left:e.geo.origin.windowOffset.left+e.geo.window.scroll.left,top:e.geo.origin.windowOffset.top+e.geo.window.scroll.top};f.coord={left:I.left+(f.coord.left-e.geo.origin.windowOffset.left),top:I.top+(f.coord.top-e.geo.origin.windowOffset.top)};
g.__sideChange(g.__instance._$tooltip,f.side);e.geo.origin.fixedLineage?g.__instance._$tooltip.css("position","fixed"):g.__instance._$tooltip.css("position","");g.__instance._$tooltip.css({left:f.coord.left,top:f.coord.top,height:f.size.height,width:f.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(C.prop,C.val);g.__instance._$tooltip.appendTo(g.__instance.option("parent"));g.__instance._trigger({type:"repositioned",event:b,position:f})},__sideChange:function(b,c){b.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+
c)},__targetFind:function(b){var c={},e=this.__instance._$origin[0].getClientRects();1<e.length&&1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),e=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1));2>e.length?(c.top=Math.floor(b.geo.origin.windowOffset.left+b.geo.origin.size.width/2),c.bottom=c.top,c.left=Math.floor(b.geo.origin.windowOffset.top+b.geo.origin.size.height/2),c.right=c.left):(b=e[0],c.top=Math.floor(b.left+
(b.right-b.left)/2),b=2<e.length?e[Math.ceil(e.length/2)-1]:e[0],c.right=Math.floor(b.top+(b.bottom-b.top)/2),b=e[e.length-1],c.bottom=Math.floor(b.left+(b.right-b.left)/2),b=2<e.length?e[Math.ceil((e.length+1)/2)-1]:e[e.length-1],c.left=Math.floor(b.top+(b.bottom-b.top)/2));return c}}}),c});var TWEEN=TWEEN||function(){var c=[];return{getAll:function(){return c},removeAll:function(){c=[]},add:function(b){c.push(b)},remove:function(b){b=c.indexOf(b);-1!==b&&c.splice(b,1)},update:function(b,e){if(0===c.length)return!1;var g=0;for(b=void 0!==b?b:TWEEN.now();g<c.length;)c[g].update(b)||e?g++:c.splice(g,1);return!0}}}();
!function(){void 0===this.window&&void 0!==this.process?TWEEN.now=function(){var c=process.hrtime();return 1E3*c[0]+c[1]/1E3}:void 0!==this.window&&void 0!==window.performance&&void 0!==window.performance.now?TWEEN.now=window.performance.now.bind(window.performance):void 0!==Date.now?TWEEN.now=Date.now:TWEEN.now=function(){return(new Date).getTime()}}();
TWEEN.Tween=function(c){var b={},e={},g={},h=1E3,q=0,m=!1,r=!1,k=0,n=null,f=TWEEN.Easing.Linear.None,x=TWEEN.Interpolation.Linear,y=[],u=null,w=!1,v=null,B=null,G=null,C;for(C in c)b[C]=parseFloat(c[C],10);this.to=function(b,c){return void 0!==c&&(h=c),e=b,this};this.start=function(f){TWEEN.add(this);r=!0;w=!1;n=void 0!==f?f:TWEEN.now();n+=k;for(var h in e){if(e[h]instanceof Array){if(0===e[h].length)continue;e[h]=[c[h]].concat(e[h])}void 0!==b[h]&&(b[h]=c[h],0==b[h]instanceof Array&&(b[h]*=1),g[h]=
b[h]||0)}return this};this.stop=function(){return r?(TWEEN.remove(this),r=!1,null!==G&&G.call(c),this.stopChainedTweens(),this):this};this.stopChainedTweens=function(){for(var b=0,c=y.length;c>b;b++)y[b].stop()};this.delay=function(b){return k=b,this};this.repeat=function(b){return q=b,this};this.yoyo=function(b){return m=b,this};this.easing=function(b){return f=b,this};this.interpolation=function(b){return x=b,this};this.chain=function(){return y=arguments,this};this.onStart=function(b){return u=
b,this};this.onUpdate=function(b){return v=b,this};this.onComplete=function(b){return B=b,this};this.onStop=function(b){return G=b,this};this.update=function(r){var C,G,I;if(n>r)return!0;!1===w&&(null!==u&&u.call(c),w=!0);G=(r-n)/h;G=1<G?1:G;I=f(G);for(C in e)if(void 0!==b[C]){var M=b[C]||0,D=e[C];D instanceof Array?c[C]=x(D,I):("string"==typeof D&&(D="+"===D.charAt(0)||"-"===D.charAt(0)?M+parseFloat(D,10):parseFloat(D,10)),"number"==typeof D&&(c[C]=M+(D-M)*I))}if(null!==v&&v.call(c,I),1===G){if(0<
q){isFinite(q)&&q--;for(C in g){if("string"==typeof e[C]&&(g[C]+=parseFloat(e[C],10)),m)G=g[C],g[C]=e[C],e[C]=G;b[C]=g[C]}return n=r+k,!0}null!==B&&B.call(c);r=0;for(C=y.length;C>r;r++)y[r].start(n+h);return!1}return!0}};
TWEEN.Easing={Linear:{None:function(c){return c}},Quadratic:{In:function(c){return c*c},Out:function(c){return c*(2-c)},InOut:function(c){return 1>(c*=2)?.5*c*c:-.5*(--c*(c-2)-1)}},Cubic:{In:function(c){return c*c*c},Out:function(c){return--c*c*c+1},InOut:function(c){return 1>(c*=2)?.5*c*c*c:.5*((c-=2)*c*c+2)}},Quartic:{In:function(c){return c*c*c*c},Out:function(c){return 1- --c*c*c*c},InOut:function(c){return 1>(c*=2)?.5*c*c*c*c:-.5*((c-=2)*c*c*c-2)}},Quintic:{In:function(c){return c*c*c*c*c},Out:function(c){return--c*
c*c*c*c+1},InOut:function(c){return 1>(c*=2)?.5*c*c*c*c*c:.5*((c-=2)*c*c*c*c+2)}},Sinusoidal:{In:function(c){return 1-Math.cos(c*Math.PI/2)},Out:function(c){return Math.sin(c*Math.PI/2)},InOut:function(c){return.5*(1-Math.cos(Math.PI*c))}},Exponential:{In:function(c){return 0===c?0:Math.pow(1024,c-1)},Out:function(c){return 1===c?1:1-Math.pow(2,-10*c)},InOut:function(c){return 0===c?0:1===c?1:1>(c*=2)?.5*Math.pow(1024,c-1):.5*(-Math.pow(2,-10*(c-1))+2)}},Circular:{In:function(c){return 1-Math.sqrt(1-
c*c)},Out:function(c){return Math.sqrt(1- --c*c)},InOut:function(c){return 1>(c*=2)?-.5*(Math.sqrt(1-c*c)-1):.5*(Math.sqrt(1-(c-=2)*c)+1)}},Elastic:{In:function(c){return 0===c?0:1===c?1:-Math.pow(2,10*(c-1))*Math.sin(5*(c-1.1)*Math.PI)},Out:function(c){return 0===c?0:1===c?1:Math.pow(2,-10*c)*Math.sin(5*(c-.1)*Math.PI)+1},InOut:function(c){return 0===c?0:1===c?1:(c*=2,1>c?-.5*Math.pow(2,10*(c-1))*Math.sin(5*(c-1.1)*Math.PI):.5*Math.pow(2,-10*(c-1))*Math.sin(5*(c-1.1)*Math.PI)+1)}},Back:{In:function(c){return c*
c*(2.70158*c-1.70158)},Out:function(c){return--c*c*(2.70158*c+1.70158)+1},InOut:function(c){return 1>(c*=2)?.5*c*c*(3.5949095*c-2.5949095):.5*((c-=2)*c*(3.5949095*c+2.5949095)+2)}},Bounce:{In:function(c){return 1-TWEEN.Easing.Bounce.Out(1-c)},Out:function(c){return 1/2.75>c?7.5625*c*c:2/2.75>c?7.5625*(c-=1.5/2.75)*c+.75:2.5/2.75>c?7.5625*(c-=2.25/2.75)*c+.9375:7.5625*(c-=2.625/2.75)*c+.984375},InOut:function(c){return.5>c?.5*TWEEN.Easing.Bounce.In(2*c):.5*TWEEN.Easing.Bounce.Out(2*c-1)+.5}}};
TWEEN.Interpolation={Linear:function(c,b){var e=c.length-1,g=e*b,h=Math.floor(g),q=TWEEN.Interpolation.Utils.Linear;return 0>b?q(c[0],c[1],g):1<b?q(c[e],c[e-1],e-g):q(c[h],c[h+1>e?e:h+1],g-h)},Bezier:function(c,b){for(var e=0,g=c.length-1,h=Math.pow,q=TWEEN.Interpolation.Utils.Bernstein,m=0;g>=m;m++)e+=h(1-b,g-m)*h(b,m)*c[m]*q(g,m);return e},CatmullRom:function(c,b){var e=c.length-1,g=e*b,h=Math.floor(g),q=TWEEN.Interpolation.Utils.CatmullRom;return c[0]===c[e]?(0>b&&(h=Math.floor(g=e*(1+b))),q(c[(h-
1+e)%e],c[h],c[(h+1)%e],c[(h+2)%e],g-h)):0>b?c[0]-(q(c[0],c[0],c[1],c[1],-g)-c[0]):1<b?c[e]-(q(c[e],c[e],c[e-1],c[e-1],g-e)-c[e]):q(c[h?h-1:0],c[h],c[h+1>e?e:h+1],c[h+2>e?e:h+2],g-h)},Utils:{Linear:function(c,b,e){return(b-c)*e+c},Bernstein:function(c,b){var e=TWEEN.Interpolation.Utils.Factorial;return e(c)/e(b)/e(c-b)},Factorial:function(){var c=[1];return function(b){var e=1;if(c[b])return c[b];for(var g=b;1<g;g--)e*=g;return c[b]=e,e}}(),CatmullRom:function(c,b,e,g,h){c=.5*(e-c);g=.5*(g-b);var q=
h*h;return(2*b-2*e+c+g)*h*q+(-3*b+3*e-2*c-g)*q+c*h+b}}};(function(c){"function"==typeof define&&define.amd?define([],function(){return TWEEN}):"undefined"!=typeof module&&"object"==typeof exports?module.exports=TWEEN:void 0!==c&&(c.TWEEN=TWEEN)})(this);eval(function(c,b,e,g,h,q){h=function(b){return b};if(!"".replace(/^/,String)){for(;e--;)q[e]=g[e]||e;g=[function(b){return q[b]}];h=function(){return"\\w+"};e=1}for(;e--;)g[e]&&(c=c.replace(new RegExp("\\b"+h(e)+"\\b","g"),g[e]));return c}('9 8={"7":6,"5":"4 3 2","1":"0"};',10,10,"Desktop form_factor browser web generic complete_device_name false is_mobile WURFL var".split(" "),0,{}));engineGUI=window.engineGUI||{};
engineGUI.open=function(c){$("#start").remove();$("#scene").remove();engineGUI.spinner.appendTo("body");1===c?setTimeout(function(){engine3D.cameraAnimate(0,20,0,1500)},500):2===c?(engineGUI.scene="floor",engine3D.setLights(),engine3D.buildPanorama(engine3D.skyFloor,"0000",75,75,75,"",null),engine3D.scene.remove(engine3D.skyHouse),engine3D.scene.remove(weatherSkyCloudsMesh),engine3D.scene.remove(weatherSkyRainbowMesh),engine3D.scene.remove(engine3D.groundHouse),engine3D.scene.add(engine3D.skyFloor),engine3D.scene.add(engine3D.groundFloor),
setTimeout(function(){engine3D.cameraAnimate(0,20,0,1500)},800)):3===c&&engine2D.show();engine2D.open();engine3D.open();setTimeout(function(){engineGUI.spinner.remove();$("#agentPicture").attr("src",json.info.agentPicture);$("#menuAgent").show();1==c?engine3D.showHouse():2==c?engine3D.showFloor(1):3==c&&engine2D.show();setTimeout(function(){scene3DAnimateRotate=json.settings.autorotate},4E3)},2E3)};
engineGUI.save=function(){if("local"===json.settings.mode){var c=new Blob([JSON.stringify(json,null,2)],{type:"application/json"});saveAs(c,engine3D.id+".json")}else""!==engineGUI.session?window.location="#openLogin":(c=new FormData,c.append("file",json),$.ajax("php/objects.php?upload=scene",{type:"POST",contentType:"application/octet-stream",processData:!1,data:c,success:function(b,c){"error"!=b.status&&alert("ok")},error:function(){alert("not so ok")}}),window.location="#close")};$(document).ready(function(){$("#search-box").keyup(function(c){if(38===c.keyCode)$("#search_suggestion_holder").is(":visible")&&($(".selected").is(":visible")?(c=$("#search_suggestion_holder li").index($("#search_suggestion_holder li.selected")),$("#search_suggestion_holder li.selected").removeClass("selected"),c--,$("#search_suggestion_holder li:eq("+c+")").addClass("selected")):$("#search_suggestion_holder li").last().addClass("selected"));else if(40===c.keyCode)$("#search_suggestion_holder").is(":visible")&&
($(".selected").is(":visible")?(c=$("#search_suggestion_holder li").index($("#search_suggestion_holder li.selected")),$("#search_suggestion_holder li.selected").removeClass("selected"),c++,$("#search_suggestion_holder li:eq("+c+")").addClass("selected")):$("#search_suggestion_holder li").first().addClass("selected"));else if(13===c.keyCode)$(".selected").is(":visible")&&(c=$(".selected").text(),$("#search-box").val(c),$("#search_suggestion_holder").hide());else{var b=$(this).val();$("#search-close").hide();
$("#loader").show();setTimeout(function(){$.ajax({url:"php/search.php",data:"keyword="+b,success:function(b){$("#search_suggestion_holder").html(b);$("#search_suggestion_holder").show();$("#loader").hide();$("#search-close").show()}})},400)}});$("#search_suggestion_holder").on("click","li",function(){$("#search_suggestion_holder").hide()})});var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},engine3D=window.engine3D||{},engine2D=window.engine2D||{},engineGUI=window.engineGUI||{},json={info:{},settings:{},weather:{},terrain:[],roof:[],floor:[],ceiling:[],furniture:[],house:[],plan:[]},jsonindex={id:"",name:"",plan:[1,2,3]},scene3DCutawayPlaneMesh,scene3DLevelGroundContainer,
scene3DLevelWallContainer,scene3DFloorFurnitureContainer=[],scene3DFloorMeasurementsContainer=[],scene3DFloorDoorContainer=[],scene3DFloorWindowContainer=[],scene3DFloorShapeContainer=[],scene3DCeilingShapeContainer=[],scene3DCubeMesh,camera3DPositionCache,camera3DPivotCache,SelectedObject=null,SelectedNote=null,SelectedPicture=null,SelectedWall=null,zoom2Dimg,zoom2Dheight=80,zoom2Dwidth=241,zoom2DCTX=null,zoom2DSlider=null,zoom2D=1,scene2DWallGroup=[],scene2DWallPointGroup=[],scene2DWindowGroup=
[],scene2DDoorGroup=[],scene2DLabelGroup=[],scene2DFloorMesh=[],scene2DDoorMesh=[],scene2DWindowMesh=[],scene2DInteriorMesh=[],scene2DExteriorMesh=[],scene3DWallInteriorTextureDefault,scene3DWallExteriorTextureDefault,scene3DWallInteriorTextures=[],scene3DWallExteriorTextures=[],scene2DWallRegularMaterial,scene2DWallRegularMaterialSelect,scene2DWallBearingMaterial,scene2DWallBearingMaterialSelect,animation=[],scene3DAnimateRotate=!1,requestAnimationID,mouse,touch,target,clock,projector,vector,geometry,
material,texture,mesh;engineGUI.session="";engineGUI.scene="house";engineGUI.floor=1;engineGUI.mousedrag=!1;engineGUI.mouseleft=!1;engineGUI.mouseright=!1;engineGUI.spinner=$("<div>");engineGUI.clickTime;engineGUI.clickMenuTime;engineGUI.doubleClickTime;engine2D.scene;engine2D.canvas;engine2D.floor=[];engine2D.draftPlan;engine2D.history=[];engine2D.tool="vector";engine3D.id="";engine3D.renderer;engine3D.rendererCube;engine3D.rendererQuad=[4];engine3D.scene;engine3D.sceneCube;engine3D.camera;engine3D.cameraCube;
engine3D.cameraQuad=[4];engine3D.controls;engine3D.grid;engine3D.pivot;engine3D.jsonLoader;engine3D.fontLoader;engine3D.textureLoader;engine3D.terrain;engine3D.terrainMaterial;engine3D.renderPass;engine3D.FXAAPass;engine3D.SSAOPass;engine3D.effectComposer;engine3D.depthMaterial;engine3D.depthRenderTarget;engine3D.FXAAProcessing={enabled:!0};engine3D.SSAOProcessing={enabled:!1,renderMode:0};engine3D.measurements=1;engine3D.history=[];engine3D.skyHouse;engine3D.skyFX;engine3D.skyFloor;engine3D.roof;
engine3D.house;engine3D._groundHouse;engine3D.groundHouse;engine3D.groundFloor;engine3D.lightAmbient;engine3D.lightDirectional;engine3D.lightSpot;engine3D.lightHemisphere;engine3D.floor=[];engine3D.walls=[];engine3D.tool="";
